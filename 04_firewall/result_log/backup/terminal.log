### Create Network ###
name:[dummy-net], id:[73b2c401-a1f3-49fb-8612-8c755b37a28d]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:39:25.745417  07:39:25.855037  0.109620        POST     201    PENDING_CREATE
07:39:25.855598  07:39:26.026520  0.170922         GET     200    PENDING_CREATE
07:39:27.027883  07:39:27.107744  0.079861         GET     200    PENDING_CREATE
07:39:28.107961  07:39:28.187406  0.079445         GET     200    PENDING_CREATE
07:39:29.188445  07:39:29.283988  0.095543         GET     200    PENDING_CREATE
07:39:30.285585  07:39:30.373426  0.087841         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 4.628009

[localhost] local: gohan client network show --output-format json 73b2c401-a1f3-49fb-8612-8c755b37a28d
{
	"network": {
		"admin_state_up": true,
		"description": "dummy network for firewall",
		"id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
		"name": "dummy-net",
		"orchestration_state": "CREATE_COMPLETE",
		"plane": "data",
		"shared": false,
		"status": "ACTIVE",
		"subnets": [],
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client resource_mapping list --output-format json
Command not found

[localhost] local: gohan client billing_resource list --output-format json
{
	"billing_resources": [
		{
			"config_version": 1,
			"ended": null,
			"id": "04731679-7d83-4ded-b6a7-8064e9cbb655",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"resource_type": "network",
			"started": 1.518421169e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d"
		}
	]
}

#######################################
### Checking neutron network_info  ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/73b2c401-a1f3-49fb-8612-8c755b37a28d
[localhost] local: neutron net-show 73b2c401-a1f3-49fb-8612-8c755b37a28d
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | dummy network for firewall           |
| id                  | 73b2c401-a1f3-49fb-8612-8c755b37a28d |
| name                | dummy-net                            |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             |                                      |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

#######################################
### checking heat-stack (networks) ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/73b2c401-a1f3-49fb-8612-8c755b37a28d
[localhost] local: heat stack-show network_73b2c401-a1f3-49fb-8612-8c755b37a28d
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                 |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                    |
| creation_time         | 2018-02-12T07:39:26Z                                                                                                                                                                  |
| description           | Network template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                  |
| id                    | b7385243-0b72-4bed-99ff-89165ddd1b92                                                                                                                                                  |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/network_73b2c401-a1f3-49fb-8612-8c755b37a28d/b7385243-0b72-4bed-99ff-89165ddd1b92 |
| notification_topics   | []                                                                                                                                                                                    |
| outputs               | [                                                                                                                                                                                     |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": [],                                                                                                                                                               |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "route_targets"                                                                                                                                                     |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "default-domain:usertenant:73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                 |
|                       |     "description": "The FQ name of the virtual network.",                                                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                                                           |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                           |
|                       |     "description": "A unique id for the virtual network.",                                                                                                                            |
|                       |     "output_key": "id"                                                                                                                                                                |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                           |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "name"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                   |
|                       | ]                                                                                                                                                                                     |
| parameters            | {                                                                                                                                                                                     |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                                                         |
|                       |   "allow_transit": "False",                                                                                                                                                           |
|                       |   "name": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                                     |
|                       |   "OS::stack_name": "network_73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                           |
|                       |   "OS::stack_id": "b7385243-0b72-4bed-99ff-89165ddd1b92",                                                                                                                             |
|                       |   "external": "True",                                                                                                                                                                 |
|                       |   "shared": "False",                                                                                                                                                                  |
|                       |   "route_targets": "",                                                                                                                                                                |
|                       |   "uuid": "73b2c401-a1f3-49fb-8612-8c755b37a28d"                                                                                                                                      |
|                       | }                                                                                                                                                                                     |
| parent                | None                                                                                                                                                                                  |
| stack_name            | network_73b2c401-a1f3-49fb-8612-8c755b37a28d                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                 |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                       |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                   |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                      |
| template_description  | Network template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                     |
| updated_time          | None                                                                                                                                                                                  |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_73b2c401-a1f3-49fb-8612-8c755b37a28d
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr: [network, fq_name]
  id:
    description: A unique id for the virtual network.
    value: {get_resource: network}
  name:
    description: The name of the virtual network.
    value:
      get_attr: [network, name]
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr: [network, route_targets]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  allow_transit: {default: false, label: Allow Transit, type: boolean}
  external: {default: true, label: External Network, type: boolean}
  forwarding_mode: {default: l2_l3, description: Forwarding Mode., label: Forwarding
      Mode, type: string}
  name: {description: Name of the virtual network that will be created., label: Virtual
      Network Name, type: string}
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared: {default: false, label: Shared Network, type: boolean}
  uuid: {default: '', description: UUID of the virtual network that will be created.,
    label: Virtual Network UUID, type: string}
resources:
  network:
    properties:
      admin_state_up: {get_param: admin_state_up}
      forwarding_mode: {get_param: forwarding_mode}
      name: {get_param: name}
      route_targets: {get_param: route_targets}
      shared: {get_param: shared}
      uuid: {get_param: uuid}
    type: OS::Contrail::VirtualNetwork

### Create Subnet ###
name:[dummy-subnet], id:[1244d619-cc55-4bb7-b181-606776ba5e88]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:39:35.718468  07:39:35.849405  0.130937        POST     201    PENDING_CREATE
07:39:35.849496  07:39:35.927405  0.077909         GET     200    PENDING_CREATE
07:39:36.929108  07:39:36.979897  0.050789         GET     200    PENDING_CREATE
07:39:37.980598  07:39:38.042359  0.061761         GET     200    PENDING_CREATE
07:39:39.043687  07:39:39.104341  0.060654         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.385873

[localhost] local: gohan client subnet show --output-format json 1244d619-cc55-4bb7-b181-606776ba5e88
{
	"subnet": {
		"allocation_pools": [
			{
				"end": "10.121.232.254",
				"start": "10.121.232.2"
			}
		],
		"cidr": "10.121.232.0/24",
		"description": "dummy subnet for firewall",
		"dhcp_server_address": "10.121.232.2",
		"dns_nameservers": [],
		"enable_dhcp": true,
		"gateway_ip": "10.121.232.1",
		"host_routes": [],
		"id": "1244d619-cc55-4bb7-b181-606776ba5e88",
		"ip_version": 4,
		"ipv6_address_mode": null,
		"ipv6_ra_mode": null,
		"name": "dummy-subnet",
		"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
		"ntp_servers": [],
		"orchestration_state": "CREATE_COMPLETE",
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client port list --output-format json
[localhost] local: gohan client port show --output-format json db7b07e7-5fb8-4400-9a64-f3b1df8038f2
{
	"port": {
		"admin_state_up": true,
		"allowed_address_pairs": [],
		"attached": false,
		"binding:vif_type": "vrouter",
		"description": "DHCP Server Port",
		"device_id": "1244d619-cc55-4bb7-b181-606776ba5e88",
		"device_owner": "network:dhcp",
		"ese_logical_port_id": null,
		"fake_delete": false,
		"fixed_ips": [
			{
				"ip_address": "10.121.232.2",
				"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
			}
		],
		"id": "db7b07e7-5fb8-4400-9a64-f3b1df8038f2",
		"mac_address": "00:00:5e:00:01:00",
		"managed_by_service": false,
		"name": "dhcp-server-port",
		"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
		"operational_state": "",
		"orchestration_state": "SYNC_COMPLETE",
		"security_groups": [],
		"segmentation_id": null,
		"segmentation_type": null,
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

######################################
### Checking neutron network_info ####
######################################
[localhost] local: neutron net-show 73b2c401-a1f3-49fb-8612-8c755b37a28d
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | dummy network for firewall           |
| id                  | 73b2c401-a1f3-49fb-8612-8c755b37a28d |
| name                | dummy-net                            |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             | 1244d619-cc55-4bb7-b181-606776ba5e88 |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

######################################
### checking heat-stack (subnets) ####
######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/1244d619-cc55-4bb7-b181-606776ba5e88
[localhost] local: heat stack-show subnet_1244d619-cc55-4bb7-b181-606776ba5e88
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                   |
| creation_time         | 2018-02-12T07:39:36Z                                                                                                                                                                 |
| description           | Subnet template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                 |
| id                    | a02f22df-3cd7-4978-a4a1-43a481004f75                                                                                                                                                 |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/subnet_1244d619-cc55-4bb7-b181-606776ba5e88/a02f22df-3cd7-4978-a4a1-43a481004f75 |
| notification_topics   | []                                                                                                                                                                                   |
| outputs               | [                                                                                                                                                                                    |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "10.121.232.0/24",                                                                                                                                               |
|                       |     "description": "IP prefix of local subnet.",                                                                                                                                     |
|                       |     "output_key": "ip_prefix"                                                                                                                                                        |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "1244d619-cc55-4bb7-b181-606776ba5e88",                                                                                                                          |
|                       |     "description": "The name of the local subnet.",                                                                                                                                  |
|                       |     "output_key": "name"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "10.121.232.1",                                                                                                                                                  |
|                       |     "description": "Default gateway of local subnet.",                                                                                                                               |
|                       |     "output_key": "default_gateway"                                                                                                                                                  |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                          |
|                       |     "description": "A unique id for the network.",                                                                                                                                   |
|                       |     "output_key": "network_id"                                                                                                                                                       |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                                                          |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                                                   |
|                       |     "output_key": "ipam"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "6cac8ad5-636a-4b97-91e8-9dfc09559ed1",                                                                                                                          |
|                       |     "description": "A unique id for the local subnet.",                                                                                                                              |
|                       |     "output_key": "id"                                                                                                                                                               |
|                       |   }                                                                                                                                                                                  |
|                       | ]                                                                                                                                                                                    |
| parameters            | {                                                                                                                                                                                    |
|                       |   "OS::stack_name": "subnet_1244d619-cc55-4bb7-b181-606776ba5e88",                                                                                                                   |
|                       |   "enable_dhcp": "True",                                                                                                                                                             |
|                       |   "network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                              |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                                                     |
|                       |   "dns_nameservers": "",                                                                                                                                                             |
|                       |   "dhcp_server_address": "10.121.232.2",                                                                                                                                             |
|                       |   "OS::stack_id": "a02f22df-3cd7-4978-a4a1-43a481004f75",                                                                                                                            |
|                       |   "ntp_servers": "",                                                                                                                                                                 |
|                       |   "allocation_pools": "[{u'start': u'10.121.232.2', u'end': u'10.121.232.254'}]",                                                                                                    |
|                       |   "gateway_ip": "10.121.232.1",                                                                                                                                                      |
|                       |   "host_routes": "[]",                                                                                                                                                               |
|                       |   "cidr": "10.121.232.0/24",                                                                                                                                                         |
|                       |   "name": "1244d619-cc55-4bb7-b181-606776ba5e88"                                                                                                                                     |
|                       | }                                                                                                                                                                                    |
| parent                | None                                                                                                                                                                                 |
| stack_name            | subnet_1244d619-cc55-4bb7-b181-606776ba5e88                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                  |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                     |
| template_description  | Subnet template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                    |
| updated_time          | None                                                                                                                                                                                 |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_1244d619-cc55-4bb7-b181-606776ba5e88
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr: [subnet, default_gateway]
  id:
    description: A unique id for the local subnet.
    value: {get_resource: subnet}
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr: [subnet, ip_prefix]
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr: [subnet, ipam]
  name:
    description: The name of the local subnet.
    value:
      get_attr: [subnet, name]
  network_id:
    description: A unique id for the network.
    value:
      get_attr: [subnet, network_id]
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr: {description: IP prefix of the local subnet that will be created., label: Local
      Subnet IP prefix, type: string}
  dhcp_server_address: {default: 0.0.0.0, description: DHCP Server address, label: DHCP
      Server address, type: string}
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp: {default: true, description: Enable DHCP, label: Enable DHCP, type: boolean}
  gateway_ip: {default: 0.0.0.0, description: Default gateway for the local subnet
      that will be created., label: Default Gateway, type: string}
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam: {default: '', description: IPAM for the local subnet that will be created.,
    label: IP Address Management, type: string}
  name: {description: Name of the local subnet that will be created., label: Local
      Subnet Name, type: string}
  network_id: {description: ID of the network for which subnet will be created., label: Network
      ID, type: string}
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools: {get_param: allocation_pools}
      default_gateway: {get_param: gateway_ip}
      dns_nameservers: {get_param: dns_nameservers}
      dns_server_address: {get_param: dhcp_server_address}
      enable_dhcp: {get_param: enable_dhcp}
      gateway_is_vrouter: false
      host_routes: {get_param: host_routes}
      ip_prefix: {get_param: cidr}
      ipam: {get_param: ipam}
      name: {get_param: name}
      network_id: {get_param: network_id}
      ntp_servers: {get_param: ntp_servers}
    type: OS::Contrail::VnSubnet

### Create Network ###
name:[adminpod-net], id:[75c2c3ec-7fe7-494c-a35c-db3f94d3a554]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:39:43.508382  07:39:43.582842  0.074460        POST     201    PENDING_CREATE
07:39:43.582952  07:39:43.665584  0.082632         GET     200    PENDING_CREATE
07:39:44.666443  07:39:44.732665  0.066222         GET     200    PENDING_CREATE
07:39:45.733976  07:39:45.828626  0.094650         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 2.320244

[localhost] local: gohan client network show --output-format json 75c2c3ec-7fe7-494c-a35c-db3f94d3a554
{
	"network": {
		"admin_state_up": true,
		"description": "adminpod network",
		"id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
		"name": "adminpod-net",
		"orchestration_state": "CREATE_COMPLETE",
		"plane": "data",
		"shared": false,
		"status": "ACTIVE",
		"subnets": [],
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client resource_mapping list --output-format json
Command not found

[localhost] local: gohan client billing_resource list --output-format json
{
	"billing_resources": [
		{
			"config_version": 1,
			"ended": null,
			"id": "04731679-7d83-4ded-b6a7-8064e9cbb655",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"resource_type": "network",
			"started": 1.518421169e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "3e5f3bcf-2af7-4b06-9092-afb0b3944a2f",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"resource_type": "network",
			"started": 1.518421185e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554"
		}
	]
}

#######################################
### Checking neutron network_info  ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/75c2c3ec-7fe7-494c-a35c-db3f94d3a554
[localhost] local: neutron net-show 75c2c3ec-7fe7-494c-a35c-db3f94d3a554
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | adminpod network                     |
| id                  | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554 |
| name                | adminpod-net                         |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             |                                      |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

#######################################
### checking heat-stack (networks) ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/75c2c3ec-7fe7-494c-a35c-db3f94d3a554
[localhost] local: heat stack-show network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                 |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                    |
| creation_time         | 2018-02-12T07:39:44Z                                                                                                                                                                  |
| description           | Network template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                  |
| id                    | 4e4cbc09-5b32-412c-9a38-d420dfddfd4a                                                                                                                                                  |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554/4e4cbc09-5b32-412c-9a38-d420dfddfd4a |
| notification_topics   | []                                                                                                                                                                                    |
| outputs               | [                                                                                                                                                                                     |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": [],                                                                                                                                                               |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "route_targets"                                                                                                                                                     |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "default-domain:usertenant:75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                 |
|                       |     "description": "The FQ name of the virtual network.",                                                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                                                           |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                           |
|                       |     "description": "A unique id for the virtual network.",                                                                                                                            |
|                       |     "output_key": "id"                                                                                                                                                                |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                           |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "name"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                   |
|                       | ]                                                                                                                                                                                     |
| parameters            | {                                                                                                                                                                                     |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                                                         |
|                       |   "allow_transit": "False",                                                                                                                                                           |
|                       |   "name": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                                     |
|                       |   "OS::stack_name": "network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                           |
|                       |   "OS::stack_id": "4e4cbc09-5b32-412c-9a38-d420dfddfd4a",                                                                                                                             |
|                       |   "external": "True",                                                                                                                                                                 |
|                       |   "shared": "False",                                                                                                                                                                  |
|                       |   "route_targets": "",                                                                                                                                                                |
|                       |   "uuid": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554"                                                                                                                                      |
|                       | }                                                                                                                                                                                     |
| parent                | None                                                                                                                                                                                  |
| stack_name            | network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                 |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                       |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                   |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                      |
| template_description  | Network template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                     |
| updated_time          | None                                                                                                                                                                                  |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr: [network, fq_name]
  id:
    description: A unique id for the virtual network.
    value: {get_resource: network}
  name:
    description: The name of the virtual network.
    value:
      get_attr: [network, name]
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr: [network, route_targets]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  allow_transit: {default: false, label: Allow Transit, type: boolean}
  external: {default: true, label: External Network, type: boolean}
  forwarding_mode: {default: l2_l3, description: Forwarding Mode., label: Forwarding
      Mode, type: string}
  name: {description: Name of the virtual network that will be created., label: Virtual
      Network Name, type: string}
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared: {default: false, label: Shared Network, type: boolean}
  uuid: {default: '', description: UUID of the virtual network that will be created.,
    label: Virtual Network UUID, type: string}
resources:
  network:
    properties:
      admin_state_up: {get_param: admin_state_up}
      forwarding_mode: {get_param: forwarding_mode}
      name: {get_param: name}
      route_targets: {get_param: route_targets}
      shared: {get_param: shared}
      uuid: {get_param: uuid}
    type: OS::Contrail::VirtualNetwork

### Create Subnet ###
name:[adminpod-subnet], id:[c8090497-34be-456b-9186-377e918f3d50]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:39:50.436160  07:39:50.689065  0.252905        POST     201    PENDING_CREATE
07:39:50.689155  07:39:50.758051  0.068896         GET     200    PENDING_CREATE
07:39:51.760008  07:39:51.812687  0.052679         GET     200    PENDING_CREATE
07:39:52.813942  07:39:52.866958  0.053016         GET     200    PENDING_CREATE
07:39:53.867984  07:39:53.922932  0.054948         GET     200    PENDING_CREATE
07:39:54.923255  07:39:54.976172  0.052917         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 4.540012

[localhost] local: gohan client subnet show --output-format json c8090497-34be-456b-9186-377e918f3d50
{
	"subnet": {
		"allocation_pools": [
			{
				"end": "100.64.193.254",
				"start": "100.64.193.2"
			}
		],
		"cidr": "100.64.193.0/24",
		"description": "adminpod subnet",
		"dhcp_server_address": "100.64.193.2",
		"dns_nameservers": [],
		"enable_dhcp": true,
		"gateway_ip": "100.64.193.1",
		"host_routes": [
			{
				"destination": "172.26.10.0/24",
				"nexthop": "100.64.193.1"
			}
		],
		"id": "c8090497-34be-456b-9186-377e918f3d50",
		"ip_version": 4,
		"ipv6_address_mode": null,
		"ipv6_ra_mode": null,
		"name": "adminpod-subnet",
		"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
		"ntp_servers": [],
		"orchestration_state": "CREATE_COMPLETE",
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client port list --output-format json
[localhost] local: gohan client port show --output-format json 10de1073-2a60-4bbc-810b-642537ad19bf
{
	"port": {
		"admin_state_up": true,
		"allowed_address_pairs": [],
		"attached": false,
		"binding:vif_type": "vrouter",
		"description": "DHCP Server Port",
		"device_id": "c8090497-34be-456b-9186-377e918f3d50",
		"device_owner": "network:dhcp",
		"ese_logical_port_id": null,
		"fake_delete": false,
		"fixed_ips": [
			{
				"ip_address": "100.64.193.2",
				"subnet_id": "c8090497-34be-456b-9186-377e918f3d50"
			}
		],
		"id": "10de1073-2a60-4bbc-810b-642537ad19bf",
		"mac_address": "00:00:5e:00:01:00",
		"managed_by_service": false,
		"name": "dhcp-server-port",
		"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
		"operational_state": "",
		"orchestration_state": "SYNC_COMPLETE",
		"security_groups": [],
		"segmentation_id": null,
		"segmentation_type": null,
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

######################################
### Checking neutron network_info ####
######################################
[localhost] local: neutron net-show 75c2c3ec-7fe7-494c-a35c-db3f94d3a554
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | adminpod network                     |
| id                  | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554 |
| name                | adminpod-net                         |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             | c8090497-34be-456b-9186-377e918f3d50 |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

######################################
### checking heat-stack (subnets) ####
######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/c8090497-34be-456b-9186-377e918f3d50
[localhost] local: heat stack-show subnet_c8090497-34be-456b-9186-377e918f3d50
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                   |
| creation_time         | 2018-02-12T07:39:51Z                                                                                                                                                                 |
| description           | Subnet template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                 |
| id                    | 5d7790dd-237a-4b76-890a-0fb863a76d6e                                                                                                                                                 |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/subnet_c8090497-34be-456b-9186-377e918f3d50/5d7790dd-237a-4b76-890a-0fb863a76d6e |
| notification_topics   | []                                                                                                                                                                                   |
| outputs               | [                                                                                                                                                                                    |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "100.64.193.0/24",                                                                                                                                               |
|                       |     "description": "IP prefix of local subnet.",                                                                                                                                     |
|                       |     "output_key": "ip_prefix"                                                                                                                                                        |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "c8090497-34be-456b-9186-377e918f3d50",                                                                                                                          |
|                       |     "description": "The name of the local subnet.",                                                                                                                                  |
|                       |     "output_key": "name"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "100.64.193.1",                                                                                                                                                  |
|                       |     "description": "Default gateway of local subnet.",                                                                                                                               |
|                       |     "output_key": "default_gateway"                                                                                                                                                  |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                          |
|                       |     "description": "A unique id for the network.",                                                                                                                                   |
|                       |     "output_key": "network_id"                                                                                                                                                       |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                                                          |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                                                   |
|                       |     "output_key": "ipam"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "48f25db3-49e2-4bad-90d9-3fa333911d36",                                                                                                                          |
|                       |     "description": "A unique id for the local subnet.",                                                                                                                              |
|                       |     "output_key": "id"                                                                                                                                                               |
|                       |   }                                                                                                                                                                                  |
|                       | ]                                                                                                                                                                                    |
| parameters            | {                                                                                                                                                                                    |
|                       |   "OS::stack_name": "subnet_c8090497-34be-456b-9186-377e918f3d50",                                                                                                                   |
|                       |   "enable_dhcp": "True",                                                                                                                                                             |
|                       |   "network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                              |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                                                     |
|                       |   "dns_nameservers": "",                                                                                                                                                             |
|                       |   "dhcp_server_address": "100.64.193.2",                                                                                                                                             |
|                       |   "OS::stack_id": "5d7790dd-237a-4b76-890a-0fb863a76d6e",                                                                                                                            |
|                       |   "ntp_servers": "",                                                                                                                                                                 |
|                       |   "allocation_pools": "[{u'start': u'100.64.193.2', u'end': u'100.64.193.254'}]",                                                                                                    |
|                       |   "gateway_ip": "100.64.193.1",                                                                                                                                                      |
|                       |   "host_routes": "[{\"nexthop\": \"100.64.193.1\", \"destination\": \"172.26.10.0/24\"}]",                                                                                           |
|                       |   "cidr": "100.64.193.0/24",                                                                                                                                                         |
|                       |   "name": "c8090497-34be-456b-9186-377e918f3d50"                                                                                                                                     |
|                       | }                                                                                                                                                                                    |
| parent                | None                                                                                                                                                                                 |
| stack_name            | subnet_c8090497-34be-456b-9186-377e918f3d50                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                  |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                     |
| template_description  | Subnet template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                    |
| updated_time          | None                                                                                                                                                                                 |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_c8090497-34be-456b-9186-377e918f3d50
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr: [subnet, default_gateway]
  id:
    description: A unique id for the local subnet.
    value: {get_resource: subnet}
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr: [subnet, ip_prefix]
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr: [subnet, ipam]
  name:
    description: The name of the local subnet.
    value:
      get_attr: [subnet, name]
  network_id:
    description: A unique id for the network.
    value:
      get_attr: [subnet, network_id]
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr: {description: IP prefix of the local subnet that will be created., label: Local
      Subnet IP prefix, type: string}
  dhcp_server_address: {default: 0.0.0.0, description: DHCP Server address, label: DHCP
      Server address, type: string}
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp: {default: true, description: Enable DHCP, label: Enable DHCP, type: boolean}
  gateway_ip: {default: 0.0.0.0, description: Default gateway for the local subnet
      that will be created., label: Default Gateway, type: string}
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam: {default: '', description: IPAM for the local subnet that will be created.,
    label: IP Address Management, type: string}
  name: {description: Name of the local subnet that will be created., label: Local
      Subnet Name, type: string}
  network_id: {description: ID of the network for which subnet will be created., label: Network
      ID, type: string}
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools: {get_param: allocation_pools}
      default_gateway: {get_param: gateway_ip}
      dns_nameservers: {get_param: dns_nameservers}
      dns_server_address: {get_param: dhcp_server_address}
      enable_dhcp: {get_param: enable_dhcp}
      gateway_is_vrouter: false
      host_routes: {get_param: host_routes}
      ip_prefix: {get_param: cidr}
      ipam: {get_param: ipam}
      name: {get_param: name}
      network_id: {get_param: network_id}
      ntp_servers: {get_param: ntp_servers}
    type: OS::Contrail::VnSubnet

### Create Vnf Template ###
name:[vyatta-template-3.5R6], id:[5a84974a-9d8b-4887-898b-8e3c095e744d]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
07:39:59.553988  07:39:59.661671  0.107683        POST     201
07:39:59.661780  07:39:59.719064  0.057284         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.165076

[localhost] local: gohan client vnf_template show --output-format json 5a84974a-9d8b-4887-898b-8e3c095e744d
{
	"vnf_template": {
		"credentials": {
			"password": "password",
			"username": "vfwadmin"
		},
		"description": "lab3-vyatta-3.5R6_20151204",
		"dummy_networks": [
			"73b2c401-a1f3-49fb-8612-8c755b37a28d"
		],
		"function": "firewall",
		"id": "5a84974a-9d8b-4887-898b-8e3c095e744d",
		"image": "vyatta-0108-2016",
		"init_config": {},
		"management_networks": [
			"75c2c3ec-7fe7-494c-a35c-db3f94d3a554"
		],
		"name": "vyatta-template-3.5R6",
		"security_group": "permit-any",
		"service_network_id": null,
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"user_data_template": "",
		"vendor": "vyatta",
		"version": "3.5R6"
	}
}

### Create Vnf Plan ###
name:[vyatta-2CPU-2IF], id:[60791395-2267-4553-b115-a38fad3ebf69]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
07:40:00.379816  07:40:00.443335  0.063519        POST     201
07:40:00.443445  07:40:00.536738  0.093293         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.156922

[localhost] local: gohan client vnf_plan show --output-format json 60791395-2267-4553-b115-a38fad3ebf69
{
	"vnf_plan": {
		"default_interface_number": 3,
		"description": "vyatta-2CPU-2IF",
		"flavor": "m1.large",
		"function": "firewall",
		"id": "60791395-2267-4553-b115-a38fad3ebf69",
		"interface_limit": 3,
		"name": "vyatta-2CPU-2IF",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"vendor": "vyatta"
	}
}

### Create Firewall Plan ###
name:[Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF], id:[40520774-4f10-4e8c-90fa-550bd4cdf101]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
07:40:01.107343  07:40:01.199501  0.092158        POST     201
07:40:01.199627  07:40:01.253497  0.053870         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.146154

[localhost] local: gohan client firewall_plan show --output-format json 40520774-4f10-4e8c-90fa-550bd4cdf101
{
	"firewall_plan": {
		"description": "",
		"enabled": true,
		"id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
		"is_public": true,
		"name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"vendor": "vyatta",
		"version": "3.5R6S3-test",
		"vnf_plan_id": "60791395-2267-4553-b115-a38fad3ebf69",
		"vnf_template_id": "5a84974a-9d8b-4887-898b-8e3c095e744d"
	}
}

### Create Firewall ###
name:[firewall], id:[8e4c20be-d221-43f4-8325-0162c1f06166]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:40:01.824399  07:40:02.827561  1.003162        POST     201    PENDING_CREATE
07:40:02.827649  07:40:02.999147  0.171498         GET     200    PENDING_CREATE
07:40:04.000075  07:40:04.099197  0.099122         GET     200    PENDING_CREATE
07:40:05.100079  07:40:05.179082  0.079003         GET     200    PENDING_CREATE
07:40:06.180771  07:40:06.260201  0.079430         GET     200    PENDING_CREATE
07:40:07.261091  07:40:07.366174  0.105083         GET     200    PENDING_CREATE
07:40:08.367452  07:40:08.619306  0.251854         GET     200    PENDING_CREATE
07:40:09.620533  07:40:09.697064  0.076531         GET     200    PENDING_CREATE
07:40:10.697729  07:40:10.793998  0.096269         GET     200    PENDING_CREATE
07:40:11.794829  07:40:11.874518  0.079689         GET     200    PENDING_CREATE
07:40:12.874868  07:40:12.958464  0.083596         GET     200    PENDING_CREATE
07:40:13.960103  07:40:14.045138  0.085035         GET     200    PENDING_CREATE
07:40:15.046437  07:40:15.141069  0.094632         GET     200    PENDING_CREATE
07:40:16.142504  07:40:16.226316  0.083812         GET     200    PENDING_CREATE
07:40:17.227480  07:40:17.305218  0.077738         GET     200    PENDING_CREATE
07:40:18.306521  07:40:18.390404  0.083883         GET     200    PENDING_CREATE
07:40:19.392032  07:40:19.468921  0.076889         GET     200    PENDING_CREATE
07:40:20.470269  07:40:20.549127  0.078858         GET     200    PENDING_CREATE
07:40:21.550357  07:40:21.678382  0.128025         GET     200    PENDING_CREATE
07:40:22.678980  07:40:22.809045  0.130065         GET     200    PENDING_CREATE
07:40:23.810709  07:40:23.891635  0.080926         GET     200    PENDING_CREATE
07:40:24.893225  07:40:25.092753  0.199528         GET     200    PENDING_CREATE
07:40:26.093975  07:40:26.176961  0.082986         GET     200    PENDING_CREATE
07:40:27.178377  07:40:27.270924  0.092547         GET     200    PENDING_CREATE
07:40:28.272242  07:40:28.362922  0.090680         GET     200    PENDING_CREATE
07:40:29.364466  07:40:29.446168  0.081702         GET     200    PENDING_CREATE
07:40:30.447565  07:40:30.527519  0.079954         GET     200    PENDING_CREATE
07:40:31.528893  07:40:31.608075  0.079182         GET     200    PENDING_CREATE
07:40:32.609387  07:40:32.686184  0.076797         GET     200    PENDING_CREATE
07:40:33.687397  07:40:33.764300  0.076903         GET     200    PENDING_CREATE
07:40:34.765932  07:40:34.842062  0.076130         GET     200    PENDING_CREATE
07:40:35.843413  07:40:35.916907  0.073494         GET     200    PENDING_CREATE
07:40:36.918668  07:40:36.992825  0.074157         GET     200    PENDING_CREATE
07:40:37.994129  07:40:38.072106  0.077977         GET     200    PENDING_CREATE
07:40:39.073409  07:40:39.151000  0.077591         GET     200    PENDING_CREATE
07:40:40.152902  07:40:40.232929  0.080027         GET     200    PENDING_CREATE
07:40:41.233512  07:40:41.310387  0.076875         GET     200    PENDING_CREATE
07:40:42.312190  07:40:42.389866  0.077676         GET     200    PENDING_CREATE
07:40:43.391692  07:40:43.469129  0.077437         GET     200    PENDING_CREATE
07:40:44.471119  07:40:44.544533  0.073414         GET     200    PENDING_CREATE
07:40:45.546049  07:40:45.622809  0.076760         GET     200    PENDING_CREATE
07:40:46.624361  07:40:46.717743  0.093382         GET     200    PENDING_CREATE
07:40:47.718970  07:40:47.796294  0.077324         GET     200    PENDING_CREATE
07:40:48.797202  07:40:48.875588  0.078386         GET     200    PENDING_CREATE
07:40:49.876394  07:40:49.947721  0.071327         GET     200    PENDING_CREATE
07:40:50.949619  07:40:51.025485  0.075866         GET     200    PENDING_CREATE
07:40:52.026901  07:40:52.104494  0.077593         GET     200    PENDING_CREATE
07:40:53.105079  07:40:53.186745  0.081666         GET     200    PENDING_CREATE
07:40:54.188048  07:40:54.262338  0.074290         GET     200    PENDING_CREATE
07:40:55.263102  07:40:55.340833  0.077731         GET     200    PENDING_CREATE
07:40:56.342295  07:40:56.415576  0.073281         GET     200    PENDING_CREATE
07:40:57.415765  07:40:57.490168  0.074403         GET     200    PENDING_CREATE
07:40:58.491975  07:40:58.567388  0.075413         GET     200    PENDING_CREATE
07:40:59.568144  07:40:59.640492  0.072348         GET     200    PENDING_CREATE
07:41:00.641846  07:41:00.713710  0.071864         GET     200    PENDING_CREATE
07:41:01.714437  07:41:01.790090  0.075653         GET     200    PENDING_CREATE
07:41:02.791996  07:41:02.867224  0.075228         GET     200    PENDING_CREATE
07:41:03.867697  07:41:03.940318  0.072621         GET     200    PENDING_CREATE
07:41:04.941480  07:41:05.015481  0.074001         GET     200    PENDING_CREATE
07:41:06.017308  07:41:06.093411  0.076103         GET     200    PENDING_CREATE
07:41:07.094555  07:41:07.172083  0.077528         GET     200    PENDING_CREATE
07:41:08.173329  07:41:08.246700  0.073371         GET     200    PENDING_CREATE
07:41:09.248115  07:41:09.323249  0.075134         GET     200    PENDING_CREATE
07:41:10.324440  07:41:10.557985  0.233545         GET     200    PENDING_CREATE
07:41:11.559872  07:41:11.635463  0.075591         GET     200    PENDING_CREATE
07:41:12.637094  07:41:12.716930  0.079836         GET     200    PENDING_CREATE
07:41:13.718063  07:41:13.792245  0.074182         GET     200    PENDING_CREATE
07:41:14.793157  07:41:14.872519  0.079362         GET     200    PENDING_CREATE
07:41:15.872842  07:41:15.946763  0.073921         GET     200    PENDING_CREATE
07:41:16.948398  07:41:17.031773  0.083375         GET     200    PENDING_CREATE
07:41:18.032116  07:41:18.105142  0.073026         GET     200    PENDING_CREATE
07:41:19.106373  07:41:19.180421  0.074048         GET     200    PENDING_CREATE
07:41:20.180551  07:41:20.272866  0.092315         GET     200    PENDING_CREATE
07:41:21.273241  07:41:21.354116  0.080875         GET     200    PENDING_CREATE
07:41:22.355284  07:41:22.433657  0.078373         GET     200    PENDING_CREATE
07:41:23.434557  07:41:23.512511  0.077954         GET     200    PENDING_CREATE
07:41:24.512790  07:41:24.589304  0.076514         GET     200    PENDING_CREATE
07:41:25.590494  07:41:25.670633  0.080139         GET     200    PENDING_CREATE
07:41:26.671944  07:41:26.748384  0.076440         GET     200    PENDING_CREATE
07:41:27.749538  07:41:27.824985  0.075447         GET     200    PENDING_CREATE
07:41:28.826039  07:41:28.906210  0.080171         GET     200    PENDING_CREATE
07:41:29.907025  07:41:29.983590  0.076565         GET     200    PENDING_CREATE
07:41:30.985040  07:41:31.062156  0.077116         GET     200    PENDING_CREATE
07:41:32.063141  07:41:32.138021  0.074880         GET     200    PENDING_CREATE
07:41:33.139499  07:41:33.216087  0.076588         GET     200    PENDING_CREATE
07:41:34.217634  07:41:34.293315  0.075681         GET     200    PENDING_CREATE
07:41:35.293914  07:41:35.375696  0.081782         GET     200    PENDING_CREATE
07:41:36.376010  07:41:36.452907  0.076897         GET     200    PENDING_CREATE
07:41:37.453500  07:41:37.526856  0.073356         GET     200    PENDING_CREATE
07:41:38.527824  07:41:38.605838  0.078014         GET     200    PENDING_CREATE
07:41:39.607981  07:41:39.683096  0.075115         GET     200    PENDING_CREATE
07:41:40.683360  07:41:40.758936  0.075576         GET     200    PENDING_CREATE
07:41:41.761104  07:41:41.836987  0.075883         GET     200    PENDING_CREATE
07:41:42.837522  07:41:42.911595  0.074073         GET     200    PENDING_CREATE
07:41:43.912831  07:41:43.984418  0.071587         GET     200    PENDING_CREATE
07:41:44.986290  07:41:45.065072  0.078782         GET     200    PENDING_CREATE
07:41:46.066706  07:41:46.138854  0.072148         GET     200    PENDING_CREATE
07:41:47.140161  07:41:47.215321  0.075160         GET     200    PENDING_CREATE
07:41:48.216908  07:41:48.289437  0.072529         GET     200    PENDING_CREATE
07:41:49.290621  07:41:49.368584  0.077963         GET     200    PENDING_CREATE
07:41:50.370247  07:41:50.449246  0.078999         GET     200    PENDING_CREATE
07:41:51.450180  07:41:51.524244  0.074064         GET     200    PENDING_CREATE
07:41:52.525498  07:41:52.602989  0.077491         GET     200    PENDING_CREATE
07:41:53.604346  07:41:53.694367  0.090021         GET     200    PENDING_CREATE
07:41:54.695984  07:41:54.768247  0.072263         GET     200    PENDING_CREATE
07:41:55.769808  07:41:55.848666  0.078858         GET     200    PENDING_CREATE
07:41:56.850283  07:41:56.924762  0.074479         GET     200    PENDING_CREATE
07:41:57.925810  07:41:58.007158  0.081348         GET     200    PENDING_CREATE
07:41:59.008330  07:41:59.084273  0.075943         GET     200    PENDING_CREATE
07:42:00.085951  07:42:00.157500  0.071549         GET     200    PENDING_CREATE
07:42:01.159594  07:42:01.235266  0.075672         GET     200    PENDING_CREATE
07:42:02.236420  07:42:02.319988  0.083568         GET     200    PENDING_CREATE
07:42:03.321629  07:42:03.395730  0.074101         GET     200    PENDING_CREATE
07:42:04.397646  07:42:04.471519  0.073873         GET     200    PENDING_CREATE
07:42:05.471852  07:42:05.549539  0.077687         GET     200    PENDING_CREATE
07:42:06.551025  07:42:06.625303  0.074278         GET     200    PENDING_CREATE
07:42:07.625735  07:42:07.701628  0.075893         GET     200    PENDING_CREATE
07:42:08.702934  07:42:08.777738  0.074804         GET     200    PENDING_CREATE
07:42:09.779496  07:42:09.855445  0.075949         GET     200    PENDING_CREATE
07:42:10.856207  07:42:10.930499  0.074292         GET     200    PENDING_CREATE
07:42:11.930839  07:42:12.028265  0.097426         GET     200    PENDING_CREATE
07:42:13.029482  07:42:13.106715  0.077233         GET     200    PENDING_CREATE
07:42:14.108121  07:42:14.203740  0.095619         GET     200    PENDING_CREATE
07:42:15.205533  07:42:15.287707  0.082174         GET     200    PENDING_CREATE
07:42:16.288344  07:42:16.363242  0.074898         GET     200    PENDING_CREATE
07:42:17.364631  07:42:17.441298  0.076667         GET     200    PENDING_CREATE
07:42:18.442074  07:42:18.515693  0.073619         GET     200    PENDING_CREATE
07:42:19.517078  07:42:19.602251  0.085173         GET     200    PENDING_CREATE
07:42:20.603078  07:42:20.678491  0.075413         GET     200    PENDING_CREATE
07:42:21.679797  07:42:21.761000  0.081203         GET     200    PENDING_CREATE
07:42:22.762288  07:42:22.860921  0.098633         GET     200    PENDING_CREATE
07:42:23.862250  07:42:23.938072  0.075822         GET     200    PENDING_CREATE
07:42:24.939783  07:42:25.015279  0.075496         GET     200    PENDING_CREATE
07:42:26.016086  07:42:26.099152  0.083066         GET     200    PENDING_CREATE
07:42:27.099554  07:42:27.180463  0.080909         GET     200    PENDING_CREATE
07:42:28.181727  07:42:28.260355  0.078628         GET     200    PENDING_CREATE
07:42:29.261744  07:42:29.344100  0.082356         GET     200    PENDING_CREATE
07:42:30.345903  07:42:30.421966  0.076063         GET     200    PENDING_CREATE
07:42:31.423177  07:42:31.500712  0.077535         GET     200    PENDING_CREATE
07:42:32.501984  07:42:32.578124  0.076140         GET     200    PENDING_CREATE
07:42:33.579382  07:42:33.653379  0.073997         GET     200    PENDING_CREATE
07:42:34.654349  07:42:34.730286  0.075937         GET     200    PENDING_CREATE
07:42:35.731953  07:42:35.810709  0.078756         GET     200    PENDING_CREATE
07:42:36.812658  07:42:36.884230  0.071572         GET     200    PENDING_CREATE
07:42:37.885463  07:42:38.113564  0.228101         GET     200    PENDING_CREATE
07:42:39.114885  07:42:39.191680  0.076795         GET     200    PENDING_CREATE
07:42:40.192916  07:42:40.271930  0.079014         GET     200    PENDING_CREATE
07:42:41.273048  07:42:41.348652  0.075604         GET     200    PENDING_CREATE
07:42:42.350694  07:42:42.430740  0.080046         GET     200    PENDING_CREATE
07:42:43.431595  07:42:43.506817  0.075222         GET     200    PENDING_CREATE
07:42:44.508189  07:42:44.584579  0.076390         GET     200    PENDING_CREATE
07:42:45.586431  07:42:45.661191  0.074760         GET     200    PENDING_CREATE
07:42:46.662491  07:42:46.738652  0.076161         GET     200    PENDING_CREATE
07:42:47.740195  07:42:47.814126  0.073931         GET     200    PENDING_CREATE
07:42:48.814580  07:42:48.894650  0.080070         GET     200    PENDING_CREATE
07:42:49.896322  07:42:49.970764  0.074442         GET     200    PENDING_CREATE
07:42:50.971532  07:42:51.047334  0.075802         GET     200    PENDING_CREATE
07:42:52.048793  07:42:52.120097  0.071304         GET     200    PENDING_CREATE
07:42:53.121414  07:42:53.202000  0.080586         GET     200    PENDING_CREATE
07:42:54.203109  07:42:54.279490  0.076381         GET     200    PENDING_CREATE
07:42:55.280722  07:42:55.353747  0.073025         GET     200    PENDING_CREATE
07:42:56.355205  07:42:56.430593  0.075388         GET     200    PENDING_CREATE
07:42:57.431825  07:42:57.509548  0.077723         GET     200    PENDING_CREATE
07:42:58.510754  07:42:58.593391  0.082637         GET     200    PENDING_CREATE
07:42:59.594651  07:42:59.671394  0.076743         GET     200    PENDING_CREATE
07:43:00.672083  07:43:00.872236  0.200153         GET     200    PENDING_CREATE
07:43:01.873096  07:43:01.945274  0.072178         GET     200    PENDING_CREATE
07:43:02.946435  07:43:03.017297  0.070862         GET     200    PENDING_CREATE
07:43:04.018579  07:43:04.095212  0.076633         GET     200    PENDING_CREATE
07:43:05.099928  07:43:05.177057  0.077129         GET     200    PENDING_CREATE
07:43:06.178689  07:43:06.255198  0.076509         GET     200    PENDING_CREATE
07:43:07.256843  07:43:07.334555  0.077712         GET     200    PENDING_CREATE
07:43:08.335843  07:43:08.410553  0.074710         GET     200    PENDING_CREATE
07:43:09.411926  07:43:09.487706  0.075780         GET     200    PENDING_CREATE
07:43:10.488651  07:43:10.568621  0.079970         GET     200    PENDING_CREATE
07:43:11.569661  07:43:11.648498  0.078837         GET     200    PENDING_CREATE
07:43:12.649522  07:43:12.724204  0.074682         GET     200    PENDING_CREATE
07:43:13.725579  07:43:13.812671  0.087092         GET     200    PENDING_CREATE
07:43:14.813837  07:43:14.895843  0.082006         GET     200    PENDING_CREATE
07:43:15.897332  07:43:15.971336  0.074004         GET     200    PENDING_CREATE
07:43:16.972860  07:43:17.049725  0.076865         GET     200    PENDING_CREATE
07:43:18.050949  07:43:18.124692  0.073743         GET     200    PENDING_CREATE
07:43:19.125875  07:43:19.200719  0.074844         GET     200    PENDING_CREATE
07:43:20.201974  07:43:20.274548  0.072574         GET     200    PENDING_CREATE
07:43:21.275634  07:43:21.356118  0.080484         GET     200    PENDING_CREATE
07:43:22.356660  07:43:22.502893  0.146233         GET     200    PENDING_CREATE
07:43:23.504284  07:43:23.626672  0.122388         GET     200    PENDING_CREATE
07:43:24.627134  07:43:24.700885  0.073751         GET     200    PENDING_CREATE
07:43:25.701789  07:43:25.774171  0.072382         GET     200    PENDING_CREATE
07:43:26.774878  07:43:26.852466  0.077588         GET     200    PENDING_CREATE
07:43:27.853180  07:43:27.923135  0.069955         GET     200    PENDING_CREATE
07:43:28.924708  07:43:29.001144  0.076436         GET     200    PENDING_CREATE
07:43:30.001853  07:43:30.084952  0.083099         GET     200    PENDING_CREATE
07:43:31.086167  07:43:31.164046  0.077879         GET     200    PENDING_CREATE
07:43:32.165917  07:43:32.242100  0.076183         GET     200    PENDING_CREATE
07:43:33.242844  07:43:33.320565  0.077721         GET     200    PENDING_CREATE
07:43:34.321714  07:43:34.392183  0.070469         GET     200    PENDING_CREATE
07:43:35.393388  07:43:35.470192  0.076804         GET     200    PENDING_CREATE
07:43:36.471384  07:43:36.545377  0.073993         GET     200    PENDING_CREATE
07:43:37.546921  07:43:37.621507  0.074586         GET     200    PENDING_CREATE
07:43:38.622965  07:43:38.694092  0.071127         GET     200    PENDING_CREATE
07:43:39.694811  07:43:39.768034  0.073223         GET     200    PENDING_CREATE
07:43:40.769447  07:43:40.849782  0.080335         GET     200    PENDING_CREATE
07:43:41.851985  07:43:41.943736  0.091751         GET     200    PENDING_CREATE
07:43:42.945511  07:43:43.027948  0.082437         GET     200    PENDING_CREATE
07:43:44.029182  07:43:44.107102  0.077920         GET     200    PENDING_CREATE
07:43:45.108245  07:43:45.182699  0.074454         GET     200    PENDING_CREATE
07:43:46.183109  07:43:46.412420  0.229311         GET     200    PENDING_CREATE
07:43:47.413400  07:43:47.493069  0.079669         GET     200    PENDING_CREATE
07:43:48.493624  07:43:48.569182  0.075558         GET     200    PENDING_CREATE
07:43:49.570935  07:43:49.648175  0.077240         GET     200    PENDING_CREATE
07:43:50.649151  07:43:50.726974  0.077823         GET     200    PENDING_CREATE
07:43:51.727691  07:43:51.802699  0.075008         GET     200    PENDING_CREATE
07:43:52.803970  07:43:52.884315  0.080345         GET     200    PENDING_CREATE
07:43:53.885533  07:43:53.971766  0.086233         GET     200    PENDING_CREATE
07:43:54.972992  07:43:55.051839  0.078847         GET     200    PENDING_CREATE
07:43:56.052666  07:43:56.136543  0.083877         GET     200    PENDING_CREATE
07:43:57.137164  07:43:57.222391  0.085227         GET     200    PENDING_CREATE
07:43:58.223627  07:43:58.299876  0.076249         GET     200    PENDING_CREATE
07:43:59.301008  07:43:59.376572  0.075564         GET     200    PENDING_CREATE
07:44:00.378128  07:44:00.455113  0.076985         GET     200    PENDING_CREATE
07:44:01.456467  07:44:01.532599  0.076132         GET     200    PENDING_CREATE
07:44:02.533846  07:44:02.608889  0.075043         GET     200    PENDING_CREATE
07:44:03.610548  07:44:03.686091  0.075543         GET     200    PENDING_CREATE
07:44:04.687647  07:44:04.759170  0.071523         GET     200    PENDING_CREATE
07:44:05.760824  07:44:05.846712  0.085888         GET     200    PENDING_CREATE
07:44:06.848388  07:44:06.925527  0.077139         GET     200    PENDING_CREATE
07:44:07.925806  07:44:07.999900  0.074094         GET     200    PENDING_CREATE
07:44:09.000695  07:44:09.163351  0.162656         GET     200    PENDING_CREATE
07:44:10.164540  07:44:10.241355  0.076815         GET     200    PENDING_CREATE
07:44:11.243087  07:44:11.321144  0.078057         GET     200    PENDING_CREATE
07:44:12.321665  07:44:12.394201  0.072536         GET     200    PENDING_CREATE
07:44:13.395352  07:44:13.471998  0.076646         GET     200    PENDING_CREATE
07:44:14.473147  07:44:14.553842  0.080695         GET     200    PENDING_CREATE
07:44:15.554079  07:44:15.720409  0.166330         GET     200    PENDING_CREATE
07:44:16.721502  07:44:16.805676  0.084174         GET     200    PENDING_CREATE
07:44:17.807221  07:44:17.885200  0.077979         GET     200    PENDING_CREATE
07:44:18.886835  07:44:18.966664  0.079829         GET     200    PENDING_CREATE
07:44:19.967860  07:44:20.047798  0.079938         GET     200    PENDING_CREATE
07:44:21.049196  07:44:21.146176  0.096980         GET     200    PENDING_CREATE
07:44:22.146866  07:44:22.233480  0.086614         GET     200    PENDING_CREATE
07:44:23.234638  07:44:23.310192  0.075554         GET     200    PENDING_CREATE
07:44:24.311661  07:44:24.546922  0.235261         GET     200    PENDING_CREATE
07:44:25.548193  07:44:25.632073  0.083880         GET     200    PENDING_CREATE
07:44:26.632726  07:44:26.709669  0.076943         GET     200    PENDING_CREATE
07:44:27.711103  07:44:27.791085  0.079982         GET     200    PENDING_CREATE
07:44:28.792210  07:44:28.890924  0.098714         GET     200    PENDING_CREATE
07:44:29.892244  07:44:29.970330  0.078086         GET     200    PENDING_CREATE
07:44:30.971149  07:44:31.046356  0.075207         GET     200    PENDING_CREATE
07:44:32.047496  07:44:32.118932  0.071436         GET     200    PENDING_CREATE
07:44:33.119457  07:44:33.200053  0.080596         GET     200    PENDING_CREATE
07:44:34.201267  07:44:34.275688  0.074421         GET     200    PENDING_CREATE
07:44:35.276599  07:44:35.364607  0.088008         GET     200    PENDING_CREATE
07:44:36.366467  07:44:36.632140  0.265673         GET     200    PENDING_CREATE
07:44:37.633649  07:44:37.711501  0.077852         GET     200    PENDING_CREATE
07:44:38.712783  07:44:38.785505  0.072722         GET     200    PENDING_CREATE
07:44:39.787012  07:44:39.876142  0.089130         GET     200    PENDING_CREATE
07:44:40.877636  07:44:40.954664  0.077028         GET     200    PENDING_CREATE
07:44:41.955827  07:44:42.036848  0.081021         GET     200    PENDING_CREATE
07:44:43.038292  07:44:43.114741  0.076449         GET     200    PENDING_CREATE
07:44:44.115173  07:44:44.184492  0.069319         GET     200    PENDING_CREATE
07:44:45.185817  07:44:45.270801  0.084984         GET     200    PENDING_CREATE
07:44:46.272175  07:44:46.355559  0.083384         GET     200    PENDING_CREATE
07:44:47.356804  07:44:47.437421  0.080617         GET     200    PENDING_CREATE
07:44:48.437846  07:44:48.527989  0.090143         GET     200    PENDING_CREATE
07:44:49.529176  07:44:49.608030  0.078854         GET     200    PENDING_CREATE
07:44:50.608249  07:44:50.785982  0.177733         GET     200    PENDING_CREATE
07:44:51.787254  07:44:51.877654  0.090400         GET     200    PENDING_CREATE
07:44:52.879404  07:44:52.974886  0.095482         GET     200    PENDING_CREATE
07:44:53.975307  07:44:54.063963  0.088656         GET     200    PENDING_CREATE
07:44:55.065216  07:44:55.140074  0.074858         GET     200    PENDING_CREATE
07:44:56.140432  07:44:56.218519  0.078087         GET     200    PENDING_CREATE
07:44:57.220063  07:44:57.302703  0.082640         GET     200    PENDING_CREATE
07:44:58.303002  07:44:58.380650  0.077648         GET     200    PENDING_CREATE
07:44:59.382187  07:44:59.458080  0.075893         GET     200    PENDING_CREATE
07:45:00.460281  07:45:00.530634  0.070353         GET     200    PENDING_CREATE
07:45:01.532020  07:45:01.606803  0.074783         GET     200    PENDING_CREATE
07:45:02.607987  07:45:02.688083  0.080096         GET     200    PENDING_CREATE
07:45:03.688466  07:45:03.762767  0.074301         GET     200    PENDING_CREATE
07:45:04.763212  07:45:04.839410  0.076198         GET     200    PENDING_CREATE
07:45:05.840909  07:45:05.918236  0.077327         GET     200    PENDING_CREATE
07:45:06.920095  07:45:06.993304  0.073209         GET     200    PENDING_CREATE
07:45:07.994685  07:45:08.070453  0.075768         GET     200    PENDING_CREATE
07:45:09.071848  07:45:09.149393  0.077545         GET     200    PENDING_CREATE
07:45:10.151046  07:45:10.233724  0.082678         GET     200    PENDING_CREATE
07:45:11.234795  07:45:11.437552  0.202757         GET     200    PENDING_CREATE
07:45:12.439429  07:45:12.515847  0.076418         GET     200    PENDING_CREATE
07:45:13.517036  07:45:13.603737  0.086701         GET     200    PENDING_CREATE
07:45:14.604976  07:45:14.681090  0.076114         GET     200    PENDING_CREATE
07:45:15.682678  07:45:15.761264  0.078586         GET     200    PENDING_CREATE
07:45:16.762641  07:45:16.839035  0.076394         GET     200    PENDING_CREATE
07:45:17.840857  07:45:17.912302  0.071445         GET     200    PENDING_CREATE
07:45:18.913618  07:45:18.988260  0.074642         GET     200    PENDING_CREATE
07:45:19.989455  07:45:20.064797  0.075342         GET     200    PENDING_CREATE
07:45:21.065989  07:45:21.148079  0.082090         GET     200    PENDING_CREATE
07:45:22.149054  07:45:22.224684  0.075630         GET     200    PENDING_CREATE
07:45:23.225574  07:45:23.303435  0.077861         GET     200    PENDING_CREATE
07:45:24.304384  07:45:24.383632  0.079248         GET     200    PENDING_CREATE
07:45:25.383848  07:45:25.458238  0.074390         GET     200    PENDING_CREATE
07:45:26.460066  07:45:26.537247  0.077181         GET     200    PENDING_CREATE
07:45:27.538586  07:45:27.618434  0.079848         GET     200    PENDING_CREATE
07:45:28.619942  07:45:28.736837  0.116895         GET     200    PENDING_CREATE
07:45:29.737275  07:45:29.811784  0.074509         GET     200    PENDING_CREATE
07:45:30.813774  07:45:30.884790  0.071016         GET     200    PENDING_CREATE
07:45:31.885131  07:45:31.961780  0.076649         GET     200    PENDING_CREATE
07:45:32.962775  07:45:33.039023  0.076248         GET     200    PENDING_CREATE
07:45:34.040524  07:45:34.115312  0.074788         GET     200    PENDING_CREATE
07:45:35.116525  07:45:35.190281  0.073756         GET     200    PENDING_CREATE
07:45:36.192325  07:45:36.269644  0.077319         GET     200    PENDING_CREATE
07:45:37.271473  07:45:37.348339  0.076866         GET     200    PENDING_CREATE
07:45:38.350254  07:45:38.427161  0.076907         GET     200    PENDING_CREATE
07:45:39.427407  07:45:39.505001  0.077594         GET     200    PENDING_CREATE
07:45:40.506809  07:45:40.582626  0.075817         GET     200    PENDING_CREATE
07:45:41.583825  07:45:41.654929  0.071104         GET     200    PENDING_CREATE
07:45:42.655095  07:45:42.732758  0.077663         GET     200    PENDING_CREATE
07:45:43.735257  07:45:43.807469  0.072212         GET     200    PENDING_CREATE
07:45:44.807821  07:45:44.883341  0.075520         GET     200    PENDING_CREATE
07:45:45.884574  07:45:45.964178  0.079604         GET     200    PENDING_CREATE
07:45:46.965744  07:45:47.039872  0.074128         GET     200    PENDING_CREATE
07:45:48.041078  07:45:48.116129  0.075051         GET     200    PENDING_CREATE
07:45:49.117397  07:45:49.190410  0.073013         GET     200    PENDING_CREATE
07:45:50.192082  07:45:50.267565  0.075483         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 348.443166

[localhost] local: gohan client vnf_instance list --output-format json
#######################################
### Checking gohan firewall_info     ##
#######################################
[localhost] local: gohan client firewall show --output-format json 8e4c20be-d221-43f4-8325-0162c1f06166
{
	"firewall": {
		"admin_username": "user-admin",
		"availability_zone": "nova",
		"default_gateway": "192.168.1.1",
		"description": "",
		"firewall_plan_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
		"id": "8e4c20be-d221-43f4-8325-0162c1f06166",
		"interfaces": [
			{
				"id": "1c351257-d185-40b7-b04a-6272de75d434",
				"ip_address": "100.64.193.3",
				"name": "dp0s3",
				"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
				"operational_state": "UP",
				"orchestration_state": "CREATE_COMPLETE",
				"slot_number": 0,
				"status": "ACTIVE",
				"type": "management",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "c8fef8f8-a7a1-448f-ae76-81992e598016"
			},
			{
				"id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a",
				"ip_address": null,
				"name": "dp0s4",
				"network_id": null,
				"operational_state": "UP",
				"orchestration_state": "CREATE_COMPLETE",
				"slot_number": 1,
				"status": "ACTIVE",
				"type": "user",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6"
			},
			{
				"id": "cdf30a48-8cf7-4935-9f8a-5b51f1177704",
				"ip_address": null,
				"name": "dp0s5",
				"network_id": null,
				"operational_state": "UP",
				"orchestration_state": "CREATE_COMPLETE",
				"slot_number": 2,
				"status": "ACTIVE",
				"type": "user",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "1e047117-2ca8-43dc-aa80-619b224bab4c"
			}
		],
		"name": "",
		"networks": [
			{
				"ifname": "dp0s4",
				"type": "disable"
			},
			{
				"ifname": "dp0s5",
				"type": "disable"
			}
		],
		"operational_state": "UP",
		"orchestration_state": "CREATE_COMPLETE",
		"other_username": "",
		"status": "ACTIVE",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"user_username": "user-read",
		"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
	}
}

#######################################
### Checking gohan vnf_instance_info ##
#######################################
[localhost] local: gohan client vnf_instance show --output-format json 44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
{
	"vnf_instance": {
		"availability_zone": "nova",
		"config_drive": false,
		"description": null,
		"id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",
		"management_ip": "100.64.193.3",
		"name": "firewall-8e4c20be-d221-43f4-8325-0162c1f06166",
		"networks": [
			{
				"port": "cdde9cfd-a898-4911-b812-b6849f611549"
			},
			{
				"port": "dea87c7b-b43f-4936-8e32-8995b038b3f8"
			},
			{
				"port": "fd09eda4-10b1-4534-984a-7124c338c69d"
			}
		],
		"operational_state": "UP",
		"orchestration_state": "CREATE_COMPLETE",
		"owner_tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"reboot": "",
		"status": "ACTIVE",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"user_data": "",
		"user_data_format": "RAW",
		"user_data_parameters": {},
		"vnf_plan_id": "60791395-2267-4553-b115-a38fad3ebf69",
		"vnf_template_id": "5a84974a-9d8b-4887-898b-8e3c095e744d"
	}
}

#######################################
### Checking nova instance_info    ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0//vnf_instances/44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
[localhost] local: nova show 2e555b09-e0d7-4cce-8854-c481a2363917
+--------------------------------------+----------------------------------------------------------+
| Property                             | Value                                                    |
+--------------------------------------+----------------------------------------------------------+
| OS-DCF:diskConfig                    | MANUAL                                                   |
| OS-EXT-AZ:availability_zone          | nova                                                     |
| OS-EXT-SRV-ATTR:host                 | nova-server                                              |
| OS-EXT-SRV-ATTR:hypervisor_hostname  | nova-server                                              |
| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |
| OS-EXT-STS:power_state               | 1                                                        |
| OS-EXT-STS:task_state                | -                                                        |
| OS-EXT-STS:vm_state                  | active                                                   |
| OS-SRV-USG:launched_at               | 2018-02-12T07:40:10.000000                               |
| OS-SRV-USG:terminated_at             | -                                                        |
| accessIPv4                           |                                                          |
| accessIPv6                           |                                                          |
| adminpod-net network                 | 100.64.193.3                                             |
| config_drive                         |                                                          |
| created                              | 2018-02-12T07:40:09Z                                     |
| dummy-net network                    | 10.121.232.3, 10.121.232.4                               |
| flavor                               | m1.large (4)                                             |
| hostId                               | a1ada0b7af73f0f3e44a99d3a558afdaf2caf52e3fb9910565b4d755 |
| id                                   | 2e555b09-e0d7-4cce-8854-c481a2363917                     |
| image                                | vyatta-0108-2016 (b2cb95f5-1f08-42ae-a1d2-d18b5da04f0c)  |
| key_name                             | -                                                        |
| metadata                             | {}                                                       |
| name                                 | firewall-8e4c20be-d221-43f4-8325-0162c1f06166            |
| os-extended-volumes:volumes_attached | []                                                       |
| progress                             | 0                                                        |
| security_groups                      | default                                                  |
| status                               | ACTIVE                                                   |
| tenant_id                            | 0f40dffa48614d9baa7eaac7e7532099                         |
| updated                              | 2018-02-12T07:44:42Z                                     |
| user_id                              | 0c7ba6a7a9624837929c5953b2a54c93                         |
+--------------------------------------+----------------------------------------------------------+

#######################################
### Checking nova interface_list   ####
#######################################
[localhost] local: nova interface-list 2e555b09-e0d7-4cce-8854-c481a2363917
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| Port State             | Port ID                              | Net ID                               | IP addresses | MAC Addr          |
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| MONITORING_UNAVAILABLE | cdde9cfd-a898-4911-b812-b6849f611549 | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554 | 100.64.193.3 | fa:16:3e:2f:e8:a6 |
| MONITORING_UNAVAILABLE | dea87c7b-b43f-4936-8e32-8995b038b3f8 | 73b2c401-a1f3-49fb-8612-8c755b37a28d | 10.121.232.3 | fa:16:3e:99:1e:37 |
| ACTIVE                 | fd09eda4-10b1-4534-984a-7124c338c69d | 73b2c401-a1f3-49fb-8612-8c755b37a28d | 10.121.232.4 | fa:16:3e:8e:dd:05 |
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+

#######################################
### checking heat-stack (firewall) ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewalls/8e4c20be-d221-43f4-8325-0162c1f06166
[localhost] local: heat stack-show firewall_8e4c20be-d221-43f4-8325-0162c1f06166
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                  |
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                     |
| creation_time         | 2018-02-12T07:44:48Z                                                                                                                                                                   |
| description           | Vyatta Firewall Configuration                                                                                                                                                          |
| disable_rollback      | True                                                                                                                                                                                   |
| id                    | 7d9e544c-cc5a-4a44-a625-c743357c137f                                                                                                                                                   |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_8e4c20be-d221-43f4-8325-0162c1f06166/7d9e544c-cc5a-4a44-a625-c743357c137f |
| notification_topics   | []                                                                                                                                                                                     |
| outputs               | [                                                                                                                                                                                      |
|                       |   {                                                                                                                                                                                    |
|                       |     "output_value": "346eb30d-1ae0-4375-a1d6-7d83c699e2d3",                                                                                                                            |
|                       |     "description": "Monitoring Target ID",                                                                                                                                             |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                               |
|                       |   },                                                                                                                                                                                   |
|                       |   {                                                                                                                                                                                    |
|                       |     "output_value": "http://collector-agents-se:7070/targets/346eb30d-1ae0-4375-a1d6-7d83c699e2d3",                                                                                    |
|                       |     "description": "Monitoring Process Link",                                                                                                                                          |
|                       |     "output_key": "monitoring_link"                                                                                                                                                    |
|                       |   }                                                                                                                                                                                    |
|                       | ]                                                                                                                                                                                      |
| parameters            | {                                                                                                                                                                                      |
|                       |   "OS::stack_id": "7d9e544c-cc5a-4a44-a625-c743357c137f",                                                                                                                              |
|                       |   "OS::stack_name": "firewall_8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                   |
|                       |   "default_gateway": "192.168.1.1",                                                                                                                                                    |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                     |
|                       |   "user_password": "******",                                                                                                                                                           |
|                       |   "other_username": "",                                                                                                                                                                |
|                       |   "admin_username": "user-admin",                                                                                                                                                      |
|                       |   "user_username": "user-read",                                                                                                                                                        |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                     |
|                       |   "version": "1",                                                                                                                                                                      |
|                       |   "other_password": "******",                                                                                                                                                          |
|                       |   "admin_password": "******",                                                                                                                                                          |
|                       |   "credentials": "{\"username\": \"vfwadmin\", \"password\": \"password\"}",                                                                                                           |
|                       |   "gohan_id": "8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                                  |
|                       |   "networks": "[{\"ifname\": \"dp0s4\", \"type\": \"disable\"}, {\"ifname\": \"dp0s5\", \"type\": \"disable\"}]"                                                                       |
|                       | }                                                                                                                                                                                      |
| parent                | None                                                                                                                                                                                   |
| stack_name            | firewall_8e4c20be-d221-43f4-8325-0162c1f06166                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                  |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                        |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                    |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                       |
| template_description  | Vyatta Firewall Configuration                                                                                                                                                          |
| timeout_mins          | 13                                                                                                                                                                                     |
| updated_time          | None                                                                                                                                                                                   |
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_8e4c20be-d221-43f4-8325-0162c1f06166
description: Vyatta Firewall Configuration
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [fw_device_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: fw_device_monitor}
parameters:
  admin_password: {default: '', hidden: true, type: string}
  admin_username: {type: string}
  credentials: {type: json}
  default_gateway: {default: '', type: string}
  gohan_id: {description: UUID of the VNF Instance, label: Gohan resource ID, type: string}
  management_ip: {type: string}
  networks: {type: json}
  other_password: {default: '', hidden: true, type: string}
  other_username: {default: '', type: string}
  tenant_id: {label: Tenant ID, type: string}
  user_password: {default: '', hidden: true, type: string}
  user_username: {type: string}
  version: {label: Config version, type: number}
resources:
  fw_device_monitor:
    depends_on: server
    properties:
      field_name: firewall
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip: {get_param: management_ip}
      resource_id: {get_param: gohan_id}
      resource_type: firewalls
      syncer_properties:
        etcd:
          status: {key: firewall}
        tsdb:
          cpu.idle:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: idle
          cpu.system:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: system
          cpu.user:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: user
          memory.available:
            metric: memory.kbytes
            tags:
              resource_id: {get_param: gohan_id}
              type: available
          memory.total:
            metric: memory.kbytes
            tags:
              resource_id: {get_param: gohan_id}
              type: total
          tcp.active:
            metric: tcp.connections
            tags:
              open: active
              resource_id: {get_param: gohan_id}
          tcp.passive:
            metric: tcp.connections
            tags:
              open: passive
              resource_id: {get_param: gohan_id}
      tenant_id: {get_param: tenant_id}
      type: snmp_device_fw
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget
  server:
    properties:
      admin_password: {get_param: admin_password}
      admin_username: {get_param: admin_username}
      credentials: {get_param: credentials}
      default_gateway: {get_param: default_gateway}
      management_ip: {get_param: management_ip}
      networks: {get_param: networks}
      other_password: {get_param: other_password}
      other_username: {get_param: other_username}
      user_password: {get_param: user_password}
      user_username: {get_param: user_username}
    type: ESI::VNF::VyattaConfig

#########################################################
### checking heat-stack (firewall_interface - dp0s3) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/1c351257-d185-40b7-b04a-6272de75d434
[localhost] local: heat stack-show firewall_interface_1c351257-d185-40b7-b04a-6272de75d434
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | aca233ed-4f80-443a-bbc5-55116560d4f1                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_1c351257-d185-40b7-b04a-6272de75d434/aca233ed-4f80-443a-bbc5-55116560d4f1 |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "ecbc7461-e883-4c21-bcf6-b91a105a533c",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/ecbc7461-e883-4c21-bcf6-b91a105a533c",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "aca233ed-4f80-443a-bbc5-55116560d4f1",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_1c351257-d185-40b7-b04a-6272de75d434",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "1",                                                                                                                                                                                |
|                       |   "gohan_id": "1c351257-d185-40b7-b04a-6272de75d434"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_1c351257-d185-40b7-b04a-6272de75d434                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                              |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | None                                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
#########################################################
### checking heat-stack (firewall_interface - dp0s4) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/3543155d-0d9a-43a3-ae77-3479cf8a0e4a
[localhost] local: heat stack-show firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | 7e24599c-43f9-4e7b-a074-661f7179622c                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a/7e24599c-43f9-4e7b-a074-661f7179622c |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "d82baca9-9854-4da2-80c8-f823489be960",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/d82baca9-9854-4da2-80c8-f823489be960",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "7e24599c-43f9-4e7b-a074-661f7179622c",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "1",                                                                                                                                                                                |
|                       |   "gohan_id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                              |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | None                                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
#########################################################
### checking heat-stack (firewall_interface - dp0s5) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/cdf30a48-8cf7-4935-9f8a-5b51f1177704
[localhost] local: heat stack-show firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | e82523ac-54d5-4c36-8300-6f0efa99da34                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704/e82523ac-54d5-4c36-8300-6f0efa99da34 |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "9d7a43c7-40e2-4703-9205-d76939462572",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/9d7a43c7-40e2-4703-9205-d76939462572",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "e82523ac-54d5-4c36-8300-6f0efa99da34",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "1",                                                                                                                                                                                |
|                       |   "gohan_id": "cdf30a48-8cf7-4935-9f8a-5b51f1177704"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                              |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | None                                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
[localhost] local: gohan client port list --output-format json
########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show cdde9cfd-a898-4911-b812-b6849f611549
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | True                                                                                |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "c8090497-34be-456b-9186-377e918f3d50", "ip_address": "100.64.193.3"} |
| id                    | cdde9cfd-a898-4911-b812-b6849f611549                                                |
| mac_address           | fa:16:3e:2f:e8:a6                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-management-port                                                            |
| network_id            | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554                                                |
| operational_state     | FAIL                                                                                |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | MONITORING_UNAVAILABLE                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/cdde9cfd-a898-4911-b812-b6849f611549
[localhost] local: heat stack-show port_cdde9cfd-a898-4911-b812-b6849f611549
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:40:03Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | 86fa320c-aeb3-4435-a540-2c45d9bdbb21                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_cdde9cfd-a898-4911-b812-b6849f611549/86fa320c-aeb3-4435-a540-2c45d9bdbb21 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "7d259276-40ea-450b-9998-a5a3e0118eeb",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/7d259276-40ea-450b-9998-a5a3e0118eeb",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "cdde9cfd-a898-4911-b812-b6849f611549",                                                                                                                                  |
|                       |   "OS::stack_name": "port_cdde9cfd-a898-4911-b812-b6849f611549",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                        |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:2f:e8:a6",                                                                                                                    |
|                       |   "OS::stack_id": "86fa320c-aeb3-4435-a540-2c45d9bdbb21",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "3",                                                                                                                                                                  |
|                       |   "virtual_network": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "cdde9cfd-a898-4911-b812-b6849f611549"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_cdde9cfd-a898-4911-b812-b6849f611549                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:40:22Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_cdde9cfd-a898-4911-b812-b6849f611549
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 100.64.193.3
      name:
        str_replace:
          params:
            '%ip%': 100.64.193.3
            '%name%': {get_param: name}
            '%zone%': c8090497-34be-456b-9186-377e918f3d50
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 48f25db3-49e2-4bad-90d9-3fa333911d36
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show dea87c7b-b43f-4936-8e32-8995b038b3f8
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.3"} |
| id                    | dea87c7b-b43f-4936-8e32-8995b038b3f8                                                |
| mac_address           | fa:16:3e:99:1e:37                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 73b2c401-a1f3-49fb-8612-8c755b37a28d                                                |
| operational_state     | FAIL                                                                                |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | MONITORING_UNAVAILABLE                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/dea87c7b-b43f-4936-8e32-8995b038b3f8
[localhost] local: heat stack-show port_dea87c7b-b43f-4936-8e32-8995b038b3f8
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:40:03Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | 81b8054b-0897-4349-8fbb-6294526b01e3                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_dea87c7b-b43f-4936-8e32-8995b038b3f8/81b8054b-0897-4349-8fbb-6294526b01e3 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "6eea0aa6-879f-4bec-a9de-97cb607b75bf",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/6eea0aa6-879f-4bec-a9de-97cb607b75bf",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "dea87c7b-b43f-4936-8e32-8995b038b3f8",                                                                                                                                  |
|                       |   "OS::stack_name": "port_dea87c7b-b43f-4936-8e32-8995b038b3f8",                                                                                                                   |
|                       |   "admin_state_up": "False",                                                                                                                                                       |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:99:1e:37",                                                                                                                    |
|                       |   "OS::stack_id": "81b8054b-0897-4349-8fbb-6294526b01e3",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "3",                                                                                                                                                                  |
|                       |   "virtual_network": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "dea87c7b-b43f-4936-8e32-8995b038b3f8"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_dea87c7b-b43f-4936-8e32-8995b038b3f8                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:44:27Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_dea87c7b-b43f-4936-8e32-8995b038b3f8
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.232.3
      name:
        str_replace:
          params:
            '%ip%': 10.121.232.3
            '%name%': {get_param: name}
            '%zone%': 1244d619-cc55-4bb7-b181-606776ba5e88
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 6cac8ad5-636a-4b97-91e8-9dfc09559ed1
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show fd09eda4-10b1-4534-984a-7124c338c69d
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.4"} |
| id                    | fd09eda4-10b1-4534-984a-7124c338c69d                                                |
| mac_address           | fa:16:3e:8e:dd:05                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 73b2c401-a1f3-49fb-8612-8c755b37a28d                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/fd09eda4-10b1-4534-984a-7124c338c69d
[localhost] local: heat stack-show port_fd09eda4-10b1-4534-984a-7124c338c69d
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:40:03Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | c837547b-3ad0-4fc2-9142-175e3c5ab6f2                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_fd09eda4-10b1-4534-984a-7124c338c69d/c837547b-3ad0-4fc2-9142-175e3c5ab6f2 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "0c1b0232-9fff-46b1-9c5d-230345782739",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/0c1b0232-9fff-46b1-9c5d-230345782739",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "fd09eda4-10b1-4534-984a-7124c338c69d",                                                                                                                                  |
|                       |   "OS::stack_name": "port_fd09eda4-10b1-4534-984a-7124c338c69d",                                                                                                                   |
|                       |   "admin_state_up": "False",                                                                                                                                                       |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:8e:dd:05",                                                                                                                    |
|                       |   "OS::stack_id": "c837547b-3ad0-4fc2-9142-175e3c5ab6f2",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "3",                                                                                                                                                                  |
|                       |   "virtual_network": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "fd09eda4-10b1-4534-984a-7124c338c69d"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_fd09eda4-10b1-4534-984a-7124c338c69d                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:44:40Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_fd09eda4-10b1-4534-984a-7124c338c69d
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.232.4
      name:
        str_replace:
          params:
            '%ip%': 10.121.232.4
            '%name%': {get_param: name}
            '%zone%': 1244d619-cc55-4bb7-b181-606776ba5e88
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 6cac8ad5-636a-4b97-91e8-9dfc09559ed1
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

##########################################################
### Checking neutron port_list ( w/ dhcp-server-port ) ###
##########################################################
[localhost] local: neutron port-list | grep -v dhcp-server-port
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| id                                   | name                     | mac_address       | fixed_ips                                                                           |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| cdde9cfd-a898-4911-b812-b6849f611549 | firewall-management-port | fa:16:3e:2f:e8:a6 | {"subnet_id": "c8090497-34be-456b-9186-377e918f3d50", "ip_address": "100.64.193.3"} |
| dea87c7b-b43f-4936-8e32-8995b038b3f8 | firewall-user-port       | fa:16:3e:99:1e:37 | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.3"} |
| fd09eda4-10b1-4534-984a-7124c338c69d | firewall-user-port       | fa:16:3e:8e:dd:05 | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.4"} |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+

############################################
### checking heat-stack (vnf_instances) ####
############################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
[localhost] local: heat stack-show vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                      |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                         |
| creation_time         | 2018-02-12T07:40:05Z                                                                                                                                                                       |
| description           | VNF Instance                                                                                                                                                                               |
| disable_rollback      | True                                                                                                                                                                                       |
| id                    | 6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c                                                                                                                                                       |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb/6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c |
| notification_topics   | []                                                                                                                                                                                         |
| outputs               | [                                                                                                                                                                                          |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                                |
|                       |     "description": "A unique id for the nova server.",                                                                                                                                     |
|                       |     "output_key": "server_id"                                                                                                                                                              |
|                       |   },                                                                                                                                                                                       |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "4d5db024-8232-458d-bd72-7256fbceb446",                                                                                                                                |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                 |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                   |
|                       |   },                                                                                                                                                                                       |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "http://collector-agents-se:7070/targets/4d5db024-8232-458d-bd72-7256fbceb446",                                                                                        |
|                       |     "description": "Monitoring Process Link",                                                                                                                                              |
|                       |     "output_key": "monitoring_link"                                                                                                                                                        |
|                       |   }                                                                                                                                                                                        |
|                       | ]                                                                                                                                                                                          |
| parameters            | {                                                                                                                                                                                          |
|                       |   "user_data_format": "RAW",                                                                                                                                                               |
|                       |   "OS::stack_id": "6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c",                                                                                                                                  |
|                       |   "OS::stack_name": "vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",                                                                                                                   |
|                       |   "availability_zone": "nova",                                                                                                                                                             |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                         |
|                       |   "image": "vyatta-0108-2016",                                                                                                                                                             |
|                       |   "reboot": "",                                                                                                                                                                            |
|                       |   "user_data": "",                                                                                                                                                                         |
|                       |   "version": "1",                                                                                                                                                                          |
|                       |   "gohan_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",                                                                                                                                      |
|                       |   "flavor": "m1.large",                                                                                                                                                                    |
|                       |   "name": "firewall-8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                                 |
|                       |   "networks": "[{\"port\": \"cdde9cfd-a898-4911-b812-b6849f611549\"}, {\"port\": \"dea87c7b-b43f-4936-8e32-8995b038b3f8\"}, {\"port\": \"fd09eda4-10b1-4534-984a-7124c338c69d\"}]",        |
|                       |   "config_drive": "False"                                                                                                                                                                  |
|                       | }                                                                                                                                                                                          |
| parent                | None                                                                                                                                                                                       |
| stack_name            | vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                      |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                            |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                        |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                           |
| template_description  | VNF Instance                                                                                                                                                                               |
| timeout_mins          | 18                                                                                                                                                                                         |
| updated_time          | None                                                                                                                                                                                       |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
description: VNF Instance
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [server_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: server_monitor}
  server_id:
    description: A unique id for the nova server.
    value: {get_resource: server}
parameters:
  availability_zone: {default: '', type: string}
  config_drive: {type: boolean}
  flavor:
    constraints:
    - {custom_constraint: nova.flavor}
    type: string
  gohan_id: {description: UUID of the VNF Instance, label: Gohan resource ID, type: string}
  image:
    constraints:
    - {custom_constraint: glance.image}
    type: string
  name: {default: '', type: string}
  networks: {type: json}
  reboot: {default: '', type: string}
  tenant_id: {label: Tenant ID, type: string}
  user_data: {default: '', type: string}
  user_data_format: {type: string}
  version: {label: Config version, type: number}
resources:
  server:
    properties:
      availability_zone: {get_param: availability_zone}
      config_drive: {get_param: config_drive}
      flavor: {get_param: flavor}
      image: {get_param: image}
      name: {get_param: name}
      networks: {get_param: networks}
      reboot: {get_param: reboot}
      user_data: {get_param: user_data}
      user_data_format: {get_param: user_data_format}
    type: ESI::VNF::Instance
  server_monitor:
    depends_on: server
    properties:
      field_name: server
      properties:
        server_id: {get_resource: server}
      resource_id: {get_param: gohan_id}
      resource_type: vnf_instances
      syncer_properties:
        etcd:
          status: {key: server}
      tenant_id: {get_param: tenant_id}
      type: compute
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

[localhost] local: gohan client port list --output-format json
{
	"ports": [
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": false,
			"binding:vif_type": "vrouter",
			"description": "DHCP Server Port",
			"device_id": "c8090497-34be-456b-9186-377e918f3d50",
			"device_owner": "network:dhcp",
			"ese_logical_port_id": null,
			"fake_delete": false,
			"fixed_ips": [
				{
					"ip_address": "100.64.193.2",
					"subnet_id": "c8090497-34be-456b-9186-377e918f3d50"
				}
			],
			"id": "10de1073-2a60-4bbc-810b-642537ad19bf",
			"mac_address": "00:00:5e:00:01:00",
			"managed_by_service": false,
			"name": "dhcp-server-port",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"operational_state": "",
			"orchestration_state": "SYNC_COMPLETE",
			"security_groups": [],
			"segmentation_id": null,
			"segmentation_type": null,
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "100.64.193.3",
					"subnet_id": "c8090497-34be-456b-9186-377e918f3d50"
				}
			],
			"id": "cdde9cfd-a898-4911-b812-b6849f611549",
			"mac_address": "fa:16:3e:2f:e8:a6",
			"managed_by_service": false,
			"name": "firewall-management-port",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"operational_state": "FAIL",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "MONITORING_UNAVAILABLE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": false,
			"binding:vif_type": "vrouter",
			"description": "DHCP Server Port",
			"device_id": "1244d619-cc55-4bb7-b181-606776ba5e88",
			"device_owner": "network:dhcp",
			"ese_logical_port_id": null,
			"fake_delete": false,
			"fixed_ips": [
				{
					"ip_address": "10.121.232.2",
					"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
				}
			],
			"id": "db7b07e7-5fb8-4400-9a64-f3b1df8038f2",
			"mac_address": "00:00:5e:00:01:00",
			"managed_by_service": false,
			"name": "dhcp-server-port",
			"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"operational_state": "",
			"orchestration_state": "SYNC_COMPLETE",
			"security_groups": [],
			"segmentation_id": null,
			"segmentation_type": null,
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": false,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "10.121.232.3",
					"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
				}
			],
			"id": "dea87c7b-b43f-4936-8e32-8995b038b3f8",
			"mac_address": "fa:16:3e:99:1e:37",
			"managed_by_service": false,
			"name": "firewall-user-port",
			"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"operational_state": "FAIL",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "MONITORING_UNAVAILABLE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": false,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "10.121.232.4",
					"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
				}
			],
			"id": "fd09eda4-10b1-4534-984a-7124c338c69d",
			"mac_address": "fa:16:3e:8e:dd:05",
			"managed_by_service": false,
			"name": "firewall-user-port",
			"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"operational_state": "UP",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		}
	]
}

[localhost] local: gohan client vnf_interface list --output-format json
{
	"vnf_interfaces": [
		{
			"description": null,
			"id": "1e047117-2ca8-43dc-aa80-619b224bab4c",
			"ip_address": null,
			"name": "interface-2",
			"network_id": null,
			"port_id": "fd09eda4-10b1-4534-984a-7124c338c69d",
			"slot_number": 2,
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		},
		{
			"description": null,
			"id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6",
			"ip_address": null,
			"name": "interface-1",
			"network_id": null,
			"port_id": "dea87c7b-b43f-4936-8e32-8995b038b3f8",
			"slot_number": 1,
			"status": "MONITORING_UNAVAILABLE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		},
		{
			"description": null,
			"id": "c8fef8f8-a7a1-448f-ae76-81992e598016",
			"ip_address": "100.64.193.3",
			"name": "interface-0",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"port_id": "cdde9cfd-a898-4911-b812-b6849f611549",
			"slot_number": 0,
			"status": "MONITORING_UNAVAILABLE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "management",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		}
	]
}

[localhost] local: gohan client firewall_interface list --output-format json
{
	"firewall_interfaces": [
		{
			"description": null,
			"firewall_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"id": "1c351257-d185-40b7-b04a-6272de75d434",
			"ip_address": "100.64.193.3",
			"name": "dp0s3",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"operational_state": "UP",
			"orchestration_state": "CREATE_COMPLETE",
			"slot_number": 0,
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "management",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_interface_id": "c8fef8f8-a7a1-448f-ae76-81992e598016"
		},
		{
			"description": null,
			"firewall_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a",
			"ip_address": null,
			"name": "dp0s4",
			"network_id": null,
			"operational_state": "UP",
			"orchestration_state": "CREATE_COMPLETE",
			"slot_number": 1,
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_interface_id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6"
		},
		{
			"description": null,
			"firewall_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"id": "cdf30a48-8cf7-4935-9f8a-5b51f1177704",
			"ip_address": null,
			"name": "dp0s5",
			"network_id": null,
			"operational_state": "UP",
			"orchestration_state": "CREATE_COMPLETE",
			"slot_number": 2,
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_interface_id": "1e047117-2ca8-43dc-aa80-619b224bab4c"
		}
	]
}

[localhost] local: gohan client resource_mapping list --output-format json
Command not found

[localhost] local: gohan client billing_resource list --output-format json
{
	"billing_resources": [
		{
			"config_version": 1,
			"ended": null,
			"id": "04731679-7d83-4ded-b6a7-8064e9cbb655",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"resource_type": "network",
			"started": 1.518421169e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "3e5f3bcf-2af7-4b06-9092-afb0b3944a2f",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"resource_type": "network",
			"started": 1.518421185e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"resource_type": "firewall",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "b95d379f-4019-4396-8fdf-973d826db114",
			"info": {
				"plan_name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF"
			},
			"parent_billing_id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"resource_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
			"resource_type": "firewall_plan",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": null
		}
	]
}

### Create Network ###
name:[sample-fw-net], id:[82712b89-c35c-4276-83cb-818860d41f9e]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:46:43.047564  07:46:43.143193  0.095629        POST     201    PENDING_CREATE
07:46:43.143289  07:46:43.232363  0.089074         GET     200    PENDING_CREATE
07:46:44.233895  07:46:44.302331  0.068436         GET     200    PENDING_CREATE
07:46:45.302830  07:46:45.396407  0.093577         GET     200    PENDING_CREATE
07:46:46.398017  07:46:46.468441  0.070424         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.420877

[localhost] local: gohan client network show --output-format json 82712b89-c35c-4276-83cb-818860d41f9e
{
	"network": {
		"admin_state_up": true,
		"description": "firewall network",
		"id": "82712b89-c35c-4276-83cb-818860d41f9e",
		"name": "sample-fw-net",
		"orchestration_state": "CREATE_COMPLETE",
		"plane": "data",
		"shared": false,
		"status": "ACTIVE",
		"subnets": [],
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client resource_mapping list --output-format json
Command not found

[localhost] local: gohan client billing_resource list --output-format json
{
	"billing_resources": [
		{
			"config_version": 1,
			"ended": null,
			"id": "04731679-7d83-4ded-b6a7-8064e9cbb655",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"resource_type": "network",
			"started": 1.518421169e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "3e5f3bcf-2af7-4b06-9092-afb0b3944a2f",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"resource_type": "network",
			"started": 1.518421185e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"resource_type": "firewall",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "b67ba7c3-6946-42c1-bbbb-8779a54b40d6",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "82712b89-c35c-4276-83cb-818860d41f9e",
			"resource_type": "network",
			"started": 1.518421605e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "82712b89-c35c-4276-83cb-818860d41f9e"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "b95d379f-4019-4396-8fdf-973d826db114",
			"info": {
				"plan_name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF"
			},
			"parent_billing_id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"resource_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
			"resource_type": "firewall_plan",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": null
		}
	]
}

#######################################
### Checking neutron network_info  ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/82712b89-c35c-4276-83cb-818860d41f9e
[localhost] local: neutron net-show 82712b89-c35c-4276-83cb-818860d41f9e
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | firewall network                     |
| id                  | 82712b89-c35c-4276-83cb-818860d41f9e |
| name                | sample-fw-net                        |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             |                                      |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

#######################################
### checking heat-stack (networks) ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/82712b89-c35c-4276-83cb-818860d41f9e
[localhost] local: heat stack-show network_82712b89-c35c-4276-83cb-818860d41f9e
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                 |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                    |
| creation_time         | 2018-02-12T07:46:43Z                                                                                                                                                                  |
| description           | Network template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                  |
| id                    | 27193e91-451c-41ff-b722-6d3a49e6ac86                                                                                                                                                  |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/network_82712b89-c35c-4276-83cb-818860d41f9e/27193e91-451c-41ff-b722-6d3a49e6ac86 |
| notification_topics   | []                                                                                                                                                                                    |
| outputs               | [                                                                                                                                                                                     |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": [],                                                                                                                                                               |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "route_targets"                                                                                                                                                     |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "default-domain:usertenant:82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                 |
|                       |     "description": "The FQ name of the virtual network.",                                                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                                                           |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                           |
|                       |     "description": "A unique id for the virtual network.",                                                                                                                            |
|                       |     "output_key": "id"                                                                                                                                                                |
|                       |   },                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                   |
|                       |     "output_value": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                           |
|                       |     "description": "The name of the virtual network.",                                                                                                                                |
|                       |     "output_key": "name"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                   |
|                       | ]                                                                                                                                                                                     |
| parameters            | {                                                                                                                                                                                     |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                                                         |
|                       |   "allow_transit": "False",                                                                                                                                                           |
|                       |   "name": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                                     |
|                       |   "OS::stack_name": "network_82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                           |
|                       |   "OS::stack_id": "27193e91-451c-41ff-b722-6d3a49e6ac86",                                                                                                                             |
|                       |   "external": "True",                                                                                                                                                                 |
|                       |   "shared": "False",                                                                                                                                                                  |
|                       |   "route_targets": "",                                                                                                                                                                |
|                       |   "uuid": "82712b89-c35c-4276-83cb-818860d41f9e"                                                                                                                                      |
|                       | }                                                                                                                                                                                     |
| parent                | None                                                                                                                                                                                  |
| stack_name            | network_82712b89-c35c-4276-83cb-818860d41f9e                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                 |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                       |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                   |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                      |
| template_description  | Network template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                     |
| updated_time          | None                                                                                                                                                                                  |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_82712b89-c35c-4276-83cb-818860d41f9e
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr: [network, fq_name]
  id:
    description: A unique id for the virtual network.
    value: {get_resource: network}
  name:
    description: The name of the virtual network.
    value:
      get_attr: [network, name]
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr: [network, route_targets]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  allow_transit: {default: false, label: Allow Transit, type: boolean}
  external: {default: true, label: External Network, type: boolean}
  forwarding_mode: {default: l2_l3, description: Forwarding Mode., label: Forwarding
      Mode, type: string}
  name: {description: Name of the virtual network that will be created., label: Virtual
      Network Name, type: string}
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared: {default: false, label: Shared Network, type: boolean}
  uuid: {default: '', description: UUID of the virtual network that will be created.,
    label: Virtual Network UUID, type: string}
resources:
  network:
    properties:
      admin_state_up: {get_param: admin_state_up}
      forwarding_mode: {get_param: forwarding_mode}
      name: {get_param: name}
      route_targets: {get_param: route_targets}
      shared: {get_param: shared}
      uuid: {get_param: uuid}
    type: OS::Contrail::VirtualNetwork

### Create Subnet ###
name:[sample-fw-subnet], id:[a11785e2-0c2b-4131-9144-349155f958f5]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:46:51.305712  07:46:51.438731  0.133019        POST     201    PENDING_CREATE
07:46:51.438918  07:46:51.514282  0.075364         GET     200    PENDING_CREATE
07:46:52.515685  07:46:52.568849  0.053164         GET     200    PENDING_CREATE
07:46:53.570061  07:46:53.631304  0.061243         GET     200    PENDING_CREATE
07:46:54.633397  07:46:54.684971  0.051574         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.379259

[localhost] local: gohan client subnet show --output-format json a11785e2-0c2b-4131-9144-349155f958f5
{
	"subnet": {
		"allocation_pools": [
			{
				"end": "10.98.76.254",
				"start": "10.98.76.2"
			}
		],
		"cidr": "10.98.76.0/24",
		"description": "firewall subnet",
		"dhcp_server_address": "10.98.76.2",
		"dns_nameservers": [],
		"enable_dhcp": true,
		"gateway_ip": "10.98.76.1",
		"host_routes": [],
		"id": "a11785e2-0c2b-4131-9144-349155f958f5",
		"ip_version": 4,
		"ipv6_address_mode": null,
		"ipv6_ra_mode": null,
		"name": "sample-fw-subnet",
		"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
		"ntp_servers": [],
		"orchestration_state": "CREATE_COMPLETE",
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

[localhost] local: gohan client port list --output-format json
[localhost] local: gohan client port show --output-format json c18705d5-e40a-4bb7-94da-3dc9a93b32e5
{
	"port": {
		"admin_state_up": true,
		"allowed_address_pairs": [],
		"attached": false,
		"binding:vif_type": "vrouter",
		"description": "DHCP Server Port",
		"device_id": "a11785e2-0c2b-4131-9144-349155f958f5",
		"device_owner": "network:dhcp",
		"ese_logical_port_id": null,
		"fake_delete": false,
		"fixed_ips": [
			{
				"ip_address": "10.98.76.2",
				"subnet_id": "a11785e2-0c2b-4131-9144-349155f958f5"
			}
		],
		"id": "c18705d5-e40a-4bb7-94da-3dc9a93b32e5",
		"mac_address": "00:00:5e:00:01:00",
		"managed_by_service": false,
		"name": "dhcp-server-port",
		"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
		"operational_state": "",
		"orchestration_state": "SYNC_COMPLETE",
		"security_groups": [],
		"segmentation_id": null,
		"segmentation_type": null,
		"status": "ACTIVE",
		"tags": {},
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
	}
}

######################################
### Checking neutron network_info ####
######################################
[localhost] local: neutron net-show 82712b89-c35c-4276-83cb-818860d41f9e
+---------------------+--------------------------------------+
| Field               | Value                                |
+---------------------+--------------------------------------+
| admin_state_up      | True                                 |
| description         | firewall network                     |
| id                  | 82712b89-c35c-4276-83cb-818860d41f9e |
| name                | sample-fw-net                        |
| orchestration_state | CREATE_COMPLETE                      |
| plane               | data                                 |
| shared              | False                                |
| status              | ACTIVE                               |
| subnets             | a11785e2-0c2b-4131-9144-349155f958f5 |
| tags                | {}                                   |
| tenant_id           | 0f40dffa48614d9baa7eaac7e7532099     |
+---------------------+--------------------------------------+

######################################
### checking heat-stack (subnets) ####
######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/a11785e2-0c2b-4131-9144-349155f958f5
[localhost] local: heat stack-show subnet_a11785e2-0c2b-4131-9144-349155f958f5
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                   |
| creation_time         | 2018-02-12T07:46:51Z                                                                                                                                                                 |
| description           | Subnet template                                                                                                                                                                      |
| disable_rollback      | True                                                                                                                                                                                 |
| id                    | 65e1e296-ab1f-4c59-84f3-cfdad7af6e28                                                                                                                                                 |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/subnet_a11785e2-0c2b-4131-9144-349155f958f5/65e1e296-ab1f-4c59-84f3-cfdad7af6e28 |
| notification_topics   | []                                                                                                                                                                                   |
| outputs               | [                                                                                                                                                                                    |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "10.98.76.0/24",                                                                                                                                                 |
|                       |     "description": "IP prefix of local subnet.",                                                                                                                                     |
|                       |     "output_key": "ip_prefix"                                                                                                                                                        |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "a11785e2-0c2b-4131-9144-349155f958f5",                                                                                                                          |
|                       |     "description": "The name of the local subnet.",                                                                                                                                  |
|                       |     "output_key": "name"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "10.98.76.1",                                                                                                                                                    |
|                       |     "description": "Default gateway of local subnet.",                                                                                                                               |
|                       |     "output_key": "default_gateway"                                                                                                                                                  |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                          |
|                       |     "description": "A unique id for the network.",                                                                                                                                   |
|                       |     "output_key": "network_id"                                                                                                                                                       |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                                                          |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                                                   |
|                       |     "output_key": "ipam"                                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "38fd7f19-b60e-438b-b4cf-b367d315fa38",                                                                                                                          |
|                       |     "description": "A unique id for the local subnet.",                                                                                                                              |
|                       |     "output_key": "id"                                                                                                                                                               |
|                       |   }                                                                                                                                                                                  |
|                       | ]                                                                                                                                                                                    |
| parameters            | {                                                                                                                                                                                    |
|                       |   "OS::stack_name": "subnet_a11785e2-0c2b-4131-9144-349155f958f5",                                                                                                                   |
|                       |   "enable_dhcp": "True",                                                                                                                                                             |
|                       |   "network_id": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                              |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                                                     |
|                       |   "dns_nameservers": "",                                                                                                                                                             |
|                       |   "dhcp_server_address": "10.98.76.2",                                                                                                                                               |
|                       |   "OS::stack_id": "65e1e296-ab1f-4c59-84f3-cfdad7af6e28",                                                                                                                            |
|                       |   "ntp_servers": "",                                                                                                                                                                 |
|                       |   "allocation_pools": "[{u'start': u'10.98.76.2', u'end': u'10.98.76.254'}]",                                                                                                        |
|                       |   "gateway_ip": "10.98.76.1",                                                                                                                                                        |
|                       |   "host_routes": "[]",                                                                                                                                                               |
|                       |   "cidr": "10.98.76.0/24",                                                                                                                                                           |
|                       |   "name": "a11785e2-0c2b-4131-9144-349155f958f5"                                                                                                                                     |
|                       | }                                                                                                                                                                                    |
| parent                | None                                                                                                                                                                                 |
| stack_name            | subnet_a11785e2-0c2b-4131-9144-349155f958f5                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                  |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                     |
| template_description  | Subnet template                                                                                                                                                                      |
| timeout_mins          | 3                                                                                                                                                                                    |
| updated_time          | None                                                                                                                                                                                 |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_a11785e2-0c2b-4131-9144-349155f958f5
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr: [subnet, default_gateway]
  id:
    description: A unique id for the local subnet.
    value: {get_resource: subnet}
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr: [subnet, ip_prefix]
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr: [subnet, ipam]
  name:
    description: The name of the local subnet.
    value:
      get_attr: [subnet, name]
  network_id:
    description: A unique id for the network.
    value:
      get_attr: [subnet, network_id]
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr: {description: IP prefix of the local subnet that will be created., label: Local
      Subnet IP prefix, type: string}
  dhcp_server_address: {default: 0.0.0.0, description: DHCP Server address, label: DHCP
      Server address, type: string}
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp: {default: true, description: Enable DHCP, label: Enable DHCP, type: boolean}
  gateway_ip: {default: 0.0.0.0, description: Default gateway for the local subnet
      that will be created., label: Default Gateway, type: string}
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam: {default: '', description: IPAM for the local subnet that will be created.,
    label: IP Address Management, type: string}
  name: {description: Name of the local subnet that will be created., label: Local
      Subnet Name, type: string}
  network_id: {description: ID of the network for which subnet will be created., label: Network
      ID, type: string}
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools: {get_param: allocation_pools}
      default_gateway: {get_param: gateway_ip}
      dns_nameservers: {get_param: dns_nameservers}
      dns_server_address: {get_param: dhcp_server_address}
      enable_dhcp: {get_param: enable_dhcp}
      gateway_is_vrouter: false
      host_routes: {get_param: host_routes}
      ip_prefix: {get_param: cidr}
      ipam: {get_param: ipam}
      name: {get_param: name}
      network_id: {get_param: network_id}
      ntp_servers: {get_param: ntp_servers}
    type: OS::Contrail::VnSubnet

### Update Firewall Interface ###
name:[dp0s4 (attach)], id:[3543155d-0d9a-43a3-ae77-3479cf8a0e4a]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
07:46:59.026102  07:46:59.765458  0.739356         PUT     200    PENDING_UPDATE
07:46:59.765558  07:46:59.879727  0.114169         GET     200    PENDING_UPDATE
07:47:00.880150  07:47:00.934231  0.054081         GET     200    PENDING_UPDATE
07:47:01.934920  07:47:01.986434  0.051514         GET     200    PENDING_UPDATE
07:47:02.987636  07:47:03.043485  0.055849         GET     200    PENDING_UPDATE
07:47:04.044876  07:47:04.095435  0.050559         GET     200    PENDING_UPDATE
07:47:05.096609  07:47:05.149027  0.052418         GET     200    PENDING_UPDATE
07:47:06.150974  07:47:06.203383  0.052409         GET     200    PENDING_UPDATE
07:47:07.203519  07:47:07.275451  0.071932         GET     200    PENDING_UPDATE
07:47:08.275914  07:47:08.327262  0.051348         GET     200    PENDING_UPDATE
07:47:09.328760  07:47:09.379292  0.050532         GET     200    PENDING_UPDATE
07:47:10.380362  07:47:10.434826  0.054464         GET     200    PENDING_UPDATE
07:47:11.436090  07:47:11.499331  0.063241         GET     200    PENDING_UPDATE
07:47:12.500612  07:47:12.671253  0.170641         GET     200    PENDING_UPDATE
07:47:13.672641  07:47:13.738253  0.065612         GET     200    PENDING_UPDATE
07:47:14.739529  07:47:14.792727  0.053198         GET     200    PENDING_UPDATE
07:47:15.793278  07:47:15.846528  0.053250         GET     200    PENDING_UPDATE
07:47:16.846996  07:47:16.901967  0.054971         GET     200    PENDING_UPDATE
07:47:17.903339  07:47:17.960327  0.056988         GET     200    PENDING_UPDATE
07:47:18.961337  07:47:19.015063  0.053726         GET     200    PENDING_UPDATE
07:47:20.016723  07:47:20.070698  0.053975         GET     200    PENDING_UPDATE
07:47:21.072043  07:47:21.132666  0.060623         GET     200    PENDING_UPDATE
07:47:22.135077  07:47:22.187571  0.052494         GET     200    PENDING_UPDATE
07:47:23.188915  07:47:23.241179  0.052264         GET     200    PENDING_UPDATE
07:47:24.241537  07:47:24.290021  0.048484         GET     200    PENDING_UPDATE
07:47:25.291484  07:47:25.349510  0.058026         GET     200    PENDING_UPDATE
07:47:26.351102  07:47:26.404084  0.052982         GET     200    PENDING_UPDATE
07:47:27.405505  07:47:27.454844  0.049339         GET     200    PENDING_UPDATE
07:47:28.456356  07:47:28.504014  0.047658         GET     200    PENDING_UPDATE
07:47:29.505577  07:47:29.560883  0.055306         GET     200    PENDING_UPDATE
07:47:30.562176  07:47:30.613495  0.051319         GET     200    PENDING_UPDATE
07:47:31.615224  07:47:31.668185  0.052961         GET     200    PENDING_UPDATE
07:47:32.669609  07:47:32.726650  0.057041         GET     200    PENDING_UPDATE
07:47:33.726852  07:47:33.776384  0.049532         GET     200    PENDING_UPDATE
07:47:34.776598  07:47:34.832279  0.055681         GET     200    PENDING_UPDATE
07:47:35.833596  07:47:35.895690  0.062094         GET     200    PENDING_UPDATE
07:47:36.897421  07:47:36.954276  0.056855         GET     200    PENDING_UPDATE
07:47:37.955537  07:47:38.010481  0.054944         GET     200    PENDING_UPDATE
07:47:39.012208  07:47:39.106637  0.094429         GET     200    PENDING_UPDATE
07:47:40.108132  07:47:40.164218  0.056086         GET     200    PENDING_UPDATE
07:47:41.165292  07:47:41.217977  0.052685         GET     200    PENDING_UPDATE
07:47:42.219198  07:47:42.271331  0.052133         GET     200    PENDING_UPDATE
07:47:43.272999  07:47:43.324928  0.051929         GET     200    PENDING_UPDATE
07:47:44.326115  07:47:44.376179  0.050064         GET     200    PENDING_UPDATE
07:47:45.376498  07:47:45.434200  0.057702         GET     200    PENDING_UPDATE
07:47:46.435818  07:47:46.485356  0.049538         GET     200    PENDING_UPDATE
07:47:47.487190  07:47:47.546989  0.059799         GET     200    PENDING_UPDATE
07:47:48.548701  07:47:48.600858  0.052157         GET     200    PENDING_UPDATE
07:47:49.601774  07:47:49.654716  0.052942         GET     200    PENDING_UPDATE
07:47:50.654990  07:47:50.709135  0.054145         GET     200    PENDING_UPDATE
07:47:51.710410  07:47:51.759771  0.049361         GET     200    PENDING_UPDATE
07:47:52.760625  07:47:52.813794  0.053169         GET     200    PENDING_UPDATE
07:47:53.815095  07:47:53.867137  0.052042         GET     200    PENDING_UPDATE
07:47:54.867379  07:47:54.929969  0.062590         GET     200    PENDING_UPDATE
07:47:55.931724  07:47:55.981133  0.049409         GET     200    PENDING_UPDATE
07:47:56.982545  07:47:57.034035  0.051490         GET     200    PENDING_UPDATE
07:47:58.034400  07:47:58.086613  0.052213         GET     200    PENDING_UPDATE
07:47:59.088371  07:47:59.154236  0.065865         GET     200    PENDING_UPDATE
07:48:00.154609  07:48:00.208224  0.053615         GET     200    PENDING_UPDATE
07:48:01.208673  07:48:01.263688  0.055015         GET     200    PENDING_UPDATE
07:48:02.264544  07:48:02.321302  0.056758         GET     200    PENDING_UPDATE
07:48:03.322516  07:48:03.374904  0.052388         GET     200    PENDING_UPDATE
07:48:04.376168  07:48:04.425092  0.048924         GET     200    PENDING_UPDATE
07:48:05.426227  07:48:05.477828  0.051601         GET     200    PENDING_UPDATE
07:48:06.479417  07:48:06.531589  0.052172         GET     200    PENDING_UPDATE
07:48:07.533273  07:48:07.584153  0.050880         GET     200    PENDING_UPDATE
07:48:08.585984  07:48:08.637539  0.051555         GET     200    PENDING_UPDATE
07:48:09.640060  07:48:09.693546  0.053486         GET     200    PENDING_UPDATE
07:48:10.694827  07:48:10.747491  0.052664         GET     200    PENDING_UPDATE
07:48:11.748471  07:48:11.798522  0.050051         GET     200    PENDING_UPDATE
07:48:12.800975  07:48:12.850522  0.049547         GET     200    PENDING_UPDATE
07:48:13.851997  07:48:13.901354  0.049357         GET     200    PENDING_UPDATE
07:48:14.902953  07:48:14.955132  0.052179         GET     200    PENDING_UPDATE
07:48:15.956616  07:48:16.003606  0.046990         GET     200    PENDING_UPDATE
07:48:17.005238  07:48:17.056187  0.050949         GET     200    PENDING_UPDATE
07:48:18.057873  07:48:18.108752  0.050879         GET     200    PENDING_UPDATE
07:48:19.109928  07:48:19.160042  0.050114         GET     200    PENDING_UPDATE
07:48:20.161301  07:48:20.211979  0.050678         GET     200    PENDING_UPDATE
07:48:21.213277  07:48:21.262344  0.049067         GET     200    PENDING_UPDATE
07:48:22.263253  07:48:22.357312  0.094059         GET     200    PENDING_UPDATE
07:48:23.358901  07:48:23.409677  0.050776         GET     200    PENDING_UPDATE
07:48:24.411578  07:48:24.465734  0.054156         GET     200    PENDING_UPDATE
07:48:25.466796  07:48:25.521974  0.055178         GET     200    PENDING_UPDATE
07:48:26.522849  07:48:26.588219  0.065370         GET     200    PENDING_UPDATE
07:48:27.589449  07:48:27.651221  0.061772         GET     200    PENDING_UPDATE
07:48:28.654100  07:48:28.710995  0.056895         GET     200    PENDING_UPDATE
07:48:29.712800  07:48:29.769571  0.056771         GET     200    PENDING_UPDATE
07:48:30.770785  07:48:30.824996  0.054211         GET     200    PENDING_UPDATE
07:48:31.825762  07:48:31.875908  0.050146         GET     200    PENDING_UPDATE
07:48:32.876576  07:48:32.928327  0.051751         GET     200    PENDING_UPDATE
07:48:33.929525  07:48:33.979804  0.050279         GET     200    PENDING_UPDATE
07:48:34.981094  07:48:35.029132  0.048038         GET     200    PENDING_UPDATE
07:48:36.029789  07:48:36.079130  0.049341         GET     200    PENDING_UPDATE
07:48:37.079828  07:48:37.138885  0.059057         GET     200    PENDING_UPDATE
07:48:38.139586  07:48:38.187684  0.048098         GET     200    PENDING_UPDATE
07:48:39.188284  07:48:39.248524  0.060240         GET     200    PENDING_UPDATE
07:48:40.250036  07:48:40.304443  0.054407         GET     200    PENDING_UPDATE
07:48:41.306029  07:48:41.359261  0.053232         GET     200    PENDING_UPDATE
07:48:42.360442  07:48:42.432877  0.072435         GET     200    PENDING_UPDATE
07:48:43.433313  07:48:43.482873  0.049560         GET     200    PENDING_UPDATE
07:48:44.484371  07:48:44.535323  0.050952         GET     200    PENDING_UPDATE
07:48:45.536985  07:48:45.593046  0.056061         GET     200    PENDING_UPDATE
07:48:46.594070  07:48:46.643299  0.049229         GET     200    PENDING_UPDATE
07:48:47.644462  07:48:47.692989  0.048527         GET     200    PENDING_UPDATE
07:48:48.694206  07:48:48.747912  0.053706         GET     200    PENDING_UPDATE
07:48:49.749537  07:48:49.814413  0.064876         GET     200    PENDING_UPDATE
07:48:50.814869  07:48:50.867654  0.052785         GET     200    PENDING_UPDATE
07:48:51.867920  07:48:51.919971  0.052051         GET     200    PENDING_UPDATE
07:48:52.921103  07:48:53.005942  0.084839         GET     200    PENDING_UPDATE
07:48:54.008444  07:48:54.059706  0.051262         GET     200    PENDING_UPDATE
07:48:55.060356  07:48:55.123439  0.063083         GET     200    PENDING_UPDATE
07:48:56.124291  07:48:56.177341  0.053050         GET     200    PENDING_UPDATE
07:48:57.178951  07:48:57.233481  0.054530         GET     200    PENDING_UPDATE
07:48:58.234358  07:48:58.286714  0.052356         GET     200    PENDING_UPDATE
07:48:59.287890  07:48:59.344635  0.056745         GET     200    PENDING_UPDATE
07:49:00.346366  07:49:00.400884  0.054518         GET     200    PENDING_UPDATE
07:49:01.402106  07:49:01.457009  0.054903         GET     200    PENDING_UPDATE
07:49:02.458996  07:49:02.509825  0.050829         GET     200    PENDING_UPDATE
07:49:03.511303  07:49:03.690280  0.178977         GET     200    PENDING_UPDATE
07:49:04.691705  07:49:04.743091  0.051386         GET     200    PENDING_UPDATE
07:49:05.743446  07:49:05.796516  0.053070         GET     200    PENDING_UPDATE
07:49:06.798307  07:49:06.852413  0.054106         GET     200    PENDING_UPDATE
07:49:07.853583  07:49:07.943511  0.089928         GET     200    PENDING_UPDATE
07:49:08.945107  07:49:08.999221  0.054114         GET     200    PENDING_UPDATE
07:49:10.000222  07:49:10.050812  0.050590         GET     200    PENDING_UPDATE
07:49:11.052269  07:49:11.106029  0.053760         GET     200    PENDING_UPDATE
07:49:12.106706  07:49:12.161030  0.054324         GET     200    PENDING_UPDATE
07:49:13.161740  07:49:13.232625  0.070885         GET     200    PENDING_UPDATE
07:49:14.234078  07:49:14.289166  0.055088         GET     200    PENDING_UPDATE
07:49:15.290568  07:49:15.344933  0.054365         GET     200    PENDING_UPDATE
07:49:16.346830  07:49:16.401719  0.054889         GET     200    PENDING_UPDATE
07:49:17.402150  07:49:17.460827  0.058677         GET     200    PENDING_UPDATE
07:49:18.462096  07:49:18.516705  0.054609         GET     200    PENDING_UPDATE
07:49:19.517904  07:49:19.573594  0.055690         GET     200    PENDING_UPDATE
07:49:20.574850  07:49:20.627293  0.052443         GET     200    PENDING_UPDATE
07:49:21.628939  07:49:21.677816  0.048877         GET     200    PENDING_UPDATE
07:49:22.679282  07:49:22.732169  0.052887         GET     200    PENDING_UPDATE
07:49:23.733269  07:49:23.785816  0.052547         GET     200    PENDING_UPDATE
07:49:24.787761  07:49:24.839860  0.052099         GET     200    PENDING_UPDATE
07:49:25.841061  07:49:25.902362  0.061301         GET     200    PENDING_UPDATE
07:49:26.903064  07:49:26.956399  0.053335         GET     200    PENDING_UPDATE
07:49:27.957800  07:49:28.019744  0.061944         GET     200    PENDING_UPDATE
07:49:29.020550  07:49:29.071798  0.051248         GET     200    PENDING_UPDATE
07:49:30.072830  07:49:30.124985  0.052155         GET     200    PENDING_UPDATE
07:49:31.125614  07:49:31.172774  0.047160         GET     200    PENDING_UPDATE
07:49:32.173922  07:49:32.228141  0.054219         GET     200    PENDING_UPDATE
07:49:33.228555  07:49:33.276197  0.047642         GET     200    PENDING_UPDATE
07:49:34.276565  07:49:34.327796  0.051231         GET     200    PENDING_UPDATE
07:49:35.328130  07:49:35.415196  0.087066         GET     200    PENDING_UPDATE
07:49:36.416925  07:49:36.469484  0.052559         GET     200    PENDING_UPDATE
07:49:37.470712  07:49:37.522877  0.052165         GET     200    PENDING_UPDATE
07:49:38.524316  07:49:38.570195  0.045879         GET     200    PENDING_UPDATE
07:49:39.571566  07:49:39.623196  0.051630         GET     200    PENDING_UPDATE
07:49:40.624812  07:49:40.676412  0.051600         GET     200    PENDING_UPDATE
07:49:41.676586  07:49:41.727523  0.050937         GET     200    PENDING_UPDATE
07:49:42.729030  07:49:42.780006  0.050976         GET     200    PENDING_UPDATE
07:49:43.781522  07:49:43.832601  0.051079         GET     200    PENDING_UPDATE
07:49:44.833046  07:49:44.881273  0.048227         GET     200    PENDING_UPDATE
07:49:45.882970  07:49:45.936007  0.053037         GET     200    PENDING_UPDATE
07:49:46.937970  07:49:46.990147  0.052177         GET     200    PENDING_UPDATE
07:49:47.992175  07:49:48.042892  0.050717         GET     200    PENDING_UPDATE
07:49:49.044435  07:49:49.101928  0.057493         GET     200    PENDING_UPDATE
07:49:50.103087  07:49:50.155365  0.052278         GET     200    PENDING_UPDATE
07:49:51.157204  07:49:51.210023  0.052819         GET     200    PENDING_UPDATE
07:49:52.211848  07:49:52.262480  0.050632         GET     200    PENDING_UPDATE
07:49:53.263895  07:49:53.328713  0.064818         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 174.302611

[localhost] local: gohan client vnf_instance list --output-format json
#######################################
### Checking gohan firewall_interface #
#######################################
[localhost] local: gohan client firewall_interface show --output-format json 3543155d-0d9a-43a3-ae77-3479cf8a0e4a
{
	"firewall_interface": {
		"description": null,
		"firewall_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
		"id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a",
		"ip_address": "10.98.76.3",
		"name": "dp0s4",
		"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
		"operational_state": "UP",
		"orchestration_state": "UPDATE_COMPLETE",
		"slot_number": 1,
		"status": "ACTIVE",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"type": "user",
		"virtual_ip_address": null,
		"virtual_ip_properties": null,
		"vnf_interface_id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6"
	}
}

#######################################
### Checking gohan vnf_instance_info ##
#######################################
[localhost] local: gohan client vnf_instance show --output-format json 44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
{
	"vnf_instance": {
		"availability_zone": "nova",
		"config_drive": false,
		"description": null,
		"id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",
		"management_ip": "100.64.193.3",
		"name": "firewall-8e4c20be-d221-43f4-8325-0162c1f06166",
		"networks": [
			{
				"port": "cdde9cfd-a898-4911-b812-b6849f611549"
			},
			{
				"port": "472879c4-4611-4762-a069-293e0081bcbf"
			},
			{
				"port": "fd09eda4-10b1-4534-984a-7124c338c69d"
			}
		],
		"operational_state": "UP",
		"orchestration_state": "UPDATE_COMPLETE",
		"owner_tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"reboot": "",
		"status": "ACTIVE",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"user_data": "",
		"user_data_format": "RAW",
		"user_data_parameters": {},
		"vnf_plan_id": "60791395-2267-4553-b115-a38fad3ebf69",
		"vnf_template_id": "5a84974a-9d8b-4887-898b-8e3c095e744d"
	}
}

#######################################
### Checking nova instance_info      ##
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0//vnf_instances/44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
[localhost] local: nova show 2e555b09-e0d7-4cce-8854-c481a2363917
+--------------------------------------+----------------------------------------------------------+
| Property                             | Value                                                    |
+--------------------------------------+----------------------------------------------------------+
| OS-DCF:diskConfig                    | MANUAL                                                   |
| OS-EXT-AZ:availability_zone          | nova                                                     |
| OS-EXT-SRV-ATTR:host                 | nova-server                                              |
| OS-EXT-SRV-ATTR:hypervisor_hostname  | nova-server                                              |
| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |
| OS-EXT-STS:power_state               | 1                                                        |
| OS-EXT-STS:task_state                | -                                                        |
| OS-EXT-STS:vm_state                  | active                                                   |
| OS-SRV-USG:launched_at               | 2018-02-12T07:40:10.000000                               |
| OS-SRV-USG:terminated_at             | -                                                        |
| accessIPv4                           |                                                          |
| accessIPv6                           |                                                          |
| adminpod-net network                 | 100.64.193.3                                             |
| config_drive                         |                                                          |
| created                              | 2018-02-12T07:40:09Z                                     |
| dummy-net network                    | 10.121.232.4                                             |
| flavor                               | m1.large (4)                                             |
| hostId                               | a1ada0b7af73f0f3e44a99d3a558afdaf2caf52e3fb9910565b4d755 |
| id                                   | 2e555b09-e0d7-4cce-8854-c481a2363917                     |
| image                                | vyatta-0108-2016 (b2cb95f5-1f08-42ae-a1d2-d18b5da04f0c)  |
| key_name                             | -                                                        |
| metadata                             | {}                                                       |
| name                                 | firewall-8e4c20be-d221-43f4-8325-0162c1f06166            |
| os-extended-volumes:volumes_attached | []                                                       |
| progress                             | 0                                                        |
| sample-fw-net network                | 10.98.76.3                                               |
| security_groups                      | default                                                  |
| status                               | ACTIVE                                                   |
| tenant_id                            | 0f40dffa48614d9baa7eaac7e7532099                         |
| updated                              | 2018-02-12T07:48:53Z                                     |
| user_id                              | 0c7ba6a7a9624837929c5953b2a54c93                         |
+--------------------------------------+----------------------------------------------------------+

#######################################
### Checking nova interface_list     ##
#######################################
[localhost] local: nova interface-list 2e555b09-e0d7-4cce-8854-c481a2363917
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| Port State             | Port ID                              | Net ID                               | IP addresses | MAC Addr          |
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| MONITORING_UNAVAILABLE | 472879c4-4611-4762-a069-293e0081bcbf | 82712b89-c35c-4276-83cb-818860d41f9e | 10.98.76.3   | fa:16:3e:f0:f2:72 |
| MONITORING_UNAVAILABLE | cdde9cfd-a898-4911-b812-b6849f611549 | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554 | 100.64.193.3 | fa:16:3e:2f:e8:a6 |
| ACTIVE                 | fd09eda4-10b1-4534-984a-7124c338c69d | 73b2c401-a1f3-49fb-8612-8c755b37a28d | 10.121.232.4 | fa:16:3e:8e:dd:05 |
+------------------------+--------------------------------------+--------------------------------------+--------------+-------------------+

########################################################
### Checking neutron port_list ( w/ dhcp-server-port ) #
########################################################
[localhost] local: neutron port-list | grep -v dhcp-server-port
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| id                                   | name                     | mac_address       | fixed_ips                                                                           |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| 472879c4-4611-4762-a069-293e0081bcbf | firewall-user-port       | fa:16:3e:f0:f2:72 | {"subnet_id": "a11785e2-0c2b-4131-9144-349155f958f5", "ip_address": "10.98.76.3"}   |
| cdde9cfd-a898-4911-b812-b6849f611549 | firewall-management-port | fa:16:3e:2f:e8:a6 | {"subnet_id": "c8090497-34be-456b-9186-377e918f3d50", "ip_address": "100.64.193.3"} |
| fd09eda4-10b1-4534-984a-7124c338c69d | firewall-user-port       | fa:16:3e:8e:dd:05 | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.4"} |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+

[localhost] local: gohan client port list --output-format json
########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show 472879c4-4611-4762-a069-293e0081bcbf
+-----------------------+-----------------------------------------------------------------------------------+
| Field                 | Value                                                                             |
+-----------------------+-----------------------------------------------------------------------------------+
| admin_state_up        | True                                                                              |
| allowed_address_pairs |                                                                                   |
| attached              | True                                                                              |
| binding:vif_type      | vrouter                                                                           |
| description           |                                                                                   |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                              |
| device_owner          | compute:nova                                                                      |
| ese_logical_port_id   |                                                                                   |
| fake_delete           | True                                                                              |
| fixed_ips             | {"subnet_id": "a11785e2-0c2b-4131-9144-349155f958f5", "ip_address": "10.98.76.3"} |
| id                    | 472879c4-4611-4762-a069-293e0081bcbf                                              |
| mac_address           | fa:16:3e:f0:f2:72                                                                 |
| managed_by_service    | False                                                                             |
| name                  | firewall-user-port                                                                |
| network_id            | 82712b89-c35c-4276-83cb-818860d41f9e                                              |
| operational_state     | FAIL                                                                              |
| orchestration_state   | UPDATE_COMPLETE                                                                   |
| security_groups       |                                                                                   |
| segmentation_id       | 0                                                                                 |
| segmentation_type     | flat                                                                              |
| status                | MONITORING_UNAVAILABLE                                                            |
| tags                  | {}                                                                                |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                  |
+-----------------------+-----------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/472879c4-4611-4762-a069-293e0081bcbf
[localhost] local: heat stack-show port_472879c4-4611-4762-a069-293e0081bcbf
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:47:00Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | b9876a57-61fd-42ae-acc8-34e866a42df3                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_472879c4-4611-4762-a069-293e0081bcbf/b9876a57-61fd-42ae-acc8-34e866a42df3 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "7d227407-399b-4404-9178-f9322665bb38",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/7d227407-399b-4404-9178-f9322665bb38",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "472879c4-4611-4762-a069-293e0081bcbf",                                                                                                                                  |
|                       |   "OS::stack_name": "port_472879c4-4611-4762-a069-293e0081bcbf",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                        |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:f0:f2:72",                                                                                                                    |
|                       |   "OS::stack_id": "b9876a57-61fd-42ae-acc8-34e866a42df3",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "3",                                                                                                                                                                  |
|                       |   "virtual_network": "82712b89-c35c-4276-83cb-818860d41f9e",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "472879c4-4611-4762-a069-293e0081bcbf"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_472879c4-4611-4762-a069-293e0081bcbf                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:48:37Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_472879c4-4611-4762-a069-293e0081bcbf
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 10.98.76.3
      name:
        str_replace:
          params:
            '%ip%': 10.98.76.3
            '%name%': {get_param: name}
            '%zone%': a11785e2-0c2b-4131-9144-349155f958f5
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 38fd7f19-b60e-438b-b4cf-b367d315fa38
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show cdde9cfd-a898-4911-b812-b6849f611549
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | True                                                                                |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "c8090497-34be-456b-9186-377e918f3d50", "ip_address": "100.64.193.3"} |
| id                    | cdde9cfd-a898-4911-b812-b6849f611549                                                |
| mac_address           | fa:16:3e:2f:e8:a6                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-management-port                                                            |
| network_id            | 75c2c3ec-7fe7-494c-a35c-db3f94d3a554                                                |
| operational_state     | FAIL                                                                                |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | MONITORING_UNAVAILABLE                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/cdde9cfd-a898-4911-b812-b6849f611549
[localhost] local: heat stack-show port_cdde9cfd-a898-4911-b812-b6849f611549
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:40:03Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | 86fa320c-aeb3-4435-a540-2c45d9bdbb21                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_cdde9cfd-a898-4911-b812-b6849f611549/86fa320c-aeb3-4435-a540-2c45d9bdbb21 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "7d259276-40ea-450b-9998-a5a3e0118eeb",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/7d259276-40ea-450b-9998-a5a3e0118eeb",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "cdde9cfd-a898-4911-b812-b6849f611549",                                                                                                                                  |
|                       |   "OS::stack_name": "port_cdde9cfd-a898-4911-b812-b6849f611549",                                                                                                                   |
|                       |   "admin_state_up": "True",                                                                                                                                                        |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:2f:e8:a6",                                                                                                                    |
|                       |   "OS::stack_id": "86fa320c-aeb3-4435-a540-2c45d9bdbb21",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "3",                                                                                                                                                                  |
|                       |   "virtual_network": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "cdde9cfd-a898-4911-b812-b6849f611549"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_cdde9cfd-a898-4911-b812-b6849f611549                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:40:22Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_cdde9cfd-a898-4911-b812-b6849f611549
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 100.64.193.3
      name:
        str_replace:
          params:
            '%ip%': 100.64.193.3
            '%name%': {get_param: name}
            '%zone%': c8090497-34be-456b-9186-377e918f3d50
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 48f25db3-49e2-4bad-90d9-3fa333911d36
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

########################################################
### Checking neutron port_info                      ####
########################################################
[localhost] local: neutron port-show fd09eda4-10b1-4534-984a-7124c338c69d
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | 2e555b09-e0d7-4cce-8854-c481a2363917                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88", "ip_address": "10.121.232.4"} |
| id                    | fd09eda4-10b1-4534-984a-7124c338c69d                                                |
| mac_address           | fa:16:3e:8e:dd:05                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 73b2c401-a1f3-49fb-8612-8c755b37a28d                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | 0f40dffa48614d9baa7eaac7e7532099                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

########################################################
### checking heat-stack (ports) for UPDATE_COMPLETE ####
########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/fd09eda4-10b1-4534-984a-7124c338c69d
[localhost] local: heat stack-show port_fd09eda4-10b1-4534-984a-7124c338c69d
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                              |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                 |
| creation_time         | 2018-02-12T07:40:03Z                                                                                                                                                               |
| description           | Virtual Machine Interface Template                                                                                                                                                 |
| disable_rollback      | True                                                                                                                                                                               |
| id                    | c837547b-3ad0-4fc2-9142-175e3c5ab6f2                                                                                                                                               |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/port_fd09eda4-10b1-4534-984a-7124c338c69d/c837547b-3ad0-4fc2-9142-175e3c5ab6f2 |
| notification_topics   | []                                                                                                                                                                                 |
| outputs               | [                                                                                                                                                                                  |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                   |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                                                              |
|                       |     "output_key": "fq_name"                                                                                                                                                        |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": {                                                                                                                                                              |
|                       |       "allowed_address_pair": []                                                                                                                                                   |
|                       |     },                                                                                                                                                                             |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                                                       |
|                       |     "output_key": "allowed_address_pairs"                                                                                                                                          |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "5f48c519-aee6-4aaa-8188-009763a5b95e",                                                                                                                        |
|                       |     "description": "Monitoring Target ID",                                                                                                                                         |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                           |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                                                          |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual machine interface mac address.",                                                                                                                       |
|                       |     "output_key": "mac_address"                                                                                                                                                    |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": [                                                                                                                                                              |
|                       |       [                                                                                                                                                                            |
|                       |         "default-domain",                                                                                                                                                          |
|                       |         "admin",                                                                                                                                                                   |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                                                     |
|                       |       ]                                                                                                                                                                            |
|                       |     ],                                                                                                                                                                             |
|                       |     "description": "Virtual network.",                                                                                                                                             |
|                       |     "output_key": "virtual_network"                                                                                                                                                |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                                                        |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                                                               |
|                       |     "output_key": "id"                                                                                                                                                             |
|                       |   },                                                                                                                                                                               |
|                       |   {                                                                                                                                                                                |
|                       |     "output_value": "http://collector-agents-se:7070/targets/5f48c519-aee6-4aaa-8188-009763a5b95e",                                                                                |
|                       |     "description": "Monitoring Process Link",                                                                                                                                      |
|                       |     "output_key": "monitoring_link"                                                                                                                                                |
|                       |   }                                                                                                                                                                                |
|                       | ]                                                                                                                                                                                  |
| parameters            | {                                                                                                                                                                                  |
|                       |   "virtual_machine": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                       |
|                       |   "uuid": "fd09eda4-10b1-4534-984a-7124c338c69d",                                                                                                                                  |
|                       |   "OS::stack_name": "port_fd09eda4-10b1-4534-984a-7124c338c69d",                                                                                                                   |
|                       |   "admin_state_up": "False",                                                                                                                                                       |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                 |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                                                       |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:8e:dd:05",                                                                                                                    |
|                       |   "OS::stack_id": "c837547b-3ad0-4fc2-9142-175e3c5ab6f2",                                                                                                                          |
|                       |   "device_owner": "compute:nova",                                                                                                                                                  |
|                       |   "version": "6",                                                                                                                                                                  |
|                       |   "virtual_network": "73b2c401-a1f3-49fb-8612-8c755b37a28d",                                                                                                                       |
|                       |   "security_groups": "[]",                                                                                                                                                         |
|                       |   "name": "fd09eda4-10b1-4534-984a-7124c338c69d"                                                                                                                                   |
|                       | }                                                                                                                                                                                  |
| parent                | None                                                                                                                                                                               |
| stack_name            | port_fd09eda4-10b1-4534-984a-7124c338c69d                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                              |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                    |
| stack_status_reason   | Stack successfully updated                                                                                                                                                         |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                   |
| template_description  | Virtual Machine Interface Template                                                                                                                                                 |
| timeout_mins          | 13                                                                                                                                                                                 |
| updated_time          | 2018-02-12T07:48:50Z                                                                                                                                                               |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_fd09eda4-10b1-4534-984a-7124c338c69d
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs]
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr: [virtual_machine_interface, fq_name]
  id:
    description: A unique id for the virtual machine interface.
    value: {get_resource: virtual_machine_interface}
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses]
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [vmi_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: vmi_monitor}
  virtual_network:
    description: Virtual network.
    value:
      get_attr: [virtual_machine_interface, virtual_networks]
parameters:
  admin_state_up: {default: true, label: Admin state up, type: boolean}
  device_owner: {default: '', label: Device Owner, type: string}
  name: {description: A unique id for the Physical Interface., label: Physical Interface
      ID, type: string}
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id: {label: Tenant ID, type: string}
  uuid: {description: A unique id for the Virtual Machine Interface., label: Backend
      Virtual Machine Interface UUID, type: string}
  version: {label: Config version, type: number}
  virtual_machine: {default: '', label: Virtual Machine., type: string}
  virtual_machine_interface_allowed_address_pairs: {label: Virtual machine interface
      allowed address pairs., type: json}
  virtual_machine_interface_mac_address: {default: 'fe:ff:ff:ff:ff:ff', label: Virtual
      machine interface mac address., type: string}
  virtual_network: {label: Virtual Network., type: string}
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.232.4
      name:
        str_replace:
          params:
            '%ip%': 10.121.232.4
            '%name%': {get_param: name}
            '%zone%': 1244d619-cc55-4bb7-b181-606776ba5e88
          template: '%name%_%zone%_%ip%'
      network_id: {get_param: virtual_network}
      subnet_id: 6cac8ad5-636a-4b97-91e8-9dfc09559ed1
      virtual_machine_interfaces:
      - {get_resource: virtual_machine_interface}
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up: {get_param: admin_state_up}
      device_owner: {get_param: device_owner}
      name: {get_param: name}
      security_groups: {get_param: security_groups}
      uuid: {get_param: uuid}
      virtual_machine: {get_param: virtual_machine}
      virtual_machine_interface_allowed_address_pairs: {get_param: virtual_machine_interface_allowed_address_pairs}
      virtual_machine_interface_mac_addresses:
      - {get_param: virtual_machine_interface_mac_address}
      virtual_networks:
      - {get_param: virtual_network}
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr: [virtual_machine_interface, fq_name]
      resource_id: {get_param: uuid}
      resource_type: ports
      syncer_properties:
        etcd:
          status: {key: vmi}
        tsdb:
          traffic.in:
            metric: traffic.contrail_bytes
            tags:
              direction: in
              resource_id: {get_param: uuid}
          traffic.out:
            metric: traffic.contrail_bytes
            tags:
              direction: out
              resource_id: {get_param: uuid}
      tenant_id: {get_param: tenant_id}
      type: virtual_machine_interface
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

#######################################
### Checking gohan firewall_info     ##
#######################################
[localhost] local: gohan client firewall show --output-format json 8e4c20be-d221-43f4-8325-0162c1f06166
{
	"firewall": {
		"admin_username": "user-admin",
		"availability_zone": "nova",
		"default_gateway": "192.168.1.1",
		"description": "",
		"firewall_plan_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
		"id": "8e4c20be-d221-43f4-8325-0162c1f06166",
		"interfaces": [
			{
				"id": "1c351257-d185-40b7-b04a-6272de75d434",
				"ip_address": "100.64.193.3",
				"name": "dp0s3",
				"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
				"operational_state": "UP",
				"orchestration_state": "CREATE_COMPLETE",
				"slot_number": 0,
				"status": "ACTIVE",
				"type": "management",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "c8fef8f8-a7a1-448f-ae76-81992e598016"
			},
			{
				"id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a",
				"ip_address": "10.98.76.3",
				"name": "dp0s4",
				"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
				"operational_state": "UP",
				"orchestration_state": "UPDATE_COMPLETE",
				"slot_number": 1,
				"status": "ACTIVE",
				"type": "user",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6"
			},
			{
				"id": "cdf30a48-8cf7-4935-9f8a-5b51f1177704",
				"ip_address": null,
				"name": "dp0s5",
				"network_id": null,
				"operational_state": "UP",
				"orchestration_state": "CREATE_COMPLETE",
				"slot_number": 2,
				"status": "ACTIVE",
				"type": "user",
				"virtual_ip_address": null,
				"virtual_ip_properties": null,
				"vnf_interface_id": "1e047117-2ca8-43dc-aa80-619b224bab4c"
			}
		],
		"name": "",
		"networks": [
			{
				"cidr": "24",
				"ifname": "dp0s4",
				"ip_address": "10.98.76.3",
				"type": "static"
			},
			{
				"ifname": "dp0s5",
				"type": "disable"
			}
		],
		"operational_state": "UP",
		"orchestration_state": "UPDATE_COMPLETE",
		"other_username": "",
		"status": "ACTIVE",
		"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
		"user_username": "user-read",
		"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
	}
}

#######################################
### checking heat-stack (firewall) ####
#######################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewalls/8e4c20be-d221-43f4-8325-0162c1f06166
[localhost] local: heat stack-show firewall_8e4c20be-d221-43f4-8325-0162c1f06166
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                  |
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                     |
| creation_time         | 2018-02-12T07:44:48Z                                                                                                                                                                   |
| description           | Vyatta Firewall Configuration                                                                                                                                                          |
| disable_rollback      | True                                                                                                                                                                                   |
| id                    | 7d9e544c-cc5a-4a44-a625-c743357c137f                                                                                                                                                   |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_8e4c20be-d221-43f4-8325-0162c1f06166/7d9e544c-cc5a-4a44-a625-c743357c137f |
| notification_topics   | []                                                                                                                                                                                     |
| outputs               | [                                                                                                                                                                                      |
|                       |   {                                                                                                                                                                                    |
|                       |     "output_value": "a5eddd6b-1de5-4199-8c1b-a4e9f3f4eab6",                                                                                                                            |
|                       |     "description": "Monitoring Target ID",                                                                                                                                             |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                               |
|                       |   },                                                                                                                                                                                   |
|                       |   {                                                                                                                                                                                    |
|                       |     "output_value": "http://collector-agents-se:7070/targets/a5eddd6b-1de5-4199-8c1b-a4e9f3f4eab6",                                                                                    |
|                       |     "description": "Monitoring Process Link",                                                                                                                                          |
|                       |     "output_key": "monitoring_link"                                                                                                                                                    |
|                       |   }                                                                                                                                                                                    |
|                       | ]                                                                                                                                                                                      |
| parameters            | {                                                                                                                                                                                      |
|                       |   "OS::stack_id": "7d9e544c-cc5a-4a44-a625-c743357c137f",                                                                                                                              |
|                       |   "OS::stack_name": "firewall_8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                   |
|                       |   "default_gateway": "192.168.1.1",                                                                                                                                                    |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                     |
|                       |   "user_password": "******",                                                                                                                                                           |
|                       |   "other_username": "",                                                                                                                                                                |
|                       |   "admin_username": "user-admin",                                                                                                                                                      |
|                       |   "user_username": "user-read",                                                                                                                                                        |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                     |
|                       |   "version": "2",                                                                                                                                                                      |
|                       |   "other_password": "******",                                                                                                                                                          |
|                       |   "admin_password": "******",                                                                                                                                                          |
|                       |   "credentials": "{\"username\": \"vfwadmin\", \"password\": \"password\"}",                                                                                                           |
|                       |   "gohan_id": "8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                                  |
|                       |   "networks": "[{\"type\": \"static\", \"cidr\": \"24\", \"ip_address\": \"10.98.76.3\", \"ifname\": \"dp0s4\"}, {\"ifname\": \"dp0s5\", \"type\": \"disable\"}]"                      |
|                       | }                                                                                                                                                                                      |
| parent                | None                                                                                                                                                                                   |
| stack_name            | firewall_8e4c20be-d221-43f4-8325-0162c1f06166                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                  |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                        |
| stack_status_reason   | Stack successfully updated                                                                                                                                                             |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                       |
| template_description  | Vyatta Firewall Configuration                                                                                                                                                          |
| timeout_mins          | 13                                                                                                                                                                                     |
| updated_time          | 2018-02-12T07:49:08Z                                                                                                                                                                   |
+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_8e4c20be-d221-43f4-8325-0162c1f06166
description: Vyatta Firewall Configuration
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [fw_device_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: fw_device_monitor}
parameters:
  admin_password: {default: '', hidden: true, type: string}
  admin_username: {type: string}
  credentials: {type: json}
  default_gateway: {default: '', type: string}
  gohan_id: {description: UUID of the VNF Instance, label: Gohan resource ID, type: string}
  management_ip: {type: string}
  networks: {type: json}
  other_password: {default: '', hidden: true, type: string}
  other_username: {default: '', type: string}
  tenant_id: {label: Tenant ID, type: string}
  user_password: {default: '', hidden: true, type: string}
  user_username: {type: string}
  version: {label: Config version, type: number}
resources:
  fw_device_monitor:
    depends_on: server
    properties:
      field_name: firewall
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip: {get_param: management_ip}
      resource_id: {get_param: gohan_id}
      resource_type: firewalls
      syncer_properties:
        etcd:
          status: {key: firewall}
        tsdb:
          cpu.idle:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: idle
          cpu.system:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: system
          cpu.user:
            metric: cpu.percents
            tags:
              resource_id: {get_param: gohan_id}
              type: user
          memory.available:
            metric: memory.kbytes
            tags:
              resource_id: {get_param: gohan_id}
              type: available
          memory.total:
            metric: memory.kbytes
            tags:
              resource_id: {get_param: gohan_id}
              type: total
          tcp.active:
            metric: tcp.connections
            tags:
              open: active
              resource_id: {get_param: gohan_id}
          tcp.passive:
            metric: tcp.connections
            tags:
              open: passive
              resource_id: {get_param: gohan_id}
      tenant_id: {get_param: tenant_id}
      type: snmp_device_fw
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget
  server:
    properties:
      admin_password: {get_param: admin_password}
      admin_username: {get_param: admin_username}
      credentials: {get_param: credentials}
      default_gateway: {get_param: default_gateway}
      management_ip: {get_param: management_ip}
      networks: {get_param: networks}
      other_password: {get_param: other_password}
      other_username: {get_param: other_username}
      user_password: {get_param: user_password}
      user_username: {get_param: user_username}
    type: ESI::VNF::VyattaConfig

#########################################################
### checking heat-stack (firewall_interface - dp0s3) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/1c351257-d185-40b7-b04a-6272de75d434
[localhost] local: heat stack-show firewall_interface_1c351257-d185-40b7-b04a-6272de75d434
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | aca233ed-4f80-443a-bbc5-55116560d4f1                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_1c351257-d185-40b7-b04a-6272de75d434/aca233ed-4f80-443a-bbc5-55116560d4f1 |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "ecbc7461-e883-4c21-bcf6-b91a105a533c",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/ecbc7461-e883-4c21-bcf6-b91a105a533c",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "aca233ed-4f80-443a-bbc5-55116560d4f1",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_1c351257-d185-40b7-b04a-6272de75d434",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "1",                                                                                                                                                                                |
|                       |   "gohan_id": "1c351257-d185-40b7-b04a-6272de75d434"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_1c351257-d185-40b7-b04a-6272de75d434                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                              |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | None                                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
#########################################################
### checking heat-stack (firewall_interface - dp0s4) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/3543155d-0d9a-43a3-ae77-3479cf8a0e4a
[localhost] local: heat stack-show firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | 7e24599c-43f9-4e7b-a074-661f7179622c                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a/7e24599c-43f9-4e7b-a074-661f7179622c |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "52573ce4-285d-4e48-859b-fdabcfc88a89",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/52573ce4-285d-4e48-859b-fdabcfc88a89",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "7e24599c-43f9-4e7b-a074-661f7179622c",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "2",                                                                                                                                                                                |
|                       |   "gohan_id": "3543155d-0d9a-43a3-ae77-3479cf8a0e4a"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack successfully updated                                                                                                                                                                       |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | 2018-02-12T07:49:03Z                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
#########################################################
### checking heat-stack (firewall_interface - dp0s5) ####
#########################################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/cdf30a48-8cf7-4935-9f8a-5b51f1177704
[localhost] local: heat stack-show firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                            |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                               |
| creation_time         | 2018-02-12T07:44:52Z                                                                                                                                                                             |
| description           | Vyatta Firewall Interface                                                                                                                                                                        |
| disable_rollback      | True                                                                                                                                                                                             |
| id                    | e82523ac-54d5-4c36-8300-6f0efa99da34                                                                                                                                                             |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704/e82523ac-54d5-4c36-8300-6f0efa99da34 |
| notification_topics   | []                                                                                                                                                                                               |
| outputs               | [                                                                                                                                                                                                |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "9d7a43c7-40e2-4703-9205-d76939462572",                                                                                                                                      |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                       |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                         |
|                       |   },                                                                                                                                                                                             |
|                       |   {                                                                                                                                                                                              |
|                       |     "output_value": "http://collector-agents-se:7070/targets/9d7a43c7-40e2-4703-9205-d76939462572",                                                                                              |
|                       |     "description": "Monitoring Process Link",                                                                                                                                                    |
|                       |     "output_key": "monitoring_link"                                                                                                                                                              |
|                       |   }                                                                                                                                                                                              |
|                       | ]                                                                                                                                                                                                |
| parameters            | {                                                                                                                                                                                                |
|                       |   "OS::stack_id": "e82523ac-54d5-4c36-8300-6f0efa99da34",                                                                                                                                        |
|                       |   "OS::stack_name": "firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704",                                                                                                                   |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                               |
|                       |   "management_ip": "100.64.193.3",                                                                                                                                                               |
|                       |   "version": "1",                                                                                                                                                                                |
|                       |   "gohan_id": "cdf30a48-8cf7-4935-9f8a-5b51f1177704"                                                                                                                                             |
|                       | }                                                                                                                                                                                                |
| parent                | None                                                                                                                                                                                             |
| stack_name            | firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                            |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                                  |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                              |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                                 |
| template_description  | Vyatta Firewall Interface                                                                                                                                                                        |
| timeout_mins          | 3                                                                                                                                                                                                |
| updated_time          | None                                                                                                                                                                                             |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
############################################
### checking heat-stack (vnf_instances) ####
############################################
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
[localhost] local: heat stack-show vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                      |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                         |
| creation_time         | 2018-02-12T07:40:05Z                                                                                                                                                                       |
| description           | VNF Instance                                                                                                                                                                               |
| disable_rollback      | True                                                                                                                                                                                       |
| id                    | 6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c                                                                                                                                                       |
| links                 | http://heat-server.monitoringrefactordocker_default:8004/v1/0f40dffa48614d9baa7eaac7e7532099/stacks/vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb/6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c |
| notification_topics   | []                                                                                                                                                                                         |
| outputs               | [                                                                                                                                                                                          |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "2e555b09-e0d7-4cce-8854-c481a2363917",                                                                                                                                |
|                       |     "description": "A unique id for the nova server.",                                                                                                                                     |
|                       |     "output_key": "server_id"                                                                                                                                                              |
|                       |   },                                                                                                                                                                                       |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "99de7768-161e-46ef-a973-2e794fd84382",                                                                                                                                |
|                       |     "description": "Monitoring Target ID",                                                                                                                                                 |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                                   |
|                       |   },                                                                                                                                                                                       |
|                       |   {                                                                                                                                                                                        |
|                       |     "output_value": "http://collector-agents-se:7070/targets/99de7768-161e-46ef-a973-2e794fd84382",                                                                                        |
|                       |     "description": "Monitoring Process Link",                                                                                                                                              |
|                       |     "output_key": "monitoring_link"                                                                                                                                                        |
|                       |   }                                                                                                                                                                                        |
|                       | ]                                                                                                                                                                                          |
| parameters            | {                                                                                                                                                                                          |
|                       |   "user_data_format": "RAW",                                                                                                                                                               |
|                       |   "OS::stack_id": "6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c",                                                                                                                                  |
|                       |   "OS::stack_name": "vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",                                                                                                                   |
|                       |   "availability_zone": "nova",                                                                                                                                                             |
|                       |   "tenant_id": "0f40dffa48614d9baa7eaac7e7532099",                                                                                                                                         |
|                       |   "image": "vyatta-0108-2016",                                                                                                                                                             |
|                       |   "reboot": "",                                                                                                                                                                            |
|                       |   "user_data": "",                                                                                                                                                                         |
|                       |   "version": "2",                                                                                                                                                                          |
|                       |   "gohan_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb",                                                                                                                                      |
|                       |   "flavor": "m1.large",                                                                                                                                                                    |
|                       |   "name": "firewall-8e4c20be-d221-43f4-8325-0162c1f06166",                                                                                                                                 |
|                       |   "networks": "[{\"port\": \"cdde9cfd-a898-4911-b812-b6849f611549\"}, {\"port\": \"472879c4-4611-4762-a069-293e0081bcbf\"}, {\"port\": \"fd09eda4-10b1-4534-984a-7124c338c69d\"}]",        |
|                       |   "config_drive": "False"                                                                                                                                                                  |
|                       | }                                                                                                                                                                                          |
| parent                | None                                                                                                                                                                                       |
| stack_name            | vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb                                                                                                                                          |
| stack_owner           | admin                                                                                                                                                                                      |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                            |
| stack_status_reason   | Stack successfully updated                                                                                                                                                                 |
| stack_user_project_id | 0f40dffa48614d9baa7eaac7e7532099                                                                                                                                                           |
| template_description  | VNF Instance                                                                                                                                                                               |
| timeout_mins          | 18                                                                                                                                                                                         |
| updated_time          | 2018-02-12T07:47:01Z                                                                                                                                                                       |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb
description: VNF Instance
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr: [server_monitor, link]
  monitoring_target_id:
    description: Monitoring Target ID
    value: {get_resource: server_monitor}
  server_id:
    description: A unique id for the nova server.
    value: {get_resource: server}
parameters:
  availability_zone: {default: '', type: string}
  config_drive: {type: boolean}
  flavor:
    constraints:
    - {custom_constraint: nova.flavor}
    type: string
  gohan_id: {description: UUID of the VNF Instance, label: Gohan resource ID, type: string}
  image:
    constraints:
    - {custom_constraint: glance.image}
    type: string
  name: {default: '', type: string}
  networks: {type: json}
  reboot: {default: '', type: string}
  tenant_id: {label: Tenant ID, type: string}
  user_data: {default: '', type: string}
  user_data_format: {type: string}
  version: {label: Config version, type: number}
resources:
  server:
    properties:
      availability_zone: {get_param: availability_zone}
      config_drive: {get_param: config_drive}
      flavor: {get_param: flavor}
      image: {get_param: image}
      name: {get_param: name}
      networks: {get_param: networks}
      reboot: {get_param: reboot}
      user_data: {get_param: user_data}
      user_data_format: {get_param: user_data_format}
    type: ESI::VNF::Instance
  server_monitor:
    depends_on: server
    properties:
      field_name: server
      properties:
        server_id: {get_resource: server}
      resource_id: {get_param: gohan_id}
      resource_type: vnf_instances
      syncer_properties:
        etcd:
          status: {key: server}
      tenant_id: {get_param: tenant_id}
      type: compute
      version: {get_param: version}
    type: ESI::Monitoring::MonitoringTarget

[localhost] local: gohan client port list --output-format json
{
	"ports": [
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": false,
			"binding:vif_type": "vrouter",
			"description": "DHCP Server Port",
			"device_id": "c8090497-34be-456b-9186-377e918f3d50",
			"device_owner": "network:dhcp",
			"ese_logical_port_id": null,
			"fake_delete": false,
			"fixed_ips": [
				{
					"ip_address": "100.64.193.2",
					"subnet_id": "c8090497-34be-456b-9186-377e918f3d50"
				}
			],
			"id": "10de1073-2a60-4bbc-810b-642537ad19bf",
			"mac_address": "00:00:5e:00:01:00",
			"managed_by_service": false,
			"name": "dhcp-server-port",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"operational_state": "",
			"orchestration_state": "SYNC_COMPLETE",
			"security_groups": [],
			"segmentation_id": null,
			"segmentation_type": null,
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "10.98.76.3",
					"subnet_id": "a11785e2-0c2b-4131-9144-349155f958f5"
				}
			],
			"id": "472879c4-4611-4762-a069-293e0081bcbf",
			"mac_address": "fa:16:3e:f0:f2:72",
			"managed_by_service": false,
			"name": "firewall-user-port",
			"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
			"operational_state": "FAIL",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "MONITORING_UNAVAILABLE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": false,
			"binding:vif_type": "vrouter",
			"description": "DHCP Server Port",
			"device_id": "a11785e2-0c2b-4131-9144-349155f958f5",
			"device_owner": "network:dhcp",
			"ese_logical_port_id": null,
			"fake_delete": false,
			"fixed_ips": [
				{
					"ip_address": "10.98.76.2",
					"subnet_id": "a11785e2-0c2b-4131-9144-349155f958f5"
				}
			],
			"id": "c18705d5-e40a-4bb7-94da-3dc9a93b32e5",
			"mac_address": "00:00:5e:00:01:00",
			"managed_by_service": false,
			"name": "dhcp-server-port",
			"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
			"operational_state": "",
			"orchestration_state": "SYNC_COMPLETE",
			"security_groups": [],
			"segmentation_id": null,
			"segmentation_type": null,
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "100.64.193.3",
					"subnet_id": "c8090497-34be-456b-9186-377e918f3d50"
				}
			],
			"id": "cdde9cfd-a898-4911-b812-b6849f611549",
			"mac_address": "fa:16:3e:2f:e8:a6",
			"managed_by_service": false,
			"name": "firewall-management-port",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"operational_state": "FAIL",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "MONITORING_UNAVAILABLE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": true,
			"allowed_address_pairs": [],
			"attached": false,
			"binding:vif_type": "vrouter",
			"description": "DHCP Server Port",
			"device_id": "1244d619-cc55-4bb7-b181-606776ba5e88",
			"device_owner": "network:dhcp",
			"ese_logical_port_id": null,
			"fake_delete": false,
			"fixed_ips": [
				{
					"ip_address": "10.121.232.2",
					"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
				}
			],
			"id": "db7b07e7-5fb8-4400-9a64-f3b1df8038f2",
			"mac_address": "00:00:5e:00:01:00",
			"managed_by_service": false,
			"name": "dhcp-server-port",
			"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"operational_state": "",
			"orchestration_state": "SYNC_COMPLETE",
			"security_groups": [],
			"segmentation_id": null,
			"segmentation_type": null,
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		},
		{
			"admin_state_up": false,
			"allowed_address_pairs": [],
			"attached": true,
			"binding:vif_type": "vrouter",
			"description": "",
			"device_id": "2e555b09-e0d7-4cce-8854-c481a2363917",
			"device_owner": "compute:nova",
			"ese_logical_port_id": null,
			"fake_delete": true,
			"fixed_ips": [
				{
					"ip_address": "10.121.232.4",
					"subnet_id": "1244d619-cc55-4bb7-b181-606776ba5e88"
				}
			],
			"id": "fd09eda4-10b1-4534-984a-7124c338c69d",
			"mac_address": "fa:16:3e:8e:dd:05",
			"managed_by_service": false,
			"name": "firewall-user-port",
			"network_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"operational_state": "UP",
			"orchestration_state": "UPDATE_COMPLETE",
			"security_groups": [],
			"segmentation_id": 0,
			"segmentation_type": "flat",
			"status": "ACTIVE",
			"tags": {},
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099"
		}
	]
}

[localhost] local: gohan client vnf_interface list --output-format json
{
	"vnf_interfaces": [
		{
			"description": null,
			"id": "1e047117-2ca8-43dc-aa80-619b224bab4c",
			"ip_address": null,
			"name": "interface-2",
			"network_id": null,
			"port_id": "fd09eda4-10b1-4534-984a-7124c338c69d",
			"slot_number": 2,
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		},
		{
			"description": null,
			"id": "c6cf2771-be40-4d16-ba15-20a62f8b78f6",
			"ip_address": "10.98.76.3",
			"name": "interface-1",
			"network_id": "82712b89-c35c-4276-83cb-818860d41f9e",
			"port_id": "472879c4-4611-4762-a069-293e0081bcbf",
			"slot_number": 1,
			"status": "MONITORING_UNAVAILABLE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "user",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		},
		{
			"description": null,
			"id": "c8fef8f8-a7a1-448f-ae76-81992e598016",
			"ip_address": "100.64.193.3",
			"name": "interface-0",
			"network_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"port_id": "cdde9cfd-a898-4911-b812-b6849f611549",
			"slot_number": 0,
			"status": "MONITORING_UNAVAILABLE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"type": "management",
			"virtual_ip_address": null,
			"virtual_ip_properties": null,
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		}
	]
}

[localhost] local: gohan client firewall list --output-format json
{
	"firewalls": [
		{
			"admin_username": "user-admin",
			"availability_zone": "nova",
			"default_gateway": "192.168.1.1",
			"description": "",
			"firewall_plan_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
			"id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"name": "",
			"networks": [
				{
					"cidr": "24",
					"ifname": "dp0s4",
					"ip_address": "10.98.76.3",
					"type": "static"
				},
				{
					"ifname": "dp0s5",
					"type": "disable"
				}
			],
			"operational_state": "UP",
			"orchestration_state": "UPDATE_COMPLETE",
			"other_username": "",
			"status": "ACTIVE",
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"user_username": "user-read",
			"vnf_instance_id": "44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb"
		}
	]
}

[localhost] local: gohan client resource_mapping list --output-format json
Command not found

[localhost] local: gohan client billing_resource list --output-format json
{
	"billing_resources": [
		{
			"config_version": 1,
			"ended": null,
			"id": "04731679-7d83-4ded-b6a7-8064e9cbb655",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d",
			"resource_type": "network",
			"started": 1.518421169e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "73b2c401-a1f3-49fb-8612-8c755b37a28d"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "3e5f3bcf-2af7-4b06-9092-afb0b3944a2f",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554",
			"resource_type": "network",
			"started": 1.518421185e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "75c2c3ec-7fe7-494c-a35c-db3f94d3a554"
		},
		{
			"config_version": 2,
			"ended": null,
			"id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166",
			"resource_type": "firewall",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "8e4c20be-d221-43f4-8325-0162c1f06166"
		},
		{
			"config_version": 1,
			"ended": null,
			"id": "b67ba7c3-6946-42c1-bbbb-8779a54b40d6",
			"info": {},
			"parent_billing_id": null,
			"resource_id": "82712b89-c35c-4276-83cb-818860d41f9e",
			"resource_type": "network",
			"started": 1.518421605e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": "82712b89-c35c-4276-83cb-818860d41f9e"
		},
		{
			"config_version": 2,
			"ended": null,
			"id": "b95d379f-4019-4396-8fdf-973d826db114",
			"info": {
				"plan_name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF"
			},
			"parent_billing_id": "613357ec-62d3-43d8-a1ee-146986f4ace3",
			"resource_id": "40520774-4f10-4e8c-90fa-550bd4cdf101",
			"resource_type": "firewall_plan",
			"started": 1.51842155e+09,
			"tenant_id": "0f40dffa48614d9baa7eaac7e7532099",
			"unique_resource_id": null
		}
	]
}











root@client:/tools/rest-api-for-esi# heat stack-list
+--------------------------------------+---------------------------------------------------------+-----------------+----------------------+
| id                                   | stack_name                                              | stack_status    | creation_time        |
+--------------------------------------+---------------------------------------------------------+-----------------+----------------------+
| b7385243-0b72-4bed-99ff-89165ddd1b92 | network_73b2c401-a1f3-49fb-8612-8c755b37a28d            | CREATE_COMPLETE | 2018-02-12T07:39:26Z |
| a02f22df-3cd7-4978-a4a1-43a481004f75 | subnet_1244d619-cc55-4bb7-b181-606776ba5e88             | CREATE_COMPLETE | 2018-02-12T07:39:36Z |
| 4e4cbc09-5b32-412c-9a38-d420dfddfd4a | network_75c2c3ec-7fe7-494c-a35c-db3f94d3a554            | CREATE_COMPLETE | 2018-02-12T07:39:44Z |
| 5d7790dd-237a-4b76-890a-0fb863a76d6e | subnet_c8090497-34be-456b-9186-377e918f3d50             | CREATE_COMPLETE | 2018-02-12T07:39:51Z |
| 86fa320c-aeb3-4435-a540-2c45d9bdbb21 | port_cdde9cfd-a898-4911-b812-b6849f611549               | UPDATE_COMPLETE | 2018-02-12T07:40:03Z |
| c837547b-3ad0-4fc2-9142-175e3c5ab6f2 | port_fd09eda4-10b1-4534-984a-7124c338c69d               | UPDATE_COMPLETE | 2018-02-12T07:40:03Z |
| 6c86b4aa-feb2-4005-9ad5-b1084ce8dd7c | vnf_instance_44799fe4-6fbf-4a5d-a2bc-ccd45e9f04eb       | UPDATE_COMPLETE | 2018-02-12T07:40:05Z |
| 7d9e544c-cc5a-4a44-a625-c743357c137f | firewall_8e4c20be-d221-43f4-8325-0162c1f06166           | UPDATE_COMPLETE | 2018-02-12T07:44:48Z |
| 7e24599c-43f9-4e7b-a074-661f7179622c | firewall_interface_3543155d-0d9a-43a3-ae77-3479cf8a0e4a | UPDATE_COMPLETE | 2018-02-12T07:44:52Z |
| aca233ed-4f80-443a-bbc5-55116560d4f1 | firewall_interface_1c351257-d185-40b7-b04a-6272de75d434 | CREATE_COMPLETE | 2018-02-12T07:44:52Z |
| e82523ac-54d5-4c36-8300-6f0efa99da34 | firewall_interface_cdf30a48-8cf7-4935-9f8a-5b51f1177704 | CREATE_COMPLETE | 2018-02-12T07:44:52Z |
| 27193e91-451c-41ff-b722-6d3a49e6ac86 | network_82712b89-c35c-4276-83cb-818860d41f9e            | CREATE_COMPLETE | 2018-02-12T07:46:43Z |
| 65e1e296-ab1f-4c59-84f3-cfdad7af6e28 | subnet_a11785e2-0c2b-4131-9144-349155f958f5             | CREATE_COMPLETE | 2018-02-12T07:46:51Z |
| b9876a57-61fd-42ae-acc8-34e866a42df3 | port_472879c4-4611-4762-a069-293e0081bcbf               | UPDATE_COMPLETE | 2018-02-12T07:47:00Z |
+--------------------------------------+---------------------------------------------------------+-----------------+----------------------+
