2018-04-09 04:40:17,260:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:40:17,260:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:40:17,260:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:40:17,261:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:40:17,265:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:41:26,130:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_devices/cc214b6a-2f09-4094-b7cd-a9590f64b854],
 value=[{
    "stack_id": "ese_device_cc214b6a-2f09-4094-b7cd-a9590f64b854", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "2762cfcb-575c-45cc-a07b-ca19f5b007cd", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "default-global-system-config", 
                "NWSDP-JNPR-02"
            ], 
            "description": "The FQ name of the physical router.", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "7e5c78fa-71c0-427e-947f-586b1fc3c470", 
            "description": "A unique id for the physical router.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/2762cfcb-575c-45cc-a07b-ca19f5b007cd", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "NWSDP-JNPR-02", 
            "description": "The name of the physical router.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_device:cc214b6a-2f09-4094-b7cd-a9590f64b854"
}]
2018-04-09 04:41:26,132:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:41:26,140:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:41:26,140:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:41:26,140:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:41:26,142:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:42:32,540:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_physical_ports/9451c9ca-289d-42ba-846d-359c448e910c],
 value=[{
    "stack_id": "ese_physical_port_9451c9ca-289d-42ba-846d-359c448e910c", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "78d717f0-66d9-4f82-afe6-833c5e8f38f5", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "06bfe521-07f0-4931-9f8c-318c3ad8114e", 
            "description": "A unique id for the physical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/78d717f0-66d9-4f82-afe6-833c5e8f38f5", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38", 
            "description": "The name of the physical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_physical_port:9451c9ca-289d-42ba-846d-359c448e910c"
}]
2018-04-09 04:42:32,541:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:42:32,541:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:42:32,541:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:42:32,542:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:42:32,544:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:43:38,093:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_physical_ports/f4c3a1bf-3b61-48ba-a548-422036849465],
 value=[{
    "stack_id": "ese_physical_port_f4c3a1bf-3b61-48ba-a548-422036849465", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "9da949d8-3a71-4bc7-a044-04d1b3f62d7a", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "06bfe521-07f0-4931-9f8c-318c3ad8114e", 
            "description": "A unique id for the physical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/9da949d8-3a71-4bc7-a044-04d1b3f62d7a", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38", 
            "description": "The name of the physical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_physical_port:f4c3a1bf-3b61-48ba-a548-422036849465"
}]
2018-04-09 04:43:38,093:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:43:38,093:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:43:38,094:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:43:38,094:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:43:38,095:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:44:36,956:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/edge_routers/f4f54175-93fe-406b-ae66-dbca4df99e03],
 value=[{
    "stack_id": "edge_router_f4f54175-93fe-406b-ae66-dbca4df99e03", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "b88cbb53-f850-44f2-9960-95ade457e46c", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/b88cbb53-f850-44f2-9960-95ade457e46c", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "edge_router:f4f54175-93fe-406b-ae66-dbca4df99e03"
}]
2018-04-09 04:44:36,956:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:44:36,956:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:44:36,956:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:44:36,957:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:44:36,959:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:45:41,158:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/edge_routers/2d056865-47a9-45cf-a890-ed10e3b5912a],
 value=[{
    "stack_id": "edge_router_2d056865-47a9-45cf-a890-ed10e3b5912a", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "ad464fbb-0810-447e-b10d-31715221cb95", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/ad464fbb-0810-447e-b10d-31715221cb95", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "edge_router:2d056865-47a9-45cf-a890-ed10e3b5912a"
}]
2018-04-09 04:45:41,158:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:45:41,158:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:45:41,158:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:45:41,159:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:45:41,162:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:46:47,248:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/c2576120-00b0-461e-a2ae-f7bbff9465d0],
 value=[{
    "stack_id": "er_physical_interface_c2576120-00b0-461e-a2ae-f7bbff9465d0", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "23d9d390-e1e3-41c7-b926-479d6909aeeb", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/23d9d390-e1e3-41c7-b926-479d6909aeeb", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:c2576120-00b0-461e-a2ae-f7bbff9465d0"
}]
2018-04-09 04:46:47,248:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:46:47,248:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:46:47,248:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:46:47,249:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:46:47,253:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:47:51,636:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/b9c7c1f4-1b90-4a7a-8161-34276bb2ed10],
 value=[{
    "stack_id": "er_physical_interface_b9c7c1f4-1b90-4a7a-8161-34276bb2ed10", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "17d442df-0ac4-4c5e-bbef-34fc7e4c4b06", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/17d442df-0ac4-4c5e-bbef-34fc7e4c4b06", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:b9c7c1f4-1b90-4a7a-8161-34276bb2ed10"
}]
2018-04-09 04:47:51,636:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:47:51,636:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:47:51,636:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:47:51,637:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:47:51,639:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:54,602:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/networks/fc8814a7-eb1e-4f59-8422-7de500e72782],
 value=[{
    "stack_id": "network_fc8814a7-eb1e-4f59-8422-7de500e72782", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [], 
            "description": "The name of the virtual network.", 
            "output_key": "route_targets"
        }, 
        {
            "output_value": "default-domain:usertenant:fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "description": "The FQ name of the virtual network.", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "description": "A unique id for the virtual network.", 
            "output_key": "id"
        }, 
        {
            "output_value": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "description": "The name of the virtual network.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "network:fc8814a7-eb1e-4f59-8422-7de500e72782"
}]
2018-04-09 04:49:54,602:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:54,603:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:49:54,603:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:54,603:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:54,606:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:58,598:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/subnets/cf9356ae-b4e1-4a91-8193-089fdc12173d],
 value=[{
    "stack_id": "subnet_cf9356ae-b4e1-4a91-8193-089fdc12173d", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "169.254.0.0/17", 
            "description": "IP prefix of local subnet.", 
            "output_key": "ip_prefix"
        }, 
        {
            "output_value": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
            "description": "The name of the local subnet.", 
            "output_key": "name"
        }, 
        {
            "output_value": "0.0.0.0", 
            "description": "Default gateway of local subnet.", 
            "output_key": "default_gateway"
        }, 
        {
            "output_value": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "description": "A unique id for the network.", 
            "output_key": "network_id"
        }, 
        {
            "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", 
            "description": "IPAM this local subnet uses.", 
            "output_key": "ipam"
        }, 
        {
            "output_value": "8f52422a-7115-4304-99cf-fc021562c352", 
            "description": "A unique id for the local subnet.", 
            "output_key": "id"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d"
}]
2018-04-09 04:49:58,598:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:58,598:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:49:58,598:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:58,599:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:58,600:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:04,972:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/f84496b5-dc56-4727-87b1-aa06e2471737],
 value=[{
    "stack_id": "port_f84496b5-dc56-4727-87b1-aa06e2471737", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "port:f84496b5-dc56-4727-87b1-aa06e2471737"
}]
2018-04-09 04:50:04,972:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:04,972:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:04,972:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:04,973:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:04,975:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:05,160:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/343b0257-512e-40e3-b063-8cc13a4b61f4],
 value=[{
    "stack_id": "port_343b0257-512e-40e3-b063-8cc13a4b61f4", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "port:343b0257-512e-40e3-b063-8cc13a4b61f4"
}]
2018-04-09 04:50:05,160:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:05,160:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:05,160:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:05,161:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:05,163:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:09,853:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_logical_ports/be66c7e0-b222-4e76-bf81-af75e8cf1824],
 value=[{
    "stack_id": "ese_logical_port_be66c7e0-b222-4e76-bf81-af75e8cf1824", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "bdc2f00e-073d-49d6-ac27-43782568b081", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", 
            "description": "A unique id for the logical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/bdc2f00e-073d-49d6-ac27-43782568b081", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38.0", 
            "description": "The name of the logical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_logical_port:be66c7e0-b222-4e76-bf81-af75e8cf1824"
}]
2018-04-09 04:50:09,854:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:09,854:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:09,854:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:09,854:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:09,856:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:10,087:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_logical_ports/e8555ee6-529c-42d9-8bb1-bfbe217133b1],
 value=[{
    "stack_id": "ese_logical_port_e8555ee6-529c-42d9-8bb1-bfbe217133b1", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "7f066c44-1dc2-44b2-95f7-d59d70bd77fb", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", 
            "description": "A unique id for the logical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/7f066c44-1dc2-44b2-95f7-d59d70bd77fb", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38.0", 
            "description": "The name of the logical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_logical_port:e8555ee6-529c-42d9-8bb1-bfbe217133b1"
}]
2018-04-09 04:50:10,087:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:10,087:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:10,087:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:10,088:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:10,090:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:22,794:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/common_function_gateways/f649736d-1920-41eb-96af-d4e4fe192d0e],
 value=[{
    "stack_id": "common_function_gateway_f649736d-1920-41eb-96af-d4e4fe192d0e", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "cfb54c6f-43cf-4e35-aff8-e2c2ec8adc7e", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/cfb54c6f-43cf-4e35-aff8-e2c2ec8adc7e", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e"
}]
2018-04-09 04:50:22,794:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:22,795:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:22,795:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:22,795:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:22,797:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:34,829:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/343b0257-512e-40e3-b063-8cc13a4b61f4],
 value=[{
    "stack_id": "port_343b0257-512e-40e3-b063-8cc13a4b61f4", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "UPDATE_COMPLETE", 
    "output": [
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": "9ba38fcf-3f2e-41e5-af92-cb4603c33e62", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }, 
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/9ba38fcf-3f2e-41e5-af92-cb4603c33e62", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack successfully updated", 
    "id": "port:343b0257-512e-40e3-b063-8cc13a4b61f4"
}]
2018-04-09 04:50:34,829:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:34,829:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:34,829:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:34,830:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:34,832:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:34,841:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/f84496b5-dc56-4727-87b1-aa06e2471737],
 value=[{
    "stack_id": "port_f84496b5-dc56-4727-87b1-aa06e2471737", 
    "tenant_id": "c583ce78843344adbe5fd20f13620274", 
    "stack_status": "UPDATE_COMPLETE", 
    "output": [
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": "5b5ef6a3-7444-4443-8c6d-4c66aee1df27", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }, 
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/5b5ef6a3-7444-4443-8c6d-4c66aee1df27", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack successfully updated", 
    "id": "port:f84496b5-dc56-4727-87b1-aa06e2471737"
}]
2018-04-09 04:50:34,841:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:34,841:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-09 04:50:34,841:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:34,842:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:34,843:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:56:56,984:ERROR:Request to server http://etcd-server:2379 failed: ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
2018-04-09 04:56:56,985:DEBUG:Reconnection disabled, giving up.
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 346, in fire_timers
    timer()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/timer.py", line 56, in __call__
    cb(*args, **kw)
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
Traceback (most recent call last):
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 48, in <module>
    thread.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 168, in wait
    return self._exit_event.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/event.py", line 116, in wait
    return hubs.get_hub().switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 187, in switch
    return self.greenlet.switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
etcd.EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
