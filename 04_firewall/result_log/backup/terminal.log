root@client:/tools/rest-api-for-esi# python test_scenario.py --name firewall
test_scenario.py:281: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.
  test_scenario_info = yaml.load(Test_Scenario_Information)
### Create Network ###
name:[dummy-net], id:[3ad67159-9f73-404a-94da-582bda1641fb]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:02:17.643020  03:02:17.804266  0.161246        POST     201    PENDING_CREATE
03:02:17.805530  03:02:17.949277  0.143747         GET     200    PENDING_CREATE
03:02:18.949529  03:02:19.067519  0.117990         GET     200    PENDING_CREATE
03:02:20.067979  03:02:20.203777  0.135798         GET     200    PENDING_CREATE
03:02:21.205038  03:02:21.425056  0.220018         GET     200    PENDING_CREATE
03:02:22.425225  03:02:22.585043  0.159818         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 4.942023


[localhost] local: gohan client network show --output-format json 3ad67159-9f73-404a-94da-582bda1641fb
{
    "network": {
        "admin_state_up": true,
        "description": "dummy network for firewall",
        "id": "3ad67159-9f73-404a-94da-582bda1641fb",
        "name": "dummy-net",
        "orchestration_state": "CREATE_COMPLETE",
        "plane": "data",
        "shared": false,
        "status": "ACTIVE",
        "subnets": [],
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}


[localhost] local: gohan client billing_resource list --output-format json
{
    "billing_resources": [
        {
            "config_version": 1,
            "ended": null,
            "id": "5ba536a7-df43-4f55-ad80-abfd9eb2b632",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "resource_type": "network",
            "started": 1554174142,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "3ad67159-9f73-404a-94da-582bda1641fb"
        }
    ]
}

-----------------------------------------------
Checking heat-stack (networks)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/3ad67159-9f73-404a-94da-582bda1641fb
[localhost] local: heat stack-show network_3ad67159-9f73-404a-94da-582bda1641fb
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                   |
| creation_time         | 2019-04-02T03:02:18Z                                                                                                                                 |
| description           | Network template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                 |
| id                    | c9e83127-797a-4b44-8b4f-5fb27b62d2b3                                                                                                                 |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/network_3ad67159-9f73-404a-94da-582bda1641fb/c9e83127-797a-4b44-8b4f-5fb27b62d2b3 |
| notification_topics   | []                                                                                                                                                   |
| outputs               | [                                                                                                                                                    |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": [],                                                                                                                              |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "route_targets"                                                                                                                    |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "default-domain:usertenant:3ad67159-9f73-404a-94da-582bda1641fb",                                                                |
|                       |     "description": "The FQ name of the virtual network.",                                                                                            |
|                       |     "output_key": "fq_name"                                                                                                                          |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                          |
|                       |     "description": "A unique id for the virtual network.",                                                                                           |
|                       |     "output_key": "id"                                                                                                                               |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                          |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "name"                                                                                                                             |
|                       |   }                                                                                                                                                  |
|                       | ]                                                                                                                                                    |
| parameters            | {                                                                                                                                                    |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                        |
|                       |   "allow_transit": "False",                                                                                                                          |
|                       |   "name": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                                    |
|                       |   "OS::stack_name": "network_3ad67159-9f73-404a-94da-582bda1641fb",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                          |
|                       |   "OS::stack_id": "c9e83127-797a-4b44-8b4f-5fb27b62d2b3",                                                                                            |
|                       |   "external": "True",                                                                                                                                |
|                       |   "shared": "False",                                                                                                                                 |
|                       |   "route_targets": "",                                                                                                                               |
|                       |   "uuid": "3ad67159-9f73-404a-94da-582bda1641fb"                                                                                                     |
|                       | }                                                                                                                                                    |
| parent                | None                                                                                                                                                 |
| stack_name            | network_3ad67159-9f73-404a-94da-582bda1641fb                                                                                                         |
| stack_owner           | admin                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                  |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                     |
| template_description  | Network template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                    |
| updated_time          | None                                                                                                                                                 |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_3ad67159-9f73-404a-94da-582bda1641fb
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr:
      - network
      - fq_name
  id:
    description: A unique id for the virtual network.
    value:
      get_resource: network
  name:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - name
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - route_targets
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  allow_transit:
    default: false
    label: Allow Transit
    type: boolean
  external:
    default: true
    label: External Network
    type: boolean
  forwarding_mode:
    default: l2_l3
    description: Forwarding Mode.
    label: Forwarding Mode
    type: string
  name:
    description: Name of the virtual network that will be created.
    label: Virtual Network Name
    type: string
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared:
    default: false
    label: Shared Network
    type: boolean
  uuid:
    default: ''
    description: UUID of the virtual network that will be created.
    label: Virtual Network UUID
    type: string
resources:
  network:
    properties:
      admin_state_up:
        get_param: admin_state_up
      forwarding_mode:
        get_param: forwarding_mode
      name:
        get_param: name
      route_targets:
        get_param: route_targets
      shared:
        get_param: shared
      uuid:
        get_param: uuid
    type: OS::Contrail::VirtualNetwork

### Create Network ###
name:[adminpod-net], id:[690a259f-d2bb-4674-ba29-07b3619cc537]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:02:27.464682  03:02:27.546178  0.081496        POST     201    PENDING_CREATE
03:02:27.546592  03:02:27.659884  0.113292         GET     200    PENDING_CREATE
03:02:28.661139  03:02:28.801035  0.139896         GET     200    PENDING_CREATE
03:02:29.801215  03:02:29.895454  0.094239         GET     200    PENDING_CREATE
03:02:30.895617  03:02:31.028552  0.132935         GET     200    PENDING_CREATE
03:02:32.028736  03:02:32.103852  0.075116         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 4.63917


[localhost] local: gohan client network show --output-format json 690a259f-d2bb-4674-ba29-07b3619cc537
{
    "network": {
        "admin_state_up": true,
        "description": "adminpod network",
        "id": "690a259f-d2bb-4674-ba29-07b3619cc537",
        "name": "adminpod-net",
        "orchestration_state": "CREATE_COMPLETE",
        "plane": "data",
        "shared": false,
        "status": "ACTIVE",
        "subnets": [],
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}


[localhost] local: gohan client billing_resource list --output-format json
{
    "billing_resources": [
        {
            "config_version": 1,
            "ended": null,
            "id": "5ba536a7-df43-4f55-ad80-abfd9eb2b632",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "resource_type": "network",
            "started": 1554174142,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "3ad67159-9f73-404a-94da-582bda1641fb"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "c696ff02-5420-486a-82ac-dd7c03fe08e6",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "resource_type": "network",
            "started": 1554174151,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537"
        }
    ]
}

-----------------------------------------------
Checking heat-stack (networks)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/690a259f-d2bb-4674-ba29-07b3619cc537
[localhost] local: heat stack-show network_690a259f-d2bb-4674-ba29-07b3619cc537
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                   |
| creation_time         | 2019-04-02T03:02:28Z                                                                                                                                 |
| description           | Network template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                 |
| id                    | 49e8c4b2-41ad-447b-8966-921009a6b1d1                                                                                                                 |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/network_690a259f-d2bb-4674-ba29-07b3619cc537/49e8c4b2-41ad-447b-8966-921009a6b1d1 |
| notification_topics   | []                                                                                                                                                   |
| outputs               | [                                                                                                                                                    |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": [],                                                                                                                              |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "route_targets"                                                                                                                    |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "default-domain:usertenant:690a259f-d2bb-4674-ba29-07b3619cc537",                                                                |
|                       |     "description": "The FQ name of the virtual network.",                                                                                            |
|                       |     "output_key": "fq_name"                                                                                                                          |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                          |
|                       |     "description": "A unique id for the virtual network.",                                                                                           |
|                       |     "output_key": "id"                                                                                                                               |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                          |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "name"                                                                                                                             |
|                       |   }                                                                                                                                                  |
|                       | ]                                                                                                                                                    |
| parameters            | {                                                                                                                                                    |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                        |
|                       |   "allow_transit": "False",                                                                                                                          |
|                       |   "name": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                                    |
|                       |   "OS::stack_name": "network_690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                          |
|                       |   "OS::stack_id": "49e8c4b2-41ad-447b-8966-921009a6b1d1",                                                                                            |
|                       |   "external": "True",                                                                                                                                |
|                       |   "shared": "False",                                                                                                                                 |
|                       |   "route_targets": "",                                                                                                                               |
|                       |   "uuid": "690a259f-d2bb-4674-ba29-07b3619cc537"                                                                                                     |
|                       | }                                                                                                                                                    |
| parent                | None                                                                                                                                                 |
| stack_name            | network_690a259f-d2bb-4674-ba29-07b3619cc537                                                                                                         |
| stack_owner           | admin                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                  |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                     |
| template_description  | Network template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                    |
| updated_time          | None                                                                                                                                                 |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_690a259f-d2bb-4674-ba29-07b3619cc537
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr:
      - network
      - fq_name
  id:
    description: A unique id for the virtual network.
    value:
      get_resource: network
  name:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - name
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - route_targets
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  allow_transit:
    default: false
    label: Allow Transit
    type: boolean
  external:
    default: true
    label: External Network
    type: boolean
  forwarding_mode:
    default: l2_l3
    description: Forwarding Mode.
    label: Forwarding Mode
    type: string
  name:
    description: Name of the virtual network that will be created.
    label: Virtual Network Name
    type: string
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared:
    default: false
    label: Shared Network
    type: boolean
  uuid:
    default: ''
    description: UUID of the virtual network that will be created.
    label: Virtual Network UUID
    type: string
resources:
  network:
    properties:
      admin_state_up:
        get_param: admin_state_up
      forwarding_mode:
        get_param: forwarding_mode
      name:
        get_param: name
      route_targets:
        get_param: route_targets
      shared:
        get_param: shared
      uuid:
        get_param: uuid
    type: OS::Contrail::VirtualNetwork

### Create Network ###
name:[sample-fw-net], id:[0422f224-5da3-4f01-8ba5-2ae68f241774]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:02:35.545893  03:02:35.615649  0.069756        POST     201    PENDING_CREATE
03:02:35.616196  03:02:35.709168  0.092972         GET     200    PENDING_CREATE
03:02:36.709342  03:02:36.766561  0.057219         GET     200    PENDING_CREATE
03:02:37.766875  03:02:37.829961  0.063086         GET     200    PENDING_CREATE
03:02:38.830124  03:02:38.887942  0.057818         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.342049


[localhost] local: gohan client network show --output-format json 0422f224-5da3-4f01-8ba5-2ae68f241774
{
    "network": {
        "admin_state_up": true,
        "description": "firewall network",
        "id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
        "name": "sample-fw-net",
        "orchestration_state": "CREATE_COMPLETE",
        "plane": "data",
        "shared": false,
        "status": "ACTIVE",
        "subnets": [],
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}


[localhost] local: gohan client billing_resource list --output-format json
{
    "billing_resources": [
        {
            "config_version": 1,
            "ended": null,
            "id": "5ba536a7-df43-4f55-ad80-abfd9eb2b632",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "resource_type": "network",
            "started": 1554174142,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "3ad67159-9f73-404a-94da-582bda1641fb"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "c696ff02-5420-486a-82ac-dd7c03fe08e6",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "resource_type": "network",
            "started": 1554174151,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "d8783ce5-04cc-4879-8338-d8af2bc20b06",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "resource_type": "network",
            "started": 1554174158,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774"
        }
    ]
}

-----------------------------------------------
Checking heat-stack (networks)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/networks/0422f224-5da3-4f01-8ba5-2ae68f241774
[localhost] local: heat stack-show network_0422f224-5da3-4f01-8ba5-2ae68f241774
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                   |
| creation_time         | 2019-04-02T03:02:36Z                                                                                                                                 |
| description           | Network template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                 |
| id                    | 44d0087a-b233-4844-a403-a2a79dc568a1                                                                                                                 |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/network_0422f224-5da3-4f01-8ba5-2ae68f241774/44d0087a-b233-4844-a403-a2a79dc568a1 |
| notification_topics   | []                                                                                                                                                   |
| outputs               | [                                                                                                                                                    |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": [],                                                                                                                              |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "route_targets"                                                                                                                    |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "default-domain:usertenant:0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                |
|                       |     "description": "The FQ name of the virtual network.",                                                                                            |
|                       |     "output_key": "fq_name"                                                                                                                          |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                          |
|                       |     "description": "A unique id for the virtual network.",                                                                                           |
|                       |     "output_key": "id"                                                                                                                               |
|                       |   },                                                                                                                                                 |
|                       |   {                                                                                                                                                  |
|                       |     "output_value": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                          |
|                       |     "description": "The name of the virtual network.",                                                                                               |
|                       |     "output_key": "name"                                                                                                                             |
|                       |   }                                                                                                                                                  |
|                       | ]                                                                                                                                                    |
| parameters            | {                                                                                                                                                    |
|                       |   "forwarding_mode": "l2_l3",                                                                                                                        |
|                       |   "allow_transit": "False",                                                                                                                          |
|                       |   "name": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                                    |
|                       |   "OS::stack_name": "network_0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                          |
|                       |   "OS::stack_id": "44d0087a-b233-4844-a403-a2a79dc568a1",                                                                                            |
|                       |   "external": "True",                                                                                                                                |
|                       |   "shared": "False",                                                                                                                                 |
|                       |   "route_targets": "",                                                                                                                               |
|                       |   "uuid": "0422f224-5da3-4f01-8ba5-2ae68f241774"                                                                                                     |
|                       | }                                                                                                                                                    |
| parent                | None                                                                                                                                                 |
| stack_name            | network_0422f224-5da3-4f01-8ba5-2ae68f241774                                                                                                         |
| stack_owner           | admin                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                  |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                     |
| template_description  | Network template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                    |
| updated_time          | None                                                                                                                                                 |
+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show network_0422f224-5da3-4f01-8ba5-2ae68f241774
description: 'Network template

  '
heat_template_version: '2013-05-23'
outputs:
  fq_name:
    description: The FQ name of the virtual network.
    value:
      get_attr:
      - network
      - fq_name
  id:
    description: A unique id for the virtual network.
    value:
      get_resource: network
  name:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - name
  route_targets:
    description: The name of the virtual network.
    value:
      get_attr:
      - network
      - route_targets
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  allow_transit:
    default: false
    label: Allow Transit
    type: boolean
  external:
    default: true
    label: External Network
    type: boolean
  forwarding_mode:
    default: l2_l3
    description: Forwarding Mode.
    label: Forwarding Mode
    type: string
  name:
    description: Name of the virtual network that will be created.
    label: Virtual Network Name
    type: string
  route_targets:
    default: []
    label: Route Targets list
    type: comma_delimited_list
  shared:
    default: false
    label: Shared Network
    type: boolean
  uuid:
    default: ''
    description: UUID of the virtual network that will be created.
    label: Virtual Network UUID
    type: string
resources:
  network:
    properties:
      admin_state_up:
        get_param: admin_state_up
      forwarding_mode:
        get_param: forwarding_mode
      name:
        get_param: name
      route_targets:
        get_param: route_targets
      shared:
        get_param: shared
      uuid:
        get_param: uuid
    type: OS::Contrail::VirtualNetwork

### Create Subnet ###
name:[dummy-subnet], id:[0479131c-e828-4721-abaa-a46265518b89]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:02:47.330374  03:02:47.470859  0.140485        POST     201    PENDING_CREATE
03:02:47.471356  03:02:47.556067  0.084711         GET     200    PENDING_CREATE
03:02:48.556295  03:02:48.597240  0.040945         GET     200    PENDING_CREATE
03:02:49.597412  03:02:49.641859  0.044447         GET     200    PENDING_CREATE
03:02:50.642053  03:02:50.684446  0.042393         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.354072


[localhost] local: gohan client subnet show --output-format json 0479131c-e828-4721-abaa-a46265518b89
{
    "subnet": {
        "allocation_pools": [
            {
                "end": "10.121.233.254",
                "start": "10.121.233.2"
            }
        ],
        "cidr": "10.121.233.0/24",
        "description": "dummy subnet for firewall",
        "dhcp_server_address": "10.121.233.2",
        "dns_nameservers": [
            "0.0.0.0"
        ],
        "enable_dhcp": true,
        "gateway_ip": "10.121.233.1",
        "host_routes": [],
        "id": "0479131c-e828-4721-abaa-a46265518b89",
        "ip_version": 4,
        "ipv6_address_mode": null,
        "ipv6_ra_mode": null,
        "name": "dummy-subnet",
        "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
        "ntp_servers": [],
        "orchestration_state": "CREATE_COMPLETE",
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

[localhost] local: gohan client port list --output-format json

[localhost] local: gohan client port show --output-format json e7894df1-b287-4494-bfe4-d6f989a448d1
{
    "port": {
        "admin_state_up": true,
        "allowed_address_pairs": [],
        "attached": false,
        "binding:vif_type": "vrouter",
        "description": "DHCP Server Port",
        "device_id": "0479131c-e828-4721-abaa-a46265518b89",
        "device_owner": "network:dhcp",
        "ese_logical_port_id": null,
        "fake_delete": false,
        "fixed_ips": [
            {
                "ip_address": "10.121.233.2",
                "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
            }
        ],
        "id": "e7894df1-b287-4494-bfe4-d6f989a448d1",
        "mac_address": "00:00:5e:00:01:00",
        "managed_by_service": false,
        "name": "dhcp-server-port",
        "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
        "operational_state": "",
        "orchestration_state": "SYNC_COMPLETE",
        "security_groups": [],
        "segmentation_id": null,
        "segmentation_type": null,
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

-----------------------------------------------
Checking heat-stack (subnets)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/0479131c-e828-4721-abaa-a46265518b89
[localhost] local: heat stack-show subnet_0479131c-e828-4721-abaa-a46265518b89
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                               |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                  |
| creation_time         | 2019-04-02T03:02:48Z                                                                                                                                |
| description           | Subnet template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                |
| id                    | 8b07350b-b855-4af3-89d4-170b71929b95                                                                                                                |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/subnet_0479131c-e828-4721-abaa-a46265518b89/8b07350b-b855-4af3-89d4-170b71929b95 |
| notification_topics   | []                                                                                                                                                  |
| outputs               | [                                                                                                                                                   |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "10.121.233.0/24",                                                                                                              |
|                       |     "description": "IP prefix of local subnet.",                                                                                                    |
|                       |     "output_key": "ip_prefix"                                                                                                                       |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "0479131c-e828-4721-abaa-a46265518b89",                                                                                         |
|                       |     "description": "The name of the local subnet.",                                                                                                 |
|                       |     "output_key": "name"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "10.121.233.1",                                                                                                                 |
|                       |     "description": "Default gateway of local subnet.",                                                                                              |
|                       |     "output_key": "default_gateway"                                                                                                                 |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                         |
|                       |     "description": "A unique id for the network.",                                                                                                  |
|                       |     "output_key": "network_id"                                                                                                                      |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                         |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                  |
|                       |     "output_key": "ipam"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "a6c08aa2-ae64-4bec-b1b6-07501c32b6db",                                                                                         |
|                       |     "description": "A unique id for the local subnet.",                                                                                             |
|                       |     "output_key": "id"                                                                                                                              |
|                       |   }                                                                                                                                                 |
|                       | ]                                                                                                                                                   |
| parameters            | {                                                                                                                                                   |
|                       |   "OS::stack_name": "subnet_0479131c-e828-4721-abaa-a46265518b89",                                                                                  |
|                       |   "enable_dhcp": "True",                                                                                                                            |
|                       |   "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                             |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                    |
|                       |   "dns_nameservers": "0.0.0.0",                                                                                                                     |
|                       |   "dhcp_server_address": "10.121.233.2",                                                                                                            |
|                       |   "OS::stack_id": "8b07350b-b855-4af3-89d4-170b71929b95",                                                                                           |
|                       |   "ntp_servers": "",                                                                                                                                |
|                       |   "allocation_pools": "[{u'start': u'10.121.233.2', u'end': u'10.121.233.254'}]",                                                                   |
|                       |   "gateway_ip": "10.121.233.1",                                                                                                                     |
|                       |   "host_routes": "[]",                                                                                                                              |
|                       |   "cidr": "10.121.233.0/24",                                                                                                                        |
|                       |   "name": "0479131c-e828-4721-abaa-a46265518b89"                                                                                                    |
|                       | }                                                                                                                                                   |
| parent                | None                                                                                                                                                |
| stack_name            | subnet_0479131c-e828-4721-abaa-a46265518b89                                                                                                         |
| stack_owner           | admin                                                                                                                                               |
| stack_status          | CREATE_COMPLETE                                                                                                                                     |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                 |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                    |
| template_description  | Subnet template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                   |
| updated_time          | None                                                                                                                                                |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_0479131c-e828-4721-abaa-a46265518b89
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr:
      - subnet
      - default_gateway
  id:
    description: A unique id for the local subnet.
    value:
      get_resource: subnet
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr:
      - subnet
      - ip_prefix
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr:
      - subnet
      - ipam
  name:
    description: The name of the local subnet.
    value:
      get_attr:
      - subnet
      - name
  network_id:
    description: A unique id for the network.
    value:
      get_attr:
      - subnet
      - network_id
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr:
    description: IP prefix of the local subnet that will be created.
    label: Local Subnet IP prefix
    type: string
  dhcp_server_address:
    default: 0.0.0.0
    description: DHCP Server address
    label: DHCP Server address
    type: string
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp:
    default: true
    description: Enable DHCP
    label: Enable DHCP
    type: boolean
  gateway_ip:
    default: 0.0.0.0
    description: Default gateway for the local subnet that will be created.
    label: Default Gateway
    type: string
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam:
    default: ''
    description: IPAM for the local subnet that will be created.
    label: IP Address Management
    type: string
  name:
    description: Name of the local subnet that will be created.
    label: Local Subnet Name
    type: string
  network_id:
    description: ID of the network for which subnet will be created.
    label: Network ID
    type: string
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools:
        get_param: allocation_pools
      default_gateway:
        get_param: gateway_ip
      dns_nameservers:
        get_param: dns_nameservers
      dns_server_address:
        get_param: dhcp_server_address
      enable_dhcp:
        get_param: enable_dhcp
      gateway_is_vrouter: false
      host_routes:
        get_param: host_routes
      ip_prefix:
        get_param: cidr
      ipam:
        get_param: ipam
      name:
        get_param: name
      network_id:
        get_param: network_id
      ntp_servers:
        get_param: ntp_servers
    type: OS::Contrail::VnSubnet

### Create Subnet ###
name:[adminpod-subnet], id:[35e00dad-ad5e-46a2-b71d-93b4e72800b1]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:02:54.640715  03:02:54.746628  0.105913        POST     201    PENDING_CREATE
03:02:54.746840  03:02:54.837901  0.091061         GET     200    PENDING_CREATE
03:02:55.838054  03:02:56.000159  0.162105         GET     200    PENDING_CREATE
03:02:57.000326  03:02:57.066606  0.066280         GET     200    PENDING_CREATE
03:02:58.066790  03:02:58.117418  0.050628         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.476703


[localhost] local: gohan client subnet show --output-format json 35e00dad-ad5e-46a2-b71d-93b4e72800b1
{
    "subnet": {
        "allocation_pools": [
            {
                "end": "100.64.194.254",
                "start": "100.64.194.2"
            }
        ],
        "cidr": "100.64.194.0/24",
        "description": "adminpod subnet",
        "dhcp_server_address": "100.64.194.2",
        "dns_nameservers": [
            "0.0.0.0"
        ],
        "enable_dhcp": true,
        "gateway_ip": "100.64.194.1",
        "host_routes": [
            {
                "destination": "172.26.10.0/24",
                "nexthop": "100.64.193.1"
            }
        ],
        "id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1",
        "ip_version": 4,
        "ipv6_address_mode": null,
        "ipv6_ra_mode": null,
        "name": "adminpod-subnet",
        "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
        "ntp_servers": [],
        "orchestration_state": "CREATE_COMPLETE",
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

[localhost] local: gohan client port list --output-format json

[localhost] local: gohan client port show --output-format json e32637af-1d9f-4f8a-b1b4-d296ced859e8
{
    "port": {
        "admin_state_up": true,
        "allowed_address_pairs": [],
        "attached": false,
        "binding:vif_type": "vrouter",
        "description": "DHCP Server Port",
        "device_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1",
        "device_owner": "network:dhcp",
        "ese_logical_port_id": null,
        "fake_delete": false,
        "fixed_ips": [
            {
                "ip_address": "100.64.194.2",
                "subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"
            }
        ],
        "id": "e32637af-1d9f-4f8a-b1b4-d296ced859e8",
        "mac_address": "00:00:5e:00:01:00",
        "managed_by_service": false,
        "name": "dhcp-server-port",
        "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
        "operational_state": "",
        "orchestration_state": "SYNC_COMPLETE",
        "security_groups": [],
        "segmentation_id": null,
        "segmentation_type": null,
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

-----------------------------------------------
Checking heat-stack (subnets)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/35e00dad-ad5e-46a2-b71d-93b4e72800b1
[localhost] local: heat stack-show subnet_35e00dad-ad5e-46a2-b71d-93b4e72800b1
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                               |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                  |
| creation_time         | 2019-04-02T03:02:55Z                                                                                                                                |
| description           | Subnet template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                |
| id                    | a3b3e71e-76f3-4ff1-b38b-4fe8de0c1eb8                                                                                                                |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/subnet_35e00dad-ad5e-46a2-b71d-93b4e72800b1/a3b3e71e-76f3-4ff1-b38b-4fe8de0c1eb8 |
| notification_topics   | []                                                                                                                                                  |
| outputs               | [                                                                                                                                                   |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "100.64.194.0/24",                                                                                                              |
|                       |     "description": "IP prefix of local subnet.",                                                                                                    |
|                       |     "output_key": "ip_prefix"                                                                                                                       |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "35e00dad-ad5e-46a2-b71d-93b4e72800b1",                                                                                         |
|                       |     "description": "The name of the local subnet.",                                                                                                 |
|                       |     "output_key": "name"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "100.64.194.1",                                                                                                                 |
|                       |     "description": "Default gateway of local subnet.",                                                                                              |
|                       |     "output_key": "default_gateway"                                                                                                                 |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                         |
|                       |     "description": "A unique id for the network.",                                                                                                  |
|                       |     "output_key": "network_id"                                                                                                                      |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                         |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                  |
|                       |     "output_key": "ipam"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "1fd5c6ce-5612-4844-adf8-0703ce55bb66",                                                                                         |
|                       |     "description": "A unique id for the local subnet.",                                                                                             |
|                       |     "output_key": "id"                                                                                                                              |
|                       |   }                                                                                                                                                 |
|                       | ]                                                                                                                                                   |
| parameters            | {                                                                                                                                                   |
|                       |   "OS::stack_name": "subnet_35e00dad-ad5e-46a2-b71d-93b4e72800b1",                                                                                  |
|                       |   "enable_dhcp": "True",                                                                                                                            |
|                       |   "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                             |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                    |
|                       |   "dns_nameservers": "0.0.0.0",                                                                                                                     |
|                       |   "dhcp_server_address": "100.64.194.2",                                                                                                            |
|                       |   "OS::stack_id": "a3b3e71e-76f3-4ff1-b38b-4fe8de0c1eb8",                                                                                           |
|                       |   "ntp_servers": "",                                                                                                                                |
|                       |   "allocation_pools": "[{u'start': u'100.64.194.2', u'end': u'100.64.194.254'}]",                                                                   |
|                       |   "gateway_ip": "100.64.194.1",                                                                                                                     |
|                       |   "host_routes": "[{\"nexthop\": \"100.64.193.1\", \"destination\": \"172.26.10.0/24\"}]",                                                          |
|                       |   "cidr": "100.64.194.0/24",                                                                                                                        |
|                       |   "name": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"                                                                                                    |
|                       | }                                                                                                                                                   |
| parent                | None                                                                                                                                                |
| stack_name            | subnet_35e00dad-ad5e-46a2-b71d-93b4e72800b1                                                                                                         |
| stack_owner           | admin                                                                                                                                               |
| stack_status          | CREATE_COMPLETE                                                                                                                                     |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                 |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                    |
| template_description  | Subnet template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                   |
| updated_time          | None                                                                                                                                                |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_35e00dad-ad5e-46a2-b71d-93b4e72800b1
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr:
      - subnet
      - default_gateway
  id:
    description: A unique id for the local subnet.
    value:
      get_resource: subnet
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr:
      - subnet
      - ip_prefix
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr:
      - subnet
      - ipam
  name:
    description: The name of the local subnet.
    value:
      get_attr:
      - subnet
      - name
  network_id:
    description: A unique id for the network.
    value:
      get_attr:
      - subnet
      - network_id
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr:
    description: IP prefix of the local subnet that will be created.
    label: Local Subnet IP prefix
    type: string
  dhcp_server_address:
    default: 0.0.0.0
    description: DHCP Server address
    label: DHCP Server address
    type: string
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp:
    default: true
    description: Enable DHCP
    label: Enable DHCP
    type: boolean
  gateway_ip:
    default: 0.0.0.0
    description: Default gateway for the local subnet that will be created.
    label: Default Gateway
    type: string
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam:
    default: ''
    description: IPAM for the local subnet that will be created.
    label: IP Address Management
    type: string
  name:
    description: Name of the local subnet that will be created.
    label: Local Subnet Name
    type: string
  network_id:
    description: ID of the network for which subnet will be created.
    label: Network ID
    type: string
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools:
        get_param: allocation_pools
      default_gateway:
        get_param: gateway_ip
      dns_nameservers:
        get_param: dns_nameservers
      dns_server_address:
        get_param: dhcp_server_address
      enable_dhcp:
        get_param: enable_dhcp
      gateway_is_vrouter: false
      host_routes:
        get_param: host_routes
      ip_prefix:
        get_param: cidr
      ipam:
        get_param: ipam
      name:
        get_param: name
      network_id:
        get_param: network_id
      ntp_servers:
        get_param: ntp_servers
    type: OS::Contrail::VnSubnet

### Create Subnet ###
name:[sample-fw-subnet], id:[8effd73d-925d-4ec9-9cee-8cffc9aafef3]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:03:02.132877  03:03:02.259550  0.126673        POST     201    PENDING_CREATE
03:03:02.261249  03:03:02.374767  0.113518         GET     200    PENDING_CREATE
03:03:03.374913  03:03:03.422795  0.047882         GET     200    PENDING_CREATE
03:03:04.423264  03:03:04.474847  0.051583         GET     200    PENDING_CREATE
03:03:05.475020  03:03:05.517705  0.042685         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 3.384828


[localhost] local: gohan client subnet show --output-format json 8effd73d-925d-4ec9-9cee-8cffc9aafef3
{
    "subnet": {
        "allocation_pools": [
            {
                "end": "10.98.77.254",
                "start": "10.98.77.2"
            }
        ],
        "cidr": "10.98.77.0/24",
        "description": "firewall subnet",
        "dhcp_server_address": "10.98.77.2",
        "dns_nameservers": [
            "0.0.0.0"
        ],
        "enable_dhcp": true,
        "gateway_ip": "10.98.77.1",
        "host_routes": [],
        "id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3",
        "ip_version": 4,
        "ipv6_address_mode": null,
        "ipv6_ra_mode": null,
        "name": "sample-fw-subnet",
        "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
        "ntp_servers": [],
        "orchestration_state": "CREATE_COMPLETE",
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

[localhost] local: gohan client port list --output-format json

[localhost] local: gohan client port show --output-format json f9fbeb5c-6769-43be-9269-f1c1cbb1248a
{
    "port": {
        "admin_state_up": true,
        "allowed_address_pairs": [],
        "attached": false,
        "binding:vif_type": "vrouter",
        "description": "DHCP Server Port",
        "device_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3",
        "device_owner": "network:dhcp",
        "ese_logical_port_id": null,
        "fake_delete": false,
        "fixed_ips": [
            {
                "ip_address": "10.98.77.2",
                "subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3"
            }
        ],
        "id": "f9fbeb5c-6769-43be-9269-f1c1cbb1248a",
        "mac_address": "00:00:5e:00:01:00",
        "managed_by_service": false,
        "name": "dhcp-server-port",
        "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
        "operational_state": "",
        "orchestration_state": "SYNC_COMPLETE",
        "security_groups": [],
        "segmentation_id": null,
        "segmentation_type": null,
        "status": "ACTIVE",
        "tags": {},
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
    }
}

-----------------------------------------------
Checking heat-stack (subnets)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/subnets/8effd73d-925d-4ec9-9cee-8cffc9aafef3
[localhost] local: heat stack-show subnet_8effd73d-925d-4ec9-9cee-8cffc9aafef3
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                               |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                  |
| creation_time         | 2019-04-02T03:03:02Z                                                                                                                                |
| description           | Subnet template                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                |
| id                    | c5072cd7-6051-4d5b-b9d6-9e5d77e7f0c8                                                                                                                |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/subnet_8effd73d-925d-4ec9-9cee-8cffc9aafef3/c5072cd7-6051-4d5b-b9d6-9e5d77e7f0c8 |
| notification_topics   | []                                                                                                                                                  |
| outputs               | [                                                                                                                                                   |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "10.98.77.0/24",                                                                                                                |
|                       |     "description": "IP prefix of local subnet.",                                                                                                    |
|                       |     "output_key": "ip_prefix"                                                                                                                       |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "8effd73d-925d-4ec9-9cee-8cffc9aafef3",                                                                                         |
|                       |     "description": "The name of the local subnet.",                                                                                                 |
|                       |     "output_key": "name"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "10.98.77.1",                                                                                                                   |
|                       |     "description": "Default gateway of local subnet.",                                                                                              |
|                       |     "output_key": "default_gateway"                                                                                                                 |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                         |
|                       |     "description": "A unique id for the network.",                                                                                                  |
|                       |     "output_key": "network_id"                                                                                                                      |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457",                                                                                         |
|                       |     "description": "IPAM this local subnet uses.",                                                                                                  |
|                       |     "output_key": "ipam"                                                                                                                            |
|                       |   },                                                                                                                                                |
|                       |   {                                                                                                                                                 |
|                       |     "output_value": "ac51ac4f-c8ae-4221-a6fe-b5e58fe93a23",                                                                                         |
|                       |     "description": "A unique id for the local subnet.",                                                                                             |
|                       |     "output_key": "id"                                                                                                                              |
|                       |   }                                                                                                                                                 |
|                       | ]                                                                                                                                                   |
| parameters            | {                                                                                                                                                   |
|                       |   "OS::stack_name": "subnet_8effd73d-925d-4ec9-9cee-8cffc9aafef3",                                                                                  |
|                       |   "enable_dhcp": "True",                                                                                                                            |
|                       |   "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                             |
|                       |   "ipam": "default-domain:default-project:default-network-ipam",                                                                                    |
|                       |   "dns_nameservers": "0.0.0.0",                                                                                                                     |
|                       |   "dhcp_server_address": "10.98.77.2",                                                                                                              |
|                       |   "OS::stack_id": "c5072cd7-6051-4d5b-b9d6-9e5d77e7f0c8",                                                                                           |
|                       |   "ntp_servers": "",                                                                                                                                |
|                       |   "allocation_pools": "[{u'start': u'10.98.77.2', u'end': u'10.98.77.254'}]",                                                                       |
|                       |   "gateway_ip": "10.98.77.1",                                                                                                                       |
|                       |   "host_routes": "[]",                                                                                                                              |
|                       |   "cidr": "10.98.77.0/24",                                                                                                                          |
|                       |   "name": "8effd73d-925d-4ec9-9cee-8cffc9aafef3"                                                                                                    |
|                       | }                                                                                                                                                   |
| parent                | None                                                                                                                                                |
| stack_name            | subnet_8effd73d-925d-4ec9-9cee-8cffc9aafef3                                                                                                         |
| stack_owner           | admin                                                                                                                                               |
| stack_status          | CREATE_COMPLETE                                                                                                                                     |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                 |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                    |
| template_description  | Subnet template                                                                                                                                     |
| timeout_mins          | 3                                                                                                                                                   |
| updated_time          | None                                                                                                                                                |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show subnet_8effd73d-925d-4ec9-9cee-8cffc9aafef3
description: 'Subnet template

  '
heat_template_version: '2013-05-23'
outputs:
  default_gateway:
    description: Default gateway of local subnet.
    value:
      get_attr:
      - subnet
      - default_gateway
  id:
    description: A unique id for the local subnet.
    value:
      get_resource: subnet
  ip_prefix:
    description: IP prefix of local subnet.
    value:
      get_attr:
      - subnet
      - ip_prefix
  ipam:
    description: IPAM this local subnet uses.
    value:
      get_attr:
      - subnet
      - ipam
  name:
    description: The name of the local subnet.
    value:
      get_attr:
      - subnet
      - name
  network_id:
    description: A unique id for the network.
    value:
      get_attr:
      - subnet
      - network_id
parameters:
  allocation_pools:
    default: []
    description: Allocation Pools
    label: Allocation Pools
    type: string
  cidr:
    description: IP prefix of the local subnet that will be created.
    label: Local Subnet IP prefix
    type: string
  dhcp_server_address:
    default: 0.0.0.0
    description: DHCP Server address
    label: DHCP Server address
    type: string
  dns_nameservers:
    default: []
    description: DNS Nameservers List
    label: DNS Nameservers List
    type: comma_delimited_list
  enable_dhcp:
    default: true
    description: Enable DHCP
    label: Enable DHCP
    type: boolean
  gateway_ip:
    default: 0.0.0.0
    description: Default gateway for the local subnet that will be created.
    label: Default Gateway
    type: string
  host_routes:
    default: []
    description: Host Routes
    label: Host Routes
    type: json
  ipam:
    default: ''
    description: IPAM for the local subnet that will be created.
    label: IP Address Management
    type: string
  name:
    description: Name of the local subnet that will be created.
    label: Local Subnet Name
    type: string
  network_id:
    description: ID of the network for which subnet will be created.
    label: Network ID
    type: string
  ntp_servers:
    default: []
    description: NTP Nameservers List
    label: NTP Nameservers List
    type: comma_delimited_list
resources:
  subnet:
    properties:
      allocation_pools:
        get_param: allocation_pools
      default_gateway:
        get_param: gateway_ip
      dns_nameservers:
        get_param: dns_nameservers
      dns_server_address:
        get_param: dhcp_server_address
      enable_dhcp:
        get_param: enable_dhcp
      gateway_is_vrouter: false
      host_routes:
        get_param: host_routes
      ip_prefix:
        get_param: cidr
      ipam:
        get_param: ipam
      name:
        get_param: name
      network_id:
        get_param: network_id
      ntp_servers:
        get_param: ntp_servers
    type: OS::Contrail::VnSubnet

### Create Vnf Template ###
name:[vyatta-template-3.5R6], id:[856d0c84-482e-483d-9fec-55a8ce177e11]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
03:03:14.526779  03:03:14.633044  0.106265        POST     201
03:03:14.633230  03:03:14.685886  0.052656         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.159107


[localhost] local: gohan client vnf_template show --output-format json 856d0c84-482e-483d-9fec-55a8ce177e11
{
    "vnf_template": {
        "credentials": {
            "password": "password",
            "username": "vfwadmin"
        },
        "description": "lab3-vyatta-3.5R6_20151204",
        "dummy_networks": [
            "3ad67159-9f73-404a-94da-582bda1641fb"
        ],
        "function": "firewall",
        "id": "856d0c84-482e-483d-9fec-55a8ce177e11",
        "image": "vyatta-0108-2016",
        "init_config": {},
        "management_networks": [
            "690a259f-d2bb-4674-ba29-07b3619cc537"
        ],
        "name": "vyatta-template-3.5R6",
        "security_group": "permit-any",
        "service_network_id": null,
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "user_data_template": "",
        "vendor": "vyatta",
        "version": "3.5R6"
    }
}

### Create Vnf Plan ###
name:[vyatta-2CPU-2IF], id:[e881b86c-4e61-4268-93a9-6b272a48cb6a]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
03:03:20.238217  03:03:20.315400  0.077183        POST     201
03:03:20.315582  03:03:20.400427  0.084845         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.16221


[localhost] local: gohan client vnf_plan show --output-format json e881b86c-4e61-4268-93a9-6b272a48cb6a
{
    "vnf_plan": {
        "default_interface_number": 3,
        "description": "vyatta-2CPU-2IF",
        "flavor": "m1.large",
        "function": "firewall",
        "id": "e881b86c-4e61-4268-93a9-6b272a48cb6a",
        "interface_limit": 3,
        "name": "vyatta-2CPU-2IF",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "vendor": "vyatta"
    }
}

### Create Firewall Plan ###
name:[Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF], id:[3cf84f69-ae2e-47a1-a8f7-31286603d2f6]
-----------------------------------------------------------------
http_request     http_response    response_time   method   code
-----------------------------------------------------------------
03:03:25.985716  03:03:26.167085  0.181369        POST     201
03:03:26.171183  03:03:26.312710  0.141527         GET     200
-----------------------------------------------------------------
Turn Around Time : 0.326994


[localhost] local: gohan client firewall_plan show --output-format json 3cf84f69-ae2e-47a1-a8f7-31286603d2f6
{
    "firewall_plan": {
        "description": "",
        "enabled": true,
        "id": "3cf84f69-ae2e-47a1-a8f7-31286603d2f6",
        "is_public": true,
        "name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "vendor": "vyatta",
        "version": "3.5R6S3-test",
        "vnf_plan_id": "e881b86c-4e61-4268-93a9-6b272a48cb6a",
        "vnf_template_id": "856d0c84-482e-483d-9fec-55a8ce177e11"
    }
}

### Create Firewall ###
name:[], id:[dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:03:31.846328  03:03:32.612779  0.766451        POST     201    PENDING_CREATE
03:03:32.612985  03:03:32.719174  0.106189         GET     200    PENDING_CREATE
03:03:33.719343  03:03:33.796414  0.077071         GET     200    PENDING_CREATE
03:03:34.796675  03:03:34.899027  0.102352         GET     200    PENDING_CREATE
03:03:35.899306  03:03:36.094649  0.195343         GET     200    PENDING_CREATE
03:03:37.094848  03:03:37.196956  0.102108         GET     200    PENDING_CREATE
03:03:38.197346  03:03:38.311163  0.113817         GET     200    PENDING_CREATE
03:03:39.311345  03:03:39.408069  0.096724         GET     200    PENDING_CREATE
03:03:40.408231  03:03:40.498164  0.089933         GET     200    PENDING_CREATE
03:03:41.498347  03:03:41.565257  0.066910         GET     200    PENDING_CREATE
03:03:42.565467  03:03:42.637869  0.072402         GET     200    PENDING_CREATE
03:03:43.638092  03:03:43.759504  0.121412         GET     200    PENDING_CREATE
03:03:44.759709  03:03:44.832363  0.072654         GET     200    PENDING_CREATE
03:03:45.832527  03:03:45.902866  0.070339         GET     200    PENDING_CREATE
03:03:46.903043  03:03:46.975411  0.072368         GET     200    PENDING_CREATE
03:03:47.975600  03:03:48.100687  0.125087         GET     200    PENDING_CREATE
03:03:49.100858  03:03:49.165822  0.064964         GET     200    PENDING_CREATE
03:03:50.166062  03:03:50.337026  0.170964         GET     200    PENDING_CREATE
03:03:51.337211  03:03:51.406807  0.069596         GET     200    PENDING_CREATE
03:03:52.406969  03:03:52.470263  0.063294         GET     200    PENDING_CREATE
03:03:53.470462  03:03:53.535506  0.065044         GET     200    PENDING_CREATE
03:03:54.535695  03:03:54.608237  0.072542         GET     200    PENDING_CREATE
03:03:55.608406  03:03:55.674955  0.066549         GET     200    PENDING_CREATE
03:03:56.676703  03:03:56.757132  0.080429         GET     200    PENDING_CREATE
03:03:57.757443  03:03:57.816140  0.058697         GET     200    PENDING_CREATE
03:03:58.816306  03:03:58.874903  0.058597         GET     200    PENDING_CREATE
03:03:59.875441  03:03:59.946018  0.070577         GET     200    PENDING_CREATE
03:04:00.946638  03:04:01.031519  0.084881         GET     200    PENDING_CREATE
03:04:02.031687  03:04:02.119815  0.088128         GET     200    PENDING_CREATE
03:04:03.119994  03:04:03.184806  0.064812         GET     200    PENDING_CREATE
03:04:04.184972  03:04:04.244465  0.059493         GET     200    PENDING_CREATE
03:04:05.244626  03:04:05.324440  0.079814         GET     200    PENDING_CREATE
03:04:06.324610  03:04:06.398630  0.074020         GET     200    PENDING_CREATE
03:04:07.398974  03:04:07.505497  0.106523         GET     200    PENDING_CREATE
03:04:08.505823  03:04:08.567506  0.061683         GET     200    PENDING_CREATE
03:04:09.567792  03:04:09.627397  0.059605         GET     200    PENDING_CREATE
03:04:10.627716  03:04:10.690755  0.063039         GET     200    PENDING_CREATE
03:04:11.691098  03:04:11.756023  0.064925         GET     200    PENDING_CREATE
03:04:12.756361  03:04:12.843334  0.086973         GET     200    PENDING_CREATE
03:04:13.843635  03:04:13.906330  0.062695         GET     200    PENDING_CREATE
03:04:14.906494  03:04:14.967327  0.060833         GET     200    PENDING_CREATE
03:04:15.967514  03:04:16.057533  0.090019         GET     200    PENDING_CREATE
03:04:17.057849  03:04:17.124134  0.066285         GET     200    PENDING_CREATE
03:04:18.124379  03:04:18.213554  0.089175         GET     200    PENDING_CREATE
03:04:19.213713  03:04:19.297530  0.083817         GET     200    PENDING_CREATE
03:04:20.297697  03:04:20.361789  0.064092         GET     200    PENDING_CREATE
03:04:21.361947  03:04:21.428980  0.067033         GET     200    PENDING_CREATE
03:04:22.429223  03:04:22.499025  0.069802         GET     200    PENDING_CREATE
03:04:23.499197  03:04:23.561569  0.062372         GET     200    PENDING_CREATE
03:04:24.561811  03:04:24.621400  0.059589         GET     200    PENDING_CREATE
03:04:25.621643  03:04:25.683566  0.061923         GET     200    PENDING_CREATE
03:04:26.683829  03:04:26.755922  0.072093         GET     200    PENDING_CREATE
03:04:27.756191  03:04:27.819888  0.063697         GET     200    PENDING_CREATE
03:04:28.820300  03:04:28.878212  0.057912         GET     200    PENDING_CREATE
03:04:29.878370  03:04:29.946250  0.067880         GET     200    PENDING_CREATE
03:04:30.946559  03:04:31.022511  0.075952         GET     200    PENDING_CREATE
03:04:32.022682  03:04:32.110858  0.088176         GET     200    PENDING_CREATE
03:04:33.111758  03:04:33.173005  0.061247         GET     200    PENDING_CREATE
03:04:34.173168  03:04:34.240623  0.067455         GET     200    PENDING_CREATE
03:04:35.240781  03:04:35.302578  0.061797         GET     200    PENDING_CREATE
03:04:36.302743  03:04:36.366797  0.064054         GET     200    PENDING_CREATE
03:04:37.366975  03:04:37.425972  0.058997         GET     200    PENDING_CREATE
03:04:38.426129  03:04:38.503100  0.076971         GET     200    PENDING_CREATE
03:04:39.503260  03:04:39.562234  0.058974         GET     200    PENDING_CREATE
03:04:40.562394  03:04:40.621172  0.058778         GET     200    PENDING_CREATE
03:04:41.621344  03:04:41.679978  0.058634         GET     200    PENDING_CREATE
03:04:42.680145  03:04:42.759228  0.079083         GET     200    PENDING_CREATE
03:04:43.759391  03:04:43.830014  0.070623         GET     200    PENDING_CREATE
03:04:44.830191  03:04:44.910372  0.080181         GET     200    PENDING_CREATE
03:04:45.910562  03:04:45.996420  0.085858         GET     200    PENDING_CREATE
03:04:46.996582  03:04:47.083373  0.086791         GET     200    PENDING_CREATE
03:04:48.083809  03:04:48.161240  0.077431         GET     200    PENDING_CREATE
03:04:49.161374  03:04:49.223612  0.062238         GET     200    PENDING_CREATE
03:04:50.223777  03:04:50.280821  0.057044         GET     200    PENDING_CREATE
03:04:51.280989  03:04:51.341851  0.060862         GET     200    PENDING_CREATE
03:04:52.342009  03:04:52.401599  0.059590         GET     200    PENDING_CREATE
03:04:53.401892  03:04:53.552994  0.151102         GET     200    PENDING_CREATE
03:04:54.553332  03:04:54.614454  0.061122         GET     200    PENDING_CREATE
03:04:55.614629  03:04:55.692885  0.078256         GET     200    PENDING_CREATE
03:04:56.693061  03:04:56.773877  0.080816         GET     200    PENDING_CREATE
03:04:57.774051  03:04:57.875056  0.101005         GET     200    PENDING_CREATE
03:04:58.875231  03:04:58.934618  0.059387         GET     200    PENDING_CREATE
03:04:59.934777  03:04:59.996458  0.061681         GET     200    PENDING_CREATE
03:05:00.996617  03:05:01.060059  0.063442         GET     200    PENDING_CREATE
03:05:02.060220  03:05:02.121416  0.061196         GET     200    PENDING_CREATE
03:05:03.121578  03:05:03.182278  0.060700         GET     200    PENDING_CREATE
03:05:04.182444  03:05:04.245131  0.062687         GET     200    PENDING_CREATE
03:05:05.245287  03:05:05.305678  0.060391         GET     200    PENDING_CREATE
03:05:06.305838  03:05:06.366738  0.060900         GET     200    PENDING_CREATE
03:05:07.366905  03:05:07.434080  0.067175         GET     200    PENDING_CREATE
03:05:08.434237  03:05:08.500861  0.066624         GET     200    PENDING_CREATE
03:05:09.501053  03:05:09.582467  0.081414         GET     200    PENDING_CREATE
03:05:10.582627  03:05:10.642767  0.060140         GET     200    PENDING_CREATE
03:05:11.642972  03:05:11.701638  0.058666         GET     200    PENDING_CREATE
03:05:12.701802  03:05:12.763822  0.062020         GET     200    PENDING_CREATE
03:05:13.763981  03:05:13.825150  0.061169         GET     200    PENDING_CREATE
03:05:14.825316  03:05:14.910085  0.084769         GET     200    PENDING_CREATE
03:05:15.910499  03:05:15.973656  0.063157         GET     200    PENDING_CREATE
03:05:16.974230  03:05:17.038027  0.063797         GET     200    PENDING_CREATE
03:05:18.038221  03:05:18.114708  0.076487         GET     200    PENDING_CREATE
03:05:19.114876  03:05:19.182684  0.067808         GET     200    PENDING_CREATE
03:05:20.182946  03:05:20.247570  0.064624         GET     200    PENDING_CREATE
03:05:21.247742  03:05:21.314892  0.067150         GET     200    PENDING_CREATE
03:05:22.315226  03:05:22.386044  0.070818         GET     200    PENDING_CREATE
03:05:23.386202  03:05:23.445630  0.059428         GET     200    PENDING_CREATE
03:05:24.445916  03:05:24.505523  0.059607         GET     200    PENDING_CREATE
03:05:25.505681  03:05:25.564871  0.059190         GET     200    PENDING_CREATE
03:05:26.565034  03:05:26.641527  0.076493         GET     200    PENDING_CREATE
03:05:27.641691  03:05:27.704121  0.062430         GET     200    PENDING_CREATE
03:05:28.704287  03:05:28.763404  0.059117         GET     200    PENDING_CREATE
03:05:29.763571  03:05:29.842107  0.078536         GET     200    PENDING_CREATE
03:05:30.842273  03:05:30.903609  0.061336         GET     200    PENDING_CREATE
03:05:31.904096  03:05:31.962366  0.058270         GET     200    PENDING_CREATE
03:05:32.962546  03:05:33.024899  0.062353         GET     200    PENDING_CREATE
03:05:34.025066  03:05:34.135871  0.110805         GET     200    PENDING_CREATE
03:05:35.136038  03:05:35.196471  0.060433         GET     200    PENDING_CREATE
03:05:36.196633  03:05:36.301576  0.104943         GET     200    PENDING_CREATE
03:05:37.301742  03:05:37.370313  0.068571         GET     200    PENDING_CREATE
03:05:38.370668  03:05:38.433320  0.062652         GET     200    PENDING_CREATE
03:05:39.433657  03:05:39.496605  0.062948         GET     200    PENDING_CREATE
03:05:40.496982  03:05:40.561061  0.064079         GET     200    PENDING_CREATE
03:05:41.561219  03:05:41.622567  0.061348         GET     200    PENDING_CREATE
03:05:42.622756  03:05:42.685194  0.062438         GET     200    PENDING_CREATE
03:05:43.685356  03:05:43.749018  0.063662         GET     200    PENDING_CREATE
03:05:44.749189  03:05:44.814224  0.065035         GET     200    PENDING_CREATE
03:05:45.814383  03:05:45.901000  0.086617         GET     200    PENDING_CREATE
03:05:46.901195  03:05:46.986071  0.084876         GET     200    PENDING_CREATE
03:05:47.986259  03:05:48.124155  0.137896         GET     200    PENDING_CREATE
03:05:49.124367  03:05:49.183701  0.059334         GET     200    PENDING_CREATE
03:05:50.183882  03:05:50.242147  0.058265         GET     200    PENDING_CREATE
03:05:51.242393  03:05:51.300692  0.058299         GET     200    PENDING_CREATE
03:05:52.300857  03:05:52.361906  0.061049         GET     200    PENDING_CREATE
03:05:53.362070  03:05:53.428248  0.066178         GET     200    PENDING_CREATE
03:05:54.428422  03:05:54.489505  0.061083         GET     200    PENDING_CREATE
03:05:55.489737  03:05:55.550145  0.060408         GET     200    PENDING_CREATE
03:05:56.550364  03:05:56.607471  0.057107         GET     200    PENDING_CREATE
03:05:57.607629  03:05:57.670201  0.062572         GET     200    PENDING_CREATE
03:05:58.670357  03:05:58.748738  0.078381         GET     200    PENDING_CREATE
03:05:59.748901  03:05:59.816477  0.067576         GET     200    PENDING_CREATE
03:06:00.816642  03:06:00.878807  0.062165         GET     200    PENDING_CREATE
03:06:01.878971  03:06:01.939607  0.060636         GET     200    PENDING_CREATE
03:06:02.939771  03:06:03.002930  0.063159         GET     200    PENDING_CREATE
03:06:04.003097  03:06:04.102358  0.099261         GET     200    PENDING_CREATE
03:06:05.102520  03:06:05.168501  0.065981         GET     200    PENDING_CREATE
03:06:06.168664  03:06:06.231076  0.062412         GET     200    PENDING_CREATE
03:06:07.231247  03:06:07.294051  0.062804         GET     200    PENDING_CREATE
03:06:08.294208  03:06:08.356830  0.062622         GET     200    PENDING_CREATE
03:06:09.356996  03:06:09.417113  0.060117         GET     200    PENDING_CREATE
03:06:10.417283  03:06:10.482352  0.065069         GET     200    PENDING_CREATE
03:06:11.482518  03:06:11.547859  0.065341         GET     200    PENDING_CREATE
03:06:12.548036  03:06:12.618900  0.070864         GET     200    PENDING_CREATE
03:06:13.619068  03:06:13.678139  0.059071         GET     200    PENDING_CREATE
03:06:14.678552  03:06:14.738703  0.060151         GET     200    PENDING_CREATE
03:06:15.739094  03:06:15.799057  0.059963         GET     200    PENDING_CREATE
03:06:16.799398  03:06:16.856562  0.057164         GET     200    PENDING_CREATE
03:06:17.856798  03:06:17.918814  0.062016         GET     200    PENDING_CREATE
03:06:18.918973  03:06:18.975976  0.057003         GET     200    PENDING_CREATE
03:06:19.976136  03:06:20.063074  0.086938         GET     200    PENDING_CREATE
03:06:21.063535  03:06:21.128763  0.065228         GET     200    PENDING_CREATE
03:06:22.129062  03:06:22.196417  0.067355         GET     200    PENDING_CREATE
03:06:23.196578  03:06:23.289724  0.093146         GET     200    PENDING_CREATE
03:06:24.290014  03:06:24.371570  0.081556         GET     200    PENDING_CREATE
03:06:25.371734  03:06:25.434243  0.062509         GET     200    PENDING_CREATE
03:06:26.434401  03:06:26.496760  0.062359         GET     200    PENDING_CREATE
03:06:27.497283  03:06:27.558589  0.061306         GET     200    PENDING_CREATE
03:06:28.558750  03:06:28.621260  0.062510         GET     200    PENDING_CREATE
03:06:29.621448  03:06:29.689970  0.068522         GET     200    PENDING_CREATE
03:06:30.690244  03:06:30.753397  0.063153         GET     200    PENDING_CREATE
03:06:31.753565  03:06:31.813400  0.059835         GET     200    PENDING_CREATE
03:06:32.813567  03:06:32.874492  0.060925         GET     200    PENDING_CREATE
03:06:33.874656  03:06:33.937451  0.062795         GET     200    PENDING_CREATE
03:06:34.937619  03:06:34.998202  0.060583         GET     200    PENDING_CREATE
03:06:35.998372  03:06:36.125364  0.126992         GET     200    PENDING_CREATE
03:06:37.125554  03:06:37.211816  0.086262         GET     200    PENDING_CREATE
03:06:38.211975  03:06:38.280917  0.068942         GET     200    PENDING_CREATE
03:06:39.281088  03:06:39.340944  0.059856         GET     200    PENDING_CREATE
03:06:40.341278  03:06:40.400170  0.058892         GET     200    PENDING_CREATE
03:06:41.400496  03:06:41.462528  0.062032         GET     200    PENDING_CREATE
03:06:42.462685  03:06:42.521570  0.058885         GET     200    PENDING_CREATE
03:06:43.521732  03:06:43.582884  0.061152         GET     200    PENDING_CREATE
03:06:44.583196  03:06:44.642796  0.059600         GET     200    PENDING_CREATE
03:06:45.642970  03:06:45.800283  0.157313         GET     200    PENDING_CREATE
03:06:46.800601  03:06:46.862028  0.061427         GET     200    PENDING_CREATE
03:06:47.862387  03:06:47.927864  0.065477         GET     200    PENDING_CREATE
03:06:48.928034  03:06:49.000597  0.072563         GET     200    PENDING_CREATE
03:06:50.000900  03:06:50.118996  0.118096         GET     200    PENDING_CREATE
03:06:51.119163  03:06:51.181822  0.062659         GET     200    PENDING_CREATE
03:06:52.182083  03:06:52.246078  0.063995         GET     200    PENDING_CREATE
03:06:53.246447  03:06:53.305404  0.058957         GET     200    PENDING_CREATE
03:06:54.305567  03:06:54.367038  0.061471         GET     200    PENDING_CREATE
03:06:55.367197  03:06:55.432041  0.064844         GET     200    PENDING_CREATE
03:06:56.432607  03:06:56.494705  0.062098         GET     200    PENDING_CREATE
03:06:57.494868  03:06:57.560820  0.065952         GET     200    PENDING_CREATE
03:06:58.560982  03:06:58.620807  0.059825         GET     200    PENDING_CREATE
03:06:59.621417  03:06:59.681069  0.059652         GET     200    PENDING_CREATE
03:07:00.681411  03:07:00.749208  0.067797         GET     200    PENDING_CREATE
03:07:01.749567  03:07:01.810406  0.060839         GET     200    PENDING_CREATE
03:07:02.810767  03:07:02.870274  0.059507         GET     200    PENDING_CREATE
03:07:03.870448  03:07:03.931863  0.061415         GET     200    PENDING_CREATE
03:07:04.932212  03:07:04.991563  0.059351         GET     200    PENDING_CREATE
03:07:05.991901  03:07:06.108205  0.116304         GET     200    PENDING_CREATE
03:07:07.108368  03:07:07.216494  0.108126         GET     200    PENDING_CREATE
03:07:08.216650  03:07:08.277002  0.060352         GET     200    PENDING_CREATE
03:07:09.277162  03:07:09.338515  0.061353         GET     200    PENDING_CREATE
03:07:10.338681  03:07:10.401636  0.062955         GET     200    PENDING_CREATE
03:07:11.401799  03:07:11.459673  0.057874         GET     200    PENDING_CREATE
03:07:12.459836  03:07:12.532148  0.072312         GET     200    PENDING_CREATE
03:07:13.532355  03:07:13.604197  0.071842         GET     200    PENDING_CREATE
03:07:14.604558  03:07:14.671923  0.067365         GET     200    PENDING_CREATE
03:07:15.672352  03:07:15.747027  0.074675         GET     200    PENDING_CREATE
03:07:16.747268  03:07:16.808778  0.061510         GET     200    PENDING_CREATE
03:07:17.809016  03:07:17.892169  0.083153         GET     200    PENDING_CREATE
03:07:18.892452  03:07:18.955295  0.062843         GET     200    PENDING_CREATE
03:07:19.955541  03:07:20.018234  0.062693         GET     200    PENDING_CREATE
03:07:21.018398  03:07:21.082504  0.064106         GET     200    PENDING_CREATE
03:07:22.082663  03:07:22.162069  0.079406         GET     200    PENDING_CREATE
03:07:23.162305  03:07:23.219934  0.057629         GET     200    PENDING_CREATE
03:07:24.220177  03:07:24.282338  0.062161         GET     200    PENDING_CREATE
03:07:25.282605  03:07:25.355173  0.072568         GET     200    PENDING_CREATE
03:07:26.355410  03:07:26.442633  0.087223         GET     200    PENDING_CREATE
03:07:27.442897  03:07:27.501753  0.058856         GET     200    PENDING_CREATE
03:07:28.501973  03:07:28.563474  0.061501         GET     200    PENDING_CREATE
03:07:29.563640  03:07:29.627617  0.063977         GET     200    PENDING_CREATE
03:07:30.627777  03:07:30.693388  0.065611         GET     200    PENDING_CREATE
03:07:31.693545  03:07:31.760655  0.067110         GET     200    PENDING_CREATE
03:07:32.760817  03:07:32.821003  0.060186         GET     200    PENDING_CREATE
03:07:33.821167  03:07:33.887627  0.066460         GET     200    PENDING_CREATE
03:07:34.887788  03:07:34.948799  0.061011         GET     200    PENDING_CREATE
03:07:35.948959  03:07:36.011883  0.062924         GET     200    PENDING_CREATE
03:07:37.012054  03:07:37.084551  0.072497         GET     200    PENDING_CREATE
03:07:38.084729  03:07:38.150300  0.065571         GET     200    PENDING_CREATE
03:07:39.150545  03:07:39.212931  0.062386         GET     200    PENDING_CREATE
03:07:40.213088  03:07:40.277142  0.064054         GET     200    PENDING_CREATE
03:07:41.277393  03:07:41.339609  0.062216         GET     200    PENDING_CREATE
03:07:42.339772  03:07:42.400922  0.061150         GET     200    PENDING_CREATE
03:07:43.401087  03:07:43.463377  0.062290         GET     200    PENDING_CREATE
03:07:44.463538  03:07:44.523850  0.060312         GET     200    PENDING_CREATE
03:07:45.524010  03:07:45.583457  0.059447         GET     200    PENDING_CREATE
03:07:46.583618  03:07:46.647684  0.064066         GET     200    PENDING_CREATE
03:07:47.647853  03:07:47.710779  0.062926         GET     200    PENDING_CREATE
03:07:48.710947  03:07:48.773354  0.062407         GET     200    PENDING_CREATE
03:07:49.773520  03:07:49.913313  0.139793         GET     200    PENDING_CREATE
03:07:50.913470  03:07:50.991003  0.077533         GET     200    PENDING_CREATE
03:07:51.991169  03:07:52.088911  0.097742         GET     200    PENDING_CREATE
03:07:53.089071  03:07:53.153076  0.064005         GET     200    PENDING_CREATE
03:07:54.153942  03:07:54.243038  0.089096         GET     200    PENDING_CREATE
03:07:55.243215  03:07:55.307324  0.064109         GET     200    PENDING_CREATE
03:07:56.307480  03:07:56.360889  0.053409         GET     200    PENDING_CREATE
03:07:57.361074  03:07:57.423324  0.062250         GET     200    PENDING_CREATE
03:07:58.423503  03:07:58.480944  0.057441         GET     200    PENDING_CREATE
03:07:59.481101  03:07:59.562822  0.081721         GET     200    PENDING_CREATE
03:08:00.562985  03:08:00.655125  0.092140         GET     200    PENDING_CREATE
03:08:01.655375  03:08:01.728510  0.073135         GET     200    PENDING_CREATE
03:08:02.728685  03:08:02.821861  0.093176         GET     200    PENDING_CREATE
03:08:03.822024  03:08:03.893036  0.071012         GET     200    PENDING_CREATE
03:08:04.893228  03:08:05.025614  0.132386         GET     200    PENDING_CREATE
03:08:06.025782  03:08:06.120489  0.094707         GET     200    PENDING_CREATE
03:08:07.120665  03:08:07.201844  0.081179         GET     200    PENDING_CREATE
03:08:08.202001  03:08:08.269013  0.067012         GET     200    PENDING_CREATE
03:08:09.269171  03:08:09.328511  0.059340         GET     200    PENDING_CREATE
03:08:10.328694  03:08:10.392883  0.064189         GET     200    PENDING_CREATE
03:08:11.393071  03:08:11.453829  0.060758         GET     200    PENDING_CREATE
03:08:12.454004  03:08:12.524535  0.070531         GET     200    PENDING_CREATE
03:08:13.524701  03:08:13.583831  0.059130         GET     200    PENDING_CREATE
03:08:14.583994  03:08:14.642768  0.058774         GET     200    PENDING_CREATE
03:08:15.642928  03:08:15.714003  0.071075         GET     200    PENDING_CREATE
03:08:16.714149  03:08:16.803842  0.089693         GET     200    PENDING_CREATE
03:08:17.803999  03:08:17.996498  0.192499         GET     200    PENDING_CREATE
03:08:18.996674  03:08:19.057673  0.060999         GET     200    PENDING_CREATE
03:08:20.057911  03:08:20.141519  0.083608         GET     200    PENDING_CREATE
03:08:21.141826  03:08:21.250287  0.108461         GET     200    PENDING_CREATE
03:08:22.250499  03:08:22.320929  0.070430         GET     200    PENDING_CREATE
03:08:23.321113  03:08:23.384479  0.063366         GET     200    PENDING_CREATE
03:08:24.384638  03:08:24.457787  0.073149         GET     200    PENDING_CREATE
03:08:25.457965  03:08:25.524492  0.066527         GET     200    PENDING_CREATE
03:08:26.524648  03:08:26.586801  0.062153         GET     200    PENDING_CREATE
03:08:27.586980  03:08:27.664399  0.077419         GET     200    PENDING_CREATE
03:08:28.664608  03:08:28.805198  0.140590         GET     200    PENDING_CREATE
03:08:29.805392  03:08:29.885179  0.079787         GET     200    PENDING_CREATE
03:08:30.885388  03:08:30.975961  0.090573         GET     200    PENDING_CREATE
03:08:31.976144  03:08:32.126092  0.149948         GET     200    PENDING_CREATE
03:08:33.126259  03:08:33.189878  0.063619         GET     200    PENDING_CREATE
03:08:34.190060  03:08:34.253764  0.063704         GET     200    PENDING_CREATE
03:08:35.253920  03:08:35.322982  0.069062         GET     200    PENDING_CREATE
03:08:36.323148  03:08:36.386201  0.063053         GET     200    PENDING_CREATE
03:08:37.386369  03:08:37.448554  0.062185         GET     200    PENDING_CREATE
03:08:38.448715  03:08:38.513695  0.064980         GET     200    PENDING_CREATE
03:08:39.513928  03:08:39.575768  0.061840         GET     200    PENDING_CREATE
03:08:40.576064  03:08:40.638558  0.062494         GET     200    PENDING_CREATE
03:08:41.638733  03:08:41.700638  0.061905         GET     200    PENDING_CREATE
03:08:42.700803  03:08:42.763587  0.062784         GET     200    PENDING_CREATE
03:08:43.763742  03:08:43.830334  0.066592         GET     200    PENDING_CREATE
03:08:44.830494  03:08:44.895373  0.064879         GET     200    PENDING_CREATE
03:08:45.895540  03:08:45.960468  0.064928         GET     200    PENDING_CREATE
03:08:46.960630  03:08:47.029469  0.068839         GET     200    PENDING_CREATE
03:08:48.029632  03:08:48.121306  0.091674         GET     200    PENDING_CREATE
03:08:49.121466  03:08:49.183290  0.061824         GET     200    PENDING_CREATE
03:08:50.183463  03:08:50.246178  0.062715         GET     200    PENDING_CREATE
03:08:51.246345  03:08:51.389691  0.143346         GET     200    PENDING_CREATE
03:08:52.389858  03:08:52.451453  0.061595         GET     200    PENDING_CREATE
03:08:53.451620  03:08:53.538881  0.087261         GET     200    PENDING_CREATE
03:08:54.539062  03:08:54.600402  0.061340         GET     200    PENDING_CREATE
03:08:55.600568  03:08:55.663533  0.062965         GET     200    PENDING_CREATE
03:08:56.663694  03:08:56.740302  0.076608         GET     200    PENDING_CREATE
03:08:57.740489  03:08:57.805323  0.064834         GET     200    PENDING_CREATE
03:08:58.805497  03:08:58.871947  0.066450         GET     200    PENDING_CREATE
03:08:59.872492  03:08:59.932006  0.059514         GET     200    PENDING_CREATE
03:09:00.932202  03:09:00.994367  0.062165         GET     200    PENDING_CREATE
03:09:01.994528  03:09:02.115482  0.120954         GET     200    PENDING_CREATE
03:09:03.115645  03:09:03.180573  0.064928         GET     200    PENDING_CREATE
03:09:04.180876  03:09:04.242436  0.061560         GET     200    PENDING_CREATE
03:09:05.242726  03:09:05.308355  0.065629         GET     200    PENDING_CREATE
03:09:06.308668  03:09:06.378067  0.069399         GET     200    PENDING_CREATE
03:09:07.378384  03:09:07.439869  0.061485         GET     200    PENDING_CREATE
03:09:08.440027  03:09:08.502872  0.062845         GET     200    PENDING_CREATE
03:09:09.503032  03:09:09.563670  0.060638         GET     200    PENDING_CREATE
03:09:10.563826  03:09:10.620888  0.057062         GET     200    PENDING_CREATE
03:09:11.621046  03:09:11.727700  0.106654         GET     200    PENDING_CREATE
03:09:12.727860  03:09:12.786626  0.058766         GET     200    PENDING_CREATE
03:09:13.786788  03:09:13.857546  0.070758         GET     200    PENDING_CREATE
03:09:14.857730  03:09:14.919031  0.061301         GET     200    PENDING_CREATE
03:09:15.919319  03:09:15.981421  0.062102         GET     200    PENDING_CREATE
03:09:16.981684  03:09:17.049109  0.067425         GET     200    PENDING_CREATE
03:09:18.049408  03:09:18.123742  0.074334         GET     200    PENDING_CREATE
03:09:19.124033  03:09:19.184782  0.060749         GET     200    PENDING_CREATE
03:09:20.184939  03:09:20.246948  0.062009         GET     200    PENDING_CREATE
03:09:21.247110  03:09:21.308355  0.061245         GET     200    PENDING_CREATE
03:09:22.308651  03:09:22.371251  0.062600         GET     200    PENDING_CREATE
03:09:23.371411  03:09:23.429433  0.058022         GET     200    PENDING_CREATE
03:09:24.429595  03:09:24.486947  0.057352         GET     200    PENDING_CREATE
03:09:25.487108  03:09:25.545523  0.058415         GET     200    PENDING_CREATE
03:09:26.545682  03:09:26.604455  0.058773         GET     200    PENDING_CREATE
03:09:27.604906  03:09:27.671919  0.067013         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 355.825591


[localhost] local: gohan client firewall show --output-format json dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
{
    "firewall": {
        "admin_username": "user-admin",
        "availability_zone": "nova",
        "default_gateway": "192.168.1.1",
        "description": "",
        "firewall_plan_id": "3cf84f69-ae2e-47a1-a8f7-31286603d2f6",
        "id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
        "interfaces": [
            {
                "id": "e262b311-b17e-442b-adb1-41e93117067d",
                "ip_address": "100.64.194.3",
                "name": "dp0s3",
                "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
                "operational_state": "NO_STATE",
                "orchestration_state": "CREATE_COMPLETE",
                "slot_number": 0,
                "status": "PENDING_CREATE",
                "type": "management",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad"
            },
            {
                "id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82",
                "ip_address": null,
                "name": "dp0s4",
                "network_id": null,
                "operational_state": "NO_STATE",
                "orchestration_state": "CREATE_COMPLETE",
                "slot_number": 1,
                "status": "PENDING_CREATE",
                "type": "user",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d"
            },
            {
                "id": "69718be2-0ae7-4601-bead-face902fe88e",
                "ip_address": null,
                "name": "dp0s5",
                "network_id": null,
                "operational_state": "NO_STATE",
                "orchestration_state": "CREATE_COMPLETE",
                "slot_number": 2,
                "status": "PENDING_CREATE",
                "type": "user",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "3c6c8dcb-16f5-4523-90d0-f06295670928"
            }
        ],
        "name": "",
        "networks": [
            {
                "ifname": "dp0s4",
                "type": "disable"
            },
            {
                "ifname": "dp0s5",
                "type": "disable"
            }
        ],
        "operational_state": "UP",
        "orchestration_state": "CREATE_COMPLETE",
        "other_username": "",
        "status": "ACTIVE",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "user_username": "user-read",
        "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
    }
}

... sleep 30 sec
-----------------------------------------------
Checking heat-stack (firewalls)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewalls/dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
[localhost] local: heat stack-show firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                 |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                    |
| creation_time         | 2019-04-02T03:08:25Z                                                                                                                                  |
| description           | Vyatta Firewall Configuration                                                                                                                         |
| disable_rollback      | True                                                                                                                                                  |
| id                    | 194ff29f-3d1d-4f41-8ecf-0dd7dc833161                                                                                                                  |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc/194ff29f-3d1d-4f41-8ecf-0dd7dc833161 |
| notification_topics   | []                                                                                                                                                    |
| outputs               | [                                                                                                                                                     |
|                       |   {                                                                                                                                                   |
|                       |     "output_value": "ab9060ab-d525-4312-ad9f-36eaa467d77e",                                                                                           |
|                       |     "description": "Monitoring Target ID",                                                                                                            |
|                       |     "output_key": "monitoring_target_id"                                                                                                              |
|                       |   },                                                                                                                                                  |
|                       |   {                                                                                                                                                   |
|                       |     "output_value": "http://collector-agents-se:7070/targets/ab9060ab-d525-4312-ad9f-36eaa467d77e",                                                   |
|                       |     "description": "Monitoring Process Link",                                                                                                         |
|                       |     "output_key": "monitoring_link"                                                                                                                   |
|                       |   }                                                                                                                                                   |
|                       | ]                                                                                                                                                     |
| parameters            | {                                                                                                                                                     |
|                       |   "OS::stack_id": "194ff29f-3d1d-4f41-8ecf-0dd7dc833161",                                                                                             |
|                       |   "OS::stack_name": "firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                  |
|                       |   "default_gateway": "192.168.1.1",                                                                                                                   |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                    |
|                       |   "user_password": "******",                                                                                                                          |
|                       |   "other_username": "",                                                                                                                               |
|                       |   "admin_username": "user-admin",                                                                                                                     |
|                       |   "user_username": "user-read",                                                                                                                       |
|                       |   "management_ip": "100.64.194.3",                                                                                                                    |
|                       |   "version": "1",                                                                                                                                     |
|                       |   "other_password": "******",                                                                                                                         |
|                       |   "admin_password": "******",                                                                                                                         |
|                       |   "credentials": "{\"username\": \"vfwadmin\", \"password\": \"password\"}",                                                                          |
|                       |   "gohan_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                                 |
|                       |   "networks": "[{\"ifname\": \"dp0s4\", \"type\": \"disable\"}, {\"ifname\": \"dp0s5\", \"type\": \"disable\"}]"                                      |
|                       | }                                                                                                                                                     |
| parent                | None                                                                                                                                                  |
| stack_name            | firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc                                                                                                         |
| stack_owner           | admin                                                                                                                                                 |
| stack_status          | CREATE_COMPLETE                                                                                                                                       |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                   |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                      |
| template_description  | Vyatta Firewall Configuration                                                                                                                         |
| timeout_mins          | 13                                                                                                                                                    |
| updated_time          | None                                                                                                                                                  |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
description: Vyatta Firewall Configuration
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_device_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_device_monitor
parameters:
  admin_password:
    default: ''
    hidden: true
    type: string
  admin_username:
    type: string
  credentials:
    type: json
  default_gateway:
    default: ''
    type: string
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  networks:
    type: json
  other_password:
    default: ''
    hidden: true
    type: string
  other_username:
    default: ''
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  user_password:
    default: ''
    hidden: true
    type: string
  user_username:
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_device_monitor:
    depends_on: server
    properties:
      field_name: firewall
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
      resource_id:
        get_param: gohan_id
      resource_type: firewalls
      syncer_properties:
        etcd:
          status:
            key: firewall
        tsdb:
          cpu.idle:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: idle
          cpu.system:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: system
          cpu.user:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: user
          memory.available:
            metric: memory.kbytes
            tags:
              resource_id:
                get_param: gohan_id
              type: available
          memory.total:
            metric: memory.kbytes
            tags:
              resource_id:
                get_param: gohan_id
              type: total
          tcp.active:
            metric: tcp.connections
            tags:
              open: active
              resource_id:
                get_param: gohan_id
          tcp.passive:
            metric: tcp.connections
            tags:
              open: passive
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_device_fw
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget
  server:
    properties:
      admin_password:
        get_param: admin_password
      admin_username:
        get_param: admin_username
      credentials:
        get_param: credentials
      default_gateway:
        get_param: default_gateway
      management_ip:
        get_param: management_ip
      networks:
        get_param: networks
      other_password:
        get_param: other_password
      other_username:
        get_param: other_username
      user_password:
        get_param: user_password
      user_username:
        get_param: user_username
    type: ESI::VNF::VyattaConfig

[localhost] local: gohan client vnf_instance list --output-format json

[localhost] local: gohan client vnf_instance show --output-format json c10935ab-768a-4901-8953-11f9d3987949
{
    "vnf_instance": {
        "availability_zone": "nova",
        "config_drive": false,
        "description": null,
        "id": "c10935ab-768a-4901-8953-11f9d3987949",
        "management_ip": "100.64.194.3",
        "name": "firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
        "networks": [
            {
                "port": "47c9831b-b346-4317-bc44-f942ecaee54c"
            },
            {
                "port": "160234ca-2b72-4029-b3ff-8c83d82b9c5a"
            },
            {
                "port": "47c97a61-e3e8-403a-b662-a117935c7a02"
            }
        ],
        "operational_state": "UP",
        "orchestration_state": "CREATE_COMPLETE",
        "owner_tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "reboot": "",
        "status": "ACTIVE",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "user_data": "",
        "user_data_format": "RAW",
        "user_data_parameters": {},
        "vnf_plan_id": "e881b86c-4e61-4268-93a9-6b272a48cb6a",
        "vnf_template_id": "856d0c84-482e-483d-9fec-55a8ce177e11"
    }
}

-----------------------------------------------
Checking heat-stack (vnf_instances)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/c10935ab-768a-4901-8953-11f9d3987949
[localhost] local: heat stack-show vnf_instance_c10935ab-768a-4901-8953-11f9d3987949
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                   |
| creation_time         | 2019-04-02T03:03:36Z                                                                                                                                                                 |
| description           | VNF Instance                                                                                                                                                                         |
| disable_rollback      | True                                                                                                                                                                                 |
| id                    | 127f7469-3a80-41f9-b71d-c8f8bcc80d33                                                                                                                                                 |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/vnf_instance_c10935ab-768a-4901-8953-11f9d3987949/127f7469-3a80-41f9-b71d-c8f8bcc80d33                            |
| notification_topics   | []                                                                                                                                                                                   |
| outputs               | [                                                                                                                                                                                    |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                                                          |
|                       |     "description": "A unique id for the nova server.",                                                                                                                               |
|                       |     "output_key": "server_id"                                                                                                                                                        |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "87d5daf6-1d32-454b-ba13-cb1d057242be",                                                                                                                          |
|                       |     "description": "Monitoring Target ID",                                                                                                                                           |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "http://collector-agents-se:7070/targets/87d5daf6-1d32-454b-ba13-cb1d057242be",                                                                                  |
|                       |     "description": "Monitoring Process Link",                                                                                                                                        |
|                       |     "output_key": "monitoring_link"                                                                                                                                                  |
|                       |   }                                                                                                                                                                                  |
|                       | ]                                                                                                                                                                                    |
| parameters            | {                                                                                                                                                                                    |
|                       |   "user_data_format": "RAW",                                                                                                                                                         |
|                       |   "OS::stack_id": "127f7469-3a80-41f9-b71d-c8f8bcc80d33",                                                                                                                            |
|                       |   "OS::stack_name": "vnf_instance_c10935ab-768a-4901-8953-11f9d3987949",                                                                                                             |
|                       |   "availability_zone": "nova",                                                                                                                                                       |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                                                   |
|                       |   "image": "vyatta-0108-2016",                                                                                                                                                       |
|                       |   "reboot": "",                                                                                                                                                                      |
|                       |   "user_data": "",                                                                                                                                                                   |
|                       |   "version": "1",                                                                                                                                                                    |
|                       |   "gohan_id": "c10935ab-768a-4901-8953-11f9d3987949",                                                                                                                                |
|                       |   "flavor": "m1.large",                                                                                                                                                              |
|                       |   "name": "firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                                                           |
|                       |   "networks": "[{\"port\": \"47c9831b-b346-4317-bc44-f942ecaee54c\"}, {\"port\": \"160234ca-2b72-4029-b3ff-8c83d82b9c5a\"}, {\"port\": \"47c97a61-e3e8-403a-b662-a117935c7a02\"}]",  |
|                       |   "config_drive": "False"                                                                                                                                                            |
|                       | }                                                                                                                                                                                    |
| parent                | None                                                                                                                                                                                 |
| stack_name            | vnf_instance_c10935ab-768a-4901-8953-11f9d3987949                                                                                                                                    |
| stack_owner           | admin                                                                                                                                                                                |
| stack_status          | CREATE_COMPLETE                                                                                                                                                                      |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                                                  |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                                     |
| template_description  | VNF Instance                                                                                                                                                                         |
| timeout_mins          | 30                                                                                                                                                                                   |
| updated_time          | None                                                                                                                                                                                 |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show vnf_instance_c10935ab-768a-4901-8953-11f9d3987949
description: VNF Instance
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - server_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: server_monitor
  server_id:
    description: A unique id for the nova server.
    value:
      get_resource: server
parameters:
  availability_zone:
    default: ''
    type: string
  config_drive:
    type: boolean
  flavor:
    constraints:
    - custom_constraint: nova.flavor
    type: string
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  image:
    constraints:
    - custom_constraint: glance.image
    type: string
  name:
    default: ''
    type: string
  networks:
    type: json
  reboot:
    default: ''
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  user_data:
    default: ''
    type: string
  user_data_format:
    type: string
  version:
    label: Config version
    type: number
resources:
  server:
    properties:
      availability_zone:
        get_param: availability_zone
      config_drive:
        get_param: config_drive
      flavor:
        get_param: flavor
      image:
        get_param: image
      name:
        get_param: name
      networks:
        get_param: networks
      reboot:
        get_param: reboot
      user_data:
        get_param: user_data
      user_data_format:
        get_param: user_data_format
    type: ESI::VNF::Instance
  server_monitor:
    depends_on: server
    properties:
      field_name: server
      properties:
        server_id:
          get_resource: server
      resource_id:
        get_param: gohan_id
      resource_type: vnf_instances
      syncer_properties:
        etcd:
          status:
            key: server
      tenant_id:
        get_param: tenant_id
      type: compute
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/c10935ab-768a-4901-8953-11f9d3987949
-----------------------------------------------
Checking nova instance_info
-----------------------------------------------
[localhost] local: nova show dab11f56-f0f2-4cac-bee6-6cec5038458c
+--------------------------------------+----------------------------------------------------------+
| Property                             | Value                                                    |
+--------------------------------------+----------------------------------------------------------+
| OS-DCF:diskConfig                    | MANUAL                                                   |
| OS-EXT-AZ:availability_zone          | nova                                                     |
| OS-EXT-SRV-ATTR:host                 | nova-server                                              |
| OS-EXT-SRV-ATTR:hypervisor_hostname  | nova-server                                              |
| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |
| OS-EXT-STS:power_state               | 1                                                        |
| OS-EXT-STS:task_state                | -                                                        |
| OS-EXT-STS:vm_state                  | active                                                   |
| OS-SRV-USG:launched_at               | 2019-04-02T03:03:43.000000                               |
| OS-SRV-USG:terminated_at             | -                                                        |
| accessIPv4                           |                                                          |
| accessIPv6                           |                                                          |
| adminpod-net network                 | 100.64.194.3                                             |
| config_drive                         |                                                          |
| created                              | 2019-04-02T03:03:41Z                                     |
| dummy-net network                    | 10.121.233.3, 10.121.233.4                               |
| flavor                               | m1.large (4)                                             |
| hostId                               | 4f4fbb86d429cec49e95d62cb55cc424096b58690396c7d4ca0ca65b |
| id                                   | dab11f56-f0f2-4cac-bee6-6cec5038458c                     |
| image                                | vyatta-0108-2016 (9fc4bb4b-a95d-4d86-8510-8679969d969b)  |
| key_name                             | -                                                        |
| metadata                             | {}                                                       |
| name                                 | firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc            |
| os-extended-volumes:volumes_attached | []                                                       |
| progress                             | 0                                                        |
| status                               | ACTIVE                                                   |
| tenant_id                            | d2a4608bbd28402196acdba7a1632daf                         |
| updated                              | 2019-04-02T03:08:18Z                                     |
| user_id                              | 4763e26949b143fcab1ea1b20e9a8490                         |
+--------------------------------------+----------------------------------------------------------+

-----------------------------------------------
Checking nova interface_list
-----------------------------------------------
[localhost] local: nova interface-list dab11f56-f0f2-4cac-bee6-6cec5038458c
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| Port State | Port ID                              | Net ID                               | IP addresses | MAC Addr          |
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| ACTIVE     | 160234ca-2b72-4029-b3ff-8c83d82b9c5a | 3ad67159-9f73-404a-94da-582bda1641fb | 10.121.233.3 | fa:16:3e:76:31:15 |
| ACTIVE     | 47c97a61-e3e8-403a-b662-a117935c7a02 | 3ad67159-9f73-404a-94da-582bda1641fb | 10.121.233.4 | fa:16:3e:85:92:30 |
| ACTIVE     | 47c9831b-b346-4317-bc44-f942ecaee54c | 690a259f-d2bb-4674-ba29-07b3619cc537 | 100.64.194.3 | fa:16:3e:b6:b6:57 |
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/e262b311-b17e-442b-adb1-41e93117067d
[localhost] local: heat stack-show firewall_interface_e262b311-b17e-442b-adb1-41e93117067d
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 857eccd0-bca1-444b-b7d8-62024d763f37                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_e262b311-b17e-442b-adb1-41e93117067d/857eccd0-bca1-444b-b7d8-62024d763f37 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "75eece75-5843-450e-a940-41fc42db59c5",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/75eece75-5843-450e-a940-41fc42db59c5",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "857eccd0-bca1-444b-b7d8-62024d763f37",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_e262b311-b17e-442b-adb1-41e93117067d",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "1",                                                                                                                                               |
|                       |   "gohan_id": "e262b311-b17e-442b-adb1-41e93117067d"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_e262b311-b17e-442b-adb1-41e93117067d                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | CREATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                             |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | None                                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_e262b311-b17e-442b-adb1-41e93117067d
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s3
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/1fbbd8eb-0e12-4178-96e8-7454faed5f82
[localhost] local: heat stack-show firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 4ee4e876-0e26-4d5b-aa79-4935c9065ed9                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82/4ee4e876-0e26-4d5b-aa79-4935c9065ed9 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "f54e0f11-c65f-46a9-8418-ec166efe3575",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/f54e0f11-c65f-46a9-8418-ec166efe3575",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "4ee4e876-0e26-4d5b-aa79-4935c9065ed9",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "1",                                                                                                                                               |
|                       |   "gohan_id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | CREATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                             |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | None                                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s4
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/69718be2-0ae7-4601-bead-face902fe88e
[localhost] local: heat stack-show firewall_interface_69718be2-0ae7-4601-bead-face902fe88e
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 4ebd04ef-b12a-41c2-85b1-467360870ad3                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_69718be2-0ae7-4601-bead-face902fe88e/4ebd04ef-b12a-41c2-85b1-467360870ad3 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "1fe4b366-196d-45aa-ab65-1972a3e168ac",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/1fe4b366-196d-45aa-ab65-1972a3e168ac",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "4ebd04ef-b12a-41c2-85b1-467360870ad3",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_69718be2-0ae7-4601-bead-face902fe88e",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "1",                                                                                                                                               |
|                       |   "gohan_id": "69718be2-0ae7-4601-bead-face902fe88e"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_69718be2-0ae7-4601-bead-face902fe88e                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | CREATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                             |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | None                                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_69718be2-0ae7-4601-bead-face902fe88e
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s5
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget


[localhost] local: gohan client billing_resource list --output-format json
{
    "billing_resources": [
        {
            "config_version": 1,
            "ended": null,
            "id": "5425b94a-c38b-4d14-baa0-1cc0c249e5dd",
            "info": {
                "plan_name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF"
            },
            "parent_billing_id": "a75ba422-35f4-422f-a750-289e92813b41",
            "resource_id": "3cf84f69-ae2e-47a1-a8f7-31286603d2f6",
            "resource_type": "firewall_plan",
            "started": 1554174566,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": null
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "5ba536a7-df43-4f55-ad80-abfd9eb2b632",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "resource_type": "network",
            "started": 1554174142,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "3ad67159-9f73-404a-94da-582bda1641fb"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "a75ba422-35f4-422f-a750-289e92813b41",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "resource_type": "firewall",
            "started": 1554174566,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "c696ff02-5420-486a-82ac-dd7c03fe08e6",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "resource_type": "network",
            "started": 1554174151,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "d8783ce5-04cc-4879-8338-d8af2bc20b06",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "resource_type": "network",
            "started": 1554174158,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774"
        }
    ]
}

[localhost] local: gohan client port list --output-format json
-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 160234ca-2b72-4029-b3ff-8c83d82b9c5a
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.3"} |
| id                    | 160234ca-2b72-4029-b3ff-8c83d82b9c5a                                                |
| mac_address           | fa:16:3e:76:31:15                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 3ad67159-9f73-404a-94da-582bda1641fb                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/160234ca-2b72-4029-b3ff-8c83d82b9c5a
[localhost] local: heat stack-show port_160234ca-2b72-4029-b3ff-8c83d82b9c5a
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:03:34Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | 16a3ca5d-faa8-405d-b9f8-1ff8f66f8e74                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_160234ca-2b72-4029-b3ff-8c83d82b9c5a/16a3ca5d-faa8-405d-b9f8-1ff8f66f8e74 |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "5735d3be-e01a-4031-b35a-e599c043d251",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/5735d3be-e01a-4031-b35a-e599c043d251",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "160234ca-2b72-4029-b3ff-8c83d82b9c5a",                                                                                                 |
|                       |   "OS::stack_name": "port_160234ca-2b72-4029-b3ff-8c83d82b9c5a",                                                                                  |
|                       |   "admin_state_up": "False",                                                                                                                      |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:76:31:15",                                                                                   |
|                       |   "OS::stack_id": "16a3ca5d-faa8-405d-b9f8-1ff8f66f8e74",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "3",                                                                                                                                 |
|                       |   "virtual_network": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "160234ca-2b72-4029-b3ff-8c83d82b9c5a"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_160234ca-2b72-4029-b3ff-8c83d82b9c5a                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:08:03Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_160234ca-2b72-4029-b3ff-8c83d82b9c5a
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.233.3
      name:
        str_replace:
          params:
            '%ip%': 10.121.233.3
            '%name%':
              get_param: name
            '%zone%': 0479131c-e828-4721-abaa-a46265518b89
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: a6c08aa2-ae64-4bec-b1b6-07501c32b6db
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 47c97a61-e3e8-403a-b662-a117935c7a02
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.4"} |
| id                    | 47c97a61-e3e8-403a-b662-a117935c7a02                                                |
| mac_address           | fa:16:3e:85:92:30                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 3ad67159-9f73-404a-94da-582bda1641fb                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/47c97a61-e3e8-403a-b662-a117935c7a02
[localhost] local: heat stack-show port_47c97a61-e3e8-403a-b662-a117935c7a02
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:03:34Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | 570e4ad8-14c4-4943-a5b4-dd1c9d97caac                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_47c97a61-e3e8-403a-b662-a117935c7a02/570e4ad8-14c4-4943-a5b4-dd1c9d97caac |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "7e417a8a-bbc3-40ef-9b9c-2d806cbfaf07",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/7e417a8a-bbc3-40ef-9b9c-2d806cbfaf07",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "47c97a61-e3e8-403a-b662-a117935c7a02",                                                                                                 |
|                       |   "OS::stack_name": "port_47c97a61-e3e8-403a-b662-a117935c7a02",                                                                                  |
|                       |   "admin_state_up": "False",                                                                                                                      |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:85:92:30",                                                                                   |
|                       |   "OS::stack_id": "570e4ad8-14c4-4943-a5b4-dd1c9d97caac",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "3",                                                                                                                                 |
|                       |   "virtual_network": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "47c97a61-e3e8-403a-b662-a117935c7a02"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_47c97a61-e3e8-403a-b662-a117935c7a02                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:08:18Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_47c97a61-e3e8-403a-b662-a117935c7a02
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.233.4
      name:
        str_replace:
          params:
            '%ip%': 10.121.233.4
            '%name%':
              get_param: name
            '%zone%': 0479131c-e828-4721-abaa-a46265518b89
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: a6c08aa2-ae64-4bec-b1b6-07501c32b6db
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 47c9831b-b346-4317-bc44-f942ecaee54c
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | True                                                                                |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1", "ip_address": "100.64.194.3"} |
| id                    | 47c9831b-b346-4317-bc44-f942ecaee54c                                                |
| mac_address           | fa:16:3e:b6:b6:57                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-management-port                                                            |
| network_id            | 690a259f-d2bb-4674-ba29-07b3619cc537                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/47c9831b-b346-4317-bc44-f942ecaee54c
[localhost] local: heat stack-show port_47c9831b-b346-4317-bc44-f942ecaee54c
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:03:33Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | 1b66a67c-5ddf-44c7-a6e6-d0a671618ec3                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_47c9831b-b346-4317-bc44-f942ecaee54c/1b66a67c-5ddf-44c7-a6e6-d0a671618ec3 |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f8f2fd8c-0d13-437a-8ca4-1e10af1623c1",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/f8f2fd8c-0d13-437a-8ca4-1e10af1623c1",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "47c9831b-b346-4317-bc44-f942ecaee54c",                                                                                                 |
|                       |   "OS::stack_name": "port_47c9831b-b346-4317-bc44-f942ecaee54c",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                       |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:b6:b6:57",                                                                                   |
|                       |   "OS::stack_id": "1b66a67c-5ddf-44c7-a6e6-d0a671618ec3",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "3",                                                                                                                                 |
|                       |   "virtual_network": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "47c9831b-b346-4317-bc44-f942ecaee54c"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_47c9831b-b346-4317-bc44-f942ecaee54c                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:03:56Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_47c9831b-b346-4317-bc44-f942ecaee54c
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 100.64.194.3
      name:
        str_replace:
          params:
            '%ip%': 100.64.194.3
            '%name%':
              get_param: name
            '%zone%': 35e00dad-ad5e-46a2-b71d-93b4e72800b1
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: 1fd5c6ce-5612-4844-adf8-0703ce55bb66
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_list(wo/dhcp-server-port)
-----------------------------------------------
[localhost] local: neutron port-list | grep -v dhcp-server-port
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| id                                   | name                     | mac_address       | fixed_ips                                                                           |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| 160234ca-2b72-4029-b3ff-8c83d82b9c5a | firewall-user-port       | fa:16:3e:76:31:15 | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.3"} |
| 47c97a61-e3e8-403a-b662-a117935c7a02 | firewall-user-port       | fa:16:3e:85:92:30 | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.4"} |
| 47c9831b-b346-4317-bc44-f942ecaee54c | firewall-management-port | fa:16:3e:b6:b6:57 | {"subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1", "ip_address": "100.64.194.3"} |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+

[localhost] local: gohan client port list --output-format json
{
    "ports": [
        {
            "admin_state_up": false,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "10.121.233.3",
                    "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
                }
            ],
            "id": "160234ca-2b72-4029-b3ff-8c83d82b9c5a",
            "mac_address": "fa:16:3e:76:31:15",
            "managed_by_service": false,
            "name": "firewall-user-port",
            "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": false,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "10.121.233.4",
                    "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
                }
            ],
            "id": "47c97a61-e3e8-403a-b662-a117935c7a02",
            "mac_address": "fa:16:3e:85:92:30",
            "managed_by_service": false,
            "name": "firewall-user-port",
            "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "100.64.194.3",
                    "subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"
                }
            ],
            "id": "47c9831b-b346-4317-bc44-f942ecaee54c",
            "mac_address": "fa:16:3e:b6:b6:57",
            "managed_by_service": false,
            "name": "firewall-management-port",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "100.64.194.2",
                    "subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"
                }
            ],
            "id": "e32637af-1d9f-4f8a-b1b4-d296ced859e8",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "0479131c-e828-4721-abaa-a46265518b89",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "10.121.233.2",
                    "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
                }
            ],
            "id": "e7894df1-b287-4494-bfe4-d6f989a448d1",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "10.98.77.2",
                    "subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3"
                }
            ],
            "id": "f9fbeb5c-6769-43be-9269-f1c1cbb1248a",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        }
    ]
}

[localhost] local: gohan client vnf_interface list --output-format json
{
    "vnf_interfaces": [
        {
            "description": null,
            "id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d",
            "ip_address": null,
            "name": "interface-1",
            "network_id": null,
            "port_id": "160234ca-2b72-4029-b3ff-8c83d82b9c5a",
            "slot_number": 1,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        },
        {
            "description": null,
            "id": "3c6c8dcb-16f5-4523-90d0-f06295670928",
            "ip_address": null,
            "name": "interface-2",
            "network_id": null,
            "port_id": "47c97a61-e3e8-403a-b662-a117935c7a02",
            "slot_number": 2,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        },
        {
            "description": null,
            "id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad",
            "ip_address": "100.64.194.3",
            "name": "interface-0",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "port_id": "47c9831b-b346-4317-bc44-f942ecaee54c",
            "slot_number": 0,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "management",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        }
    ]
}

[localhost] local: gohan client firewall_interface list --output-format json
{
    "firewall_interfaces": [
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82",
            "ip_address": null,
            "name": "dp0s4",
            "network_id": null,
            "operational_state": "UP",
            "orchestration_state": "CREATE_COMPLETE",
            "slot_number": 1,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d"
        },
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "69718be2-0ae7-4601-bead-face902fe88e",
            "ip_address": null,
            "name": "dp0s5",
            "network_id": null,
            "operational_state": "UP",
            "orchestration_state": "CREATE_COMPLETE",
            "slot_number": 2,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "3c6c8dcb-16f5-4523-90d0-f06295670928"
        },
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "e262b311-b17e-442b-adb1-41e93117067d",
            "ip_address": "100.64.194.3",
            "name": "dp0s3",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "UP",
            "orchestration_state": "CREATE_COMPLETE",
            "slot_number": 0,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "management",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad"
        }
    ]
}

### Update Firewall Interface: [dp0s4 (attach)] ###
name:[dp0s4], id:[1fbbd8eb-0e12-4178-96e8-7454faed5f82]
--------------------------------------------------------------------------------
http_request     http_response    response_time   method   code   status
--------------------------------------------------------------------------------
03:10:31.340795  03:10:31.917906  0.577111         PUT     200    PENDING_UPDATE
03:10:31.918867  03:10:32.112560  0.193693         GET     200    PENDING_UPDATE
03:10:33.112785  03:10:33.168197  0.055412         GET     200    PENDING_UPDATE
03:10:34.168373  03:10:34.221262  0.052889         GET     200    PENDING_UPDATE
03:10:35.221418  03:10:35.262259  0.040841         GET     200    PENDING_UPDATE
03:10:36.262487  03:10:36.309224  0.046737         GET     200    PENDING_UPDATE
03:10:37.309507  03:10:37.356794  0.047287         GET     200    PENDING_UPDATE
03:10:38.356955  03:10:38.399822  0.042867         GET     200    PENDING_UPDATE
03:10:39.399999  03:10:39.446412  0.046413         GET     200    PENDING_UPDATE
03:10:40.446693  03:10:40.507578  0.060885         GET     200    PENDING_UPDATE
03:10:41.507751  03:10:41.552458  0.044707         GET     200    PENDING_UPDATE
03:10:42.552620  03:10:42.593163  0.040543         GET     200    PENDING_UPDATE
03:10:43.593317  03:10:43.635349  0.042032         GET     200    PENDING_UPDATE
03:10:44.635515  03:10:44.675757  0.040242         GET     200    PENDING_UPDATE
03:10:45.675930  03:10:45.717415  0.041485         GET     200    PENDING_UPDATE
03:10:46.717572  03:10:46.765755  0.048183         GET     200    PENDING_UPDATE
03:10:47.765936  03:10:47.806306  0.040370         GET     200    PENDING_UPDATE
03:10:48.806465  03:10:48.852562  0.046097         GET     200    PENDING_UPDATE
03:10:49.852729  03:10:49.899654  0.046925         GET     200    PENDING_UPDATE
03:10:50.899818  03:10:50.939135  0.039317         GET     200    PENDING_UPDATE
03:10:51.939293  03:10:51.980312  0.041019         GET     200    PENDING_UPDATE
03:10:52.980474  03:10:53.024751  0.044277         GET     200    PENDING_UPDATE
03:10:54.024912  03:10:54.125121  0.100209         GET     200    PENDING_UPDATE
03:10:55.125284  03:10:55.165586  0.040302         GET     200    PENDING_UPDATE
03:10:56.165756  03:10:56.195247  0.029491         GET     200    PENDING_UPDATE
03:10:57.195421  03:10:57.236415  0.040994         GET     200    PENDING_UPDATE
03:10:58.236573  03:10:58.279191  0.042618         GET     200    PENDING_UPDATE
03:10:59.279346  03:10:59.321783  0.042437         GET     200    PENDING_UPDATE
03:11:00.321962  03:11:00.364590  0.042628         GET     200    PENDING_UPDATE
03:11:01.364745  03:11:01.424747  0.060002         GET     200    PENDING_UPDATE
03:11:02.424908  03:11:02.467102  0.042194         GET     200    PENDING_UPDATE
03:11:03.467276  03:11:03.508535  0.041259         GET     200    PENDING_UPDATE
03:11:04.508714  03:11:04.555410  0.046696         GET     200    PENDING_UPDATE
03:11:05.555580  03:11:05.601235  0.045655         GET     200    PENDING_UPDATE
03:11:06.601396  03:11:06.644787  0.043391         GET     200    PENDING_UPDATE
03:11:07.644966  03:11:07.684437  0.039471         GET     200    PENDING_UPDATE
03:11:08.684593  03:11:08.726085  0.041492         GET     200    PENDING_UPDATE
03:11:09.726254  03:11:09.767246  0.040992         GET     200    PENDING_UPDATE
03:11:10.767435  03:11:10.810613  0.043178         GET     200    PENDING_UPDATE
03:11:11.810788  03:11:11.852751  0.041963         GET     200    PENDING_UPDATE
03:11:12.852935  03:11:12.894226  0.041291         GET     200    PENDING_UPDATE
03:11:13.894391  03:11:13.941899  0.047508         GET     200    PENDING_UPDATE
03:11:14.942079  03:11:15.012571  0.070492         GET     200    PENDING_UPDATE
03:11:16.012794  03:11:16.110404  0.097610         GET     200    PENDING_UPDATE
03:11:17.110601  03:11:17.152210  0.041609         GET     200    PENDING_UPDATE
03:11:18.152373  03:11:18.196053  0.043680         GET     200    PENDING_UPDATE
03:11:19.196214  03:11:19.236625  0.040411         GET     200    PENDING_UPDATE
03:11:20.236869  03:11:20.278643  0.041774         GET     200    PENDING_UPDATE
03:11:21.278806  03:11:21.318486  0.039680         GET     200    PENDING_UPDATE
03:11:22.318766  03:11:22.360715  0.041949         GET     200    PENDING_UPDATE
03:11:23.361057  03:11:23.401189  0.040132         GET     200    PENDING_UPDATE
03:11:24.401386  03:11:24.445349  0.043963         GET     200    PENDING_UPDATE
03:11:25.445510  03:11:25.489663  0.044153         GET     200    PENDING_UPDATE
03:11:26.489808  03:11:26.532044  0.042236         GET     200    PENDING_UPDATE
03:11:27.532213  03:11:27.575754  0.043541         GET     200    PENDING_UPDATE
03:11:28.575907  03:11:28.615664  0.039757         GET     200    PENDING_UPDATE
03:11:29.615819  03:11:29.655252  0.039433         GET     200    PENDING_UPDATE
03:11:30.655412  03:11:30.702279  0.046867         GET     200    PENDING_UPDATE
03:11:31.702437  03:11:31.744188  0.041751         GET     200    PENDING_UPDATE
03:11:32.745029  03:11:32.786738  0.041709         GET     200    PENDING_UPDATE
03:11:33.786895  03:11:33.827652  0.040757         GET     200    PENDING_UPDATE
03:11:34.827826  03:11:34.870390  0.042564         GET     200    PENDING_UPDATE
03:11:35.870566  03:11:35.925642  0.055076         GET     200    PENDING_UPDATE
03:11:36.925918  03:11:36.971160  0.045242         GET     200    PENDING_UPDATE
03:11:37.971321  03:11:38.014994  0.043673         GET     200    PENDING_UPDATE
03:11:39.015377  03:11:39.062044  0.046667         GET     200    PENDING_UPDATE
03:11:40.062392  03:11:40.117265  0.054873         GET     200    PENDING_UPDATE
03:11:41.117608  03:11:41.162906  0.045298         GET     200    PENDING_UPDATE
03:11:42.163229  03:11:42.206914  0.043685         GET     200    PENDING_UPDATE
03:11:43.207166  03:11:43.250723  0.043557         GET     200    PENDING_UPDATE
03:11:44.250963  03:11:44.310008  0.059045         GET     200    PENDING_UPDATE
03:11:45.310267  03:11:45.414240  0.103973         GET     200    PENDING_UPDATE
03:11:46.414497  03:11:46.455567  0.041070         GET     200    PENDING_UPDATE
03:11:47.455725  03:11:47.501580  0.045855         GET     200    PENDING_UPDATE
03:11:48.501829  03:11:48.541900  0.040071         GET     200    PENDING_UPDATE
03:11:49.542086  03:11:49.583453  0.041367         GET     200    PENDING_UPDATE
03:11:50.583632  03:11:50.626670  0.043038         GET     200    PENDING_UPDATE
03:11:51.626849  03:11:51.670998  0.044149         GET     200    PENDING_UPDATE
03:11:52.671172  03:11:52.710220  0.039048         GET     200    PENDING_UPDATE
03:11:53.710404  03:11:53.776895  0.066491         GET     200    PENDING_UPDATE
03:11:54.777107  03:11:54.821660  0.044553         GET     200    PENDING_UPDATE
03:11:55.821843  03:11:55.865142  0.043299         GET     200    PENDING_UPDATE
03:11:56.865363  03:11:56.915784  0.050421         GET     200    PENDING_UPDATE
03:11:57.915941  03:11:57.960399  0.044458         GET     200    PENDING_UPDATE
03:11:58.960605  03:11:59.009203  0.048598         GET     200    PENDING_UPDATE
03:12:00.009443  03:12:00.140647  0.131204         GET     200    PENDING_UPDATE
03:12:01.140809  03:12:01.187010  0.046201         GET     200    PENDING_UPDATE
03:12:02.187235  03:12:02.240214  0.052979         GET     200    PENDING_UPDATE
03:12:03.240384  03:12:03.283951  0.043567         GET     200    PENDING_UPDATE
03:12:04.284383  03:12:04.368456  0.084073         GET     200    PENDING_UPDATE
03:12:05.368618  03:12:05.424872  0.056254         GET     200    PENDING_UPDATE
03:12:06.425027  03:12:06.574277  0.149250         GET     200    PENDING_UPDATE
03:12:07.574436  03:12:07.616881  0.042445         GET     200    PENDING_UPDATE
03:12:08.617044  03:12:08.664861  0.047817         GET     200    PENDING_UPDATE
03:12:09.665120  03:12:09.722125  0.057005         GET     200    PENDING_UPDATE
03:12:10.722363  03:12:10.782796  0.060433         GET     200    PENDING_UPDATE
03:12:11.783029  03:12:11.829462  0.046433         GET     200    PENDING_UPDATE
03:12:12.829812  03:12:12.873400  0.043588         GET     200    PENDING_UPDATE
03:12:13.873560  03:12:13.916280  0.042720         GET     200    PENDING_UPDATE
03:12:14.916451  03:12:14.966363  0.049912         GET     200    PENDING_UPDATE
03:12:15.966568  03:12:16.012390  0.045822         GET     200    PENDING_UPDATE
03:12:17.012602  03:12:17.065302  0.052700         GET     200    PENDING_UPDATE
03:12:18.065470  03:12:18.157242  0.091772         GET     200    PENDING_UPDATE
03:12:19.157677  03:12:19.217177  0.059500         GET     200    PENDING_UPDATE
03:12:20.217422  03:12:20.272041  0.054619         GET     200    PENDING_UPDATE
03:12:21.272246  03:12:21.324177  0.051931         GET     200    PENDING_UPDATE
03:12:22.324344  03:12:22.365861  0.041517         GET     200    PENDING_UPDATE
03:12:23.366019  03:12:23.468951  0.102932         GET     200    PENDING_UPDATE
03:12:24.469202  03:12:24.509700  0.040498         GET     200    PENDING_UPDATE
03:12:25.509856  03:12:25.551141  0.041285         GET     200    PENDING_UPDATE
03:12:26.551291  03:12:26.599597  0.048306         GET     200    PENDING_UPDATE
03:12:27.599758  03:12:27.645344  0.045586         GET     200    PENDING_UPDATE
03:12:28.645501  03:12:28.688934  0.043433         GET     200    PENDING_UPDATE
03:12:29.689270  03:12:29.758498  0.069228         GET     200    PENDING_UPDATE
03:12:30.758740  03:12:30.801059  0.042319         GET     200    PENDING_UPDATE
03:12:31.801239  03:12:31.849502  0.048263         GET     200    PENDING_UPDATE
03:12:32.849672  03:12:32.892246  0.042574         GET     200    PENDING_UPDATE
03:12:33.892495  03:12:33.936627  0.044132         GET     200    PENDING_UPDATE
03:12:34.936782  03:12:34.976182  0.039400         GET     200    PENDING_UPDATE
03:12:35.976338  03:12:36.062816  0.086478         GET     200    PENDING_UPDATE
03:12:37.063004  03:12:37.109597  0.046593         GET     200    PENDING_UPDATE
03:12:38.109762  03:12:38.166938  0.057176         GET     200    PENDING_UPDATE
03:12:39.167099  03:12:39.208564  0.041465         GET     200    PENDING_UPDATE
03:12:40.208725  03:12:40.248308  0.039583         GET     200    PENDING_UPDATE
03:12:41.248477  03:12:41.292281  0.043804         GET     200    PENDING_UPDATE
03:12:42.292579  03:12:42.332148  0.039569         GET     200    PENDING_UPDATE
03:12:43.332363  03:12:43.372504  0.040141         GET     200    PENDING_UPDATE
03:12:44.372678  03:12:44.411978  0.039300         GET     200    PENDING_UPDATE
03:12:45.412407  03:12:45.454598  0.042191         GET     200    PENDING_UPDATE
03:12:46.454982  03:12:46.507099  0.052117         GET     200    PENDING_UPDATE
03:12:47.507261  03:12:47.564200  0.056939         GET     200    PENDING_UPDATE
03:12:48.564391  03:12:48.605276  0.040885         GET     200    PENDING_UPDATE
03:12:49.605452  03:12:49.648842  0.043390         GET     200    PENDING_UPDATE
03:12:50.649001  03:12:50.691868  0.042867         GET     200    PENDING_UPDATE
03:12:51.692018  03:12:51.736707  0.044689         GET     200    PENDING_UPDATE
03:12:52.736866  03:12:52.780759  0.043893         GET     200    PENDING_UPDATE
03:12:53.780920  03:12:53.847758  0.066838         GET     200    PENDING_UPDATE
03:12:54.848235  03:12:54.888396  0.040161         GET     200    PENDING_UPDATE
03:12:55.888668  03:12:55.938362  0.049694         GET     200    PENDING_UPDATE
03:12:56.938575  03:12:56.984067  0.045492         GET     200    PENDING_UPDATE
03:12:57.984225  03:12:58.050338  0.066113         GET     200    PENDING_UPDATE
03:12:59.050555  03:12:59.094486  0.043931         GET     200    PENDING_UPDATE
03:13:00.094643  03:13:00.139344  0.044701         GET     200    PENDING_UPDATE
03:13:01.139669  03:13:01.182439  0.042770         GET     200    PENDING_UPDATE
03:13:02.182595  03:13:02.226703  0.044108         GET     200    PENDING_UPDATE
03:13:03.226873  03:13:03.267535  0.040662         GET     200    PENDING_UPDATE
03:13:04.267691  03:13:04.315315  0.047624         GET     200    PENDING_UPDATE
03:13:05.315482  03:13:05.354403  0.038921         GET     200    PENDING_UPDATE
03:13:06.355369  03:13:06.401798  0.046429         GET     200    PENDING_UPDATE
03:13:07.402144  03:13:07.446905  0.044761         GET     200    PENDING_UPDATE
03:13:08.447259  03:13:08.491918  0.044659         GET     200    PENDING_UPDATE
03:13:09.492281  03:13:09.535949  0.043668         GET     200    PENDING_UPDATE
03:13:10.536306  03:13:10.579214  0.042908         GET     200    PENDING_UPDATE
03:13:11.579567  03:13:11.622099  0.042532         GET     200    PENDING_UPDATE
03:13:12.622267  03:13:12.665369  0.043102         GET     200    PENDING_UPDATE
03:13:13.665522  03:13:13.707391  0.041869         GET     200    PENDING_UPDATE
03:13:14.707563  03:13:14.751272  0.043709         GET     200    PENDING_UPDATE
03:13:15.751455  03:13:15.795193  0.043738         GET     200    PENDING_UPDATE
03:13:16.795347  03:13:16.835333  0.039986         GET     200    PENDING_UPDATE
03:13:17.835490  03:13:17.878994  0.043504         GET     200    PENDING_UPDATE
03:13:18.879330  03:13:18.918665  0.039335         GET     200    PENDING_UPDATE
03:13:19.919376  03:13:19.981243  0.061867         GET     200    PENDING_UPDATE
03:13:20.981403  03:13:21.059286  0.077883         GET     200    PENDING_UPDATE
03:13:22.059732  03:13:22.121295  0.061563         GET     200    PENDING_UPDATE
03:13:23.121646  03:13:23.165575  0.043929         GET     200    PENDING_UPDATE
03:13:24.165932  03:13:24.210060  0.044128         GET     200    PENDING_UPDATE
03:13:25.210456  03:13:25.253801  0.043345         GET     200    PENDING_UPDATE
03:13:26.254164  03:13:26.301195  0.047031         GET     200    PENDING_UPDATE
03:13:27.301550  03:13:27.344393  0.042843         GET     200    PENDING_UPDATE
03:13:28.344755  03:13:28.408491  0.063736         GET     200    PENDING_UPDATE
03:13:29.409113  03:13:29.456598  0.047485         GET     200    PENDING_UPDATE
03:13:30.456776  03:13:30.500214  0.043438         GET     200    ACTIVE
--------------------------------------------------------------------------------
Turn Around Time : 179.159419


[localhost] local: gohan client firewall_interface show --output-format json 1fbbd8eb-0e12-4178-96e8-7454faed5f82
{
    "firewall_interface": {
        "description": null,
        "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
        "id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82",
        "ip_address": "10.98.77.3",
        "name": "dp0s4",
        "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
        "operational_state": "UP",
        "orchestration_state": "UPDATE_COMPLETE",
        "slot_number": 1,
        "status": "ACTIVE",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "type": "user",
        "virtual_ip_address": null,
        "virtual_ip_properties": null,
        "vnf_interface_id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d"
    }
}

... sleep 90 sec

[localhost] local: gohan client firewall show --output-format json dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
{
    "firewall": {
        "admin_username": "user-admin",
        "availability_zone": "nova",
        "default_gateway": "192.168.1.1",
        "description": "",
        "firewall_plan_id": "3cf84f69-ae2e-47a1-a8f7-31286603d2f6",
        "id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
        "interfaces": [
            {
                "id": "e262b311-b17e-442b-adb1-41e93117067d",
                "ip_address": "100.64.194.3",
                "name": "dp0s3",
                "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
                "operational_state": "UP",
                "orchestration_state": "CREATE_COMPLETE",
                "slot_number": 0,
                "status": "ACTIVE",
                "type": "management",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad"
            },
            {
                "id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82",
                "ip_address": "10.98.77.3",
                "name": "dp0s4",
                "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
                "operational_state": "UP",
                "orchestration_state": "UPDATE_COMPLETE",
                "slot_number": 1,
                "status": "ACTIVE",
                "type": "user",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d"
            },
            {
                "id": "69718be2-0ae7-4601-bead-face902fe88e",
                "ip_address": null,
                "name": "dp0s5",
                "network_id": null,
                "operational_state": "UP",
                "orchestration_state": "CREATE_COMPLETE",
                "slot_number": 2,
                "status": "ACTIVE",
                "type": "user",
                "virtual_ip_address": null,
                "virtual_ip_properties": null,
                "vnf_interface_id": "3c6c8dcb-16f5-4523-90d0-f06295670928"
            }
        ],
        "name": "",
        "networks": [
            {
                "cidr": "24",
                "ifname": "dp0s4",
                "ip_address": "10.98.77.3",
                "type": "static"
            },
            {
                "ifname": "dp0s5",
                "type": "disable"
            }
        ],
        "operational_state": "UP",
        "orchestration_state": "UPDATE_COMPLETE",
        "other_username": "",
        "status": "ACTIVE",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "user_username": "user-read",
        "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
    }
}

-----------------------------------------------
Checking heat-stack (firewalls)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewalls/dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
[localhost] local: heat stack-show firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                             |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                |
| creation_time         | 2019-04-02T03:08:25Z                                                                                                                                              |
| description           | Vyatta Firewall Configuration                                                                                                                                     |
| disable_rollback      | True                                                                                                                                                              |
| id                    | 194ff29f-3d1d-4f41-8ecf-0dd7dc833161                                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc/194ff29f-3d1d-4f41-8ecf-0dd7dc833161             |
| notification_topics   | []                                                                                                                                                                |
| outputs               | [                                                                                                                                                                 |
|                       |   {                                                                                                                                                               |
|                       |     "output_value": "57bf3438-73fb-4ed8-9aec-5fe70db545f3",                                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                                          |
|                       |   },                                                                                                                                                              |
|                       |   {                                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/57bf3438-73fb-4ed8-9aec-5fe70db545f3",                                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                                               |
|                       |   }                                                                                                                                                               |
|                       | ]                                                                                                                                                                 |
| parameters            | {                                                                                                                                                                 |
|                       |   "OS::stack_id": "194ff29f-3d1d-4f41-8ecf-0dd7dc833161",                                                                                                         |
|                       |   "OS::stack_name": "firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                              |
|                       |   "default_gateway": "192.168.1.1",                                                                                                                               |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                                |
|                       |   "user_password": "******",                                                                                                                                      |
|                       |   "other_username": "",                                                                                                                                           |
|                       |   "admin_username": "user-admin",                                                                                                                                 |
|                       |   "user_username": "user-read",                                                                                                                                   |
|                       |   "management_ip": "100.64.194.3",                                                                                                                                |
|                       |   "version": "2",                                                                                                                                                 |
|                       |   "other_password": "******",                                                                                                                                     |
|                       |   "admin_password": "******",                                                                                                                                     |
|                       |   "credentials": "{\"username\": \"vfwadmin\", \"password\": \"password\"}",                                                                                      |
|                       |   "gohan_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                                             |
|                       |   "networks": "[{\"type\": \"static\", \"cidr\": \"24\", \"ip_address\": \"10.98.77.3\", \"ifname\": \"dp0s4\"}, {\"ifname\": \"dp0s5\", \"type\": \"disable\"}]" |
|                       | }                                                                                                                                                                 |
| parent                | None                                                                                                                                                              |
| stack_name            | firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc                                                                                                                     |
| stack_owner           | admin                                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                  |
| template_description  | Vyatta Firewall Configuration                                                                                                                                     |
| timeout_mins          | 13                                                                                                                                                                |
| updated_time          | 2019-04-02T03:12:38Z                                                                                                                                              |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc
description: Vyatta Firewall Configuration
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_device_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_device_monitor
parameters:
  admin_password:
    default: ''
    hidden: true
    type: string
  admin_username:
    type: string
  credentials:
    type: json
  default_gateway:
    default: ''
    type: string
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  networks:
    type: json
  other_password:
    default: ''
    hidden: true
    type: string
  other_username:
    default: ''
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  user_password:
    default: ''
    hidden: true
    type: string
  user_username:
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_device_monitor:
    depends_on: server
    properties:
      field_name: firewall
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
      resource_id:
        get_param: gohan_id
      resource_type: firewalls
      syncer_properties:
        etcd:
          status:
            key: firewall
        tsdb:
          cpu.idle:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: idle
          cpu.system:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: system
          cpu.user:
            metric: cpu.percents
            tags:
              resource_id:
                get_param: gohan_id
              type: user
          memory.available:
            metric: memory.kbytes
            tags:
              resource_id:
                get_param: gohan_id
              type: available
          memory.total:
            metric: memory.kbytes
            tags:
              resource_id:
                get_param: gohan_id
              type: total
          tcp.active:
            metric: tcp.connections
            tags:
              open: active
              resource_id:
                get_param: gohan_id
          tcp.passive:
            metric: tcp.connections
            tags:
              open: passive
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_device_fw
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget
  server:
    properties:
      admin_password:
        get_param: admin_password
      admin_username:
        get_param: admin_username
      credentials:
        get_param: credentials
      default_gateway:
        get_param: default_gateway
      management_ip:
        get_param: management_ip
      networks:
        get_param: networks
      other_password:
        get_param: other_password
      other_username:
        get_param: other_username
      user_password:
        get_param: user_password
      user_username:
        get_param: user_username
    type: ESI::VNF::VyattaConfig

[localhost] local: gohan client vnf_instance list --output-format json

[localhost] local: gohan client vnf_instance show --output-format json c10935ab-768a-4901-8953-11f9d3987949
{
    "vnf_instance": {
        "availability_zone": "nova",
        "config_drive": false,
        "description": null,
        "id": "c10935ab-768a-4901-8953-11f9d3987949",
        "management_ip": "100.64.194.3",
        "name": "firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
        "networks": [
            {
                "port": "47c9831b-b346-4317-bc44-f942ecaee54c"
            },
            {
                "port": "3bf53c24-5937-4b84-b276-0babb300b79d"
            },
            {
                "port": "47c97a61-e3e8-403a-b662-a117935c7a02"
            }
        ],
        "operational_state": "UP",
        "orchestration_state": "UPDATE_COMPLETE",
        "owner_tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "reboot": "",
        "status": "ACTIVE",
        "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
        "user_data": "",
        "user_data_format": "RAW",
        "user_data_parameters": {},
        "vnf_plan_id": "e881b86c-4e61-4268-93a9-6b272a48cb6a",
        "vnf_template_id": "856d0c84-482e-483d-9fec-55a8ce177e11"
    }
}

-----------------------------------------------
Checking heat-stack (vnf_instances)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/c10935ab-768a-4901-8953-11f9d3987949
[localhost] local: heat stack-show vnf_instance_c10935ab-768a-4901-8953-11f9d3987949
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                                                |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                                                   |
| creation_time         | 2019-04-02T03:03:36Z                                                                                                                                                                 |
| description           | VNF Instance                                                                                                                                                                         |
| disable_rollback      | True                                                                                                                                                                                 |
| id                    | 127f7469-3a80-41f9-b71d-c8f8bcc80d33                                                                                                                                                 |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/vnf_instance_c10935ab-768a-4901-8953-11f9d3987949/127f7469-3a80-41f9-b71d-c8f8bcc80d33                            |
| notification_topics   | []                                                                                                                                                                                   |
| outputs               | [                                                                                                                                                                                    |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                                                          |
|                       |     "description": "A unique id for the nova server.",                                                                                                                               |
|                       |     "output_key": "server_id"                                                                                                                                                        |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "e0edbe42-bb60-43d0-bd93-2327d736247d",                                                                                                                          |
|                       |     "description": "Monitoring Target ID",                                                                                                                                           |
|                       |     "output_key": "monitoring_target_id"                                                                                                                                             |
|                       |   },                                                                                                                                                                                 |
|                       |   {                                                                                                                                                                                  |
|                       |     "output_value": "http://collector-agents-se:7070/targets/e0edbe42-bb60-43d0-bd93-2327d736247d",                                                                                  |
|                       |     "description": "Monitoring Process Link",                                                                                                                                        |
|                       |     "output_key": "monitoring_link"                                                                                                                                                  |
|                       |   }                                                                                                                                                                                  |
|                       | ]                                                                                                                                                                                    |
| parameters            | {                                                                                                                                                                                    |
|                       |   "user_data_format": "RAW",                                                                                                                                                         |
|                       |   "OS::stack_id": "127f7469-3a80-41f9-b71d-c8f8bcc80d33",                                                                                                                            |
|                       |   "OS::stack_name": "vnf_instance_c10935ab-768a-4901-8953-11f9d3987949",                                                                                                             |
|                       |   "availability_zone": "nova",                                                                                                                                                       |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                                                   |
|                       |   "image": "vyatta-0108-2016",                                                                                                                                                       |
|                       |   "reboot": "",                                                                                                                                                                      |
|                       |   "user_data": "",                                                                                                                                                                   |
|                       |   "version": "2",                                                                                                                                                                    |
|                       |   "gohan_id": "c10935ab-768a-4901-8953-11f9d3987949",                                                                                                                                |
|                       |   "flavor": "m1.large",                                                                                                                                                              |
|                       |   "name": "firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",                                                                                                                           |
|                       |   "networks": "[{\"port\": \"47c9831b-b346-4317-bc44-f942ecaee54c\"}, {\"port\": \"3bf53c24-5937-4b84-b276-0babb300b79d\"}, {\"port\": \"47c97a61-e3e8-403a-b662-a117935c7a02\"}]",  |
|                       |   "config_drive": "False"                                                                                                                                                            |
|                       | }                                                                                                                                                                                    |
| parent                | None                                                                                                                                                                                 |
| stack_name            | vnf_instance_c10935ab-768a-4901-8953-11f9d3987949                                                                                                                                    |
| stack_owner           | admin                                                                                                                                                                                |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                                      |
| stack_status_reason   | Stack successfully updated                                                                                                                                                           |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                                     |
| template_description  | VNF Instance                                                                                                                                                                         |
| timeout_mins          | 30                                                                                                                                                                                   |
| updated_time          | 2019-04-02T03:10:34Z                                                                                                                                                                 |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show vnf_instance_c10935ab-768a-4901-8953-11f9d3987949
description: VNF Instance
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - server_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: server_monitor
  server_id:
    description: A unique id for the nova server.
    value:
      get_resource: server
parameters:
  availability_zone:
    default: ''
    type: string
  config_drive:
    type: boolean
  flavor:
    constraints:
    - custom_constraint: nova.flavor
    type: string
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  image:
    constraints:
    - custom_constraint: glance.image
    type: string
  name:
    default: ''
    type: string
  networks:
    type: json
  reboot:
    default: ''
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  user_data:
    default: ''
    type: string
  user_data_format:
    type: string
  version:
    label: Config version
    type: number
resources:
  server:
    properties:
      availability_zone:
        get_param: availability_zone
      config_drive:
        get_param: config_drive
      flavor:
        get_param: flavor
      image:
        get_param: image
      name:
        get_param: name
      networks:
        get_param: networks
      reboot:
        get_param: reboot
      user_data:
        get_param: user_data
      user_data_format:
        get_param: user_data_format
    type: ESI::VNF::Instance
  server_monitor:
    depends_on: server
    properties:
      field_name: server
      properties:
        server_id:
          get_resource: server
      resource_id:
        get_param: gohan_id
      resource_type: vnf_instances
      syncer_properties:
        etcd:
          status:
            key: server
      tenant_id:
        get_param: tenant_id
      type: compute
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/vnf_instances/c10935ab-768a-4901-8953-11f9d3987949
-----------------------------------------------
Checking nova instance_info
-----------------------------------------------
[localhost] local: nova show dab11f56-f0f2-4cac-bee6-6cec5038458c
+--------------------------------------+----------------------------------------------------------+
| Property                             | Value                                                    |
+--------------------------------------+----------------------------------------------------------+
| OS-DCF:diskConfig                    | MANUAL                                                   |
| OS-EXT-AZ:availability_zone          | nova                                                     |
| OS-EXT-SRV-ATTR:host                 | nova-server                                              |
| OS-EXT-SRV-ATTR:hypervisor_hostname  | nova-server                                              |
| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |
| OS-EXT-STS:power_state               | 1                                                        |
| OS-EXT-STS:task_state                | -                                                        |
| OS-EXT-STS:vm_state                  | active                                                   |
| OS-SRV-USG:launched_at               | 2019-04-02T03:03:43.000000                               |
| OS-SRV-USG:terminated_at             | -                                                        |
| accessIPv4                           |                                                          |
| accessIPv6                           |                                                          |
| adminpod-net network                 | 100.64.194.3                                             |
| config_drive                         |                                                          |
| created                              | 2019-04-02T03:03:41Z                                     |
| dummy-net network                    | 10.121.233.4                                             |
| flavor                               | m1.large (4)                                             |
| hostId                               | 4f4fbb86d429cec49e95d62cb55cc424096b58690396c7d4ca0ca65b |
| id                                   | dab11f56-f0f2-4cac-bee6-6cec5038458c                     |
| image                                | vyatta-0108-2016 (9fc4bb4b-a95d-4d86-8510-8679969d969b)  |
| key_name                             | -                                                        |
| metadata                             | {}                                                       |
| name                                 | firewall-dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc            |
| os-extended-volumes:volumes_attached | []                                                       |
| progress                             | 0                                                        |
| sample-fw-net network                | 10.98.77.3                                               |
| status                               | ACTIVE                                                   |
| tenant_id                            | d2a4608bbd28402196acdba7a1632daf                         |
| updated                              | 2019-04-02T03:12:20Z                                     |
| user_id                              | 4763e26949b143fcab1ea1b20e9a8490                         |
+--------------------------------------+----------------------------------------------------------+

-----------------------------------------------
Checking nova interface_list
-----------------------------------------------
[localhost] local: nova interface-list dab11f56-f0f2-4cac-bee6-6cec5038458c
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| Port State | Port ID                              | Net ID                               | IP addresses | MAC Addr          |
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+
| ACTIVE     | 3bf53c24-5937-4b84-b276-0babb300b79d | 0422f224-5da3-4f01-8ba5-2ae68f241774 | 10.98.77.3   | fa:16:3e:ce:cb:b2 |
| ACTIVE     | 47c97a61-e3e8-403a-b662-a117935c7a02 | 3ad67159-9f73-404a-94da-582bda1641fb | 10.121.233.4 | fa:16:3e:85:92:30 |
| ACTIVE     | 47c9831b-b346-4317-bc44-f942ecaee54c | 690a259f-d2bb-4674-ba29-07b3619cc537 | 100.64.194.3 | fa:16:3e:b6:b6:57 |
+------------+--------------------------------------+--------------------------------------+--------------+-------------------+

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/e262b311-b17e-442b-adb1-41e93117067d
[localhost] local: heat stack-show firewall_interface_e262b311-b17e-442b-adb1-41e93117067d
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 857eccd0-bca1-444b-b7d8-62024d763f37                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_e262b311-b17e-442b-adb1-41e93117067d/857eccd0-bca1-444b-b7d8-62024d763f37 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "75eece75-5843-450e-a940-41fc42db59c5",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/75eece75-5843-450e-a940-41fc42db59c5",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "857eccd0-bca1-444b-b7d8-62024d763f37",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_e262b311-b17e-442b-adb1-41e93117067d",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "1",                                                                                                                                               |
|                       |   "gohan_id": "e262b311-b17e-442b-adb1-41e93117067d"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_e262b311-b17e-442b-adb1-41e93117067d                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | CREATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                             |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | None                                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_e262b311-b17e-442b-adb1-41e93117067d
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s3
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/1fbbd8eb-0e12-4178-96e8-7454faed5f82
[localhost] local: heat stack-show firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 4ee4e876-0e26-4d5b-aa79-4935c9065ed9                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82/4ee4e876-0e26-4d5b-aa79-4935c9065ed9 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "f8af5363-f1b0-4792-9db5-c5762f77ae8d",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/f8af5363-f1b0-4792-9db5-c5762f77ae8d",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "4ee4e876-0e26-4d5b-aa79-4935c9065ed9",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "2",                                                                                                                                               |
|                       |   "gohan_id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | UPDATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack successfully updated                                                                                                                                      |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | 2019-04-02T03:12:31Z                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_1fbbd8eb-0e12-4178-96e8-7454faed5f82
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s4
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking heat-stack (firewall_interfaces)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/firewall_interfaces/69718be2-0ae7-4601-bead-face902fe88e
[localhost] local: heat stack-show firewall_interface_69718be2-0ae7-4601-bead-face902fe88e
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                                           |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                              |
| creation_time         | 2019-04-02T03:08:29Z                                                                                                                                            |
| description           | Vyatta Firewall Interface                                                                                                                                       |
| disable_rollback      | True                                                                                                                                                            |
| id                    | 4ebd04ef-b12a-41c2-85b1-467360870ad3                                                                                                                            |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/firewall_interface_69718be2-0ae7-4601-bead-face902fe88e/4ebd04ef-b12a-41c2-85b1-467360870ad3 |
| notification_topics   | []                                                                                                                                                              |
| outputs               | [                                                                                                                                                               |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "1fe4b366-196d-45aa-ab65-1972a3e168ac",                                                                                                     |
|                       |     "description": "Monitoring Target ID",                                                                                                                      |
|                       |     "output_key": "monitoring_target_id"                                                                                                                        |
|                       |   },                                                                                                                                                            |
|                       |   {                                                                                                                                                             |
|                       |     "output_value": "http://collector-agents-se:7070/targets/1fe4b366-196d-45aa-ab65-1972a3e168ac",                                                             |
|                       |     "description": "Monitoring Process Link",                                                                                                                   |
|                       |     "output_key": "monitoring_link"                                                                                                                             |
|                       |   }                                                                                                                                                             |
|                       | ]                                                                                                                                                               |
| parameters            | {                                                                                                                                                               |
|                       |   "OS::stack_id": "4ebd04ef-b12a-41c2-85b1-467360870ad3",                                                                                                       |
|                       |   "OS::stack_name": "firewall_interface_69718be2-0ae7-4601-bead-face902fe88e",                                                                                  |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                              |
|                       |   "management_ip": "100.64.194.3",                                                                                                                              |
|                       |   "version": "1",                                                                                                                                               |
|                       |   "gohan_id": "69718be2-0ae7-4601-bead-face902fe88e"                                                                                                            |
|                       | }                                                                                                                                                               |
| parent                | None                                                                                                                                                            |
| stack_name            | firewall_interface_69718be2-0ae7-4601-bead-face902fe88e                                                                                                         |
| stack_owner           | admin                                                                                                                                                           |
| stack_status          | CREATE_COMPLETE                                                                                                                                                 |
| stack_status_reason   | Stack CREATE completed successfully                                                                                                                             |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                                |
| template_description  | Vyatta Firewall Interface                                                                                                                                       |
| timeout_mins          | 3                                                                                                                                                               |
| updated_time          | None                                                                                                                                                            |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show firewall_interface_69718be2-0ae7-4601-bead-face902fe88e
description: Vyatta Firewall Interface
heat_template_version: '2013-05-23'
outputs:
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - fw_interface_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: fw_interface_monitor
parameters:
  gohan_id:
    description: UUID of the VNF Instance
    label: Gohan resource ID
    type: string
  management_ip:
    type: string
  tenant_id:
    label: Tenant ID
    type: string
  version:
    label: Config version
    type: number
resources:
  fw_interface_monitor:
    properties:
      field_name: interface
      properties:
        community_name: FIREWALL_COMMUNITY
        device_ip:
          get_param: management_ip
        if_name: dp0s5
      resource_id:
        get_param: gohan_id
      resource_type: firewall_interfaces
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              direction: in
              resource_id:
                get_param: gohan_id
          traffic.out:
            metric: traffic.bytes
            tags:
              direction: out
              resource_id:
                get_param: gohan_id
      tenant_id:
        get_param: tenant_id
      type: snmp_ports
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget


[localhost] local: gohan client billing_resource list --output-format json
{
    "billing_resources": [
        {
            "config_version": 2,
            "ended": null,
            "id": "5425b94a-c38b-4d14-baa0-1cc0c249e5dd",
            "info": {
                "plan_name": "Brocade_5600_vRouter_3.5R6S3_2CPU-8GB-2IF"
            },
            "parent_billing_id": "a75ba422-35f4-422f-a750-289e92813b41",
            "resource_id": "3cf84f69-ae2e-47a1-a8f7-31286603d2f6",
            "resource_type": "firewall_plan",
            "started": 1554174566,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": null
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "5ba536a7-df43-4f55-ad80-abfd9eb2b632",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "resource_type": "network",
            "started": 1554174142,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "3ad67159-9f73-404a-94da-582bda1641fb"
        },
        {
            "config_version": 2,
            "ended": null,
            "id": "a75ba422-35f4-422f-a750-289e92813b41",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "resource_type": "firewall",
            "started": 1554174566,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "c696ff02-5420-486a-82ac-dd7c03fe08e6",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "resource_type": "network",
            "started": 1554174151,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "690a259f-d2bb-4674-ba29-07b3619cc537"
        },
        {
            "config_version": 1,
            "ended": null,
            "id": "d8783ce5-04cc-4879-8338-d8af2bc20b06",
            "info": {},
            "parent_billing_id": null,
            "resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "resource_type": "network",
            "started": 1554174158,
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "unique_resource_id": "0422f224-5da3-4f01-8ba5-2ae68f241774"
        }
    ]
}

[localhost] local: gohan client port list --output-format json
-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 3bf53c24-5937-4b84-b276-0babb300b79d
+-----------------------+-----------------------------------------------------------------------------------+
| Field                 | Value                                                                             |
+-----------------------+-----------------------------------------------------------------------------------+
| admin_state_up        | True                                                                              |
| allowed_address_pairs |                                                                                   |
| attached              | True                                                                              |
| binding:vif_type      | vrouter                                                                           |
| description           |                                                                                   |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                              |
| device_owner          | compute:nova                                                                      |
| ese_logical_port_id   |                                                                                   |
| fake_delete           | True                                                                              |
| fixed_ips             | {"subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3", "ip_address": "10.98.77.3"} |
| id                    | 3bf53c24-5937-4b84-b276-0babb300b79d                                              |
| mac_address           | fa:16:3e:ce:cb:b2                                                                 |
| managed_by_service    | False                                                                             |
| name                  | firewall-user-port                                                                |
| network_id            | 0422f224-5da3-4f01-8ba5-2ae68f241774                                              |
| operational_state     | UP                                                                                |
| orchestration_state   | UPDATE_COMPLETE                                                                   |
| security_groups       |                                                                                   |
| segmentation_id       | 0                                                                                 |
| segmentation_type     | flat                                                                              |
| status                | ACTIVE                                                                            |
| tags                  | {}                                                                                |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                  |
+-----------------------+-----------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/3bf53c24-5937-4b84-b276-0babb300b79d
[localhost] local: heat stack-show port_3bf53c24-5937-4b84-b276-0babb300b79d
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:10:32Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | e90ce1d5-cb6d-45d6-8504-08cc8f5095f7                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_3bf53c24-5937-4b84-b276-0babb300b79d/e90ce1d5-cb6d-45d6-8504-08cc8f5095f7 |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "ee798a53-375b-46ec-b2ff-0e8dfa6e18fa",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/ee798a53-375b-46ec-b2ff-0e8dfa6e18fa",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "3bf53c24-5937-4b84-b276-0babb300b79d",                                                                                                 |
|                       |   "OS::stack_name": "port_3bf53c24-5937-4b84-b276-0babb300b79d",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                       |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:ce:cb:b2",                                                                                   |
|                       |   "OS::stack_id": "e90ce1d5-cb6d-45d6-8504-08cc8f5095f7",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "3",                                                                                                                                 |
|                       |   "virtual_network": "0422f224-5da3-4f01-8ba5-2ae68f241774",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "3bf53c24-5937-4b84-b276-0babb300b79d"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_3bf53c24-5937-4b84-b276-0babb300b79d                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:12:05Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_3bf53c24-5937-4b84-b276-0babb300b79d
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 10.98.77.3
      name:
        str_replace:
          params:
            '%ip%': 10.98.77.3
            '%name%':
              get_param: name
            '%zone%': 8effd73d-925d-4ec9-9cee-8cffc9aafef3
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: ac51ac4f-c8ae-4221-a6fe-b5e58fe93a23
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 47c97a61-e3e8-403a-b662-a117935c7a02
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | False                                                                               |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.4"} |
| id                    | 47c97a61-e3e8-403a-b662-a117935c7a02                                                |
| mac_address           | fa:16:3e:85:92:30                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-user-port                                                                  |
| network_id            | 3ad67159-9f73-404a-94da-582bda1641fb                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/47c97a61-e3e8-403a-b662-a117935c7a02
[localhost] local: heat stack-show port_47c97a61-e3e8-403a-b662-a117935c7a02
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:03:34Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | 570e4ad8-14c4-4943-a5b4-dd1c9d97caac                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_47c97a61-e3e8-403a-b662-a117935c7a02/570e4ad8-14c4-4943-a5b4-dd1c9d97caac |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "6880f586-09d3-40fb-be1e-199293b9912c",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/6880f586-09d3-40fb-be1e-199293b9912c",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "47c97a61-e3e8-403a-b662-a117935c7a02",                                                                                                 |
|                       |   "OS::stack_name": "port_47c97a61-e3e8-403a-b662-a117935c7a02",                                                                                  |
|                       |   "admin_state_up": "False",                                                                                                                      |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:85:92:30",                                                                                   |
|                       |   "OS::stack_id": "570e4ad8-14c4-4943-a5b4-dd1c9d97caac",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "6",                                                                                                                                 |
|                       |   "virtual_network": "3ad67159-9f73-404a-94da-582bda1641fb",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "47c97a61-e3e8-403a-b662-a117935c7a02"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_47c97a61-e3e8-403a-b662-a117935c7a02                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:12:19Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_47c97a61-e3e8-403a-b662-a117935c7a02
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 10.121.233.4
      name:
        str_replace:
          params:
            '%ip%': 10.121.233.4
            '%name%':
              get_param: name
            '%zone%': 0479131c-e828-4721-abaa-a46265518b89
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: a6c08aa2-ae64-4bec-b1b6-07501c32b6db
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_info
-----------------------------------------------
[localhost] local: neutron port-show 47c9831b-b346-4317-bc44-f942ecaee54c
+-----------------------+-------------------------------------------------------------------------------------+
| Field                 | Value                                                                               |
+-----------------------+-------------------------------------------------------------------------------------+
| admin_state_up        | True                                                                                |
| allowed_address_pairs |                                                                                     |
| attached              | True                                                                                |
| binding:vif_type      | vrouter                                                                             |
| description           |                                                                                     |
| device_id             | dab11f56-f0f2-4cac-bee6-6cec5038458c                                                |
| device_owner          | compute:nova                                                                        |
| ese_logical_port_id   |                                                                                     |
| fake_delete           | True                                                                                |
| fixed_ips             | {"subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1", "ip_address": "100.64.194.3"} |
| id                    | 47c9831b-b346-4317-bc44-f942ecaee54c                                                |
| mac_address           | fa:16:3e:b6:b6:57                                                                   |
| managed_by_service    | False                                                                               |
| name                  | firewall-management-port                                                            |
| network_id            | 690a259f-d2bb-4674-ba29-07b3619cc537                                                |
| operational_state     | UP                                                                                  |
| orchestration_state   | UPDATE_COMPLETE                                                                     |
| security_groups       |                                                                                     |
| segmentation_id       | 0                                                                                   |
| segmentation_type     | flat                                                                                |
| status                | ACTIVE                                                                              |
| tags                  | {}                                                                                  |
| tenant_id             | d2a4608bbd28402196acdba7a1632daf                                                    |
+-----------------------+-------------------------------------------------------------------------------------+

-----------------------------------------------
Checking heat-stack (ports)
-----------------------------------------------
[localhost] local: etcdctl -o "json" --peers "http://etcd-server:2379" get /esi-worker/heat_stacks/v2.0/ports/47c9831b-b346-4317-bc44-f942ecaee54c
[localhost] local: heat stack-show port_47c9831b-b346-4317-bc44-f942ecaee54c
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Property              | Value                                                                                                                                             |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| capabilities          | []                                                                                                                                                |
| creation_time         | 2019-04-02T03:03:33Z                                                                                                                              |
| description           | Virtual Machine Interface Template                                                                                                                |
| disable_rollback      | True                                                                                                                                              |
| id                    | 1b66a67c-5ddf-44c7-a6e6-d0a671618ec3                                                                                                              |
| links                 | http://heat-server:8004/v1/d2a4608bbd28402196acdba7a1632daf/stacks/port_47c9831b-b346-4317-bc44-f942ecaee54c/1b66a67c-5ddf-44c7-a6e6-d0a671618ec3 |
| notification_topics   | []                                                                                                                                                |
| outputs               | [                                                                                                                                                 |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                  |
|                       |     "description": "Fully Qualified Name of the VMI",                                                                                             |
|                       |     "output_key": "fq_name"                                                                                                                       |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": {                                                                                                                             |
|                       |       "allowed_address_pair": []                                                                                                                  |
|                       |     },                                                                                                                                            |
|                       |     "description": "Virtual machine allowed address pairs.",                                                                                      |
|                       |     "output_key": "allowed_address_pairs"                                                                                                         |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f8f2fd8c-0d13-437a-8ca4-1e10af1623c1",                                                                                       |
|                       |     "description": "Monitoring Target ID",                                                                                                        |
|                       |     "output_key": "monitoring_target_id"                                                                                                          |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       "fa:16:3e:f7:60:7f"                                                                                                                         |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual machine interface mac address.",                                                                                      |
|                       |     "output_key": "mac_address"                                                                                                                   |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": [                                                                                                                             |
|                       |       [                                                                                                                                           |
|                       |         "default-domain",                                                                                                                         |
|                       |         "admin",                                                                                                                                  |
|                       |         "b62eefe0-0872-478d-adfe-1a606320f0e7"                                                                                                    |
|                       |       ]                                                                                                                                           |
|                       |     ],                                                                                                                                            |
|                       |     "description": "Virtual network.",                                                                                                            |
|                       |     "output_key": "virtual_network"                                                                                                               |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7",                                                                                       |
|                       |     "description": "A unique id for the virtual machine interface.",                                                                              |
|                       |     "output_key": "id"                                                                                                                            |
|                       |   },                                                                                                                                              |
|                       |   {                                                                                                                                               |
|                       |     "output_value": "http://collector-agents-se:7070/targets/f8f2fd8c-0d13-437a-8ca4-1e10af1623c1",                                               |
|                       |     "description": "Monitoring Process Link",                                                                                                     |
|                       |     "output_key": "monitoring_link"                                                                                                               |
|                       |   }                                                                                                                                               |
|                       | ]                                                                                                                                                 |
| parameters            | {                                                                                                                                                 |
|                       |   "virtual_machine": "dab11f56-f0f2-4cac-bee6-6cec5038458c",                                                                                      |
|                       |   "uuid": "47c9831b-b346-4317-bc44-f942ecaee54c",                                                                                                 |
|                       |   "OS::stack_name": "port_47c9831b-b346-4317-bc44-f942ecaee54c",                                                                                  |
|                       |   "admin_state_up": "True",                                                                                                                       |
|                       |   "tenant_id": "d2a4608bbd28402196acdba7a1632daf",                                                                                                |
|                       |   "virtual_machine_interface_allowed_address_pairs": "null",                                                                                      |
|                       |   "virtual_machine_interface_mac_address": "fa:16:3e:b6:b6:57",                                                                                   |
|                       |   "OS::stack_id": "1b66a67c-5ddf-44c7-a6e6-d0a671618ec3",                                                                                         |
|                       |   "device_owner": "compute:nova",                                                                                                                 |
|                       |   "version": "3",                                                                                                                                 |
|                       |   "virtual_network": "690a259f-d2bb-4674-ba29-07b3619cc537",                                                                                      |
|                       |   "security_groups": "[]",                                                                                                                        |
|                       |   "name": "47c9831b-b346-4317-bc44-f942ecaee54c"                                                                                                  |
|                       | }                                                                                                                                                 |
| parent                | None                                                                                                                                              |
| stack_name            | port_47c9831b-b346-4317-bc44-f942ecaee54c                                                                                                         |
| stack_owner           | admin                                                                                                                                             |
| stack_status          | UPDATE_COMPLETE                                                                                                                                   |
| stack_status_reason   | Stack successfully updated                                                                                                                        |
| stack_user_project_id | d2a4608bbd28402196acdba7a1632daf                                                                                                                  |
| template_description  | Virtual Machine Interface Template                                                                                                                |
| timeout_mins          | 13                                                                                                                                                |
| updated_time          | 2019-04-02T03:03:56Z                                                                                                                              |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

[localhost] local: heat template-show port_47c9831b-b346-4317-bc44-f942ecaee54c
description: 'Virtual Machine Interface Template

  '
heat_template_version: '2013-05-23'
outputs:
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_allowed_address_pairs
  fq_name:
    description: Fully Qualified Name of the VMI
    value:
      get_attr:
      - virtual_machine_interface
      - fq_name
  id:
    description: A unique id for the virtual machine interface.
    value:
      get_resource: virtual_machine_interface
  mac_address:
    description: Virtual machine interface mac address.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_machine_interface_mac_addresses
  monitoring_link:
    description: Monitoring Process Link
    value:
      get_attr:
      - vmi_monitor
      - link
  monitoring_target_id:
    description: Monitoring Target ID
    value:
      get_resource: vmi_monitor
  virtual_network:
    description: Virtual network.
    value:
      get_attr:
      - virtual_machine_interface
      - virtual_networks
parameters:
  admin_state_up:
    default: true
    label: Admin state up
    type: boolean
  device_owner:
    default: ''
    label: Device Owner
    type: string
  name:
    description: A unique id for the Physical Interface.
    label: Physical Interface ID
    type: string
  security_groups:
    default: []
    description: The IDs of security groups applied to the port.
    label: Security Groups List
    type: json
  tenant_id:
    label: Tenant ID
    type: string
  uuid:
    description: A unique id for the Virtual Machine Interface.
    label: Backend Virtual Machine Interface UUID
    type: string
  version:
    label: Config version
    type: number
  virtual_machine:
    default: ''
    label: Virtual Machine.
    type: string
  virtual_machine_interface_allowed_address_pairs:
    label: Virtual machine interface allowed address pairs.
    type: json
  virtual_machine_interface_mac_address:
    default: fe:ff:ff:ff:ff:ff
    label: Virtual machine interface mac address.
    type: string
  virtual_network:
    label: Virtual Network.
    type: string
resources:
  instance_ip_0:
    properties:
      ip_address: 100.64.194.3
      name:
        str_replace:
          params:
            '%ip%': 100.64.194.3
            '%name%':
              get_param: name
            '%zone%': 35e00dad-ad5e-46a2-b71d-93b4e72800b1
          template: '%name%_%zone%_%ip%'
      network_id:
        get_param: virtual_network
      subnet_id: 1fd5c6ce-5612-4844-adf8-0703ce55bb66
      virtual_machine_interfaces:
      - get_resource: virtual_machine_interface
    type: OS::Contrail::InstanceIp
  virtual_machine_interface:
    properties:
      admin_state_up:
        get_param: admin_state_up
      device_owner:
        get_param: device_owner
      name:
        get_param: name
      security_groups:
        get_param: security_groups
      uuid:
        get_param: uuid
      virtual_machine:
        get_param: virtual_machine
      virtual_machine_interface_allowed_address_pairs:
        get_param: virtual_machine_interface_allowed_address_pairs
      virtual_machine_interface_mac_addresses:
      - get_param: virtual_machine_interface_mac_address
      virtual_networks:
      - get_param: virtual_network
    type: OS::Contrail::VirtualMachineInterface
  vmi_monitor:
    depends_on: virtual_machine_interface
    properties:
      field_name: vmi
      properties:
        fq_name:
          get_attr:
          - virtual_machine_interface
          - fq_name
      resource_id:
        get_param: uuid
      resource_type: ports
      syncer_properties:
        etcd:
          hold_options:
            positive_status:
            - UP
            - DOWN
            time_seconds: 210
          status:
            key: vmi
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              direction: in
              resource_id:
                get_param: uuid
          traffic.out:
            metric: traffic.bps
            tags:
              direction: out
              resource_id:
                get_param: uuid
      tenant_id:
        get_param: tenant_id
      type: virtual_machine_interface
      version:
        get_param: version
    type: ESI::Monitoring::MonitoringTarget

-----------------------------------------------
Checking neutron port_list(wo/dhcp-server-port)
-----------------------------------------------
[localhost] local: neutron port-list | grep -v dhcp-server-port
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| id                                   | name                     | mac_address       | fixed_ips                                                                           |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+
| 3bf53c24-5937-4b84-b276-0babb300b79d | firewall-user-port       | fa:16:3e:ce:cb:b2 | {"subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3", "ip_address": "10.98.77.3"}   |
| 47c97a61-e3e8-403a-b662-a117935c7a02 | firewall-user-port       | fa:16:3e:85:92:30 | {"subnet_id": "0479131c-e828-4721-abaa-a46265518b89", "ip_address": "10.121.233.4"} |
| 47c9831b-b346-4317-bc44-f942ecaee54c | firewall-management-port | fa:16:3e:b6:b6:57 | {"subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1", "ip_address": "100.64.194.3"} |
+--------------------------------------+--------------------------+-------------------+-------------------------------------------------------------------------------------+

[localhost] local: gohan client port list --output-format json
{
    "ports": [
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "10.98.77.3",
                    "subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3"
                }
            ],
            "id": "3bf53c24-5937-4b84-b276-0babb300b79d",
            "mac_address": "fa:16:3e:ce:cb:b2",
            "managed_by_service": false,
            "name": "firewall-user-port",
            "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": false,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "10.121.233.4",
                    "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
                }
            ],
            "id": "47c97a61-e3e8-403a-b662-a117935c7a02",
            "mac_address": "fa:16:3e:85:92:30",
            "managed_by_service": false,
            "name": "firewall-user-port",
            "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": true,
            "binding:vif_type": "vrouter",
            "description": "",
            "device_id": "dab11f56-f0f2-4cac-bee6-6cec5038458c",
            "device_owner": "compute:nova",
            "ese_logical_port_id": null,
            "fake_delete": true,
            "fixed_ips": [
                {
                    "ip_address": "100.64.194.3",
                    "subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"
                }
            ],
            "id": "47c9831b-b346-4317-bc44-f942ecaee54c",
            "mac_address": "fa:16:3e:b6:b6:57",
            "managed_by_service": false,
            "name": "firewall-management-port",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "security_groups": [],
            "segmentation_id": 0,
            "segmentation_type": "flat",
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "100.64.194.2",
                    "subnet_id": "35e00dad-ad5e-46a2-b71d-93b4e72800b1"
                }
            ],
            "id": "e32637af-1d9f-4f8a-b1b4-d296ced859e8",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "0479131c-e828-4721-abaa-a46265518b89",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "10.121.233.2",
                    "subnet_id": "0479131c-e828-4721-abaa-a46265518b89"
                }
            ],
            "id": "e7894df1-b287-4494-bfe4-d6f989a448d1",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "3ad67159-9f73-404a-94da-582bda1641fb",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        },
        {
            "admin_state_up": true,
            "allowed_address_pairs": [],
            "attached": false,
            "binding:vif_type": "vrouter",
            "description": "DHCP Server Port",
            "device_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3",
            "device_owner": "network:dhcp",
            "ese_logical_port_id": null,
            "fake_delete": false,
            "fixed_ips": [
                {
                    "ip_address": "10.98.77.2",
                    "subnet_id": "8effd73d-925d-4ec9-9cee-8cffc9aafef3"
                }
            ],
            "id": "f9fbeb5c-6769-43be-9269-f1c1cbb1248a",
            "mac_address": "00:00:5e:00:01:00",
            "managed_by_service": false,
            "name": "dhcp-server-port",
            "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "operational_state": "",
            "orchestration_state": "SYNC_COMPLETE",
            "security_groups": [],
            "segmentation_id": null,
            "segmentation_type": null,
            "status": "ACTIVE",
            "tags": {},
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf"
        }
    ]
}

[localhost] local: gohan client vnf_interface list --output-format json
{
    "vnf_interfaces": [
        {
            "description": null,
            "id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d",
            "ip_address": "10.98.77.3",
            "name": "interface-1",
            "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "port_id": "3bf53c24-5937-4b84-b276-0babb300b79d",
            "slot_number": 1,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        },
        {
            "description": null,
            "id": "3c6c8dcb-16f5-4523-90d0-f06295670928",
            "ip_address": null,
            "name": "interface-2",
            "network_id": null,
            "port_id": "47c97a61-e3e8-403a-b662-a117935c7a02",
            "slot_number": 2,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        },
        {
            "description": null,
            "id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad",
            "ip_address": "100.64.194.3",
            "name": "interface-0",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "port_id": "47c9831b-b346-4317-bc44-f942ecaee54c",
            "slot_number": 0,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "management",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_instance_id": "c10935ab-768a-4901-8953-11f9d3987949"
        }
    ]
}

[localhost] local: gohan client firewall_interface list --output-format json
{
    "firewall_interfaces": [
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "1fbbd8eb-0e12-4178-96e8-7454faed5f82",
            "ip_address": "10.98.77.3",
            "name": "dp0s4",
            "network_id": "0422f224-5da3-4f01-8ba5-2ae68f241774",
            "operational_state": "UP",
            "orchestration_state": "UPDATE_COMPLETE",
            "slot_number": 1,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "20e0aabb-d2db-4b0f-89f6-61f685f1af0d"
        },
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "69718be2-0ae7-4601-bead-face902fe88e",
            "ip_address": null,
            "name": "dp0s5",
            "network_id": null,
            "operational_state": "UP",
            "orchestration_state": "CREATE_COMPLETE",
            "slot_number": 2,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "user",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "3c6c8dcb-16f5-4523-90d0-f06295670928"
        },
        {
            "description": null,
            "firewall_id": "dbd98e9a-30ba-4b9b-a2a4-ef4ddb3d36cc",
            "id": "e262b311-b17e-442b-adb1-41e93117067d",
            "ip_address": "100.64.194.3",
            "name": "dp0s3",
            "network_id": "690a259f-d2bb-4674-ba29-07b3619cc537",
            "operational_state": "UP",
            "orchestration_state": "CREATE_COMPLETE",
            "slot_number": 0,
            "status": "ACTIVE",
            "tenant_id": "d2a4608bbd28402196acdba7a1632daf",
            "type": "management",
            "virtual_ip_address": null,
            "virtual_ip_properties": null,
            "vnf_interface_id": "a641f61c-cbc9-447c-b180-a7eaa4a683ad"
        }
    ]
}
