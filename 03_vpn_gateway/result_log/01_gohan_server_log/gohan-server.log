04:57:44.893 gohan.server.core INFO [0m logging initialized
04:57:44.894 gohan.schema INFO [0m Loading schema ./../etc/schema/gohan.json ...
04:57:44.904 gohan.schema INFO [0m Loading schema ./../etc/extensions/gohan_extension.yaml ...
04:57:44.904 gohan.schema INFO [0m Loading schema ./schemas/cloud_schema.yaml ...
04:57:44.951 gohan.schema INFO [0m Loading schema ./schemas/heat_worker_schema.yaml ...
04:57:44.955 gohan.schema INFO [0m Loading schema ./schemas/tenants.yaml ...
04:57:44.957 gohan.schema INFO [0m Loading schema ./schemas/policies.yaml ...
04:57:44.958 gohan.schema INFO [0m Loading schema ./schemas/common_extensions.yaml ...
04:57:44.959 gohan.schema INFO [0m Loading schema ./schemas/relation_extensions.yaml ...
04:57:44.959 gohan.schema INFO [0m Loading schema ./schemas/extensions.yaml ...
04:57:44.961 gohan.schema INFO [0m Loading schema ./schemas/sss_extensions.yaml ...
04:57:44.962 gohan.schema INFO [0m Loading schema ./schemas/monitoring_extensions.yaml ...
04:57:44.963 gohan.schema INFO [0m Loading schema ./schemas/igs_schema.yaml ...
04:57:45.064 gohan.schema INFO [0m Loading schema ./schemas/igs_extensions.yaml ...
04:57:45.066 gohan.schema INFO [0m Loading schema ./schemas/igs_policies.yaml ...
04:57:45.068 gohan.schema INFO [0m Loading schema ./schemas/vnf_schema.yaml ...
04:57:45.084 gohan.schema INFO [0m Loading schema ./schemas/vnf_policies.yaml ...
04:57:45.085 gohan.schema INFO [0m Loading schema ./schemas/vnf_extensions.yaml ...
04:57:45.086 gohan.schema INFO [0m Loading schema ./schemas/firewall_schema.yaml ...
04:57:45.099 gohan.schema INFO [0m Loading schema ./schemas/firewall_extensions.yaml ...
04:57:45.100 gohan.schema INFO [0m Loading schema ./schemas/firewall_policies.yaml ...
04:57:45.101 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_schema.yaml ...
04:57:45.129 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_policies.yaml ...
04:57:45.130 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_extensions.yaml ...
04:57:45.131 gohan.schema INFO [0m Loading schema ./schemas/usage.yaml ...
04:57:45.132 gohan.schema INFO [0m Loading schema ./schemas/billing_extensions.yaml ...
04:57:45.133 gohan.schema INFO [0m Loading schema ./schemas/billing_resource_schema.yaml ...
04:57:45.138 gohan.schema INFO [0m Loading schema ./schemas/metrics.yaml ...
04:57:45.143 gohan.schema INFO [0m Loading schema ./schemas/vpn_admin_policies.yaml ...
04:57:45.144 gohan.schema INFO [0m Loading schema ./schemas/aws_admin_policies.yaml ...
04:57:45.145 gohan.schema INFO [0m Loading schema ./schemas/interdc_admin_policies.yaml ...
04:57:45.145 gohan.schema INFO [0m Loading schema ./schemas/interdc_member_policy.yaml ...
04:57:45.146 gohan.schema INFO [0m Loading schema ./schemas/sss_admin_policies.yaml ...
04:57:45.146 gohan.schema INFO [0m Loading schema ./schemas/colocation_schema.yaml ...
04:57:45.159 gohan.schema INFO [0m Loading schema ./schemas/colocation_policies.yaml ...
04:57:45.161 gohan.schema INFO [0m Loading schema ./schemas/colocation_extensions.yaml ...
04:57:45.162 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_schema.yaml ...
04:57:45.166 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_policies.yaml ...
04:57:45.166 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_extensions.yaml ...
04:57:45.167 gohan.schema INFO [0m Loading schema ./schemas/hosting_schema.yaml ...
04:57:45.178 gohan.schema INFO [0m Loading schema ./schemas/hosting_policies.yaml ...
04:57:45.179 gohan.schema INFO [0m Loading schema ./schemas/hosting_extensions.yaml ...
[36m04:57:45.181 gohan.db DEBUG [0m Registering schema schema
04:57:45.181 gohan.db.sql INFO [0m Creating table: create table `schemas` (`actions`text null,`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`namespace`text not null,`parent`text not null,`plural`text not null,`prefix`text not null,`schema`text not null,`singular`text not null,`title`text not null);
[36m04:57:45.208 gohan.db DEBUG [0m Registering schema policy
04:57:45.208 gohan.db.sql INFO [0m Creating table: create table `policys` (`action`text null,`condition`text not null,`effect`text null,`id`varchar(255) primary key,`principal`text null,`resource`text null);
[36m04:57:45.232 gohan.db DEBUG [0m Registering schema extension
04:57:45.232 gohan.db.sql INFO [0m Creating table: create table `extensions` (`code`text not null,`code_type`text not null,`id`varchar(255) primary key,`path`text null,`url`text not null);
[36m04:57:45.256 gohan.db DEBUG [0m Registering schema event
04:57:45.256 gohan.db.sql INFO [0m Creating table: create table `events` (`body`text null,`id`integer primary key auto_increment ,`marked_for_deletion`boolean not null,`path`text not null,`timestamp`numeric not null,`type`text not null,`version`numeric null);
[36m04:57:45.284 gohan.db DEBUG [0m Registering schema namespace
04:57:45.285 gohan.db.sql INFO [0m Creating table: create table `namespaces` (`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`name`text not null,`parent`text not null,`prefix`text not null,`version`text not null);
[36m04:57:45.312 gohan.db DEBUG [0m Registering schema location
04:57:45.312 gohan.db.sql INFO [0m Creating table: create table `locations` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`address`text not null,`description`text not null,`id`varchar(255) primary key,`name`text null,`tags`text not null,`tenant_id`text null,`type`text null);
[36m04:57:45.328 gohan.db DEBUG [0m Registering schema ese_device
04:57:45.329 gohan.db.sql INFO [0m Creating table: create table `ese_devices` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`existing`text not null,`flavor`text null,`hostname`text null,`id`varchar(255) primary key,`location`varchar(255) null,`management_ip_address`varchar(255) null unique,`name`text not null,`password`text not null,`public_ip_address`text null,`status`text null,`tags`text not null,`tenant_id`text null,`tor_agent_names`text null,`tsn_names`text null,`type`text not null,`username`text not null,CONSTRAINT `ese_device_location_fk` FOREIGN KEY (`location`) REFERENCES `locations`(id) );
[36m04:57:45.380 gohan.db DEBUG [0m Registering schema network
04:57:45.381 gohan.db.sql INFO [0m Creating table: create table `networks` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`shared`boolean not null,`status`text not null,`subnets`text not null,`tags`text not null,`tenant_id`text null);
[36m04:57:45.413 gohan.db DEBUG [0m Registering schema subnet
04:57:45.413 gohan.db.sql INFO [0m Creating table: create table `subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`allocation_pools`text not null,`cidr`text not null,`description`text not null,`dhcp_server_address`text null,`dns_nameservers`text not null,`enable_dhcp`boolean not null,`gateway_ip`text null,`host_routes`text not null,`id`varchar(255) primary key,`ip_version`numeric not null,`ipv6_address_mode`text null,`ipv6_ra_mode`text null,`name`text not null,`network_id`varchar(255) not null,`ntp_servers`text not null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:57:45.437 gohan.db DEBUG [0m Registering schema port
04:57:45.437 gohan.db.sql INFO [0m Creating table: create table `ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`allowed_address_pairs`text not null,`attached`boolean not null,`binding:vif_type`text not null,`description`text not null,`device_id`text null,`device_owner`text null,`ese_logical_port_id`text null,`fake_delete`boolean not null,`fixed_ips`text null,`id`varchar(255) primary key,`mac_address`text null,`managed_by_service`boolean not null,`name`text not null,`network_id`varchar(255) not null,`segmentation_id`numeric null,`segmentation_type`text null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:57:45.466 gohan.db DEBUG [0m Registering schema ese_physical_port
04:57:45.467 gohan.db.sql INFO [0m Creating table: create table `ese_physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_port_id`text null,`connected_port_owner`text null,`description`text not null,`ese_device_id`varchar(255) not null,`existing`text not null,`id`varchar(255) primary key,`name`text not null,`status`text null,`tags`text not null,`tenant_id`text null,CONSTRAINT `ese_physical_port_ese_device_id_fk` FOREIGN KEY (`ese_device_id`) REFERENCES `ese_devices`(id) );
[36m04:57:45.497 gohan.db DEBUG [0m Registering schema ese_logical_port
04:57:45.498 gohan.db.sql INFO [0m Creating table: create table `ese_logical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_gateway_id`text null,`connected_resource`text not null,`description`text not null,`ese_physical_port_id`varchar(255) not null,`gw_interface_id`text null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`port_ids`text null,`status`text null,`tags`text not null,`tenant_id`text null,`type`text not null,`vlan_id`numeric not null,CONSTRAINT `ese_logical_port_ese_physical_port_id_fk` FOREIGN KEY (`ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `ese_logical_port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:57:45.531 gohan.db DEBUG [0m Registering schema local_subnet
04:57:45.531 gohan.db.sql INFO [0m Creating table: create table `local_subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`ese_logical_port_id`varchar(255) not null,`id`varchar(255) primary key,`ip_version`numeric not null,`name`text not null,`network_id`varchar(255) not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `local_subnet_ese_logical_port_id_fk` FOREIGN KEY (`ese_logical_port_id`) REFERENCES `ese_logical_ports`(id) ,CONSTRAINT `local_subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:57:45.553 gohan.db DEBUG [0m Registering schema server
04:57:45.553 gohan.db.sql INFO [0m Creating table: create table `servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`flavor`text not null,`id`varchar(255) primary key,`name`text not null,`tags`text not null,`tenant_id`text null,`type`text not null);
[36m04:57:45.577 gohan.db DEBUG [0m Registering schema physical_port
04:57:45.578 gohan.db.sql INFO [0m Creating table: create table `physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`segmentation_ranges`text not null,`service_id`text null,`service_owner`text null,`status`text null,`tags`text not null,`tenant_id`text null);
[36m04:57:45.599 gohan.db DEBUG [0m Registering schema quota
04:57:45.599 gohan.db.sql INFO [0m Creating table: create table `quotas` (`aws_gateway`numeric not null,`colocation_logical_link`numeric not null,`common_function_gateway`numeric not null,`firewall`numeric not null,`hosting_logical_link`numeric not null,`hosting_physical_link_plane_storage`numeric not null,`id`varchar(255) primary key,`interdc_gateway`numeric not null,`internet_gateway`numeric not null,`load_balancer`numeric not null,`network`numeric not null,`port`numeric not null,`public_ip`numeric not null,`subnet`numeric not null,`tenant_id`varchar(255) not null unique,`vpn_gateway`numeric not null);
[36m04:57:45.617 gohan.db DEBUG [0m Registering schema reserve_address
04:57:45.618 gohan.db.sql INFO [0m Creating table: create table `reserve_addresss` (`id`varchar(255) primary key,`subnets`text not null,`tenant_id`varchar(255) not null unique);
[36m04:57:45.638 gohan.db DEBUG [0m Registering schema neutron_extension
04:57:45.638 gohan.db.sql INFO [0m Creating table: create table `neutron_extensions` (`alias`varchar(255) null unique,`description`text not null,`id`varchar(255) primary key,`links`text not null,`name`text null,`namespace`text null,`updated`text null);
[36m04:57:45.658 gohan.db DEBUG [0m Registering schema heat_template
04:57:45.658 gohan.db.sql INFO [0m Creating table: create table `heat_templates` (`handler`text null,`id`varchar(255) primary key,`parameter_mappings`text null,`template_file`text null,`tenant_id`text null,`watch`text null);
[36m04:57:45.675 gohan.db DEBUG [0m Registering schema worker_data
04:57:45.675 gohan.db.sql INFO [0m Creating table: create table `worker_datas` (`id`varchar(255) primary key,`tenant_id`text null,`value`text not null);
[36m04:57:45.694 gohan.db DEBUG [0m Registering schema tenant
04:57:45.694 gohan.db.sql INFO [0m Creating table: create table `tenants` (`delete_retries`numeric not null,`end_time`text not null,`id`varchar(255) primary key,`status`text null);
[36m04:57:45.722 gohan.db DEBUG [0m Registering schema edge_router
04:57:45.722 gohan.db.sql INFO [0m Creating table: create table `edge_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`autonomous_system`text null,`description`text not null,`id`varchar(255) primary key,`ip`varchar(255) not null unique,`login`text not null,`name`text not null,`password`text not null,`ssh_port`numeric not null,`status`text null,`tenant_id`text null);
[36m04:57:45.751 gohan.db DEBUG [0m Registering schema er_physical_interface
04:57:45.752 gohan.db.sql INFO [0m Creating table: create table `er_physical_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_ese_port_id`varchar(255) null,`description`text not null,`device_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`status`text null,`tenant_id`text null,CONSTRAINT `er_physical_interface_connected_ese_port_id_fk` FOREIGN KEY (`connected_ese_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `er_physical_interface_device_id_fk` FOREIGN KEY (`device_id`) REFERENCES `edge_routers`(id) );
[36m04:57:45.782 gohan.db DEBUG [0m Registering schema ha_router
04:57:45.782 gohan.db.sql INFO [0m Creating table: create table `ha_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`available_gateways`numeric null,`description`text not null,`id`varchar(255) primary key,`maximum_gateways`numeric not null,`name`text not null,`primary_router_id`varchar(255) not null unique,`secondary_router_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,CONSTRAINT `ha_router_primary_router_id_fk` FOREIGN KEY (`primary_router_id`) REFERENCES `edge_routers`(id) ,CONSTRAINT `ha_router_secondary_router_id_fk` FOREIGN KEY (`secondary_router_id`) REFERENCES `edge_routers`(id) );
[36m04:57:45.811 gohan.db DEBUG [0m Registering schema ha_interface
04:57:45.812 gohan.db.sql INFO [0m Creating table: create table `ha_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`available_be_bandwidth`numeric null,`available_ga_bandwidth`numeric null,`description`text not null,`gateway_instances_count`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`link_type`text not null,`maximum_be_bandwidth`numeric not null,`maximum_ga_bandwidth`numeric not null,`name`text not null,`primary_interface_id`varchar(255) not null unique,`restricted_vlans`text not null,`secondary_interface_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,`vlan_ids_available`numeric not null,`vlan_pool_state`text not null,CONSTRAINT `ha_interface_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `ha_interface_primary_interface_id_fk` FOREIGN KEY (`primary_interface_id`) REFERENCES `er_physical_interfaces`(id) ,CONSTRAINT `ha_interface_secondary_interface_id_fk` FOREIGN KEY (`secondary_interface_id`) REFERENCES `er_physical_interfaces`(id) );
[36m04:57:45.851 gohan.db DEBUG [0m Registering schema internet_service
04:57:45.851 gohan.db.sql INFO [0m Creating table: create table `internet_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`inet_in_filter`text not null,`inet_out_filter`text not null,`minimal_submask_length`numeric not null,`name`text not null,`neighbour_prefix`text not null,`primary_ibgp_config_group`text not null,`primary_vrrp_config_group`text not null,`secondary_ibgp_config_group`text not null,`secondary_vrrp_config_group`text not null,`tenant_id`text null,`uplink_import_policy`text not null,`vrf_config`text not null,`vrf_export_policy`text not null,`vrf_import_policy`text not null,`zone`text null);
[36m04:57:45.868 gohan.db DEBUG [0m Registering schema vpn_service
04:57:45.868 gohan.db.sql INFO [0m Creating table: create table `vpn_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:57:45.887 gohan.db DEBUG [0m Registering schema aws_service
04:57:45.887 gohan.db.sql INFO [0m Creating table: create table `aws_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:57:45.907 gohan.db DEBUG [0m Registering schema interdc_service
04:57:45.907 gohan.db.sql INFO [0m Creating table: create table `interdc_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_uplink_vrrp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_uplink_vrrp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:57:45.932 gohan.db DEBUG [0m Registering schema common_function_pool
04:57:45.932 gohan.db.sql INFO [0m Creating table: create table `common_function_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_state`text not null,`description`text not null,`dnat_group_name`text not null,`dnat_pool_group_name`text not null,`downlink_interfaces`text not null,`id`varchar(255) primary key,`link_local_cidr`text not null,`link_local_netmask`numeric not null,`logical_tunnel_interface_name`text not null,`name`text not null,`service_interface_name`text not null,`service_vrf_name`text not null,`snapt_group_name`text not null,`snapt_pool_group_name`text not null,`tenant_id`text not null,`vrrp_config`text not null,`vrrp_group_name`text not null);
[36m04:57:45.952 gohan.db DEBUG [0m Registering schema nat_ip_pool
04:57:45.952 gohan.db.sql INFO [0m Creating table: create table `nat_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`ip_allocation_state`text not null,`ip_ranges`text not null,`name`text not null,`tenant_id`text not null,CONSTRAINT `nat_ip_pool_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `nat_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m04:57:45.975 gohan.db DEBUG [0m Registering schema common_function
04:57:45.976 gohan.db.sql INFO [0m Creating table: create table `common_functions` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_number`numeric null,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`link_local_ip_address`text not null,`name`text not null,`primary_vrrp_ip`text null,`secondary_vrrp_ip`text null,`shared_ip_address`text not null,`status`text not null,`tenant_id`text not null,`vrid`numeric null,CONSTRAINT `common_function_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m04:57:46.008 gohan.db DEBUG [0m Registering schema public_ip_pool
04:57:46.009 gohan.db.sql INFO [0m Creating table: create table `public_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`addresses_available`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`ip_version`numeric not null,`pool_state`text not null,`submask_length`numeric not null,`subnet_ip`text not null,`tenant_id`text null,CONSTRAINT `public_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `public_ip_pool_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) );
[36m04:57:46.040 gohan.db DEBUG [0m Registering schema suspended_public_ip
04:57:46.040 gohan.db.sql INFO [0m Creating table: create table `suspended_public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`expiry_timestamp`text null,`id`varchar(255) primary key,`ip_pool_id`varchar(255) not null,`name`text not null,`previous_tenant_id`text null,`submask_length`text not null,`tenant_id`text null,CONSTRAINT `suspended_public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) );
[36m04:57:46.060 gohan.db DEBUG [0m Registering schema qos_option
04:57:46.060 gohan.db.sql INFO [0m Creating table: create table `qos_options` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_service_id`varchar(255) null,`bandwidth`text not null,`charge_type`text null,`description`text not null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`incoming_policer_config`text not null,`incoming_policer_name`text not null,`interdc_service_id`varchar(255) null,`internet_service_id`varchar(255) null,`name`text not null,`outgoing_policer_config`text not null,`outgoing_policer_name`text not null,`qos_type`text not null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_service_id`varchar(255) null,CONSTRAINT `qos_option_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `qos_option_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `qos_option_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `qos_option_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `qos_option_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m04:57:46.135 gohan.db DEBUG [0m Registering schema vpn_gateway
04:57:46.136 gohan.db.sql INFO [0m Creating table: create table `vpn_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_vpn_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vpn_service_id`varchar(255) not null,`vrf_name`text null,CONSTRAINT `vpn_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `vpn_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m04:57:46.188 gohan.db DEBUG [0m Registering schema vpn_interface
04:57:46.189 gohan.db.sql INFO [0m Creating table: create table `vpn_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,`vpn_gw_id`varchar(255) not null,CONSTRAINT `vpn_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:57:46.232 gohan.db DEBUG [0m Registering schema aws_gateway
04:57:46.232 gohan.db.sql INFO [0m Creating table: create table `aws_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_service_id`varchar(255) not null,`connected_aws_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `aws_gateway_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `aws_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `aws_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `aws_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:57:46.272 gohan.db DEBUG [0m Registering schema aws_interface
04:57:46.273 gohan.db.sql INFO [0m Creating table: create table `aws_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) not null,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,CONSTRAINT `aws_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) );
[36m04:57:46.289 gohan.db DEBUG [0m Registering schema internet_gateway
04:57:46.289 gohan.db.sql INFO [0m Creating table: create table `internet_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`associated_uplink_id`varchar(255) null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_interface_name`text null,`status`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `internet_gateway_associated_uplink_id_fk` FOREIGN KEY (`associated_uplink_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `internet_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) );
[36m04:57:46.341 gohan.db DEBUG [0m Registering schema common_function_gateway
04:57:46.341 gohan.db.sql INFO [0m Creating table: create table `common_function_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_id`varchar(255) not null,`common_functions`text null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`logical_tunnel_unit_service`text null,`logical_tunnel_unit_user`text null,`name`text not null,`nat_ip`text null,`network_id`text null,`primary_logical_interface_name`text null,`secondary_logical_interface_name`text null,`status`text null,`subnet_id`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `common_function_gateway_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:57:46.366 gohan.db DEBUG [0m Registering schema public_ip
04:57:46.366 gohan.db.sql INFO [0m Creating table: create table `public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`id`varchar(255) primary key,`internet_gw_id`varchar(255) not null,`ip_pool_id`varchar(255) null,`name`text not null,`status`text not null,`submask_length`numeric not null,`suspended_public_ip_id`varchar(255) null,`tenant_id`text null,CONSTRAINT `public_ip_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) ,CONSTRAINT `public_ip_suspended_public_ip_id_fk` FOREIGN KEY (`suspended_public_ip_id`) REFERENCES `suspended_public_ips`(id) );
[36m04:57:46.409 gohan.db DEBUG [0m Registering schema interdc_gateway
04:57:46.409 gohan.db.sql INFO [0m Creating table: create table `interdc_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`interdc_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `interdc_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `interdc_gateway_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `interdc_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `interdc_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:57:46.454 gohan.db DEBUG [0m Registering schema interdc_interface
04:57:46.454 gohan.db.sql INFO [0m Creating table: create table `interdc_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) not null unique,`name`text not null,`netmask`numeric not null,`primary_ipv4`text not null,`primary_ipv6`text null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`status`text null,`tenant_id`text null,`vrid`numeric not null,CONSTRAINT `interdc_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) );
[36m04:57:46.477 gohan.db DEBUG [0m Registering schema gw_interface
04:57:46.477 gohan.db.sql INFO [0m Creating table: create table `gw_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) null unique,`description`text not null,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null unique,`internet_gw_id`varchar(255) null unique,`name`text not null,`netmask`numeric not null,`network_id`varchar(255) not null,`primary_ipv4`text not null,`primary_ipv6`text null,`public_ip_id`varchar(255) null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`service_type`text not null,`status`text null,`tenant_id`text null,`vpn_gw_id`varchar(255) null unique,`vrid`numeric not null,CONSTRAINT `gw_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `gw_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `gw_interface_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `gw_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `gw_interface_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `gw_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:57:46.546 gohan.db DEBUG [0m Registering schema static_route
04:57:46.547 gohan.db.sql INFO [0m Creating table: create table `static_routes` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) null,`description`text not null,`destination`text not null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null,`internet_gw_id`varchar(255) null,`name`text not null,`nexthop`text not null,`public_ip_id`varchar(255) null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_gw_id`varchar(255) null,CONSTRAINT `static_route_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `static_route_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `static_route_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `static_route_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `static_route_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:57:46.593 gohan.db DEBUG [0m Registering schema vnf_template
04:57:46.593 gohan.db.sql INFO [0m Creating table: create table `vnf_templates` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`credentials`text not null,`description`text not null,`dummy_networks`text not null,`function`text not null,`id`varchar(255) primary key,`image`text not null,`init_config`text not null,`management_networks`text not null,`name`text not null,`security_group`text not null,`service_network_id`text null,`tenant_id`text null,`user_data_template`text not null,`vendor`text not null,`version`text not null);
[36m04:57:46.613 gohan.db DEBUG [0m Registering schema vnf_plan
04:57:46.614 gohan.db.sql INFO [0m Creating table: create table `vnf_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`default_interface_number`numeric not null,`description`text not null,`flavor`text not null,`function`text not null,`id`varchar(255) primary key,`interface_limit`numeric not null,`name`text not null,`tenant_id`text null,`vendor`text not null);
[36m04:57:46.635 gohan.db DEBUG [0m Registering schema vnf_instance
04:57:46.635 gohan.db.sql INFO [0m Creating table: create table `vnf_instances` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`availability_zone`text null,`config_drive`boolean not null,`description`text null,`id`varchar(255) primary key,`management_ip`text null,`name`text null,`networks`text null,`owner_tenant_id`text null,`reboot`text not null,`status`text not null,`tenant_id`text null,`user_data`text not null,`user_data_format`text not null,`user_data_parameters`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `vnf_instance_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `vnf_instance_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:57:46.661 gohan.db DEBUG [0m Registering schema vnf_interface
04:57:46.662 gohan.db.sql INFO [0m Creating table: create table `vnf_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`port_id`varchar(255) null,`slot_number`numeric null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_instance_id`varchar(255) not null,CONSTRAINT `vnf_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `vnf_interface_port_id_fk` FOREIGN KEY (`port_id`) REFERENCES `ports`(id) ,CONSTRAINT `vnf_interface_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:57:46.703 gohan.db DEBUG [0m Registering schema firewall_plan
04:57:46.703 gohan.db.sql INFO [0m Creating table: create table `firewall_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `firewall_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `firewall_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:57:46.750 gohan.db DEBUG [0m Registering schema firewall
04:57:46.750 gohan.db.sql INFO [0m Creating table: create table `firewalls` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`firewall_plan_id`varchar(255) not null,`id`varchar(255) primary key,`interfaces`text not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `firewall_firewall_plan_id_fk` FOREIGN KEY (`firewall_plan_id`) REFERENCES `firewall_plans`(id) ,CONSTRAINT `firewall_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:57:46.775 gohan.db DEBUG [0m Registering schema firewall_interface
04:57:46.775 gohan.db.sql INFO [0m Creating table: create table `firewall_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`firewall_id`varchar(255) not null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `firewall_interface_firewall_id_fk` FOREIGN KEY (`firewall_id`) REFERENCES `firewalls`(id) ,CONSTRAINT `firewall_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `firewall_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m04:57:46.848 gohan.db DEBUG [0m Registering schema load_balancer_plan
04:57:46.848 gohan.db.sql INFO [0m Creating table: create table `load_balancer_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`license_code`text not null,`maximum_syslog_servers`numeric null,`model`text not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `load_balancer_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `load_balancer_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:57:46.899 gohan.db DEBUG [0m Registering schema load_balancer_conf
04:57:46.899 gohan.db.sql INFO [0m Creating table: create table `load_balancer_confs` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`internet_port`text not null,`load_balancer_plan_id`varchar(255) not null,`management_gateway`text not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_conf_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_conf_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:57:46.956 gohan.db DEBUG [0m Registering schema load_balancer
04:57:46.956 gohan.db.sql INFO [0m Creating table: create table `load_balancers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`interfaces`text not null,`internet_port_id`varchar(255) null unique,`load_balancer_conf_id`varchar(255) null,`load_balancer_plan_id`varchar(255) not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`syslog_servers`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_load_balancer_conf_id_fk` FOREIGN KEY (`load_balancer_conf_id`) REFERENCES `load_balancer_confs`(id) ,CONSTRAINT `load_balancer_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:57:47.022 gohan.db DEBUG [0m Registering schema load_balancer_interface
04:57:47.022 gohan.db.sql INFO [0m Creating table: create table `load_balancer_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`load_balancer_id`varchar(255) not null,`name`text null,`network_id`varchar(255) null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `load_balancer_interface_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) ,CONSTRAINT `load_balancer_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `load_balancer_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m04:57:47.083 gohan.db DEBUG [0m Registering schema load_balancer_syslog_server
04:57:47.083 gohan.db.sql INFO [0m Creating table: create table `load_balancer_syslog_servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`acl_logging`text not null,`appflow_logging`text not null,`comment`text not null,`date_format`text not null,`description`text null,`id`varchar(255) primary key,`ip_address`text not null,`load_balancer_id`varchar(255) not null,`log_facility`text not null,`log_level`text not null,`name`text not null,`port_number`numeric not null,`priority`numeric not null,`status`text not null,`tcp_logging`text not null,`tenant_id`text null,`time_zone`text not null,`transport_type`text not null,`user_configurable_log_messages`text not null,`vserver_ip_address`text not null,`vserver_port_id`text not null,CONSTRAINT `load_balancer_syslog_server_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) );
[36m04:57:47.122 gohan.db DEBUG [0m Registering schema billing_usage
04:57:47.122 gohan.db.sql INFO [0m Creating table: create table `billing_usages` (`id`varchar(255) primary key,`tenant_id`varchar(255) not null,CONSTRAINT `billing_usage_tenant_id_fk` FOREIGN KEY (`tenant_id`) REFERENCES `tenants`(id) );
[36m04:57:47.151 gohan.db DEBUG [0m Registering schema billing_resource
04:57:47.151 gohan.db.sql INFO [0m Creating table: create table `billing_resources` (`config_version`numeric null,`ended`numeric null,`id`varchar(255) primary key,`info`text not null,`parent_billing_id`varchar(255) null,`resource_id`text not null,`resource_type`text not null,`started`numeric null,`tenant_id`text not null,`unique_resource_id`varchar(255) null unique,CONSTRAINT `billing_resource_parent_billing_id_fk` FOREIGN KEY (`parent_billing_id`) REFERENCES `billing_resources`(id) );
[36m04:57:47.260 gohan.db DEBUG [0m Registering schema monitoring
04:57:47.260 gohan.db.sql INFO [0m Creating table: create table `monitorings` (`id`varchar(255) primary key);
[36m04:57:47.313 gohan.db DEBUG [0m Registering schema resource_mapping
04:57:47.313 gohan.db.sql INFO [0m Creating table: create table `resource_mappings` (`created`numeric null,`deleted`numeric null,`id`varchar(255) primary key,`mapped_id`text null,`relation`text null,`resource_id`text null,`resource_type`text null,`tenant_id`text null);
[36m04:57:47.340 gohan.db DEBUG [0m Registering schema colocation_space
04:57:47.340 gohan.db.sql INFO [0m Creating table: create table `colocation_spaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connectable_device_ids`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`tenant_id`text null);
[36m04:57:47.370 gohan.db DEBUG [0m Registering schema colocation_physical_link
04:57:47.370 gohan.db.sql INFO [0m Creating table: create table `colocation_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `colocation_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `colocation_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m04:57:47.436 gohan.db DEBUG [0m Registering schema colocation_logical_link
04:57:47.437 gohan.db.sql INFO [0m Creating table: create table `colocation_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`colocation_physical_link_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `colocation_logical_link_colocation_physical_link_id_fk` FOREIGN KEY (`colocation_physical_link_id`) REFERENCES `colocation_physical_links`(id) ,CONSTRAINT `colocation_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `colocation_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `colocation_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
[36m04:57:47.496 gohan.db DEBUG [0m Registering schema tenant_connection
04:57:47.496 gohan.db.sql INFO [0m Creating table: create table `tenant_connections` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`approval_request_id`text not null,`connected_interface`text not null,`connected_network`text not null,`description`text not null,`id`varchar(255) primary key,`interface_type`text not null,`name`text not null,`progress`text not null,`request_keystone_user_id`text null,`tenant_id`text null);
[36m04:57:47.522 gohan.db DEBUG [0m Registering schema hosting_physical_link
04:57:47.522 gohan.db.sql INFO [0m Creating table: create table `hosting_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `hosting_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `hosting_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m04:57:47.572 gohan.db DEBUG [0m Registering schema hosting_logical_link
04:57:47.573 gohan.db.sql INFO [0m Creating table: create table `hosting_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`hosting_physical_link_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `hosting_logical_link_hosting_physical_link_id_fk` FOREIGN KEY (`hosting_physical_link_id`) REFERENCES `hosting_physical_links`(id) ,CONSTRAINT `hosting_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `hosting_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `hosting_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
04:57:47.626 gohan.server.core INFO [0m Importing data from ./init/heat_templates.yaml ...
04:57:47.628 gohan.db INFO [0m Populating resources for schema schema
04:57:47.631 gohan.db INFO [0m Populating resources for schema policy
04:57:47.634 gohan.db INFO [0m Populating resources for schema extension
04:57:47.641 gohan.db INFO [0m Populating resources for schema event
04:57:47.646 gohan.db INFO [0m Populating resources for schema namespace
04:57:47.647 gohan.db INFO [0m Populating resources for schema location
04:57:47.649 gohan.db INFO [0m Populating resources for schema ese_device
04:57:47.661 gohan.db INFO [0m Populating resources for schema network
04:57:47.663 gohan.db INFO [0m Populating resources for schema subnet
04:57:47.664 gohan.db INFO [0m Populating resources for schema port
04:57:47.666 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:47.667 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:47.672 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:47.673 gohan.db INFO [0m Populating resources for schema server
04:57:47.687 gohan.db INFO [0m Populating resources for schema physical_port
04:57:47.692 gohan.db INFO [0m Populating resources for schema quota
04:57:47.701 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:47.703 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:47.714 gohan.db INFO [0m Populating resources for schema heat_template
04:57:47.717 gohan.db INFO [0m Creating resource network
04:57:47.717 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,network,{"admin_state_up":"Padmin_state_up","name":"Pid","uuid":"Pid"},heat_template_version: 2013-05-23

description: >
  Network template

parameters:
  uuid:
    type: string
    label: Virtual Network UUID
    description: UUID of the virtual network that will be created.
    default: ""
  name:
    type: string
    label: Virtual Network Name
    description: Name of the virtual network that will be created.
  forwarding_mode:
    type: string
    label: Forwarding Mode
    description: Forwarding Mode.
    default: 'l2_l3'
  route_targets:
    type: comma_delimited_list
    label: Route Targets list
    default: []
  shared:
    type: boolean
    label: Shared Network
    default: false
  external:
    type: boolean
    label: External Network
    default: true
  allow_transit:
    type: boolean
    label: Allow Transit
    default: false
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true

resources:
  network:
    type: OS::Contrail::VirtualNetwork
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      forwarding_mode: { get_param: forwarding_mode }
      route_targets: { get_param: route_targets }
      shared: { get_param: shared }
      admin_state_up: { get_param: admin_state_up }

outputs:
  id:
    description: A unique id for the virtual network.
    value: { get_resource: network }
  name:
    description: The name of the virtual network.
    value: { get_attr: [network, name] }
  fq_name:
    description: The FQ name of the virtual network.
    value: { get_attr: [network, fq_name] }
  route_targets:
    description: The name of the virtual network.
    value: { get_attr: [network, route_targets] }
)'
04:57:47.718 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/network,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"network\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"name\":\"Pid\",\"uuid\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Network template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Virtual Network UUID\\n    description: UUID of the virtual network that will be created.\\n    default: \\\"\\\"\\n  name:\\n    type: string\\n    label: Virtual Network Name\\n    description: Name of the virtual network that will be created.\\n  forwarding_mode:\\n    type: string\\n    label: Forwarding Mode\\n    description: Forwarding Mode.\\n    default: 'l2_l3'\\n  route_targets:\\n    type: comma_delimited_list\\n    label: Route Targets list\\n    default: []\\n  shared:\\n    type: boolean\\n    label: Shared Network\\n    default: false\\n  external:\\n    type: boolean\\n    label: External Network\\n    default: true\\n  allow_transit:\\n    type: boolean\\n    label: Allow Transit\\n    default: false\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n\\nresources:\\n  network:\\n    type: OS::Contrail::VirtualNetwork\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      forwarding_mode: { get_param: forwarding_mode }\\n      route_targets: { get_param: route_targets }\\n      shared: { get_param: shared }\\n      admin_state_up: { get_param: admin_state_up }\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual network.\\n    value: { get_resource: network }\\n  name:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, name] }\\n  fq_name:\\n    description: The FQ name of the virtual network.\\n    value: { get_attr: [network, fq_name] }\\n  route_targets:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, route_targets] }\\n\",\"watch\":[]}")'
04:57:47.719 gohan.db INFO [0m Creating resource subnet
04:57:47.719 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  network_id:
    type: string
    label: Network ID
    description: ID of the network for which subnet will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  gateway_ip:
    default: "0.0.0.0"
    type: string
    label: Default Gateway
    description: Default gateway for the local subnet that will be created.
  ipam:
    type: string
    label: IP Address Management
    description: IPAM for the local subnet that will be created.
    default: ''
  enable_dhcp:
    type: boolean
    label: Enable DHCP
    description: Enable DHCP
    default: true
  dhcp_server_address:
    type: string
    label: DHCP Server address
    description: DHCP Server address
    default: "0.0.0.0"
  allocation_pools:
    type: string
    label: Allocation Pools
    description: Allocation Pools
    default: []
  dns_nameservers:
    type: comma_delimited_list
    label: DNS Nameservers List
    description: DNS Nameservers List
    default: []
  ntp_servers:
    type: comma_delimited_list
    label: NTP Nameservers List
    description: NTP Nameservers List
    default: []
  host_routes:
    type: json
    label: Host Routes
    description: Host Routes
    default: []

resources:
  subnet:
    type: OS::Contrail::VnSubnet
    properties:
      name: { get_param: name }
      network_id: { get_param: network_id }
      ip_prefix: { get_param: cidr }
      default_gateway: { get_param: gateway_ip }
      ipam: { get_param: ipam }
      enable_dhcp: { get_param: enable_dhcp }
      dns_server_address: { get_param: dhcp_server_address }
      dns_nameservers: { get_param: dns_nameservers }
      ntp_servers: { get_param: ntp_servers }
      host_routes: { get_param: host_routes }
      allocation_pools: { get_param: allocation_pools }
      gateway_is_vrouter: false

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
  network_id:
    description: A unique id for the network.
    value: { get_attr: [subnet, network_id] }
  ip_prefix:
    description: IP prefix of local subnet.
    value: { get_attr: [subnet, ip_prefix] }
  default_gateway:
    description: Default gateway of local subnet.
    value: { get_attr: [subnet, default_gateway] }
  ipam:
    description: IPAM this local subnet uses.
    value: { get_attr: [subnet, ipam] }
,[],heat_worker,subnet,{"allocation_pools":"Pallocation_pools","cidr":"Pcidr","dhcp_server_address":"Pdhcp_server_address","dns_nameservers":"Pdns_nameservers","enable_dhcp":"Penable_dhcp","gateway_ip":"Pgateway_ip","host_routes":"Phost_routes","ipam":"Cdefault-domain:default-project:default-network-ipam","name":"Pid","network_id":"Mnetwork:network_id:id","ntp_servers":"Pntp_servers"})'
04:57:47.724 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/subnet,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"subnet\",\"parameter_mappings\":{\"allocation_pools\":\"Pallocation_pools\",\"cidr\":\"Pcidr\",\"dhcp_server_address\":\"Pdhcp_server_address\",\"dns_nameservers\":\"Pdns_nameservers\",\"enable_dhcp\":\"Penable_dhcp\",\"gateway_ip\":\"Pgateway_ip\",\"host_routes\":\"Phost_routes\",\"ipam\":\"Cdefault-domain:default-project:default-network-ipam\",\"name\":\"Pid\",\"network_id\":\"Mnetwork:network_id:id\",\"ntp_servers\":\"Pntp_servers\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  network_id:\\n    type: string\\n    label: Network ID\\n    description: ID of the network for which subnet will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  gateway_ip:\\n    default: \\\"0.0.0.0\\\"\\n    type: string\\n    label: Default Gateway\\n    description: Default gateway for the local subnet that will be created.\\n  ipam:\\n    type: string\\n    label: IP Address Management\\n    description: IPAM for the local subnet that will be created.\\n    default: ''\\n  enable_dhcp:\\n    type: boolean\\n    label: Enable DHCP\\n    description: Enable DHCP\\n    default: true\\n  dhcp_server_address:\\n    type: string\\n    label: DHCP Server address\\n    description: DHCP Server address\\n    default: \\\"0.0.0.0\\\"\\n  allocation_pools:\\n    type: string\\n    label: Allocation Pools\\n    description: Allocation Pools\\n    default: []\\n  dns_nameservers:\\n    type: comma_delimited_list\\n    label: DNS Nameservers List\\n    description: DNS Nameservers List\\n    default: []\\n  ntp_servers:\\n    type: comma_delimited_list\\n    label: NTP Nameservers List\\n    description: NTP Nameservers List\\n    default: []\\n  host_routes:\\n    type: json\\n    label: Host Routes\\n    description: Host Routes\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::VnSubnet\\n    properties:\\n      name: { get_param: name }\\n      network_id: { get_param: network_id }\\n      ip_prefix: { get_param: cidr }\\n      default_gateway: { get_param: gateway_ip }\\n      ipam: { get_param: ipam }\\n      enable_dhcp: { get_param: enable_dhcp }\\n      dns_server_address: { get_param: dhcp_server_address }\\n      dns_nameservers: { get_param: dns_nameservers }\\n      ntp_servers: { get_param: ntp_servers }\\n      host_routes: { get_param: host_routes }\\n      allocation_pools: { get_param: allocation_pools }\\n      gateway_is_vrouter: false\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n  network_id:\\n    description: A unique id for the network.\\n    value: { get_attr: [subnet, network_id] }\\n  ip_prefix:\\n    description: IP prefix of local subnet.\\n    value: { get_attr: [subnet, ip_prefix] }\\n  default_gateway:\\n    description: Default gateway of local subnet.\\n    value: { get_attr: [subnet, default_gateway] }\\n  ipam:\\n    description: IPAM this local subnet uses.\\n    value: { get_attr: [subnet, ipam] }\\n\",\"watch\":[]}",1)'
04:57:47.733 gohan.db INFO [0m Creating resource port
04:57:47.733 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,port,{"admin_state_up":"Padmin_state_up","device_owner":"Pdevice_owner","jinja_fixed_ips":"Pfixed_ips","jinja_force_dependency_cfg":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:common_function_gateway"}]},"then_mapping":{"field":"id","ignore_missing":true,"path":[{"id":"device_id","type":"common_function_gateway"}]}},"jinja_force_dependency_gw_interface":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:gw_interface"}]},"then_mapping":{"field":"id","path":[{"id":"device_id","type":"gw_interface"}]}},"jinja_subnets":{"for_field":"fixed_ips","for_mapping":{"output_key":"id","path":[{"id":"subnet_id","type":"subnet"}]}},"name":"Pid","uuid":"Pid","virtual_machine":"Pdevice_id","virtual_machine_interface_allowed_address_pairs":"Pallowed_address_pairs","virtual_machine_interface_mac_address":"Pmac_address","virtual_network":"Mnetwork:network_id:id"},heat_template_version: 2013-05-23

description: >
  Virtual Machine Interface Template

parameters:
  uuid:
    type: string
    label: Backend Virtual Machine Interface UUID
    description: A unique id for the Virtual Machine Interface.
  name:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  virtual_machine_interface_allowed_address_pairs:
    type: json
    label: Virtual machine interface allowed address pairs.
  virtual_machine_interface_mac_address:
    type: string
    default: "fe:ff:ff:ff:ff:ff"
    label: Virtual machine interface mac address.
  virtual_network:
    type: string
    label: Virtual Network.
  virtual_machine:
    type: string
    label: Virtual Machine.
    default: ""
  device_owner:
    type: string
    label: Device Owner
    default: ""
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true

resources:
  virtual_machine_interface:
    type: OS::Contrail::VirtualMachineInterface
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }
      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]
      virtual_networks: [ { get_param: virtual_network } ]
      virtual_machine: { get_param: virtual_machine }
      device_owner: { get_param: device_owner }
      admin_state_up: { get_param: admin_state_up }

{% for fixed_ip in jinja_fixed_ips %}
{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}
  {{ instance_ip_id }}:
    type: OS::Contrail::InstanceIp
    properties:
      name:
        str_replace:
          template: '%name%_%zone%_%ip%'
          params:
            "%name%": { get_param: name }
            "%zone%": {{ fixed_ip.subnet_id }}
            "%ip%": {{ fixed_ip.ip_address }}
      ip_address: {{ fixed_ip.ip_address }}
      subnet_id: {{ jinja_subnets[loop.index0] }}
      network_id: { get_param: virtual_network }
      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]
{% endfor %}

outputs:
  id:
    description: A unique id for the virtual machine interface.
    value: { get_resource: virtual_machine_interface }
  mac_address:
    description: Virtual machine interface mac address.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }
  virtual_network:
    description: Virtual network.
    value: { get_attr: [virtual_machine_interface, virtual_networks] }
  fq_name:
    description: Fully Qualified Name of the VMI
    value: { get_attr: [virtual_machine_interface, fq_name] }
,[])'
04:57:47.734 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/port,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"port\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"device_owner\":\"Pdevice_owner\",\"jinja_fixed_ips\":\"Pfixed_ips\",\"jinja_force_dependency_cfg\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:common_function_gateway\"}]},\"then_mapping\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"device_id\",\"type\":\"common_function_gateway\"}]}},\"jinja_force_dependency_gw_interface\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:gw_interface\"}]},\"then_mapping\":{\"field\":\"id\",\"path\":[{\"id\":\"device_id\",\"type\":\"gw_interface\"}]}},\"jinja_subnets\":{\"for_field\":\"fixed_ips\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]}},\"name\":\"Pid\",\"uuid\":\"Pid\",\"virtual_machine\":\"Pdevice_id\",\"virtual_machine_interface_allowed_address_pairs\":\"Pallowed_address_pairs\",\"virtual_machine_interface_mac_address\":\"Pmac_address\",\"virtual_network\":\"Mnetwork:network_id:id\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Virtual Machine Interface Template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Backend Virtual Machine Interface UUID\\n    description: A unique id for the Virtual Machine Interface.\\n  name:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  virtual_machine_interface_allowed_address_pairs:\\n    type: json\\n    label: Virtual machine interface allowed address pairs.\\n  virtual_machine_interface_mac_address:\\n    type: string\\n    default: \\\"fe:ff:ff:ff:ff:ff\\\"\\n    label: Virtual machine interface mac address.\\n  virtual_network:\\n    type: string\\n    label: Virtual Network.\\n  virtual_machine:\\n    type: string\\n    label: Virtual Machine.\\n    default: \\\"\\\"\\n  device_owner:\\n    type: string\\n    label: Device Owner\\n    default: \\\"\\\"\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n\\nresources:\\n  virtual_machine_interface:\\n    type: OS::Contrail::VirtualMachineInterface\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\\n      virtual_networks: [ { get_param: virtual_network } ]\\n      virtual_machine: { get_param: virtual_machine }\\n      device_owner: { get_param: device_owner }\\n      admin_state_up: { get_param: admin_state_up }\\n\\n{% for fixed_ip in jinja_fixed_ips %}\\n{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}\\n  {{ instance_ip_id }}:\\n    type: OS::Contrail::InstanceIp\\n    properties:\\n      name:\\n        str_replace:\\n          template: '%name%_%zone%_%ip%'\\n          params:\\n            \\\"%name%\\\": { get_param: name }\\n            \\\"%zone%\\\": {{ fixed_ip.subnet_id }}\\n            \\\"%ip%\\\": {{ fixed_ip.ip_address }}\\n      ip_address: {{ fixed_ip.ip_address }}\\n      subnet_id: {{ jinja_subnets[loop.index0] }}\\n      network_id: { get_param: virtual_network }\\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\\n{% endfor %}\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual machine interface.\\n    value: { get_resource: virtual_machine_interface }\\n  mac_address:\\n    description: Virtual machine interface mac address.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\\n  allowed_address_pairs:\\n    description: Virtual machine allowed address pairs.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\\n  virtual_network:\\n    description: Virtual network.\\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\\n  fq_name:\\n    description: Fully Qualified Name of the VMI\\n    value: { get_attr: [virtual_machine_interface, fq_name] }\\n\",\"watch\":[]}")'
04:57:47.735 gohan.db INFO [0m Creating resource ese_physical_port_existing
04:57:47.735 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,ese_physical_port_existing,{"physical_device_hostname":"Fese_device+ese_device_id:hostname","physical_port_name":"Pname"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device_hostname:
    type: string
    label: Physical Device Hostname
    description: Hostname of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.

resources:
  physical_interface:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: physical_device_hostname }
        - { get_param: physical_port_name }
      resource_type: "physical_interface"

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
)'
04:57:47.736 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_existing\",\"parameter_mappings\":{\"physical_device_hostname\":\"Fese_device+ese_device_id:hostname\",\"physical_port_name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device_hostname:\\n    type: string\\n    label: Physical Device Hostname\\n    description: Hostname of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: physical_device_hostname }\\n        - { get_param: physical_port_name }\\n      resource_type: \\\"physical_interface\\\"\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_physical_port_existing)'
04:57:47.737 gohan.db INFO [0m Creating resource ese_physical_port_new
04:57:47.737 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,ese_physical_port_new,{"physical_device":"Mese_device:ese_device_id:id","physical_port_name":"Pname"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device:
    type: string
    label: Physical Device Id
    description: Id of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.

resources:
  physical_interface:
    type: OS::Contrail::PhysicalInterface
    properties:
      name: { get_param: physical_port_name }
      physical_router: { get_param: physical_device }

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
)'
04:57:47.738 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ese_physical_port_new,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_new\",\"parameter_mappings\":{\"physical_device\":\"Mese_device:ese_device_id:id\",\"physical_port_name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device:\\n    type: string\\n    label: Physical Device Id\\n    description: Id of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::PhysicalInterface\\n    properties:\\n      name: { get_param: physical_port_name }\\n      physical_router: { get_param: physical_device }\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n\",\"watch\":[]}",1)'
04:57:47.739 gohan.db INFO [0m Creating resource ese_logical_port
04:57:47.739 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (ese_logical_port,{"logical_port_name":"Pname","logical_port_type":"Ptype","logical_port_vlan_id":"Pvlan_id","physical_port_id":"Mese_physical_port:ese_physical_port_id:id","virtual_machine_interface_ids":{"for_field":"port_ids","for_mapping":{"output_key":"id","path":[{"id":"","type":"port"}]}}},heat_template_version: 2013-05-23

description: >
  Logical port template

parameters:
  physical_port_id:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  logical_port_name:
    type: string
    label: Logical Port Name
    description: Name of the logical port.
  logical_port_type:
    type: string
    label: Logical Port Type
    description: Type of the logical port.
  logical_port_vlan_id:
    type: number
    label: VLAN id for Logical Port
    description: VLAN id to use for logical port creation.
    default: 0
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface ID
    description: Virtual Machine Interface ID.

resources:
  logical_interface:
    type: OS::Contrail::LogicalInterface
    properties:
      name: { get_param: logical_port_name }
      physical_interface: { get_param: physical_port_id }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }
      type: { get_param: logical_port_type }
      vlan: { get_param: logical_port_vlan_id }

outputs:
  id:
    description: A unique id for the logical interface
    value: { get_resource: logical_interface }
  name:
    description: The name of the logical interface.
    value: { get_attr: [logical_interface, name] }
,[],heat_worker)'
04:57:47.740 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ese_logical_port,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_logical_port\",\"parameter_mappings\":{\"logical_port_name\":\"Pname\",\"logical_port_type\":\"Ptype\",\"logical_port_vlan_id\":\"Pvlan_id\",\"physical_port_id\":\"Mese_physical_port:ese_physical_port_id:id\",\"virtual_machine_interface_ids\":{\"for_field\":\"port_ids\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"\",\"type\":\"port\"}]}}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Logical port template\\n\\nparameters:\\n  physical_port_id:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  logical_port_name:\\n    type: string\\n    label: Logical Port Name\\n    description: Name of the logical port.\\n  logical_port_type:\\n    type: string\\n    label: Logical Port Type\\n    description: Type of the logical port.\\n  logical_port_vlan_id:\\n    type: number\\n    label: VLAN id for Logical Port\\n    description: VLAN id to use for logical port creation.\\n    default: 0\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface ID\\n    description: Virtual Machine Interface ID.\\n\\nresources:\\n  logical_interface:\\n    type: OS::Contrail::LogicalInterface\\n    properties:\\n      name: { get_param: logical_port_name }\\n      physical_interface: { get_param: physical_port_id }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n      type: { get_param: logical_port_type }\\n      vlan: { get_param: logical_port_vlan_id }\\n\\noutputs:\\n  id:\\n    description: A unique id for the logical interface\\n    value: { get_resource: logical_interface }\\n  name:\\n    description: The name of the logical interface.\\n    value: { get_attr: [logical_interface, name] }\\n\",\"watch\":[]}",1)'
04:57:47.741 gohan.db INFO [0m Creating resource local_subnet
04:57:47.741 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,local_subnet,{"cidr":"Pcidr","name":"Pid"},heat_template_version: 2013-05-23

description: >
  Local Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface IDs
    description: Virtual Machine Interface IDs.
    default: []

resources:
  subnet:
    type: OS::Contrail::Subnet
    properties:
      name: { get_param: name }
      ip_prefix: { get_param: cidr }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
,[])'
04:57:47.741 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/local_subnet,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"local_subnet\",\"parameter_mappings\":{\"cidr\":\"Pcidr\",\"name\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Local Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface IDs\\n    description: Virtual Machine Interface IDs.\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::Subnet\\n    properties:\\n      name: { get_param: name }\\n      ip_prefix: { get_param: cidr }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n\",\"watch\":[]}")'
04:57:47.749 gohan.db INFO [0m Creating resource ese_device_existing
04:57:47.749 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,ese_device_existing,{"hostname":"Phostname","name":"Pname"},heat_template_version: 2013-05-23

description: >
  ESE Device (existing) template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  hostname:
    type: string
    label: Hostname
    description: Name of host (vrouter) to create router on

resources:
  physical_router:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: hostname }
      resource_type: "physical_router"
outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
,[])'
04:57:47.750 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_device_existing\",\"parameter_mappings\":{\"hostname\":\"Phostname\",\"name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  ESE Device (existing) template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  hostname:\\n    type: string\\n    label: Hostname\\n    description: Name of host (vrouter) to create router on\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: hostname }\\n      resource_type: \\\"physical_router\\\"\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_device_existing,1494478667)'
04:57:47.751 gohan.db INFO [0m Creating resource ese_device_new
04:57:47.751 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (ese_device_new,{"dataplane_ip":"Ppublic_ip_address","management_ip":"Pmanagement_ip_address","name":"Phostname","password":"Ppassword","product_name":"Pname","tor_agent_names":"Ptor_agent_names","tsn_names":"Ptsn_names","username":"Pusername","vendor_name":"CJuniper","vnc_managed":"CFalse"},heat_template_version: 2013-05-23

description: >
  Physical router template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  tor_agent_names:
    type: comma_delimited_list
    label: TOR Agent Names
    description: List of virtual router names of TOR agents.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  tsn_names:
    type: comma_delimited_list
    label: TOR Service Node Names
    description: List of virtual router names of TOR service nodes.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  management_ip:
    type: string
    label: Management IP Address
    description: Management IP Address.
  dataplane_ip:
    type: string
    label: Dataplane IP Address
    description: Dataplane Address.
  vendor_name:
    type: string
    default: ""
    label: Vendor Name
    description: Vendor name of the physical router.
  product_name:
    type: string
    default: ""
    label: Product Name
    description: Product name of the physical router.
  vnc_managed:
    type: boolean
    default: False
    label: VNC managed
    description: VNC managed.
  username:
    type: string
    label: Username
    description: Username used to login to the physical router.
  password:
    type: string
    label: Password
    description: Password used to login to the physical router.

resources:
  physical_router:
    type: OS::Contrail::PhysicalRouter
    properties:
      name: { get_param: name }
      virtual_routers:
        'Fn::Split':
          - ','
          - 'Fn::Join':
            - ','
            - - 'Fn::Join': [',', get_param: tor_agent_names ]
              - 'Fn::Join': [',', get_param: tsn_names ]
      management_ip: { get_param: management_ip }
      dataplane_ip: { get_param: dataplane_ip }
      vendor_name: { get_param: vendor_name }
      product_name: { get_param: product_name }
      vnc_managed: { get_param: vnc_managed }
      user_credentials:
        username: { get_param: username }
        password: { get_param: password }

outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
  vendor_name:
    description: The vendor name of the physical router.
    value: { get_attr: [physical_router, vendor_name] }
  product_name:
    description: The product name of the physical router.
    value: { get_attr: [physical_router, product_name] }
  management_ip:
    description: The managment IP of the physical router.
    value: { get_attr: [physical_router, management_ip] }
  dataplane_ip:
    description: The dataplane IP of the physical router.
    value: { get_attr: [physical_router, dataplane_ip] }
  vnc_managed:
    description: Physical rotuer vnc managed.
    value: { get_attr: [physical_router, vnc_managed] }
  virtual_routers:
    description: List of virtual routers.
    value: { get_attr: [physical_router, virtual_routers] }
  physical_interfaces:
    description: List of physical interfaces attached.
    value: { get_attr: [physical_router, physical_interfaces] }
  logical_interfaces:
    description: List of logical interfaces attached.
    value: { get_attr: [physical_router, logical_interfaces] }
,[],heat_worker)'
04:57:47.753 gohan.db.sql INFO [0m Executing SQL query in transaction 'f80383a7-b40f-4653-b428-5cfa98874822': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ese_device_new,1494478667,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_device_new\",\"parameter_mappings\":{\"dataplane_ip\":\"Ppublic_ip_address\",\"management_ip\":\"Pmanagement_ip_address\",\"name\":\"Phostname\",\"password\":\"Ppassword\",\"product_name\":\"Pname\",\"tor_agent_names\":\"Ptor_agent_names\",\"tsn_names\":\"Ptsn_names\",\"username\":\"Pusername\",\"vendor_name\":\"CJuniper\",\"vnc_managed\":\"CFalse\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical router template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  tor_agent_names:\\n    type: comma_delimited_list\\n    label: TOR Agent Names\\n    description: List of virtual router names of TOR agents.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  tsn_names:\\n    type: comma_delimited_list\\n    label: TOR Service Node Names\\n    description: List of virtual router names of TOR service nodes.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  management_ip:\\n    type: string\\n    label: Management IP Address\\n    description: Management IP Address.\\n  dataplane_ip:\\n    type: string\\n    label: Dataplane IP Address\\n    description: Dataplane Address.\\n  vendor_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Vendor Name\\n    description: Vendor name of the physical router.\\n  product_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Product Name\\n    description: Product name of the physical router.\\n  vnc_managed:\\n    type: boolean\\n    default: False\\n    label: VNC managed\\n    description: VNC managed.\\n  username:\\n    type: string\\n    label: Username\\n    description: Username used to login to the physical router.\\n  password:\\n    type: string\\n    label: Password\\n    description: Password used to login to the physical router.\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::PhysicalRouter\\n    properties:\\n      name: { get_param: name }\\n      virtual_routers:\\n        'Fn::Split':\\n          - ','\\n          - 'Fn::Join':\\n            - ','\\n            - - 'Fn::Join': [',', get_param: tor_agent_names ]\\n              - 'Fn::Join': [',', get_param: tsn_names ]\\n      management_ip: { get_param: management_ip }\\n      dataplane_ip: { get_param: dataplane_ip }\\n      vendor_name: { get_param: vendor_name }\\n      product_name: { get_param: product_name }\\n      vnc_managed: { get_param: vnc_managed }\\n      user_credentials:\\n        username: { get_param: username }\\n        password: { get_param: password }\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n  vendor_name:\\n    description: The vendor name of the physical router.\\n    value: { get_attr: [physical_router, vendor_name] }\\n  product_name:\\n    description: The product name of the physical router.\\n    value: { get_attr: [physical_router, product_name] }\\n  management_ip:\\n    description: The managment IP of the physical router.\\n    value: { get_attr: [physical_router, management_ip] }\\n  dataplane_ip:\\n    description: The dataplane IP of the physical router.\\n    value: { get_attr: [physical_router, dataplane_ip] }\\n  vnc_managed:\\n    description: Physical rotuer vnc managed.\\n    value: { get_attr: [physical_router, vnc_managed] }\\n  virtual_routers:\\n    description: List of virtual routers.\\n    value: { get_attr: [physical_router, virtual_routers] }\\n  physical_interfaces:\\n    description: List of physical interfaces attached.\\n    value: { get_attr: [physical_router, physical_interfaces] }\\n  logical_interfaces:\\n    description: List of logical interfaces attached.\\n    value: { get_attr: [physical_router, logical_interfaces] }\\n\",\"watch\":[]}")'
04:57:47.754 gohan.db INFO [0m Populating resources for schema worker_data
04:57:47.762 gohan.db INFO [0m Populating resources for schema tenant
04:57:47.765 gohan.db INFO [0m Populating resources for schema edge_router
04:57:47.768 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:47.781 gohan.db INFO [0m Populating resources for schema ha_router
04:57:47.783 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:47.784 gohan.db INFO [0m Populating resources for schema internet_service
04:57:47.786 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:47.787 gohan.db INFO [0m Populating resources for schema aws_service
04:57:47.793 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:47.794 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:47.796 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:47.801 gohan.db INFO [0m Populating resources for schema common_function
04:57:47.803 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:47.804 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:47.810 gohan.db INFO [0m Populating resources for schema qos_option
04:57:47.825 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:47.827 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:47.833 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:47.834 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:47.836 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:47.849 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:47.851 gohan.db INFO [0m Populating resources for schema public_ip
04:57:47.852 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:47.854 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:47.855 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:47.862 gohan.db INFO [0m Populating resources for schema static_route
04:57:47.863 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:47.872 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:47.875 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:47.878 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:47.893 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:47.894 gohan.db INFO [0m Populating resources for schema firewall
04:57:47.896 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:47.897 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:47.899 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:47.900 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:47.913 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:47.919 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:47.925 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:47.926 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:47.928 gohan.db INFO [0m Populating resources for schema monitoring
04:57:47.942 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:47.944 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:47.948 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:47.962 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:47.964 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:47.970 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:47.972 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:47.990 gohan.server.core INFO [0m Importing data from ./init/monitoring_templates.yaml ...
04:57:47.994 gohan.db INFO [0m Populating resources for schema schema
04:57:47.998 gohan.db INFO [0m Populating resources for schema policy
04:57:48.021 gohan.db INFO [0m Populating resources for schema extension
04:57:48.034 gohan.db INFO [0m Populating resources for schema event
04:57:48.045 gohan.db INFO [0m Populating resources for schema namespace
04:57:48.058 gohan.db INFO [0m Populating resources for schema location
04:57:48.062 gohan.db INFO [0m Populating resources for schema ese_device
04:57:48.078 gohan.db INFO [0m Populating resources for schema network
04:57:48.111 gohan.db INFO [0m Populating resources for schema subnet
04:57:48.118 gohan.db INFO [0m Populating resources for schema port
04:57:48.121 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:48.133 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:48.136 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:48.159 gohan.db INFO [0m Populating resources for schema server
04:57:48.163 gohan.db INFO [0m Populating resources for schema physical_port
04:57:48.172 gohan.db INFO [0m Populating resources for schema quota
04:57:48.176 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:48.186 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:48.190 gohan.db INFO [0m Populating resources for schema heat_template
04:57:48.213 gohan.db INFO [0m Creating resource network_monitoring
04:57:48.213 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"fq_name":{"output_key":"fq_name"},"uuid":{"output_key":"id"}},network:
  type: virtual_network
  uuid: {{ uuid }}
  fq_name: {{ fq_name }}
db_mappings:
  - mapped_id: {{ uuid }}
    relation: 'instance'
,[],monitoring_worker,network_monitoring)'
04:57:48.213 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/network_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"network_monitoring\",\"parameter_mappings\":{\"fq_name\":{\"output_key\":\"fq_name\"},\"uuid\":{\"output_key\":\"id\"}},\"template_file\":\"network:\\n  type: virtual_network\\n  uuid: {{ uuid }}\\n  fq_name: {{ fq_name }}\\ndb_mappings:\\n  - mapped_id: {{ uuid }}\\n    relation: 'instance'\\n\",\"watch\":[]}")'
04:57:48.215 gohan.db INFO [0m Creating resource port_monitoring
04:57:48.215 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,port_monitoring,{"attached":{"field":"attached"},"device_owner":{"field":"device_owner"},"vmi_fq_name":{"output_key":"fq_name"},"vmi_uuid":{"output_key":"id"}},{% if device_owner and attached %}
vmi:
  type: virtual_machine_interface
  uuid: {{ vmi_uuid }}
  fq_name: {{ vmi_fq_name }}
  timeout: 120
{% endif %}
{% if device_owner | match('compute') and attached %}
db_mappings:
  - mapped_id: {{ vmi_fq_name | replace(':', '-') }}
    relation: 'vmi'
{% endif %}
,[])'
04:57:48.216 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/port_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"port_monitoring\",\"parameter_mappings\":{\"attached\":{\"field\":\"attached\"},\"device_owner\":{\"field\":\"device_owner\"},\"vmi_fq_name\":{\"output_key\":\"fq_name\"},\"vmi_uuid\":{\"output_key\":\"id\"}},\"template_file\":\"{% if device_owner and attached %}\\nvmi:\\n  type: virtual_machine_interface\\n  uuid: {{ vmi_uuid }}\\n  fq_name: {{ vmi_fq_name }}\\n  timeout: 120\\n{% endif %}\\n{% if device_owner | match('compute') and attached %}\\ndb_mappings:\\n  - mapped_id: {{ vmi_fq_name | replace(':', '-') }}\\n    relation: 'vmi'\\n{% endif %}\\n\",\"watch\":[]}")'
04:57:48.217 gohan.db INFO [0m Creating resource ese_physical_port_monitoring
04:57:48.217 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (port:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
,[],monitoring_worker,ese_physical_port_monitoring,{"community_name":{"constant":"ESE_NODE_COMMUNITY"},"device_ip":{"field":"management_ip_address","path":["ese_device_id"]},"name":{"field":"name"}})'
04:57:48.219 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ese_physical_port_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ese_physical_port_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"device_ip\":{\"field\":\"management_ip_address\",\"path\":[\"ese_device_id\"]},\"name\":{\"field\":\"name\"}},\"template_file\":\"port:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n\",\"watch\":[]}",1)'
04:57:48.220 gohan.db INFO [0m Creating resource ese_logical_port_monitoring
04:57:48.220 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (logical_port:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
{% for port_id in port_ids %}
db_mappings:
  - mapped_id: {{ device_ip }}-{{ name }}
    resource_id: {{ port_id }}
    resource_type: port
    relation: baremetal
{% endfor %}
,[],monitoring_worker,ese_logical_port_monitoring,{"community_name":{"constant":"ESE_NODE_COMMUNITY"},"contarail_port_id":{"output_key":"id"},"device_ip":{"field":"management_ip_address","path":["ese_physical_port_id","ese_device_id"]},"id":{"field":"id"},"name":{"field":"name"},"port_ids":{"field":"port_ids"}})'
04:57:48.221 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ese_logical_port_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ese_logical_port_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"contarail_port_id\":{\"output_key\":\"id\"},\"device_ip\":{\"field\":\"management_ip_address\",\"path\":[\"ese_physical_port_id\",\"ese_device_id\"]},\"id\":{\"field\":\"id\"},\"name\":{\"field\":\"name\"},\"port_ids\":{\"field\":\"port_ids\"}},\"template_file\":\"logical_port:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n{% for port_id in port_ids %}\\ndb_mappings:\\n  - mapped_id: {{ device_ip }}-{{ name }}\\n    resource_id: {{ port_id }}\\n    resource_type: port\\n    relation: baremetal\\n{% endfor %}\\n\",\"watch\":[]}")'
04:57:48.229 gohan.db INFO [0m Creating resource ese_device_monitoring
04:57:48.229 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (switch:
  type: switch
  community_name: {{ community_name }}
  ip: {{ device_ip }}
  mibs: []
,[],monitoring_worker,ese_device_monitoring,{"community_name":{"constant":"ESE_NODE_COMMUNITY"},"device_ip":{"field":"management_ip_address"}})'
04:57:48.230 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ese_device_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"device_ip\":{\"field\":\"management_ip_address\"}},\"template_file\":\"switch:\\n  type: switch\\n  community_name: {{ community_name }}\\n  ip: {{ device_ip }}\\n  mibs: []\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_device_monitoring,1494478668)'
04:57:48.231 gohan.db INFO [0m Creating resource edge_router_monitoring
04:57:48.231 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,edge_router_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"device_ip":{"field":"ip"}},router:
  type: router
  community_name: {{ community_name }}
  ip: {{ device_ip }}
  mibs: []
,[])'
04:57:48.231 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"edge_router_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"device_ip\":{\"field\":\"ip\"}},\"template_file\":\"router:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ device_ip }}\\n  mibs: []\\n\",\"watch\":[]}",1,/v2.0/heat_templates/edge_router_monitoring)'
04:57:48.232 gohan.db INFO [0m Creating resource er_physical_interface_monitoring
04:57:48.232 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,er_physical_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"device_ip":{"field":"ip","path":["device_id"]},"name":{"field":"name"}},interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
)'
04:57:48.233 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"er_physical_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"device_ip\":{\"field\":\"ip\",\"path\":[\"device_id\"]},\"name\":{\"field\":\"name\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/er_physical_interface_monitoring,1494478668,create,false)'
04:57:48.234 gohan.db INFO [0m Creating resource ha_router_monitoring
04:57:48.234 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (primary:
  type: etcd_reader
  etcd_type: edge_router
  etcd_id: {{ primary_device_id }}
secondary:
  type: etcd_reader
  etcd_type: edge_router
  etcd_id: {{ secondary_device_id }}
,[],monitoring_worker,ha_router_monitoring,{"primary_device_id":{"field":"primary_router_id"},"secondary_device_id":{"field":"secondary_router_id"}})'
04:57:48.234 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"ha_router_monitoring\",\"parameter_mappings\":{\"primary_device_id\":{\"field\":\"primary_router_id\"},\"secondary_device_id\":{\"field\":\"secondary_router_id\"}},\"template_file\":\"primary:\\n  type: etcd_reader\\n  etcd_type: edge_router\\n  etcd_id: {{ primary_device_id }}\\nsecondary:\\n  type: etcd_reader\\n  etcd_type: edge_router\\n  etcd_id: {{ secondary_device_id }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ha_router_monitoring,1494478668,create,false)'
04:57:48.236 gohan.db INFO [0m Creating resource ha_interface_monitoring
04:57:48.236 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (primary:
  type: etcd_reader
  etcd_type: er_physical_interface
  etcd_id: {{ primary_interface_id }}
secondary:
  type: etcd_reader
  etcd_type: er_physical_interface
  etcd_id: {{ secondary_interface_id }}
,[],monitoring_worker,ha_interface_monitoring,{"primary_interface_id":{"field":"primary_interface_id"},"secondary_interface_id":{"field":"secondary_interface_id"}})'
04:57:48.236 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ha_interface_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ha_interface_monitoring\",\"parameter_mappings\":{\"primary_interface_id\":{\"field\":\"primary_interface_id\"},\"secondary_interface_id\":{\"field\":\"secondary_interface_id\"}},\"template_file\":\"primary:\\n  type: etcd_reader\\n  etcd_type: er_physical_interface\\n  etcd_id: {{ primary_interface_id }}\\nsecondary:\\n  type: etcd_reader\\n  etcd_type: er_physical_interface\\n  etcd_id: {{ secondary_interface_id }}\\n\",\"watch\":[]}",1)'
04:57:48.237 gohan.db INFO [0m Creating resource internet_gateway_monitoring
04:57:48.237 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,internet_gateway_monitoring,{"counter_name_in_primary":{"concatenate":[{"field":"vrf_name"},{"constant":"_IN"}]},"counter_name_in_secondary":{"concatenate":[{"field":"vrf_name"},{"constant":"_IN"}]},"counter_name_out_primary":{"concatenate":[{"field":"vrf_name"},{"constant":"_OUT"}]},"counter_name_out_secondary":{"concatenate":[{"field":"vrf_name"},{"constant":"_OUT"}]},"downlink_interface_id":{"field":"downlink_interface_id"},"inet_in_filter":{"field":"inet_in_filter","path":["internet_service_id"]},"inet_out_filter":{"field":"inet_out_filter","path":["internet_service_id"]},"password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_server_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_server_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"ssh_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"uplink_interface_id":{"field":"associated_uplink_id"},"username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]}},uplink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ uplink_interface_id }}
  timeout: 120
downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
counter_primary:
  type: kafka_messenger
  kafka_topic: monitor_igs_counter
  in_firewall_name: {{ inet_in_filter }}
  out_firewall_name: {{ inet_out_filter }}
  counter_name_in_primary: {{ counter_name_in_primary }}
  counter_name_out_primary: {{ counter_name_out_primary }}
  counter_name_in_secondary: {{ counter_name_in_secondary }}
  counter_name_out_secondary: {{ counter_name_out_secondary }}
  server_username: {{ username }}
  server_password: {{ password }}
  server_ssh_port: {{ ssh_port }}
  primary_server_ip: {{ primary_server_ip }}
  secondary_server_ip: {{ secondary_server_ip }}
db_mappings:
  - mapped_id: {{ primary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_primary }}
    relation: primary_in
  - mapped_id: {{ primary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_primary }}
    relation: primary_out
  - mapped_id: {{ secondary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_secondary }}
    relation: secondary_in
  - mapped_id: {{ secondary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_secondary }}
    relation: secondary_out
)'
04:57:48.238 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"internet_gateway_monitoring\",\"parameter_mappings\":{\"counter_name_in_primary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_IN\"}]},\"counter_name_in_secondary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_IN\"}]},\"counter_name_out_primary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_OUT\"}]},\"counter_name_out_secondary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_OUT\"}]},\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"inet_in_filter\":{\"field\":\"inet_in_filter\",\"path\":[\"internet_service_id\"]},\"inet_out_filter\":{\"field\":\"inet_out_filter\",\"path\":[\"internet_service_id\"]},\"password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_server_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_server_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"ssh_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"uplink_interface_id\":{\"field\":\"associated_uplink_id\"},\"username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"uplink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ uplink_interface_id }}\\n  timeout: 120\\ndownlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ncounter_primary:\\n  type: kafka_messenger\\n  kafka_topic: monitor_igs_counter\\n  in_firewall_name: {{ inet_in_filter }}\\n  out_firewall_name: {{ inet_out_filter }}\\n  counter_name_in_primary: {{ counter_name_in_primary }}\\n  counter_name_out_primary: {{ counter_name_out_primary }}\\n  counter_name_in_secondary: {{ counter_name_in_secondary }}\\n  counter_name_out_secondary: {{ counter_name_out_secondary }}\\n  server_username: {{ username }}\\n  server_password: {{ password }}\\n  server_ssh_port: {{ ssh_port }}\\n  primary_server_ip: {{ primary_server_ip }}\\n  secondary_server_ip: {{ secondary_server_ip }}\\ndb_mappings:\\n  - mapped_id: {{ primary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_primary }}\\n    relation: primary_in\\n  - mapped_id: {{ primary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_primary }}\\n    relation: primary_out\\n  - mapped_id: {{ secondary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_secondary }}\\n    relation: secondary_in\\n  - mapped_id: {{ secondary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_secondary }}\\n    relation: secondary_out\\n\",\"watch\":[]}",1,/v2.0/heat_templates/internet_gateway_monitoring,1494478668,create)'
04:57:48.242 gohan.db INFO [0m Creating resource aws_gateway_monitoring
04:57:48.242 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (aws_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]}},downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}
    relation: instance
,[],monitoring_worker)'
04:57:48.243 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"aws_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}\\n    relation: instance\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_gateway_monitoring,1494478668,create,false)'
04:57:48.244 gohan.db INFO [0m Creating resource vpn_gateway_monitoring
04:57:48.244 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}
    relation: instance
,[],monitoring_worker,vpn_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]}})'
04:57:48.244 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"vpn_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}\\n    relation: instance\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_gateway_monitoring,1494478668)'
04:57:48.245 gohan.db INFO [0m Creating resource gw_interface_monitoring
04:57:48.246 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,gw_interface_monitoring,{"primary_device_ip":{"field":"ip","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"else_mapping":{"field":"primary_logical_downlink_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]},"if_mapping":{"equal":[{"field":"service_type"},"internet"]},"then_mapping":{"field":"primary_logical_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]}},"secondary_device_ip":{"field":"ip","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"else_mapping":{"field":"secondary_logical_downlink_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]},"if_mapping":{"equal":[{"field":"service_type"},"internet"]},"then_mapping":{"field":"secondary_logical_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]}},"service_type":{"field":"service_type"},"vrid":{"field":"vrid"}},primary:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
secondary:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
db_mappings:
- mapped_id: {{primary_device_ip}}-{{primary_logical_interface_name}}
  relation: {{service_type}}_primary
- mapped_id: {{secondary_device_ip}}-{{secondary_logical_interface_name}}
  relation: {{service_type}}_secondary
)'
04:57:48.246 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"gw_interface_monitoring\",\"parameter_mappings\":{\"primary_device_ip\":{\"field\":\"ip\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"else_mapping\":{\"field\":\"primary_logical_downlink_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]},\"if_mapping\":{\"equal\":[{\"field\":\"service_type\"},\"internet\"]},\"then_mapping\":{\"field\":\"primary_logical_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]}},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"else_mapping\":{\"field\":\"secondary_logical_downlink_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]},\"if_mapping\":{\"equal\":[{\"field\":\"service_type\"},\"internet\"]},\"then_mapping\":{\"field\":\"secondary_logical_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]}},\"service_type\":{\"field\":\"service_type\"},\"vrid\":{\"field\":\"vrid\"}},\"template_file\":\"primary:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\ndb_mappings:\\n- mapped_id: {{primary_device_ip}}-{{primary_logical_interface_name}}\\n  relation: {{service_type}}_primary\\n- mapped_id: {{secondary_device_ip}}-{{secondary_logical_interface_name}}\\n  relation: {{service_type}}_secondary\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_monitoring,1494478668)'
04:57:48.248 gohan.db INFO [0m Creating resource aws_interface_monitoring
04:57:48.248 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (aws_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_peer_ip":{"nested":["primary","bgp_peer_ip"]},"primary_port":{"field":"primary_logical_uplink_interface_name","path":["aws_gw_id"]},"secondary_device_ip":{"field":"ip","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_peer_ip":{"nested":["secondary","bgp_peer_ip"]},"secondary_port":{"field":"secondary_logical_uplink_interface_name","path":["aws_gw_id"]},"vrf_name":{"field":"vrf_name","path":["aws_gw_id"]}},primary:
  type: bgp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  peer_address: {{ primary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_port }}
secondary:
  type: bgp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  peer_address: {{ secondary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_port }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}
    relation: "secondary"
,[],monitoring_worker)'
04:57:48.249 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"aws_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_peer_ip\":{\"nested\":[\"primary\",\"bgp_peer_ip\"]},\"primary_port\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"aws_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_peer_ip\":{\"nested\":[\"secondary\",\"bgp_peer_ip\"]},\"secondary_port\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"aws_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"aws_gw_id\"]}},\"template_file\":\"primary:\\n  type: bgp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  peer_address: {{ primary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_port }}\\nsecondary:\\n  type: bgp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  peer_address: {{ secondary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_port }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_interface_monitoring,1494478668,create,false)'
04:57:48.250 gohan.db INFO [0m Creating resource vpn_interface_monitoring
04:57:48.250 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (primary:
  type: bgp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  peer_address: {{ primary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_port }}
secondary:
  type: bgp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  peer_address: {{ secondary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_port }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}
    relation: "secondary"
,[],monitoring_worker,vpn_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_peer_ip":{"nested":["primary","bgp_peer_ip"]},"primary_port":{"field":"primary_logical_uplink_interface_name","path":["vpn_gw_id"]},"secondary_device_ip":{"field":"ip","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_peer_ip":{"nested":["secondary","bgp_peer_ip"]},"secondary_port":{"field":"secondary_logical_uplink_interface_name","path":["vpn_gw_id"]},"vrf_name":{"field":"vrf_name","path":["vpn_gw_id"]}})'
04:57:48.253 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"vpn_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_peer_ip\":{\"nested\":[\"primary\",\"bgp_peer_ip\"]},\"primary_port\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"vpn_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_peer_ip\":{\"nested\":[\"secondary\",\"bgp_peer_ip\"]},\"secondary_port\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"vpn_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"vpn_gw_id\"]}},\"template_file\":\"primary:\\n  type: bgp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  peer_address: {{ primary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_port }}\\nsecondary:\\n  type: bgp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  peer_address: {{ secondary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_port }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_interface_monitoring,1494478668,create)'
04:57:48.254 gohan.db INFO [0m Creating resource common_function_gateway_monitoring
04:57:48.254 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,common_function_gateway_monitoring,{"jinja_vrids":{"for_field":{"field":"vrrp_config","path":["common_function_pool_id"]},"for_mapping":{"field":"vrid"}},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_interface_name"},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_interface_name"}},{% for vrid in jinja_vrids %}
primary_{{ vrid }}:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
secondary_{{ vrid }}:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
{% endfor %}
)'
04:57:48.255 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"common_function_gateway_monitoring\",\"parameter_mappings\":{\"jinja_vrids\":{\"for_field\":{\"field\":\"vrrp_config\",\"path\":[\"common_function_pool_id\"]},\"for_mapping\":{\"field\":\"vrid\"}},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_interface_name\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_interface_name\"}},\"template_file\":\"{% for vrid in jinja_vrids %}\\nprimary_{{ vrid }}:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary_{{ vrid }}:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function_gateway_monitoring,1494478668,create)'
04:57:48.256 gohan.db INFO [0m Creating resource vnf_instance_monitoring
04:57:48.256 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"instance_ip":{"field":"management_ip"},"server_id":{"output_key":"server_id"}},server:
  type: nova_vm
  server_id: {{ server_id }}
,[],monitoring_worker,vnf_instance_monitoring)'
04:57:48.260 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/vnf_instance_monitoring,1494478668,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"vnf_instance_monitoring\",\"parameter_mappings\":{\"instance_ip\":{\"field\":\"management_ip\"},\"server_id\":{\"output_key\":\"server_id\"}},\"template_file\":\"server:\\n  type: nova_vm\\n  server_id: {{ server_id }}\\n\",\"watch\":[]}")'
04:57:48.261 gohan.db INFO [0m Creating resource firewall_monitoring
04:57:48.262 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (firewall_monitoring,{"community_name":{"constant":"FIREWALL_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["vnf_instance_id"]},"vnf_instance_id":{"field":"vnf_instance_id"}},vnf_instance:
  type: etcd_reader
  etcd_type: vnf_instance
  etcd_id: {{ vnf_instance_id }}
vyatta:
  type: router
  community_name: {{ community_name }}
  ip: {{ instance_ip }}
  mibs: []
  timeout: 60
  time_between_retries: 5
db_mappings:
  - mapped_id: {{ instance_ip }}
    relation: 'instance'
,[],monitoring_worker)'
04:57:48.262 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"firewall_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"FIREWALL_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"vnf_instance_id\":{\"field\":\"vnf_instance_id\"}},\"template_file\":\"vnf_instance:\\n  type: etcd_reader\\n  etcd_type: vnf_instance\\n  etcd_id: {{ vnf_instance_id }}\\nvyatta:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ instance_ip }}\\n  mibs: []\\n  timeout: 60\\n  time_between_retries: 5\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/firewall_monitoring,1494478668,create)'
04:57:48.263 gohan.db INFO [0m Creating resource firewall_interface_monitoring
04:57:48.263 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (firewall_interface_monitoring,{"community_name":{"constant":"FIREWALL_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["firewall_id","vnf_instance_id"]},"slot_number":{"field":"slot_number"}},interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ instance_ip }}
  name: dp0s{{ slot_number + 3 }}
  timeout: 60
  time_between_retries: 5
db_mappings:
  - mapped_id: {{ instance_ip }}-dp0s{{ slot_number + 3 }}
    relation: 'instance'
,[],monitoring_worker)'
04:57:48.264 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"firewall_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"FIREWALL_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"firewall_id\",\"vnf_instance_id\"]},\"slot_number\":{\"field\":\"slot_number\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ instance_ip }}\\n  name: dp0s{{ slot_number + 3 }}\\n  timeout: 60\\n  time_between_retries: 5\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}-dp0s{{ slot_number + 3 }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/firewall_interface_monitoring,1494478668,create)'
04:57:48.265 gohan.db INFO [0m Creating resource load_balancer_monitoring
04:57:48.265 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,load_balancer_monitoring,{"community_name":{"constant":"LOAD_BALANCER_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["vnf_instance_id"]},"load_balancer_conf_id":{"field":"load_balancer_conf_id"},"load_balancer_id":{"field":"id"},"vnf_instance_id":{"field":"vnf_instance_id"}},vnf_instance:
  type: etcd_reader
  etcd_type: vnf_instance
  etcd_id: {{ vnf_instance_id }}
load_balancer_conf:
  type: etcd_reader
  etcd_type: load_balancer_conf
  etcd_id: {{ load_balancer_conf_id }}
load_balancer:
  type: router
  community_name: {{ community_name }}
  ip: {{ instance_ip }}
  mibs: [
    ["resCpuUsage", "1.3.6.1.4.1.5951.4.1.1.41.1"],
    ["resMemUsage", "1.3.6.1.4.1.5951.4.1.1.41.2"],
    ["httpTotRequests", "1.3.6.1.4.1.5951.4.1.1.48.67"],
    ["tcpCurClientConn", "1.3.6.1.4.1.5951.4.1.1.46.2"],
    ["tcpCurServerConn", "1.3.6.1.4.1.5951.4.1.1.46.1"]
  ]
  timeout: 180
  time_between_retries: 3
db_mappings:
  - mapped_id: {{ instance_ip }}
    relation: 'instance'
,[])'
04:57:48.265 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"load_balancer_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"LOAD_BALANCER_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"load_balancer_conf_id\":{\"field\":\"load_balancer_conf_id\"},\"load_balancer_id\":{\"field\":\"id\"},\"vnf_instance_id\":{\"field\":\"vnf_instance_id\"}},\"template_file\":\"vnf_instance:\\n  type: etcd_reader\\n  etcd_type: vnf_instance\\n  etcd_id: {{ vnf_instance_id }}\\nload_balancer_conf:\\n  type: etcd_reader\\n  etcd_type: load_balancer_conf\\n  etcd_id: {{ load_balancer_conf_id }}\\nload_balancer:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ instance_ip }}\\n  mibs: [\\n    [\\\"resCpuUsage\\\", \\\"1.3.6.1.4.1.5951.4.1.1.41.1\\\"],\\n    [\\\"resMemUsage\\\", \\\"1.3.6.1.4.1.5951.4.1.1.41.2\\\"],\\n    [\\\"httpTotRequests\\\", \\\"1.3.6.1.4.1.5951.4.1.1.48.67\\\"],\\n    [\\\"tcpCurClientConn\\\", \\\"1.3.6.1.4.1.5951.4.1.1.46.2\\\"],\\n    [\\\"tcpCurServerConn\\\", \\\"1.3.6.1.4.1.5951.4.1.1.46.1\\\"]\\n  ]\\n  timeout: 180\\n  time_between_retries: 3\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_monitoring,1494478668)'
04:57:48.266 gohan.db INFO [0m Creating resource load_balancer_interface_monitoring
04:57:48.267 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"community_name":{"constant":"LOAD_BALANCER_COMMUNITY"},"dummy":{"field":"id","path":["load_balancer_id","load_balancer_conf_id"]},"instance_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"slot_number":{"field":"slot_number"}},interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ instance_ip }}
  {% if slot_number == 0  %}
  name: 0/1
  {% else %}
  name: 1/{{ slot_number }}
  {% endif %}
  timeout: 180
  time_between_retries: 3
  mibs: [ ["ifHCInOctets", "1.3.6.1.2.1.31.1.1.1.6"], ["ifHCOutOctets", "1.3.6.1.2.1.31.1.1.1.10"] ]
db_mappings:
  - mapped_id: {{instance_ip}}-{% if slot_number == 0  %}0/1{% else %}1/{{ slot_number }}{% endif %}
    relation: 'instance'
,[],monitoring_worker,load_balancer_interface_monitoring)'
04:57:48.267 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"load_balancer_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"LOAD_BALANCER_COMMUNITY\"},\"dummy\":{\"field\":\"id\",\"path\":[\"load_balancer_id\",\"load_balancer_conf_id\"]},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"slot_number\":{\"field\":\"slot_number\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ instance_ip }}\\n  {% if slot_number == 0  %}\\n  name: 0/1\\n  {% else %}\\n  name: 1/{{ slot_number }}\\n  {% endif %}\\n  timeout: 180\\n  time_between_retries: 3\\n  mibs: [ [\\\"ifHCInOctets\\\", \\\"1.3.6.1.2.1.31.1.1.1.6\\\"], [\\\"ifHCOutOctets\\\", \\\"1.3.6.1.2.1.31.1.1.1.10\\\"] ]\\ndb_mappings:\\n  - mapped_id: {{instance_ip}}-{% if slot_number == 0  %}0/1{% else %}1/{{ slot_number }}{% endif %}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_interface_monitoring,1494478668,create,false)'
04:57:48.268 gohan.db INFO [0m Creating resource interdc_gateway_monitoring
04:57:48.268 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (interdc_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"gohan_id":{"field":"id"}},downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{gohan_id}}
    relation: 'instance'
,[],monitoring_worker)'
04:57:48.269 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"interdc_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"gohan_id\":{\"field\":\"id\"}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{gohan_id}}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_gateway_monitoring,1494478668,create,false)'
04:57:48.270 gohan.db INFO [0m Creating resource interdc_interface_monitoring
04:57:48.270 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,interdc_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_uplink_interface_name","path":["interdc_gw_id"]},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_uplink_interface_name","path":["interdc_gw_id"]},"vrid":{"field":"vrid"}},primary:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_logical_interface_name }}
secondary:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_logical_interface_name }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_logical_interface_name }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_logical_interface_name }}
    relation: "secondary"
)'
04:57:48.271 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddd14054-b2b5-4067-9389-27906ab64295': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"interdc_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"vrid\":{\"field\":\"vrid\"}},\"template_file\":\"primary:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_logical_interface_name }}\\nsecondary:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_logical_interface_name }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_logical_interface_name }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_logical_interface_name }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_interface_monitoring,1494478668,create,false)'
04:57:48.272 gohan.db INFO [0m Populating resources for schema worker_data
04:57:48.276 gohan.db INFO [0m Populating resources for schema tenant
04:57:48.309 gohan.db INFO [0m Populating resources for schema edge_router
04:57:48.317 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:48.321 gohan.db INFO [0m Populating resources for schema ha_router
04:57:48.330 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:48.333 gohan.db INFO [0m Populating resources for schema internet_service
04:57:48.355 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:48.359 gohan.db INFO [0m Populating resources for schema aws_service
04:57:48.368 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:48.371 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:48.384 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:48.387 gohan.db INFO [0m Populating resources for schema common_function
04:57:48.408 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:48.416 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:48.422 gohan.db INFO [0m Populating resources for schema qos_option
04:57:48.426 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:48.434 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:48.438 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:48.453 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:48.457 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:48.467 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:48.470 gohan.db INFO [0m Populating resources for schema public_ip
04:57:48.476 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:48.480 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:48.484 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:48.502 gohan.db INFO [0m Populating resources for schema static_route
04:57:48.509 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:48.513 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:48.517 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:48.524 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:48.540 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:48.544 gohan.db INFO [0m Populating resources for schema firewall
04:57:48.548 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:48.551 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:48.555 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:48.559 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:48.577 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:48.582 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:48.600 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:48.613 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:48.617 gohan.db INFO [0m Populating resources for schema monitoring
04:57:48.633 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:48.653 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:48.657 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:48.663 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:48.667 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:48.673 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:48.678 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:48.702 gohan.server.core INFO [0m Importing data from ./init/igs_templates.yaml ...
04:57:48.711 gohan.db INFO [0m Populating resources for schema schema
04:57:48.716 gohan.db INFO [0m Populating resources for schema policy
04:57:48.722 gohan.db INFO [0m Populating resources for schema extension
04:57:48.727 gohan.db INFO [0m Populating resources for schema event
04:57:48.731 gohan.db INFO [0m Populating resources for schema namespace
04:57:48.735 gohan.db INFO [0m Populating resources for schema location
04:57:48.737 gohan.db INFO [0m Populating resources for schema ese_device
04:57:48.740 gohan.db INFO [0m Populating resources for schema network
04:57:48.745 gohan.db INFO [0m Populating resources for schema subnet
04:57:48.750 gohan.db INFO [0m Populating resources for schema port
04:57:48.757 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:48.759 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:48.764 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:48.768 gohan.db INFO [0m Populating resources for schema server
04:57:48.773 gohan.db INFO [0m Populating resources for schema physical_port
04:57:48.775 gohan.db INFO [0m Populating resources for schema quota
04:57:48.783 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:48.790 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:48.795 gohan.db INFO [0m Populating resources for schema heat_template
04:57:48.800 gohan.db INFO [0m Creating resource internet_gateway
04:57:48.800 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"filter_term_name":"APvrf_name\u0026C_filter","heat_timeout":"C60","inet_in_filter":"Finternet_service+internet_service_id:inet_in_filter","inet_out_filter":"Finternet_service+internet_service_id:inet_out_filter","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","jinja_vrf_config":"Finternet_service+internet_service_id:vrf_config","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","prefix_list_name":"APvrf_name\u0026C_prefix","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Pprimary_logical_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_vrrp_config_group":"Finternet_service+internet_service_id:primary_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Psecondary_logical_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_vrrp_config_group":"Finternet_service+internet_service_id:secondary_vrrp_config_group","uplink_import_policy":"Finternet_service+internet_service_id:uplink_import_policy","vlan":"Pvlan_id","vrf_export_policy":"Finternet_service+internet_service_id:vrf_export_policy","vrf_import_policy":"Finternet_service+internet_service_id:vrf_import_policy","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  Internet GW Instance

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: Physical port on the Primary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_physical_interface:
    description: Physical port on the Secondary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical interface on the Secondary device
    label: Logical Interface name
    type: string
  vlan:
    description: vlan tag used by logical interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interface
    label: VRF name
    type: string
  vrf_import_policy:
    description: Import Policy for IGS
    label: Import Policy
    type: string
  vrf_export_policy:
    description: Export Policy for IGS
    label: Export Policy
    type: string
  uplink_import_policy:
    description: Uplink Import Policy for IGS
    label: Uplink Import Policy
    type: string
  input_filter_name:
    description: Policer name to use as input policer
    label: Input policer name
    type: string
  output_filter_name:
    description: Policer name to use as output policer
    label: Output policer name
    type: string
  primary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  secondary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  inet_in_filter:
    label: Internet Input Filter
    type: string
  inet_out_filter:
    label: Internet Output Filter
    type: string
  prefix_list_name:
    label: Prefix list name
    type: string
  filter_term_name:
    label: Filter term name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      on_update: merge
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_vrrp_config_group
              $VLAN:
                get_param: vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description inet_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
      - config:
          str_replace:
            params:
              $LIF:
                get_param: {{ device }}_device_logical_interface
              $IMPORT_POLICY:
                get_param: vrf_import_policy
              $EXPORT_POLICY:
                get_param: vrf_export_policy
            template: |
                instance-type virtual-router;
                interface $LIF;
                routing-options instance-import $IMPORT_POLICY;
                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}
                {{ jinja_vrf_config }}{% endif %}
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VRF_NAME:
                get_param: vrf_name
            template: |
              from instance $VRF_NAME;
              then accept;
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: policy-statement
            name: { get_param: uplink_import_policy }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: vrf_name }
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  destination-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_IN;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_in_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_IN:
                get_param: inet_in_filter
            template: |
              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  source-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_OUT;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_out_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_OUT:
                get_param: inet_out_filter
            template: |
              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,internet_gateway)'
04:57:48.801 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/internet_gateway,1494478668,create,false,"{\"handler\":\"heat_worker\",\"id\":\"internet_gateway\",\"parameter_mappings\":{\"filter_term_name\":\"APvrf_name\\u0026C_filter\",\"heat_timeout\":\"C60\",\"inet_in_filter\":\"Finternet_service+internet_service_id:inet_in_filter\",\"inet_out_filter\":\"Finternet_service+internet_service_id:inet_out_filter\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"jinja_vrf_config\":\"Finternet_service+internet_service_id:vrf_config\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"prefix_list_name\":\"APvrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Pprimary_logical_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_vrrp_config_group\":\"Finternet_service+internet_service_id:primary_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Psecondary_logical_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_vrrp_config_group\":\"Finternet_service+internet_service_id:secondary_vrrp_config_group\",\"uplink_import_policy\":\"Finternet_service+internet_service_id:uplink_import_policy\",\"vlan\":\"Pvlan_id\",\"vrf_export_policy\":\"Finternet_service+internet_service_id:vrf_export_policy\",\"vrf_import_policy\":\"Finternet_service+internet_service_id:vrf_import_policy\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet GW Instance\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: Physical port on the Primary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_interface:\\n    description: Physical port on the Secondary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vlan:\\n    description: vlan tag used by logical interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interface\\n    label: VRF name\\n    type: string\\n  vrf_import_policy:\\n    description: Import Policy for IGS\\n    label: Import Policy\\n    type: string\\n  vrf_export_policy:\\n    description: Export Policy for IGS\\n    label: Export Policy\\n    type: string\\n  uplink_import_policy:\\n    description: Uplink Import Policy for IGS\\n    label: Uplink Import Policy\\n    type: string\\n  input_filter_name:\\n    description: Policer name to use as input policer\\n    label: Input policer name\\n    type: string\\n  output_filter_name:\\n    description: Policer name to use as output policer\\n    label: Output policer name\\n    type: string\\n  primary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  inet_in_filter:\\n    label: Internet Input Filter\\n    type: string\\n  inet_out_filter:\\n    label: Internet Output Filter\\n    type: string\\n  prefix_list_name:\\n    label: Prefix list name\\n    type: string\\n  filter_term_name:\\n    label: Filter term name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      on_update: merge\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_vrrp_config_group\\n              $VLAN:\\n                get_param: vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description inet_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIF:\\n                get_param: {{ device }}_device_logical_interface\\n              $IMPORT_POLICY:\\n                get_param: vrf_import_policy\\n              $EXPORT_POLICY:\\n                get_param: vrf_export_policy\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIF;\\n                routing-options instance-import $IMPORT_POLICY;\\n                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}\\n                {{ jinja_vrf_config }}{% endif %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n              from instance $VRF_NAME;\\n              then accept;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policy-statement\\n            name: { get_param: uplink_import_policy }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: vrf_name }\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  destination-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_IN;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_in_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_IN:\\n                get_param: inet_in_filter\\n            template: |\\n              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  source-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_OUT;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_out_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_OUT:\\n                get_param: inet_out_filter\\n            template: |\\n              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}")'
04:57:48.803 gohan.db INFO [0m Creating resource static_route_internet
04:57:48.803 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Internet Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,static_route_internet,{"heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"next_hop":"Pnexthop","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name"})'
04:57:48.804 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_internet,1494478668)'
04:57:48.807 gohan.db INFO [0m Creating resource gw_interface_internet
04:57:48.807 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vlan:
    description: Vlan tag for mx logical interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP
              local-address $DEVICE_GW_IP;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,gw_interface_internet,{"bgp_group_name":"Cinet-gw-group","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"jinja_force_dependency":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group","vlan":"Finternet_gateway+internet_gw_id:vlan_id","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name","vrrp_group":"Pvrid"})'
04:57:48.809 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478668,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_internet\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"jinja_force_dependency\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group\",\"vlan\":\"Finternet_gateway+internet_gw_id:vlan_id\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vlan:\\n    description: Vlan tag for mx logical interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              local-address $DEVICE_GW_IP;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_internet)'
04:57:48.821 gohan.db INFO [0m Creating resource qos_option_internet
04:57:48.821 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (qos_option_internet,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Finternet_service+internet_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Finternet_service+internet_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Finternet_service+internet_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker)'
04:57:48.822 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Finternet_service+internet_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Finternet_service+internet_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Finternet_service+internet_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_internet,1494478668)'
04:57:48.824 gohan.db INFO [0m Creating resource public_ip
04:57:48.824 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  prefix_list_name:
    label: Prefix List name.
    type: string
  ip_cidr:
    label: Public IP CIDR
    type: string
  ip_mask:
    label: Public IP CIDR
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
          - config_type: name
            xml_type: named_tag
            tag: prefix-list-item
            name:
              str_replace:
                params:
                  $CIDR:
                    { get_param: ip_cidr }
                  $MASK:
                    { get_param: ip_mask }
                template: |
                  $CIDR/$MASK
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,public_ip,{"heat_timeout":"C60","ip_cidr":"Pcidr","ip_mask":"Psubmask_length","prefix_list_name":"AFinternet_gateway+internet_gw_id:vrf_name\u0026C_prefix","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login"})'
04:57:48.825 gohan.db.sql INFO [0m Executing SQL query in transaction '299fb82b-b6b4-4f93-b85e-6ac901c84e3d': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/public_ip,1494478668,create,false,"{\"handler\":\"heat_worker\",\"id\":\"public_ip\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"ip_cidr\":\"Pcidr\",\"ip_mask\":\"Psubmask_length\",\"prefix_list_name\":\"AFinternet_gateway+internet_gw_id:vrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  prefix_list_name:\\n    label: Prefix List name.\\n    type: string\\n  ip_cidr:\\n    label: Public IP CIDR\\n    type: string\\n  ip_mask:\\n    label: Public IP CIDR\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: prefix-list-item\\n            name:\\n              str_replace:\\n                params:\\n                  $CIDR:\\n                    { get_param: ip_cidr }\\n                  $MASK:\\n                    { get_param: ip_mask }\\n                template: |\\n                  $CIDR/$MASK\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:57:48.827 gohan.db INFO [0m Populating resources for schema worker_data
04:57:48.833 gohan.db INFO [0m Populating resources for schema tenant
04:57:48.838 gohan.db INFO [0m Populating resources for schema edge_router
04:57:48.843 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:48.848 gohan.db INFO [0m Populating resources for schema ha_router
04:57:48.854 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:48.858 gohan.db INFO [0m Populating resources for schema internet_service
04:57:48.868 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:48.872 gohan.db INFO [0m Populating resources for schema aws_service
04:57:48.878 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:48.886 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:48.890 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:48.893 gohan.db INFO [0m Populating resources for schema common_function
04:57:48.898 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:48.902 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:48.910 gohan.db INFO [0m Populating resources for schema qos_option
04:57:48.918 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:48.929 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:48.932 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:48.938 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:48.941 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:48.943 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:48.947 gohan.db INFO [0m Populating resources for schema public_ip
04:57:48.950 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:48.954 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:48.963 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:48.968 gohan.db INFO [0m Populating resources for schema static_route
04:57:48.974 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:48.976 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:48.979 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:48.982 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:48.984 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:48.986 gohan.db INFO [0m Populating resources for schema firewall
04:57:48.990 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:48.995 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:49.022 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:49.024 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:49.027 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:49.029 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:49.038 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:49.040 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:49.043 gohan.db INFO [0m Populating resources for schema monitoring
04:57:49.048 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:49.054 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:49.058 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:49.060 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:49.067 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:49.070 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:49.073 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:49.095 gohan.server.core INFO [0m Importing data from ./init/vpn_templates.yaml ...
04:57:49.097 gohan.db INFO [0m Populating resources for schema schema
04:57:49.100 gohan.db INFO [0m Populating resources for schema policy
04:57:49.112 gohan.db INFO [0m Populating resources for schema extension
04:57:49.115 gohan.db INFO [0m Populating resources for schema event
04:57:49.127 gohan.db INFO [0m Populating resources for schema namespace
04:57:49.131 gohan.db INFO [0m Populating resources for schema location
04:57:49.136 gohan.db INFO [0m Populating resources for schema ese_device
04:57:49.141 gohan.db INFO [0m Populating resources for schema network
04:57:49.144 gohan.db INFO [0m Populating resources for schema subnet
04:57:49.149 gohan.db INFO [0m Populating resources for schema port
04:57:49.153 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:49.160 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:49.166 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:49.169 gohan.db INFO [0m Populating resources for schema server
04:57:49.172 gohan.db INFO [0m Populating resources for schema physical_port
04:57:49.176 gohan.db INFO [0m Populating resources for schema quota
04:57:49.181 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:49.184 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:49.186 gohan.db INFO [0m Populating resources for schema heat_template
04:57:49.205 gohan.db INFO [0m Creating resource qos_option_vpn
04:57:49.209 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,qos_option_vpn,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Fvpn_service+vpn_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Fvpn_service+vpn_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Fvpn_service+vpn_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
)'
04:57:49.210 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"qos_option_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Fvpn_service+vpn_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Fvpn_service+vpn_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Fvpn_service+vpn_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_vpn,1494478669,create,false)'
04:57:49.229 gohan.db INFO [0m Creating resource vpn_gateway
04:57:49.230 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  VPN Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description vpn_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description CloudGW_vpn;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,vpn_gateway)'
04:57:49.234 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"vpn_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description vpn_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description CloudGW_vpn;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_gateway,1494478669)'
04:57:49.237 gohan.db INFO [0m Creating resource gw_interface_vpn
04:57:49.237 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,gw_interface_vpn,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Fvpn_gateway+vpn_gw_id:downlink_vlan_id","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name","vrrp_group":"Pvrid"})'
04:57:49.239 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_vpn\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Fvpn_gateway+vpn_gw_id:downlink_vlan_id\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_vpn,1494478669,create)'
04:57:49.241 gohan.db INFO [0m Creating resource static_route_vpn
04:57:49.242 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_vpn,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  VPN Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
04:57:49.244 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_vpn,1494478669,create)'
04:57:49.246 gohan.db INFO [0m Creating resource vpn_interface
04:57:49.247 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (vpn_interface,{"bgp_group_name":"CCloudGW1","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","uplink_vlan":"Fvpn_gateway+vpn_gw_id:uplink_vlan_id","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker)'
04:57:49.248 gohan.db.sql INFO [0m Executing SQL query in transaction '5e979e20-987c-49ea-9076-40955252d429': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/vpn_interface,1494478669,create,false,"{\"handler\":\"heat_worker\",\"id\":\"vpn_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CCloudGW1\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"uplink_vlan\":\"Fvpn_gateway+vpn_gw_id:uplink_vlan_id\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:57:49.254 gohan.db INFO [0m Populating resources for schema worker_data
04:57:49.260 gohan.db INFO [0m Populating resources for schema tenant
04:57:49.268 gohan.db INFO [0m Populating resources for schema edge_router
04:57:49.273 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:49.289 gohan.db INFO [0m Populating resources for schema ha_router
04:57:49.292 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:49.299 gohan.db INFO [0m Populating resources for schema internet_service
04:57:49.305 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:49.308 gohan.db INFO [0m Populating resources for schema aws_service
04:57:49.311 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:49.314 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:49.319 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:49.327 gohan.db INFO [0m Populating resources for schema common_function
04:57:49.329 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:49.333 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:49.335 gohan.db INFO [0m Populating resources for schema qos_option
04:57:49.338 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:49.342 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:49.344 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:49.347 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:49.352 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:49.358 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:49.360 gohan.db INFO [0m Populating resources for schema public_ip
04:57:49.367 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:49.371 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:49.377 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:49.380 gohan.db INFO [0m Populating resources for schema static_route
04:57:49.385 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:49.388 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:49.397 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:49.410 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:49.414 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:49.420 gohan.db INFO [0m Populating resources for schema firewall
04:57:49.424 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:49.426 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:49.428 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:49.431 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:49.435 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:49.445 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:49.447 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:49.449 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:49.453 gohan.db INFO [0m Populating resources for schema monitoring
04:57:49.455 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:49.459 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:49.461 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:49.464 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:49.466 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:49.468 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:49.487 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:49.505 gohan.server.core INFO [0m Importing data from ./init/aws_templates.yaml ...
04:57:49.508 gohan.db INFO [0m Populating resources for schema schema
04:57:49.511 gohan.db INFO [0m Populating resources for schema policy
04:57:49.514 gohan.db INFO [0m Populating resources for schema extension
04:57:49.516 gohan.db INFO [0m Populating resources for schema event
04:57:49.519 gohan.db INFO [0m Populating resources for schema namespace
04:57:49.522 gohan.db INFO [0m Populating resources for schema location
04:57:49.529 gohan.db INFO [0m Populating resources for schema ese_device
04:57:49.532 gohan.db INFO [0m Populating resources for schema network
04:57:49.538 gohan.db INFO [0m Populating resources for schema subnet
04:57:49.558 gohan.db INFO [0m Populating resources for schema port
04:57:49.561 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:49.563 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:49.568 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:49.570 gohan.db INFO [0m Populating resources for schema server
04:57:49.574 gohan.db INFO [0m Populating resources for schema physical_port
04:57:49.578 gohan.db INFO [0m Populating resources for schema quota
04:57:49.584 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:49.595 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:49.601 gohan.db INFO [0m Populating resources for schema heat_template
04:57:49.604 gohan.db INFO [0m Creating resource qos_option_aws
04:57:49.605 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% set forewarding_class = be_forwarding_class if qos_type == "besteffort" else ga_forwarding_class %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
{% endfor %}
,[],heat_worker,qos_option_aws,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Faws_service+aws_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Faws_service+aws_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Faws_service+aws_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"})'
04:57:49.606 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"qos_option_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Faws_service+aws_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Faws_service+aws_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Faws_service+aws_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% set forewarding_class = be_forwarding_class if qos_type == \\\"besteffort\\\" else ga_forwarding_class %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_aws,1494478669,create,false)'
04:57:49.607 gohan.db INFO [0m Creating resource aws_gateway
04:57:49.607 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,aws_gateway,{"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Faws_service+aws_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              vlan-id $VLAN;
              description AWS_Downlink;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description AWS_Uplink;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
{% endfor %}
,[])'
04:57:49.608 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"aws_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              vlan-id $VLAN;\\n              description AWS_Downlink;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description AWS_Uplink;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_gateway,1494478669)'
04:57:49.610 gohan.db INFO [0m Creating resource gw_interface_aws
04:57:49.610 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
{% endfor %}
,[],heat_worker,gw_interface_aws,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Faws_gateway+aws_gw_id:downlink_vlan_id","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Faws_gateway+aws_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group","vrf_name":"Faws_gateway+aws_gw_id:vrf_name","vrrp_group":"Pvrid"})'
04:57:49.612 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478669,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_aws\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Faws_gateway+aws_gw_id:downlink_vlan_id\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_aws)'
04:57:49.614 gohan.db INFO [0m Creating resource static_route_aws
04:57:49.614 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_aws,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[])'
04:57:49.617 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_aws,1494478669)'
04:57:49.619 gohan.db INFO [0m Creating resource aws_interface
04:57:49.619 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (aws_interface,{"bgp_group_name":"CAWS-PE","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Faws_gateway+aws_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","uplink_vlan":"Faws_gateway+aws_gw_id:uplink_vlan_id","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
{% endfor %}
,[],heat_worker)'
04:57:49.622 gohan.db.sql INFO [0m Executing SQL query in transaction '544b9b1f-e278-46d1-af6b-dbb386303c0b': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/aws_interface,1494478669,create,false,"{\"handler\":\"heat_worker\",\"id\":\"aws_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CAWS-PE\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"uplink_vlan\":\"Faws_gateway+aws_gw_id:uplink_vlan_id\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:57:49.623 gohan.db INFO [0m Populating resources for schema worker_data
04:57:49.637 gohan.db INFO [0m Populating resources for schema tenant
04:57:49.640 gohan.db INFO [0m Populating resources for schema edge_router
04:57:49.642 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:49.645 gohan.db INFO [0m Populating resources for schema ha_router
04:57:49.647 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:49.649 gohan.db INFO [0m Populating resources for schema internet_service
04:57:49.652 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:49.660 gohan.db INFO [0m Populating resources for schema aws_service
04:57:49.662 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:49.666 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:49.668 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:49.670 gohan.db INFO [0m Populating resources for schema common_function
04:57:49.673 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:49.675 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:49.677 gohan.db INFO [0m Populating resources for schema qos_option
04:57:49.679 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:49.689 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:49.694 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:49.697 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:49.706 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:49.709 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:49.718 gohan.db INFO [0m Populating resources for schema public_ip
04:57:49.733 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:49.735 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:49.737 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:49.739 gohan.db INFO [0m Populating resources for schema static_route
04:57:49.757 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:49.759 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:49.769 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:49.775 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:49.778 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:49.785 gohan.db INFO [0m Populating resources for schema firewall
04:57:49.792 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:49.796 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:49.802 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:49.806 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:49.813 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:49.821 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:49.824 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:49.829 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:49.831 gohan.db INFO [0m Populating resources for schema monitoring
04:57:49.836 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:49.838 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:49.843 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:49.852 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:49.855 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:49.863 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:49.869 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:49.889 gohan.server.core INFO [0m Importing data from ./init/common_function_templates.yaml ...
04:57:49.891 gohan.db INFO [0m Populating resources for schema schema
04:57:49.893 gohan.db INFO [0m Populating resources for schema policy
04:57:49.895 gohan.db INFO [0m Populating resources for schema extension
04:57:49.898 gohan.db INFO [0m Populating resources for schema event
04:57:49.904 gohan.db INFO [0m Populating resources for schema namespace
04:57:49.907 gohan.db INFO [0m Populating resources for schema location
04:57:49.915 gohan.db INFO [0m Populating resources for schema ese_device
04:57:49.926 gohan.db INFO [0m Populating resources for schema network
04:57:49.929 gohan.db INFO [0m Populating resources for schema subnet
04:57:49.930 gohan.db INFO [0m Populating resources for schema port
04:57:49.934 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:49.935 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:49.937 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:49.938 gohan.db INFO [0m Populating resources for schema server
04:57:49.940 gohan.db INFO [0m Populating resources for schema physical_port
04:57:49.942 gohan.db INFO [0m Populating resources for schema quota
04:57:49.958 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:49.960 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:49.962 gohan.db INFO [0m Populating resources for schema heat_template
04:57:49.964 gohan.db INFO [0m Creating resource common_function_gateway
04:57:49.965 gohan.db.sql INFO [0m Executing SQL query in transaction 'a57b0359-ab7f-48b1-8cf3-a0de47d6a1be': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,common_function_gateway,{"heat_timeout":"C60","jinja_common_service_numbers":{"for_field":"common_functions","for_mapping":{"field":"common_function_number","path":[{"id":"common_function_id","type":"common_function"}]}},"jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"subnet_id","type":"subnet"}]},"jinja_logical_tunnel_interface_name":{"field":"logical_tunnel_interface_name","path":["common_function_pool_id"]},"jinja_logical_tunnel_unit_service":{"field":"logical_tunnel_unit_service"},"jinja_logical_tunnel_unit_user":{"field":"logical_tunnel_unit_user"},"jinja_nat_ip":{"field":"nat_ip"},"jinja_service_interface_name":{"field":"service_interface_name","path":["common_function_pool_id"]},"jinja_service_vrf_name":{"field":"service_vrf_name","path":["common_function_pool_id"]},"jinja_snapt_group_name":{"field":"snapt_group_name","path":["common_function_pool_id"]},"jinja_snapt_pool_group_name":{"field":"snapt_pool_group_name","path":["common_function_pool_id"]},"jinja_vlan_id":{"field":"vlan_id"},"jinja_vrf_name":{"field":"vrf_name"},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]}},heat_template_version: 2013-05-23

description: >
  Common Function Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: |
          nat-rules {{ jinja_vrf_name }}-SNAPT;
          nat-rules {{ jinja_vrf_name }}-DNAT;
          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: named_tag
            xml_type: named_tag
            tag: service-set
            name: {{ jinja_vrf_name }}
      - config: |
          apply-groups {{ jinja_snapt_pool_group_name }};
          address {{ jinja_nat_ip }}/32;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-SNAPT-POOL
      - config: |
          apply-groups {{ jinja_snapt_group_name }};
          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-SNAPT
      {% for service_number in jinja_common_service_numbers %}
      - config: |
          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}
      {% endfor %}
      - config: |
          apply-groups {{ jinja_dnat_group_name }};
          {% for service_number in jinja_common_service_numbers %}
          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};
          {% endfor %}
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-DNAT
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_service }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_user }}
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_service }}
      - config: |
          family inet;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_service_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: |
          apply-groups {{ jinja_vrrp_group_name }};
          description {{ jinja_vrf_name }};
          vlan-id {{ jinja_vlan_id }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}
      - config:
          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: {{ jinja_nat_ip }}/32
      - config:
          str_replace:
            params:
              $DOWNLINK_INTERFACE:
                get_param: {{ device }}_device_logical_downlink_interface
            template: |
              instance-type virtual-router;
              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};
              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};
              interface $DOWNLINK_INTERFACE;
              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_vrf_name }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
04:57:49.970 gohan.db.sql INFO [0m Executing SQL query in transaction 'a57b0359-ab7f-48b1-8cf3-a0de47d6a1be': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"common_function_gateway\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_common_service_numbers\":{\"for_field\":\"common_functions\",\"for_mapping\":{\"field\":\"common_function_number\",\"path\":[{\"id\":\"common_function_id\",\"type\":\"common_function\"}]}},\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]},\"jinja_logical_tunnel_interface_name\":{\"field\":\"logical_tunnel_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_logical_tunnel_unit_service\":{\"field\":\"logical_tunnel_unit_service\"},\"jinja_logical_tunnel_unit_user\":{\"field\":\"logical_tunnel_unit_user\"},\"jinja_nat_ip\":{\"field\":\"nat_ip\"},\"jinja_service_interface_name\":{\"field\":\"service_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_service_vrf_name\":{\"field\":\"service_vrf_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_group_name\":{\"field\":\"snapt_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_pool_group_name\":{\"field\":\"snapt_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_vlan_id\":{\"field\":\"vlan_id\"},\"jinja_vrf_name\":{\"field\":\"vrf_name\"},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: |\\n          nat-rules {{ jinja_vrf_name }}-SNAPT;\\n          nat-rules {{ jinja_vrf_name }}-DNAT;\\n          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: service-set\\n            name: {{ jinja_vrf_name }}\\n      - config: |\\n          apply-groups {{ jinja_snapt_pool_group_name }};\\n          address {{ jinja_nat_ip }}/32;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-SNAPT-POOL\\n      - config: |\\n          apply-groups {{ jinja_snapt_group_name }};\\n          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-SNAPT\\n      {% for service_number in jinja_common_service_numbers %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}\\n      {% endfor %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_group_name }};\\n          {% for service_number in jinja_common_service_numbers %}\\n          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n          {% endfor %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-DNAT\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_service }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_user }}\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_service }}\\n      - config: |\\n          family inet;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_service_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: |\\n          apply-groups {{ jinja_vrrp_group_name }};\\n          description {{ jinja_vrf_name }};\\n          vlan-id {{ jinja_vlan_id }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}\\n      - config:\\n          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: {{ jinja_nat_ip }}/32\\n      - config:\\n          str_replace:\\n            params:\\n              $DOWNLINK_INTERFACE:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n            template: |\\n              instance-type virtual-router;\\n              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};\\n              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};\\n              interface $DOWNLINK_INTERFACE;\\n              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_vrf_name }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function_gateway,1494478669,create)'
04:57:49.974 gohan.db INFO [0m Creating resource common_function
04:57:49.974 gohan.db.sql INFO [0m Executing SQL query in transaction 'a57b0359-ab7f-48b1-8cf3-a0de47d6a1be': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Common Function

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_vrrp_ip:
    description: Local ip in VRRP group on primary device.
    label: Primary VRRP ip.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_vrrp_ip:
    description: Local ip in VRRP group on secondary device.
    label: Secondary VRRP ip.
    type: string
  netmask:
    description: Netmask used in link local network.
    label: Link-local netmask.
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_vrrp_group_name }}
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: <*>
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $VIP:
                    get_param: {{ device }}_vrrp_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $VIP/$NETMASK
          - config_type: named_tag
            xml_type: named_tag
            tag: vrrp-group
            name: {{ jinja_vrid }}
          - config_type: named_tag
            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(
            tag: virtual-address
            name: {{ jinja_link_local_ip_address }}
      - config: |
          from {
            destination-address {
              {{ jinja_link_local_ip_address }}/32;
            }
          }
          then {
            translated {
              translation-type {
                dnat-44;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_group_name }}
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: {{ jinja_service_number }}
      - config: |
          services {
            nat {
              pool <*> {
                address {{ jinja_shared_ip_address }}/32;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,common_function,{"heat_timeout":"C60","jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_link_local_ip_address":{"field":"link_local_ip_address"},"jinja_service_number":{"field":"common_function_number"},"jinja_shared_ip_address":{"field":"shared_ip_address"},"jinja_vrid":{"field":"vrid"},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"netmask":{"field":"link_local_netmask","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"primary_vrrp_ip":{"field":"primary_vrrp_ip"},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]},"secondary_vrrp_ip":{"field":"secondary_vrrp_ip"}})'
04:57:49.976 gohan.db.sql INFO [0m Executing SQL query in transaction 'a57b0359-ab7f-48b1-8cf3-a0de47d6a1be': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"common_function\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_link_local_ip_address\":{\"field\":\"link_local_ip_address\"},\"jinja_service_number\":{\"field\":\"common_function_number\"},\"jinja_shared_ip_address\":{\"field\":\"shared_ip_address\"},\"jinja_vrid\":{\"field\":\"vrid\"},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"netmask\":{\"field\":\"link_local_netmask\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_vrrp_ip\":{\"field\":\"primary_vrrp_ip\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_vrrp_ip\":{\"field\":\"secondary_vrrp_ip\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_vrrp_ip:\\n    description: Local ip in VRRP group on primary device.\\n    label: Primary VRRP ip.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_vrrp_ip:\\n    description: Local ip in VRRP group on secondary device.\\n    label: Secondary VRRP ip.\\n    type: string\\n  netmask:\\n    description: Netmask used in link local network.\\n    label: Link-local netmask.\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_vrrp_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: \\u003c*\\u003e\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $VIP:\\n                    get_param: {{ device }}_vrrp_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $VIP/$NETMASK\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: vrrp-group\\n            name: {{ jinja_vrid }}\\n          - config_type: named_tag\\n            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(\\n            tag: virtual-address\\n            name: {{ jinja_link_local_ip_address }}\\n      - config: |\\n          from {\\n            destination-address {\\n              {{ jinja_link_local_ip_address }}/32;\\n            }\\n          }\\n          then {\\n            translated {\\n              translation-type {\\n                dnat-44;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: {{ jinja_service_number }}\\n      - config: |\\n          services {\\n            nat {\\n              pool \\u003c*\\u003e {\\n                address {{ jinja_shared_ip_address }}/32;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function,1494478669,create)'
04:57:49.977 gohan.db INFO [0m Populating resources for schema worker_data
04:57:49.979 gohan.db INFO [0m Populating resources for schema tenant
04:57:49.981 gohan.db INFO [0m Populating resources for schema edge_router
04:57:49.983 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:49.989 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.003 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.005 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.007 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.010 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.012 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.014 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.017 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.020 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.022 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.023 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.027 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.031 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.035 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.038 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.040 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.042 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.044 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.047 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.049 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.051 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.053 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.057 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.081 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.083 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.087 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.090 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.094 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.096 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.099 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.102 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.104 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.108 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.110 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.114 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.117 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.130 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.132 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.134 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.140 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.142 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.143 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.145 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.147 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.150 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.162 gohan.server.core INFO [0m Importing data from ./init/interdc_templates.yaml ...
04:57:50.170 gohan.db INFO [0m Populating resources for schema schema
04:57:50.177 gohan.db INFO [0m Populating resources for schema policy
04:57:50.189 gohan.db INFO [0m Populating resources for schema extension
04:57:50.198 gohan.db INFO [0m Populating resources for schema event
04:57:50.201 gohan.db INFO [0m Populating resources for schema namespace
04:57:50.211 gohan.db INFO [0m Populating resources for schema location
04:57:50.231 gohan.db INFO [0m Populating resources for schema ese_device
04:57:50.234 gohan.db INFO [0m Populating resources for schema network
04:57:50.237 gohan.db INFO [0m Populating resources for schema subnet
04:57:50.244 gohan.db INFO [0m Populating resources for schema port
04:57:50.248 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:50.256 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:50.270 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:50.276 gohan.db INFO [0m Populating resources for schema server
04:57:50.280 gohan.db INFO [0m Populating resources for schema physical_port
04:57:50.283 gohan.db INFO [0m Populating resources for schema quota
04:57:50.286 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:50.289 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:50.307 gohan.db INFO [0m Populating resources for schema heat_template
04:57:50.311 gohan.db INFO [0m Creating resource qos_option_interdc
04:57:50.311 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: three-color-policer
          name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: policer
          name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $CLASS:
              {% if jinja_type == "besteffort" %}
                {{ jinja_be_forwarding_class }}
              {% else %}
                {{ jinja_ga_forwarding_class }}
              {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then accept;
              }
              term qos {
                then {
                  three-color-policer {
                    two-rate $POLICER_NAME;
                  }
                  forwarding-class $CLASS;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: incoming_policer_name
              template: |
                FILTER_$NAME
      - config:
          str_replace:
            params:
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then accept;
              }
              term policer {
                then {
                  policer $POLICER_NAME;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: outgoing_policer_name
              template: |
                FILTER_$NAME
{% endfor %}
,[],heat_worker,qos_option_interdc,{"incoming_policer_config":{"field":"incoming_policer_config"},"incoming_policer_name":{"field":"incoming_policer_name"},"jinja_be_forwarding_class":{"field":"be_forwarding_class","path":["interdc_service_id"]},"jinja_ga_forwarding_class":{"field":"ga_forwarding_class","path":["interdc_service_id"]},"jinja_type":{"field":"qos_type"},"outgoing_policer_config":{"field":"outgoing_policer_config"},"outgoing_policer_name":{"field":"outgoing_policer_name"},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]}})'
04:57:50.312 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/qos_option_interdc,1494478670,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_interdc\",\"parameter_mappings\":{\"incoming_policer_config\":{\"field\":\"incoming_policer_config\"},\"incoming_policer_name\":{\"field\":\"incoming_policer_name\"},\"jinja_be_forwarding_class\":{\"field\":\"be_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_ga_forwarding_class\":{\"field\":\"ga_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_type\":{\"field\":\"qos_type\"},\"outgoing_policer_config\":{\"field\":\"outgoing_policer_config\"},\"outgoing_policer_name\":{\"field\":\"outgoing_policer_name\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: three-color-policer\\n          name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: policer\\n          name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $CLASS:\\n              {% if jinja_type == \\\"besteffort\\\" %}\\n                {{ jinja_be_forwarding_class }}\\n              {% else %}\\n                {{ jinja_ga_forwarding_class }}\\n              {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then accept;\\n              }\\n              term qos {\\n                then {\\n                  three-color-policer {\\n                    two-rate $POLICER_NAME;\\n                  }\\n                  forwarding-class $CLASS;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: incoming_policer_name\\n              template: |\\n                FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then accept;\\n              }\\n              term policer {\\n                then {\\n                  policer $POLICER_NAME;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: outgoing_policer_name\\n              template: |\\n                FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:57:50.314 gohan.db INFO [0m Creating resource interdc_gateway
04:57:50.314 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (interdc_gateway,{"downlink_vlan":{"field":"downlink_vlan_id"},"heat_timeout":{"constant":60},"input_filter_name":{"field":"incoming_policer_name","path":["qos_option_id"]},"output_filter_name":{"field":"outgoing_policer_name","path":["qos_option_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_downlink_interface_name"},"primary_device_logical_uplink_interface":{"field":"primary_logical_uplink_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_downlink_vrrp_config_group":{"field":"primary_downlink_vrrp_config_group","path":["interdc_service_id"]},"primary_uplink_vrrp_config_group":{"field":"primary_uplink_vrrp_config_group","path":["interdc_service_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_downlink_interface_name"},"secondary_device_logical_uplink_interface":{"field":"secondary_logical_uplink_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_downlink_vrrp_config_group":{"field":"secondary_downlink_vrrp_config_group","path":["interdc_service_id"]},"secondary_uplink_vrrp_config_group":{"field":"secondary_uplink_vrrp_config_group","path":["interdc_service_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id"},"vrf_name":{"field":"vrf_name"}},heat_template_version: 2013-05-23

description: >
  Inter DC Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan_id:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  primary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      on_update: merge
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP;
              description interdc_gw;
              vlan-id $VLAN;
              family inet {
                filter {
                  input FILTER_$INPUT_FILTER;
                  output FILTER_$OUTPUT_FILTER;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
        - config_type: tag
          xml_type: tag
          tag: routing-instances
        - config_type: name
          xml_type: named_tag
          tag: instance
          name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_uplink_vrrp_config_group
              $VLAN:
                get_param: uplink_vlan_id
            template: |
              apply-groups $APPLY_GROUP;
              description DC10GVDX;
              vlan-id $VLAN;
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_uplink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
{% endfor %}
,[],heat_worker)'
04:57:50.315 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"interdc_gateway\",\"parameter_mappings\":{\"downlink_vlan\":{\"field\":\"downlink_vlan_id\"},\"heat_timeout\":{\"constant\":60},\"input_filter_name\":{\"field\":\"incoming_policer_name\",\"path\":[\"qos_option_id\"]},\"output_filter_name\":{\"field\":\"outgoing_policer_name\",\"path\":[\"qos_option_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_downlink_interface_name\"},\"primary_device_logical_uplink_interface\":{\"field\":\"primary_logical_uplink_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_downlink_vrrp_config_group\":{\"field\":\"primary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"primary_uplink_vrrp_config_group\":{\"field\":\"primary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_downlink_interface_name\"},\"secondary_device_logical_uplink_interface\":{\"field\":\"secondary_logical_uplink_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_downlink_vrrp_config_group\":{\"field\":\"secondary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_uplink_vrrp_config_group\":{\"field\":\"secondary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\"},\"vrf_name\":{\"field\":\"vrf_name\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan_id:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  primary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description interdc_gw;\\n              vlan-id $VLAN;\\n              family inet {\\n                filter {\\n                  input FILTER_$INPUT_FILTER;\\n                  output FILTER_$OUTPUT_FILTER;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: routing-instances\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: instance\\n          name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_uplink_vrrp_config_group\\n              $VLAN:\\n                get_param: uplink_vlan_id\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description DC10GVDX;\\n              vlan-id $VLAN;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_uplink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_gateway,1494478670,create)'
04:57:50.316 gohan.db INFO [0m Creating resource interdc_interface
04:57:50.317 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Interdc Interface

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_downlink_physical_interface:
    description: MX physical port on which logical downlink interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_downlink_physical_interface:
    description: MX physical port on which downlink logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  uplink_vlan_id:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  downlink_vlan_id:
    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)
    label: Downlink VLAN ID
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  vrrp_group:
    type: string
    label: VRRP Group
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $VIP:
                get_param: gw_vip
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $DOWNLINK_IF:
                get_param: secondary_device_downlink_physical_interface
              $DOWNLINK_VLAN_ID:
                get_param: downlink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}
,[],heat_worker,interdc_interface,{"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"netmask":{"field":"netmask"},"primary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}})'
04:57:50.318 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"interdc_interface\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"netmask\":{\"field\":\"netmask\"},\"primary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Interdc Interface\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_downlink_physical_interface:\\n    description: MX physical port on which logical downlink interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_downlink_physical_interface:\\n    description: MX physical port on which downlink logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  uplink_vlan_id:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  downlink_vlan_id:\\n    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)\\n    label: Downlink VLAN ID\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $VIP:\\n                get_param: gw_vip\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $DOWNLINK_IF:\\n                get_param: secondary_device_downlink_physical_interface\\n              $DOWNLINK_VLAN_ID:\\n                get_param: downlink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_interface,1494478670)'
04:57:50.319 gohan.db INFO [0m Creating resource gw_interface_interdc
04:57:50.319 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gw_interface_interdc,{"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"jinja_force_dependency1":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":{"field":"netmask"},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}},heat_template_version: 2013-05-23

description: >
  Gateway Interface Inter DC

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  uplink_vlan_id:
    description: Vlan tag for mx logical uplink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $VIP:
                get_param: gw_vip
              $UPLINK_IF:
                get_param: {{device}}_device_physical_uplink_interface
              $UPLINK_VLAN_ID:
                get_param: uplink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $UPLINK_IF.$UPLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}
,[])'
04:57:50.320 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/gw_interface_interdc,1494478670,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_interdc\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"jinja_force_dependency1\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":{\"field\":\"netmask\"},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Gateway Interface Inter DC\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  uplink_vlan_id:\\n    description: Vlan tag for mx logical uplink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $VIP:\\n                get_param: gw_vip\\n              $UPLINK_IF:\\n                get_param: {{device}}_device_physical_uplink_interface\\n              $UPLINK_VLAN_ID:\\n                get_param: uplink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $UPLINK_IF.$UPLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:57:50.323 gohan.db INFO [0m Creating resource static_route_interdc
04:57:50.324 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Inter DC Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[],heat_worker,static_route_interdc,{"heat_timeout":{"constant":60},"next_hop":{"field":"nexthop"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"route":{"field":"destination"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]}})'
04:57:50.327 gohan.db.sql INFO [0m Executing SQL query in transaction '29d9b5f9-0883-4636-b261-bdd8c6e827ee': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478670,create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_interdc\",\"parameter_mappings\":{\"heat_timeout\":{\"constant\":60},\"next_hop\":{\"field\":\"nexthop\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"route\":{\"field\":\"destination\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_interdc)'
04:57:50.328 gohan.db INFO [0m Populating resources for schema worker_data
04:57:50.332 gohan.db INFO [0m Populating resources for schema tenant
04:57:50.341 gohan.db INFO [0m Populating resources for schema edge_router
04:57:50.350 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:50.355 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.361 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.364 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.377 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.380 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.386 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.390 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.393 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.396 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.399 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.410 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.413 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.417 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.420 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.424 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.428 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.443 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.455 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.459 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.463 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.467 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.471 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.489 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.493 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.501 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.507 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.513 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.517 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.520 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.531 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.545 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.548 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.551 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.557 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.561 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.566 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.578 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.582 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.585 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.590 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.594 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.603 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.617 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.620 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.623 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.650 gohan.server.core INFO [0m Importing data from ./init/quotas.yaml ...
04:57:50.651 gohan.db INFO [0m Populating resources for schema schema
04:57:50.651 gohan.db INFO [0m Populating resources for schema policy
04:57:50.651 gohan.db INFO [0m Populating resources for schema extension
04:57:50.652 gohan.db INFO [0m Populating resources for schema event
04:57:50.652 gohan.db INFO [0m Populating resources for schema namespace
04:57:50.652 gohan.db INFO [0m Populating resources for schema location
04:57:50.652 gohan.db INFO [0m Populating resources for schema ese_device
04:57:50.652 gohan.db INFO [0m Populating resources for schema network
04:57:50.653 gohan.db INFO [0m Populating resources for schema subnet
04:57:50.653 gohan.db INFO [0m Populating resources for schema port
04:57:50.653 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:50.653 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:50.654 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:50.654 gohan.db INFO [0m Populating resources for schema server
04:57:50.654 gohan.db INFO [0m Populating resources for schema physical_port
04:57:50.654 gohan.db INFO [0m Populating resources for schema quota
04:57:50.657 gohan.db INFO [0m Creating resource default
04:57:50.657 gohan.db.sql INFO [0m Executing SQL query in transaction '8d2866b7-a3ba-46b9-a11a-916d3c84b7b6': 'INSERT INTO `quotas` (`network`,`colocation_logical_link`,`subnet`,`hosting_logical_link`,`public_ip`,`port`,`common_function_gateway`,`id`,`tenant_id`,`interdc_gateway`,`load_balancer`,`internet_gateway`,`vpn_gateway`,`aws_gateway`,`firewall`,`hosting_physical_link_plane_storage`) VALUES (10000,10000,10000,10000,10000,30000,10000,default,default,10000,10000,10000,10000,10000,10000,10000)'
04:57:50.657 gohan.db.sql INFO [0m Executing SQL query in transaction '8d2866b7-a3ba-46b9-a11a-916d3c84b7b6': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"aws_gateway\":10000,\"colocation_logical_link\":10000,\"common_function_gateway\":10000,\"firewall\":10000,\"hosting_logical_link\":10000,\"hosting_physical_link_plane_storage\":10000,\"id\":\"default\",\"interdc_gateway\":10000,\"internet_gateway\":10000,\"load_balancer\":10000,\"network\":10000,\"port\":30000,\"public_ip\":10000,\"subnet\":10000,\"tenant_id\":\"default\",\"vpn_gateway\":10000}",1,/v2.0/quotas/default,1494478670,create,false)'
04:57:50.659 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:50.659 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:50.659 gohan.db INFO [0m Populating resources for schema heat_template
04:57:50.660 gohan.db INFO [0m Populating resources for schema worker_data
04:57:50.660 gohan.db INFO [0m Populating resources for schema tenant
04:57:50.660 gohan.db INFO [0m Populating resources for schema edge_router
04:57:50.663 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:50.663 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.663 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.663 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.663 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.664 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.664 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.664 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.667 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.667 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.667 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.667 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.668 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.668 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.668 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.668 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.668 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.669 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.669 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.669 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.669 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.669 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.669 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.670 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.670 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.670 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.670 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.670 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.671 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.671 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.671 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.671 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.679 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.680 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.684 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.685 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.685 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.685 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.685 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.685 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.686 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.686 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.686 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.686 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.686 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.687 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.702 gohan.server.core INFO [0m Importing data from ./init/reserve_addresses.yaml ...
04:57:50.702 gohan.db INFO [0m Populating resources for schema schema
04:57:50.702 gohan.db INFO [0m Populating resources for schema policy
04:57:50.702 gohan.db INFO [0m Populating resources for schema extension
04:57:50.702 gohan.db INFO [0m Populating resources for schema event
04:57:50.703 gohan.db INFO [0m Populating resources for schema namespace
04:57:50.703 gohan.db INFO [0m Populating resources for schema location
04:57:50.703 gohan.db INFO [0m Populating resources for schema ese_device
04:57:50.703 gohan.db INFO [0m Populating resources for schema network
04:57:50.703 gohan.db INFO [0m Populating resources for schema subnet
04:57:50.703 gohan.db INFO [0m Populating resources for schema port
04:57:50.704 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:50.704 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:50.704 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:50.704 gohan.db INFO [0m Populating resources for schema server
04:57:50.704 gohan.db INFO [0m Populating resources for schema physical_port
04:57:50.704 gohan.db INFO [0m Populating resources for schema quota
04:57:50.705 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:50.706 gohan.db INFO [0m Creating resource default
04:57:50.706 gohan.db.sql INFO [0m Executing SQL query in transaction '4aab4bf2-8ac8-4071-8f57-50e234305589': 'INSERT INTO `reserve_addresss` (`subnets`,`id`,`tenant_id`) VALUES ([],default,default)'
04:57:50.706 gohan.db.sql INFO [0m Executing SQL query in transaction '4aab4bf2-8ac8-4071-8f57-50e234305589': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"id\":\"default\",\"subnets\":[],\"tenant_id\":\"default\"}",1,/v2.0/reserve_addresses/default,1494478670,create,false)'
04:57:50.707 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:50.707 gohan.db INFO [0m Populating resources for schema heat_template
04:57:50.707 gohan.db INFO [0m Populating resources for schema worker_data
04:57:50.707 gohan.db INFO [0m Populating resources for schema tenant
04:57:50.708 gohan.db INFO [0m Populating resources for schema edge_router
04:57:50.708 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:50.708 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.708 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.708 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.711 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.715 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.718 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.718 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.718 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.718 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.718 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.719 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.719 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.719 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.721 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.721 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.722 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.722 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.722 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.722 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.722 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.722 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.722 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.722 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.723 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.723 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.723 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.724 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.724 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.724 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.724 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.724 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.724 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.724 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.724 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.724 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.725 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.725 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.725 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.725 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.725 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.725 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.725 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.725 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.725 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.726 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.743 gohan.server.core INFO [0m Importing data from ./init/vnf_templates.yaml ...
04:57:50.744 gohan.db INFO [0m Populating resources for schema schema
04:57:50.744 gohan.db INFO [0m Populating resources for schema policy
04:57:50.745 gohan.db INFO [0m Populating resources for schema extension
04:57:50.746 gohan.db INFO [0m Populating resources for schema event
04:57:50.746 gohan.db INFO [0m Populating resources for schema namespace
04:57:50.747 gohan.db INFO [0m Populating resources for schema location
04:57:50.747 gohan.db INFO [0m Populating resources for schema ese_device
04:57:50.748 gohan.db INFO [0m Populating resources for schema network
04:57:50.748 gohan.db INFO [0m Populating resources for schema subnet
04:57:50.749 gohan.db INFO [0m Populating resources for schema port
04:57:50.749 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:50.750 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:50.750 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:50.750 gohan.db INFO [0m Populating resources for schema server
04:57:50.753 gohan.db INFO [0m Populating resources for schema physical_port
04:57:50.754 gohan.db INFO [0m Populating resources for schema quota
04:57:50.754 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:50.755 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:50.755 gohan.db INFO [0m Populating resources for schema heat_template
04:57:50.759 gohan.db INFO [0m Creating resource vnf_instance
04:57:50.759 gohan.db.sql INFO [0m Executing SQL query in transaction '1a898b06-1833-4d18-8158-a986c29eb1dd': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23
description: VNF Instance
parameters:
  name:
    default: ""
    type: string
  image:
    type: string
    constraints:
    - custom_constraint: glance.image
  flavor:
    type: string
    constraints:
    - custom_constraint: nova.flavor
  availability_zone:
    type: string
    default: ""
  networks:
    type: json
  reboot:
    type: string
    default: ""
  user_data:
    type: string
    default: ""
  user_data_format:
    type: string
  config_drive:
    type: boolean
resources:
  server:
    type: ESI::VNF::Instance
    properties:
      name: { get_param: name }
      flavor: { get_param: flavor }
      image: { get_param: image }
      networks: { get_param: networks }
      availability_zone: { get_param: availability_zone }
      reboot: { get_param: reboot }
      user_data: { get_param: user_data }
      user_data_format: { get_param: user_data_format }
      config_drive: { get_param: config_drive }
outputs:
  server_id:
    description: A unique id for the nova server.
    value: { get_resource: server }
,[],heat_worker,vnf_instance,{"availability_zone":"Pavailability_zone","config_drive":"Pconfig_drive","flavor":"Fvnf_plan+vnf_plan_id:flavor","heat_timeout":"C15","image":"Fvnf_template+vnf_template_id:image","name":"Pname","networks":"Pnetworks","reboot":"Preboot","user_data":"Puser_data","user_data_format":"Puser_data_format"})'
04:57:50.759 gohan.db.sql INFO [0m Executing SQL query in transaction '1a898b06-1833-4d18-8158-a986c29eb1dd': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"vnf_instance\",\"parameter_mappings\":{\"availability_zone\":\"Pavailability_zone\",\"config_drive\":\"Pconfig_drive\",\"flavor\":\"Fvnf_plan+vnf_plan_id:flavor\",\"heat_timeout\":\"C15\",\"image\":\"Fvnf_template+vnf_template_id:image\",\"name\":\"Pname\",\"networks\":\"Pnetworks\",\"reboot\":\"Preboot\",\"user_data\":\"Puser_data\",\"user_data_format\":\"Puser_data_format\"},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: VNF Instance\\nparameters:\\n  name:\\n    default: \\\"\\\"\\n    type: string\\n  image:\\n    type: string\\n    constraints:\\n    - custom_constraint: glance.image\\n  flavor:\\n    type: string\\n    constraints:\\n    - custom_constraint: nova.flavor\\n  availability_zone:\\n    type: string\\n    default: \\\"\\\"\\n  networks:\\n    type: json\\n  reboot:\\n    type: string\\n    default: \\\"\\\"\\n  user_data:\\n    type: string\\n    default: \\\"\\\"\\n  user_data_format:\\n    type: string\\n  config_drive:\\n    type: boolean\\nresources:\\n  server:\\n    type: ESI::VNF::Instance\\n    properties:\\n      name: { get_param: name }\\n      flavor: { get_param: flavor }\\n      image: { get_param: image }\\n      networks: { get_param: networks }\\n      availability_zone: { get_param: availability_zone }\\n      reboot: { get_param: reboot }\\n      user_data: { get_param: user_data }\\n      user_data_format: { get_param: user_data_format }\\n      config_drive: { get_param: config_drive }\\noutputs:\\n  server_id:\\n    description: A unique id for the nova server.\\n    value: { get_resource: server }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vnf_instance,1494478670)'
04:57:50.761 gohan.db INFO [0m Creating resource firewall_config
04:57:50.761 gohan.db.sql INFO [0m Executing SQL query in transaction '1a898b06-1833-4d18-8158-a986c29eb1dd': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,firewall_config,{"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["vnf_instance_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"}},heat_template_version: 2013-05-23
description: Vyatta Firewall Configuration
parameters:
  management_ip:
    type: string
  credentials:
    type: json
  default_gateway:
    type: string
    default: ""
  user_username:
    type: string
  user_password:
    type: string
    default: ""
  admin_username:
    type: string
  admin_password:
    type: string
    default: ""
  other_username:
    type: string
    default: ""
  other_password:
    type: string
    default: ""
  networks:
    type: json
resources:
  server:
    type: ESI::VNF::VyattaConfig
    properties:
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      default_gateway: { get_param: default_gateway }
      user_username: { get_param: user_username }
      user_password: { get_param: user_password }
      admin_username: { get_param: admin_username }
      admin_password: { get_param: admin_password }
      other_username: { get_param: other_username }
      other_password: { get_param: other_password }
      networks: { get_param: networks }
,[])'
04:57:50.762 gohan.db.sql INFO [0m Executing SQL query in transaction '1a898b06-1833-4d18-8158-a986c29eb1dd': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/firewall_config,1494478670,create,false,"{\"handler\":\"heat_worker\",\"id\":\"firewall_config\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"vnf_instance_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Vyatta Firewall Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: json\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  user_username:\\n    type: string\\n  user_password:\\n    type: string\\n    default: \\\"\\\"\\n  admin_username:\\n    type: string\\n  admin_password:\\n    type: string\\n    default: \\\"\\\"\\n  other_username:\\n    type: string\\n    default: \\\"\\\"\\n  other_password:\\n    type: string\\n    default: \\\"\\\"\\n  networks:\\n    type: json\\nresources:\\n  server:\\n    type: ESI::VNF::VyattaConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      default_gateway: { get_param: default_gateway }\\n      user_username: { get_param: user_username }\\n      user_password: { get_param: user_password }\\n      admin_username: { get_param: admin_username }\\n      admin_password: { get_param: admin_password }\\n      other_username: { get_param: other_username }\\n      other_password: { get_param: other_password }\\n      networks: { get_param: networks }\\n\",\"watch\":[]}",1)'
04:57:50.762 gohan.db INFO [0m Populating resources for schema worker_data
04:57:50.763 gohan.db INFO [0m Populating resources for schema tenant
04:57:50.763 gohan.db INFO [0m Populating resources for schema edge_router
04:57:50.764 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:50.769 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.770 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.773 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.773 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.774 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.774 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.774 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.775 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.775 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.776 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.776 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.777 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.777 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.778 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.778 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.779 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.779 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.779 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.780 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.780 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.781 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.788 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.789 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.789 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.789 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.790 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.790 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.791 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.792 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.792 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.793 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.793 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.793 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.794 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.794 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.795 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.795 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.795 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.796 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.796 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.797 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.797 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.798 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.798 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.798 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.811 gohan.server.core INFO [0m Importing data from ./init/load_balancer_templates.yaml ...
04:57:50.812 gohan.db INFO [0m Populating resources for schema schema
04:57:50.813 gohan.db INFO [0m Populating resources for schema policy
04:57:50.832 gohan.db INFO [0m Populating resources for schema extension
04:57:50.838 gohan.db INFO [0m Populating resources for schema event
04:57:50.840 gohan.db INFO [0m Populating resources for schema namespace
04:57:50.842 gohan.db INFO [0m Populating resources for schema location
04:57:50.843 gohan.db INFO [0m Populating resources for schema ese_device
04:57:50.844 gohan.db INFO [0m Populating resources for schema network
04:57:50.848 gohan.db INFO [0m Populating resources for schema subnet
04:57:50.849 gohan.db INFO [0m Populating resources for schema port
04:57:50.850 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:57:50.850 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:57:50.851 gohan.db INFO [0m Populating resources for schema local_subnet
04:57:50.852 gohan.db INFO [0m Populating resources for schema server
04:57:50.857 gohan.db INFO [0m Populating resources for schema physical_port
04:57:50.858 gohan.db INFO [0m Populating resources for schema quota
04:57:50.859 gohan.db INFO [0m Populating resources for schema reserve_address
04:57:50.859 gohan.db INFO [0m Populating resources for schema neutron_extension
04:57:50.860 gohan.db INFO [0m Populating resources for schema heat_template
04:57:50.862 gohan.db INFO [0m Creating resource load_balancer_conf
04:57:50.862 gohan.db.sql INFO [0m Executing SQL query in transaction 'a863e141-6af5-475a-882a-b6f1d593c696': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,load_balancer_conf,{"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["load_balancer_plan_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"init_config":{"field":"init_config","path":["load_balancer_plan_id","vnf_template_id"]},"internet_port":{"field":"internet_port"},"license_code":{"field":"license_code","path":["load_balancer_plan_id"]},"management_gateway":{"field":"management_gateway"},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"model":{"field":"model","path":["load_balancer_plan_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"server_id":{"output_key":"server_id","path":["vnf_instance_id"]},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"}},heat_template_version: 2013-05-23
description: Load Balancer Configuration
parameters:
  management_ip:
    type: string
  management_gateway:
    type: string
  admin_username:
    type: string
  admin_password:
    type: string
  user_username:
    type: string
  user_password:
    type: string
  other_username:
    type: string
  other_password:
    type: string
  server_id:
    type: string
  license_code:
    type: string
  model:
    type: string
  init_config:
    type: string
  networks:
    type: string
  internet_port:
    type: string
  default_gateway:
    type: string
    default: ""
  credentials:
    type: string
resources:
  netscaler_configuration:
    type: ESI::VNF::NetscalerConfig
    properties:
      management_ip: { get_param: management_ip }
      management_gateway: { get_param: management_gateway }
      admin_username: { get_param: admin_username }
      admin_password: { get_param: admin_password }
      user_username: { get_param: user_username }
      user_password: { get_param: user_password }
      other_username: { get_param: other_username }
      other_password: { get_param: other_password }
      server_id: { get_param: server_id }
      license_code: { get_param: license_code }
      model: { get_param: model }
      init_config: { get_param: init_config }
      networks: { get_param: networks }
      internet_port: { get_param: internet_port }
      default_gateway: { get_param: default_gateway }
      credentials: { get_param: credentials }
,[])'
04:57:50.863 gohan.db.sql INFO [0m Executing SQL query in transaction 'a863e141-6af5-475a-882a-b6f1d593c696': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/load_balancer_conf,1494478670,create,false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_conf\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"internet_port\":{\"field\":\"internet_port\"},\"license_code\":{\"field\":\"license_code\",\"path\":[\"load_balancer_plan_id\"]},\"management_gateway\":{\"field\":\"management_gateway\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"model\":{\"field\":\"model\",\"path\":[\"load_balancer_plan_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"server_id\":{\"output_key\":\"server_id\",\"path\":[\"vnf_instance_id\"]},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Load Balancer Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  management_gateway:\\n    type: string\\n  admin_username:\\n    type: string\\n  admin_password:\\n    type: string\\n  user_username:\\n    type: string\\n  user_password:\\n    type: string\\n  other_username:\\n    type: string\\n  other_password:\\n    type: string\\n  server_id:\\n    type: string\\n  license_code:\\n    type: string\\n  model:\\n    type: string\\n  init_config:\\n    type: string\\n  networks:\\n    type: string\\n  internet_port:\\n    type: string\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  credentials:\\n    type: string\\nresources:\\n  netscaler_configuration:\\n    type: ESI::VNF::NetscalerConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      management_gateway: { get_param: management_gateway }\\n      admin_username: { get_param: admin_username }\\n      admin_password: { get_param: admin_password }\\n      user_username: { get_param: user_username }\\n      user_password: { get_param: user_password }\\n      other_username: { get_param: other_username }\\n      other_password: { get_param: other_password }\\n      server_id: { get_param: server_id }\\n      license_code: { get_param: license_code }\\n      model: { get_param: model }\\n      init_config: { get_param: init_config }\\n      networks: { get_param: networks }\\n      internet_port: { get_param: internet_port }\\n      default_gateway: { get_param: default_gateway }\\n      credentials: { get_param: credentials }\\n\",\"watch\":[]}",1)'
04:57:50.864 gohan.db INFO [0m Creating resource load_balancer_syslog_server
04:57:50.864 gohan.db.sql INFO [0m Executing SQL query in transaction 'a863e141-6af5-475a-882a-b6f1d593c696': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (load_balancer_syslog_server,{"acl_logging":{"field":"acl_logging"},"appflow_logging":{"field":"appflow_logging"},"comment":{"field":"comment"},"credentials":{"field":"credentials","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"date_format":{"field":"date_format"},"init_config":{"field":"init_config","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"ip_address":{"field":"ip_address"},"log_facility":{"field":"log_facility"},"log_level":{"field":"log_level"},"management_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"name":{"field":"name"},"port_number":{"field":"port_number"},"priority":{"field":"priority"},"tcp_logging":{"field":"tcp_logging"},"time_zone":{"field":"time_zone"},"transport_type":{"field":"transport_type"},"user_configurable_log_messages":{"field":"user_configurable_log_messages"},"vserver_ip_address":{"field":"vserver_ip_address"}},heat_template_version: 2013-05-23
description: Syslog server
parameters:
  name:
    type: string
  ip_address:
    type: string
  port_number:
    type: number
  log_level:
    type: string
  log_facility:
    type: string
  tcp_logging:
    type: string
  acl_logging:
    type: string
  appflow_logging:
    type: string
  date_format:
    type: string
  time_zone:
    type: string
  user_configurable_log_messages:
    type: string
  transport_type:
    type: string
  priority:
    type: number
  vserver_ip_address:
    type: string
  comment:
    type: string
  management_ip:
    type: string
  credentials:
    type: string
  init_config:
    type: string
resources:
  load_balancer_syslog_server:
    type: ESI::VNF::NetscalerSyslogServer
    properties:
      name: { get_param: name }
      ip_address: { get_param: ip_address }
      port_number: { get_param: port_number }
      log_level: { get_param: log_level }
      log_facility: { get_param: log_facility }
      tcp_logging: { get_param: tcp_logging }
      acl_logging: { get_param: acl_logging }
      appflow_logging: { get_param: appflow_logging }
      date_format: { get_param: date_format }
      time_zone: { get_param: time_zone }
      user_configurable_log_messages: { get_param: user_configurable_log_messages }
      transport_type: { get_param: transport_type }
      priority: { get_param: priority }
      vserver_ip_address: { get_param: vserver_ip_address }
      comment: { get_param: comment }
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      init_config: { get_param: init_config }
,[],heat_worker)'
04:57:50.865 gohan.db.sql INFO [0m Executing SQL query in transaction 'a863e141-6af5-475a-882a-b6f1d593c696': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_syslog_server\",\"parameter_mappings\":{\"acl_logging\":{\"field\":\"acl_logging\"},\"appflow_logging\":{\"field\":\"appflow_logging\"},\"comment\":{\"field\":\"comment\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"date_format\":{\"field\":\"date_format\"},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"ip_address\":{\"field\":\"ip_address\"},\"log_facility\":{\"field\":\"log_facility\"},\"log_level\":{\"field\":\"log_level\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"name\":{\"field\":\"name\"},\"port_number\":{\"field\":\"port_number\"},\"priority\":{\"field\":\"priority\"},\"tcp_logging\":{\"field\":\"tcp_logging\"},\"time_zone\":{\"field\":\"time_zone\"},\"transport_type\":{\"field\":\"transport_type\"},\"user_configurable_log_messages\":{\"field\":\"user_configurable_log_messages\"},\"vserver_ip_address\":{\"field\":\"vserver_ip_address\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Syslog server\\nparameters:\\n  name:\\n    type: string\\n  ip_address:\\n    type: string\\n  port_number:\\n    type: number\\n  log_level:\\n    type: string\\n  log_facility:\\n    type: string\\n  tcp_logging:\\n    type: string\\n  acl_logging:\\n    type: string\\n  appflow_logging:\\n    type: string\\n  date_format:\\n    type: string\\n  time_zone:\\n    type: string\\n  user_configurable_log_messages:\\n    type: string\\n  transport_type:\\n    type: string\\n  priority:\\n    type: number\\n  vserver_ip_address:\\n    type: string\\n  comment:\\n    type: string\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: string\\n  init_config:\\n    type: string\\nresources:\\n  load_balancer_syslog_server:\\n    type: ESI::VNF::NetscalerSyslogServer\\n    properties:\\n      name: { get_param: name }\\n      ip_address: { get_param: ip_address }\\n      port_number: { get_param: port_number }\\n      log_level: { get_param: log_level }\\n      log_facility: { get_param: log_facility }\\n      tcp_logging: { get_param: tcp_logging }\\n      acl_logging: { get_param: acl_logging }\\n      appflow_logging: { get_param: appflow_logging }\\n      date_format: { get_param: date_format }\\n      time_zone: { get_param: time_zone }\\n      user_configurable_log_messages: { get_param: user_configurable_log_messages }\\n      transport_type: { get_param: transport_type }\\n      priority: { get_param: priority }\\n      vserver_ip_address: { get_param: vserver_ip_address }\\n      comment: { get_param: comment }\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      init_config: { get_param: init_config }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_syslog_server,1494478670)'
04:57:50.865 gohan.db INFO [0m Populating resources for schema worker_data
04:57:50.866 gohan.db INFO [0m Populating resources for schema tenant
04:57:50.871 gohan.db INFO [0m Populating resources for schema edge_router
04:57:50.872 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:57:50.872 gohan.db INFO [0m Populating resources for schema ha_router
04:57:50.873 gohan.db INFO [0m Populating resources for schema ha_interface
04:57:50.879 gohan.db INFO [0m Populating resources for schema internet_service
04:57:50.881 gohan.db INFO [0m Populating resources for schema vpn_service
04:57:50.883 gohan.db INFO [0m Populating resources for schema aws_service
04:57:50.886 gohan.db INFO [0m Populating resources for schema interdc_service
04:57:50.888 gohan.db INFO [0m Populating resources for schema common_function_pool
04:57:50.893 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:57:50.894 gohan.db INFO [0m Populating resources for schema common_function
04:57:50.894 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:57:50.895 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:57:50.896 gohan.db INFO [0m Populating resources for schema qos_option
04:57:50.899 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:57:50.902 gohan.db INFO [0m Populating resources for schema vpn_interface
04:57:50.902 gohan.db INFO [0m Populating resources for schema aws_gateway
04:57:50.903 gohan.db INFO [0m Populating resources for schema aws_interface
04:57:50.904 gohan.db INFO [0m Populating resources for schema internet_gateway
04:57:50.909 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:57:50.909 gohan.db INFO [0m Populating resources for schema public_ip
04:57:50.910 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:57:50.911 gohan.db INFO [0m Populating resources for schema interdc_interface
04:57:50.912 gohan.db INFO [0m Populating resources for schema gw_interface
04:57:50.920 gohan.db INFO [0m Populating resources for schema static_route
04:57:50.921 gohan.db INFO [0m Populating resources for schema vnf_template
04:57:50.921 gohan.db INFO [0m Populating resources for schema vnf_plan
04:57:50.922 gohan.db INFO [0m Populating resources for schema vnf_instance
04:57:50.923 gohan.db INFO [0m Populating resources for schema vnf_interface
04:57:50.941 gohan.db INFO [0m Populating resources for schema firewall_plan
04:57:50.942 gohan.db INFO [0m Populating resources for schema firewall
04:57:50.942 gohan.db INFO [0m Populating resources for schema firewall_interface
04:57:50.943 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:57:50.944 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:57:50.945 gohan.db INFO [0m Populating resources for schema load_balancer
04:57:50.946 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:57:50.947 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:57:50.947 gohan.db INFO [0m Populating resources for schema billing_usage
04:57:50.951 gohan.db INFO [0m Populating resources for schema billing_resource
04:57:50.952 gohan.db INFO [0m Populating resources for schema monitoring
04:57:50.952 gohan.db INFO [0m Populating resources for schema resource_mapping
04:57:50.953 gohan.db INFO [0m Populating resources for schema colocation_space
04:57:50.954 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:57:50.954 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:57:50.955 gohan.db INFO [0m Populating resources for schema tenant_connection
04:57:50.956 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:57:50.966 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:57:50.975 gohan.server.core INFO [0m Keystone backend server configured
04:57:59.143 gohan.server.core INFO [0m Loading extensions for schema 'interdc_interface'
04:58:00.198 gohan.server.core INFO [0m Loading extensions for schema 'static_route'
04:58:01.254 gohan.server.core INFO [0m Loading extensions for schema 'neutron_extension'
04:58:02.269 gohan.server.core INFO [0m Loading extensions for schema 'aws_service'
04:58:03.053 gohan.server.core INFO [0m Loading extensions for schema 'suspended_public_ip'
04:58:03.792 gohan.server.core INFO [0m Loading extensions for schema 'public_ip'
04:58:04.404 gohan.server.core INFO [0m Loading extensions for schema 'hosting_logical_link'
04:58:05.155 gohan.server.core INFO [0m Loading extensions for schema 'network'
04:58:05.953 gohan.server.core INFO [0m Loading extensions for schema 'heat_template'
04:58:06.950 gohan.server.core INFO [0m Loading extensions for schema 'aws_gateway'
04:58:07.787 gohan.server.core INFO [0m Loading extensions for schema 'colocation_logical_link'
04:58:08.586 gohan.server.core INFO [0m Loading extensions for schema 'common_function_pool'
04:58:09.353 gohan.server.core INFO [0m Loading extensions for schema 'gw_interface'
04:58:10.058 gohan.server.core INFO [0m Loading extensions for schema 'aws_interface'
04:58:10.927 gohan.server.core INFO [0m Loading extensions for schema 'firewall'
04:58:11.955 gohan.server.core INFO [0m Loading extensions for schema 'ha_interface'
04:58:12.848 gohan.server.core INFO [0m Loading extensions for schema 'interdc_service'
04:58:13.699 gohan.server.core INFO [0m Loading extensions for schema 'interdc_gateway'
04:58:14.578 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_interface'
04:58:15.300 gohan.server.core INFO [0m Loading extensions for schema 'subnet'
04:58:16.176 gohan.server.core INFO [0m Loading extensions for schema 'port'
04:58:17.365 gohan.server.core INFO [0m Loading extensions for schema 'local_subnet'
04:58:18.329 gohan.server.core INFO [0m Loading extensions for schema 'server'
04:58:19.067 gohan.server.core INFO [0m Loading extensions for schema 'tenant'
04:58:19.809 gohan.server.core INFO [0m Loading extensions for schema 'edge_router'
04:58:20.525 gohan.server.core INFO [0m Loading extensions for schema 'qos_option'
04:58:21.405 gohan.server.core INFO [0m Loading extensions for schema 'vnf_instance'
04:58:22.174 gohan.server.core INFO [0m Loading extensions for schema 'physical_port'
04:58:22.927 gohan.server.core INFO [0m Loading extensions for schema 'reserve_address'
04:58:23.818 gohan.server.core INFO [0m Loading extensions for schema 'internet_service'
04:58:24.625 gohan.server.core INFO [0m Loading extensions for schema 'firewall_plan'
04:58:25.317 gohan.server.core INFO [0m Loading extensions for schema 'tenant_connection'
04:58:26.000 gohan.server.core INFO [0m Loading extensions for schema 'billing_resource'
04:58:26.731 gohan.server.core INFO [0m Loading extensions for schema 'colocation_space'
04:58:27.424 gohan.server.core INFO [0m Loading extensions for schema 'hosting_physical_link'
04:58:28.126 gohan.server.core INFO [0m Loading extensions for schema 'ese_logical_port'
04:58:29.020 gohan.server.core INFO [0m Loading extensions for schema 'public_ip_pool'
04:58:29.811 gohan.server.core INFO [0m Loading extensions for schema 'vpn_interface'
04:58:30.653 gohan.server.core INFO [0m Loading extensions for schema 'billing_usage'
04:58:31.650 gohan.server.core INFO [0m Loading extensions for schema 'vpn_service'
04:58:32.542 gohan.server.core INFO [0m Loading extensions for schema 'vpn_gateway'
04:58:33.401 gohan.server.core INFO [0m Loading extensions for schema 'internet_gateway'
04:58:34.256 gohan.server.core INFO [0m Loading extensions for schema 'monitoring'
04:58:34.996 gohan.server.core INFO [0m Loading extensions for schema 'schema'
04:58:35.814 gohan.server.core INFO [0m Loading extensions for schema 'policy'
04:58:36.661 gohan.server.core INFO [0m Loading extensions for schema 'extension'
04:58:37.827 gohan.server.core INFO [0m Loading extensions for schema 'er_physical_interface'
04:58:38.288 gohan.server.core INFO [0m Loading extensions for schema 'vnf_template'
04:58:38.970 gohan.server.core INFO [0m Loading extensions for schema 'vnf_plan'
04:58:39.684 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer'
04:58:40.438 gohan.server.core INFO [0m Loading extensions for schema 'colocation_physical_link'
04:58:41.285 gohan.server.core INFO [0m Loading extensions for schema 'event'
04:58:42.084 gohan.server.core INFO [0m Loading extensions for schema 'namespace'
04:58:42.851 gohan.server.core INFO [0m Loading extensions for schema 'quota'
04:58:44.050 gohan.server.core INFO [0m Loading extensions for schema 'nat_ip_pool'
04:58:44.697 gohan.server.core INFO [0m Loading extensions for schema 'firewall_interface'
04:58:45.409 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_plan'
04:58:46.151 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_conf'
04:58:46.883 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_syslog_server'
04:58:47.612 gohan.server.core INFO [0m Loading extensions for schema 'location'
04:58:48.287 gohan.server.core INFO [0m Loading extensions for schema 'ese_device'
04:58:49.082 gohan.server.core INFO [0m Loading extensions for schema 'ese_physical_port'
04:58:49.979 gohan.server.core INFO [0m Loading extensions for schema 'common_function_gateway'
04:58:51.156 gohan.server.core INFO [0m Loading extensions for schema 'worker_data'
04:58:51.641 gohan.server.core INFO [0m Loading extensions for schema 'ha_router'
04:58:52.514 gohan.server.core INFO [0m Loading extensions for schema 'common_function'
04:58:53.248 gohan.server.core INFO [0m Loading extensions for schema 'resource_mapping'
04:58:53.940 gohan.server.core INFO [0m Loading extensions for schema 'vnf_interface'
04:58:54.694 gohan.server INFO [0m Gohan timeout value: 45s
04:58:54.694 gohan.server INFO [0m etcd servers: [http://etcd-server:2379]
04:58:54.694 gohan.server INFO [0m Static file serving from /etc/gohan/
[36m04:58:54.694 gohan.server DEBUG [0m [Initializing Routes]
[36m04:58:54.694 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ip_pools
[36m04:58:54.694 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ip_pools/:id
[36m04:58:54.694 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ip_pools
[36m04:58:54.694 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ip_pools/:id
[36m04:58:54.695 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_interfaces
[36m04:58:54.695 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_interfaces/:id
[36m04:58:54.695 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_interfaces
[36m04:58:54.695 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_interfaces/:id
[36m04:58:54.695 gohan.server DEBUG [0m [Plural Path] /common/v1.0/usage
[36m04:58:54.695 gohan.server DEBUG [0m [Singular Path] /common/v1.0/usage/:id
[36m04:58:54.695 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants/:tenant/usage
[36m04:58:54.695 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:tenant/usage/:id
[36m04:58:54.696 gohan.server DEBUG [0m [Plural Path] /v2.0/billing_resources
[36m04:58:54.696 gohan.server DEBUG [0m [Singular Path] /v2.0/billing_resources/:id
[36m04:58:54.696 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/billing_resources
[36m04:58:54.696 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/billing_resources/:id
[36m04:58:54.697 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_spaces
[36m04:58:54.697 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_spaces/:id
[36m04:58:54.697 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_spaces
[36m04:58:54.697 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_spaces/:id
[36m04:58:54.697 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_physical_links
[36m04:58:54.697 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_physical_links/:id
[36m04:58:54.697 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_physical_links
[36m04:58:54.697 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_physical_links/:id
[36m04:58:54.698 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_logical_ports
[36m04:58:54.698 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_logical_ports/:id
[36m04:58:54.698 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports
[36m04:58:54.698 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:id
[36m04:58:54.699 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/policies
[36m04:58:54.699 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/policies/:id
[36m04:58:54.699 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/policies
[36m04:58:54.699 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/policies/:id
[36m04:58:54.699 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/extensions
[36m04:58:54.699 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/extensions/:id
[36m04:58:54.699 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/extensions
[36m04:58:54.699 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/extensions/:id
[36m04:58:54.700 gohan.server DEBUG [0m [Plural Path] /v2.0/er_physical_interfaces
[36m04:58:54.700 gohan.server DEBUG [0m [Singular Path] /v2.0/er_physical_interfaces/:id
[36m04:58:54.700 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/er_physical_interfaces
[36m04:58:54.700 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/er_physical_interfaces/:id
[36m04:58:54.700 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_services
[36m04:58:54.701 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_services/:id
[36m04:58:54.701 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_services
[36m04:58:54.701 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_services/:id
[36m04:58:54.701 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_gateways
[36m04:58:54.701 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_gateways/:id
[36m04:58:54.701 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_gateways
[36m04:58:54.701 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_gateways/:id
[36m04:58:54.702 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_gateways
[36m04:58:54.702 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_gateways/:id
[36m04:58:54.702 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_gateways
[36m04:58:54.702 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_gateways/:id
[36m04:58:54.702 gohan.server DEBUG [0m [Plural Path] /v1.0/monitoring
[36m04:58:54.702 gohan.server DEBUG [0m [Singular Path] /v1.0/monitoring/:id
[36m04:58:54.702 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/monitoring
[36m04:58:54.702 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/monitoring/:id
[36m04:58:54.703 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/schemas
[36m04:58:54.703 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/schemas/:id
[36m04:58:54.703 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/schemas
[36m04:58:54.703 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/schemas/:id
[36m04:58:54.703 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/namespaces
[36m04:58:54.703 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/namespaces/:id
[36m04:58:54.703 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/namespaces
[36m04:58:54.703 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/namespaces/:id
[36m04:58:54.704 gohan.server DEBUG [0m [Plural Path] /v2.0/quotas
[36m04:58:54.704 gohan.server DEBUG [0m [Singular Path] /v2.0/quotas/:id
[36m04:58:54.704 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/quotas
[36m04:58:54.704 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/quotas/:id
[36m04:58:54.705 gohan.server DEBUG [0m [Plural Path] /v2.0/nat_ip_pools
[36m04:58:54.705 gohan.server DEBUG [0m [Singular Path] /v2.0/nat_ip_pools/:id
[36m04:58:54.705 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/nat_ip_pools
[36m04:58:54.705 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/nat_ip_pools/:id
[36m04:58:54.705 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_templates
[36m04:58:54.705 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_templates/:id
[36m04:58:54.705 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_templates
[36m04:58:54.705 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_templates/:id
[36m04:58:54.706 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_plans
[36m04:58:54.706 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_plans/:id
[36m04:58:54.706 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_plans
[36m04:58:54.706 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_plans/:id
[36m04:58:54.706 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancers
[36m04:58:54.706 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancers/:id
[36m04:58:54.706 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers
[36m04:58:54.706 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:id
[36m04:58:54.707 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_physical_links
[36m04:58:54.707 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_physical_links/:id
[36m04:58:54.707 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_physical_links
[36m04:58:54.707 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_physical_links/:id
[36m04:58:54.707 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/events
[36m04:58:54.707 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/events/:id
[36m04:58:54.707 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/events
[36m04:58:54.707 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/events/:id
[36m04:58:54.708 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_devices
[36m04:58:54.708 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_devices/:id
[36m04:58:54.708 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices
[36m04:58:54.708 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:id
[36m04:58:54.709 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_physical_ports
[36m04:58:54.709 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_physical_ports/:id
[36m04:58:54.709 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports
[36m04:58:54.709 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:id
[36m04:58:54.709 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_gateways
[36m04:58:54.709 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_gateways/:id
[36m04:58:54.709 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_gateways
[36m04:58:54.709 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_gateways/:id
[36m04:58:54.710 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_interfaces
[36m04:58:54.710 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_interfaces/:id
[36m04:58:54.710 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces
[36m04:58:54.710 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces/:id
[36m04:58:54.710 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_plans
[36m04:58:54.711 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_plans/:id
[36m04:58:54.711 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_plans
[36m04:58:54.711 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_plans/:id
[36m04:58:54.711 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_confs
[36m04:58:54.711 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_confs/:id
[36m04:58:54.711 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_confs
[36m04:58:54.711 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_confs/:id
[36m04:58:54.712 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_syslog_servers
[36m04:58:54.712 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_syslog_servers/:id
[36m04:58:54.712 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers
[36m04:58:54.712 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers/:id
[36m04:58:54.712 gohan.server DEBUG [0m [Plural Path] /v2.0/locations
[36m04:58:54.712 gohan.server DEBUG [0m [Singular Path] /v2.0/locations/:id
[36m04:58:54.712 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/locations
[36m04:58:54.712 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/locations/:id
[36m04:58:54.713 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_routers
[36m04:58:54.713 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_routers/:id
[36m04:58:54.713 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_routers
[36m04:58:54.713 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_routers/:id
[36m04:58:54.713 gohan.server DEBUG [0m [Plural Path] /v2.0/common_functions
[36m04:58:54.713 gohan.server DEBUG [0m [Singular Path] /v2.0/common_functions/:id
[36m04:58:54.713 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_functions
[36m04:58:54.713 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_functions/:id
[36m04:58:54.714 gohan.server DEBUG [0m [Plural Path] /v1.0/resource_mappings
[36m04:58:54.714 gohan.server DEBUG [0m [Singular Path] /v1.0/resource_mappings/:id
[36m04:58:54.714 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/resource_mappings
[36m04:58:54.714 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/resource_mappings/:id
[36m04:58:54.715 gohan.server DEBUG [0m [Plural Path] /v2.0/worker_datas
[36m04:58:54.715 gohan.server DEBUG [0m [Singular Path] /v2.0/worker_datas/:id
[36m04:58:54.715 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/worker_datas
[36m04:58:54.715 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/worker_datas/:id
[36m04:58:54.715 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_interfaces
[36m04:58:54.715 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_interfaces/:id
[36m04:58:54.715 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces
[36m04:58:54.715 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces/:id
[36m04:58:54.716 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_services
[36m04:58:54.716 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_services/:id
[36m04:58:54.716 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_services
[36m04:58:54.716 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_services/:id
[36m04:58:54.716 gohan.server DEBUG [0m [Plural Path] /v2.0/suspended_public_ips
[36m04:58:54.716 gohan.server DEBUG [0m [Singular Path] /v2.0/suspended_public_ips/:id
[36m04:58:54.716 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/suspended_public_ips
[36m04:58:54.716 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/suspended_public_ips/:id
[36m04:58:54.717 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ips
[36m04:58:54.717 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ips/:id
[36m04:58:54.717 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ips
[36m04:58:54.717 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ips/:id
[36m04:58:54.718 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_interfaces
[36m04:58:54.718 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_interfaces/:id
[36m04:58:54.718 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_interfaces
[36m04:58:54.718 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_interfaces/:id
[36m04:58:54.718 gohan.server DEBUG [0m [Plural Path] /v2.0/static_routes
[36m04:58:54.718 gohan.server DEBUG [0m [Singular Path] /v2.0/static_routes/:id
[36m04:58:54.718 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/static_routes
[36m04:58:54.718 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/static_routes/:id
[36m04:58:54.719 gohan.server DEBUG [0m [Plural Path] /v2.0/extensions
[36m04:58:54.719 gohan.server DEBUG [0m [Singular Path] /v2.0/extensions/:id
[36m04:58:54.719 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/extensions
[36m04:58:54.719 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/extensions/:id
[36m04:58:54.719 gohan.server DEBUG [0m [Plural Path] /v2.0/heat_templates
[36m04:58:54.719 gohan.server DEBUG [0m [Singular Path] /v2.0/heat_templates/:id
[36m04:58:54.719 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/heat_templates
[36m04:58:54.719 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/heat_templates/:id
[36m04:58:54.720 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_gateways
[36m04:58:54.720 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_gateways/:id
[36m04:58:54.720 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_gateways
[36m04:58:54.720 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_gateways/:id
[36m04:58:54.720 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_logical_links
[36m04:58:54.721 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_logical_links/:id
[36m04:58:54.721 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_logical_links
[36m04:58:54.721 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_logical_links/:id
[36m04:58:54.721 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_logical_links
[36m04:58:54.721 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_logical_links/:id
[36m04:58:54.721 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_logical_links
[36m04:58:54.721 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_logical_links/:id
[36m04:58:54.722 gohan.server DEBUG [0m [Plural Path] /v2.0/networks
[36m04:58:54.722 gohan.server DEBUG [0m [Singular Path] /v2.0/networks/:id
[36m04:58:54.722 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/networks
[36m04:58:54.722 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/networks/:id
[36m04:58:54.722 gohan.server DEBUG [0m [Plural Path] /v2.0/gw_interfaces
[36m04:58:54.722 gohan.server DEBUG [0m [Singular Path] /v2.0/gw_interfaces/:id
[36m04:58:54.722 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gw_interfaces
[36m04:58:54.722 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gw_interfaces/:id
[36m04:58:54.723 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_pools
[36m04:58:54.723 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_pools/:id
[36m04:58:54.723 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_pools
[36m04:58:54.723 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_pools/:id
[36m04:58:54.723 gohan.server DEBUG [0m [Plural Path] /v2.0/firewalls
[36m04:58:54.724 gohan.server DEBUG [0m [Singular Path] /v2.0/firewalls/:id
[36m04:58:54.724 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls
[36m04:58:54.724 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:id
[36m04:58:54.724 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_interfaces
[36m04:58:54.724 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_interfaces/:id
[36m04:58:54.724 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_interfaces
[36m04:58:54.724 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_interfaces/:id
[36m04:58:54.725 gohan.server DEBUG [0m [Plural Path] /v2.0/ports
[36m04:58:54.725 gohan.server DEBUG [0m [Singular Path] /v2.0/ports/:id
[36m04:58:54.725 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ports
[36m04:58:54.725 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ports/:id
[36m04:58:54.725 gohan.server DEBUG [0m [Plural Path] /v2.0/local_subnets
[36m04:58:54.725 gohan.server DEBUG [0m [Singular Path] /v2.0/local_subnets/:id
[36m04:58:54.725 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets
[36m04:58:54.725 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets/:id
[36m04:58:54.726 gohan.server DEBUG [0m [Plural Path] /v2.0/servers
[36m04:58:54.726 gohan.server DEBUG [0m [Singular Path] /v2.0/servers/:id
[36m04:58:54.726 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/servers
[36m04:58:54.726 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/servers/:id
[36m04:58:54.727 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_interfaces
[36m04:58:54.727 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_interfaces/:id
[36m04:58:54.727 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_interfaces
[36m04:58:54.727 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_interfaces/:id
[36m04:58:54.727 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_services
[36m04:58:54.727 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_services/:id
[36m04:58:54.727 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_services
[36m04:58:54.727 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_services/:id
[36m04:58:54.728 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_gateways
[36m04:58:54.728 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_gateways/:id
[36m04:58:54.728 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_gateways
[36m04:58:54.728 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_gateways/:id
[36m04:58:54.728 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_interfaces
[36m04:58:54.728 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_interfaces/:id
[36m04:58:54.729 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces
[36m04:58:54.729 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces/:id
[36m04:58:54.729 gohan.server DEBUG [0m [Plural Path] /v2.0/subnets
[36m04:58:54.729 gohan.server DEBUG [0m [Singular Path] /v2.0/subnets/:id
[36m04:58:54.729 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/subnets
[36m04:58:54.729 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/subnets/:id
[36m04:58:54.730 gohan.server DEBUG [0m [Plural Path] /v2.0/edge_routers
[36m04:58:54.730 gohan.server DEBUG [0m [Singular Path] /v2.0/edge_routers/:id
[36m04:58:54.730 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/edge_routers
[36m04:58:54.730 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/edge_routers/:id
[36m04:58:54.730 gohan.server DEBUG [0m [Plural Path] /v2.0/qos_options
[36m04:58:54.730 gohan.server DEBUG [0m [Singular Path] /v2.0/qos_options/:id
[36m04:58:54.730 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/qos_options
[36m04:58:54.730 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/qos_options/:id
[36m04:58:54.731 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_instances
[36m04:58:54.731 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_instances/:id
[36m04:58:54.731 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances
[36m04:58:54.731 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:id
[36m04:58:54.731 gohan.server DEBUG [0m [Plural Path] /common/v1.0/tenants
[36m04:58:54.731 gohan.server DEBUG [0m [Singular Path] /common/v1.0/tenants/:id
[36m04:58:54.731 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants
[36m04:58:54.731 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:id
[36m04:58:54.732 gohan.server DEBUG [0m [Plural Path] /v2.0/physical_ports
[36m04:58:54.732 gohan.server DEBUG [0m [Singular Path] /v2.0/physical_ports/:id
[36m04:58:54.732 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/physical_ports
[36m04:58:54.732 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/physical_ports/:id
[36m04:58:54.733 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_services
[36m04:58:54.733 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_services/:id
[36m04:58:54.733 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_services
[36m04:58:54.733 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_services/:id
[36m04:58:54.733 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_plans
[36m04:58:54.733 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_plans/:id
[36m04:58:54.733 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewall_plans
[36m04:58:54.733 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewall_plans/:id
[36m04:58:54.734 gohan.server DEBUG [0m [Plural Path] /v2.0/tenant_connections
[36m04:58:54.734 gohan.server DEBUG [0m [Singular Path] /v2.0/tenant_connections/:id
[36m04:58:54.734 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/tenant_connections
[36m04:58:54.734 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/tenant_connections/:id
[36m04:58:54.734 gohan.server DEBUG [0m [Plural Path] /v2.0/reserve_addresses
[36m04:58:54.734 gohan.server DEBUG [0m [Singular Path] /v2.0/reserve_addresses/:id
[36m04:58:54.734 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/reserve_addresses
[36m04:58:54.735 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/reserve_addresses/:id
04:58:54.737 gohan.server INFO [0m Gohan no jikan desuyo (It's time for dinner!) 
04:58:54.737 gohan.server INFO [0m Starting Gohan Server...
04:58:54.739 gohan.server INFO [0m Started CRON process
[36m04:58:54.741 gohan.server DEBUG [0m State Watcher starts watch
[31m04:58:54.742 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/state) [8]
[31m04:58:54.742 gohan.server ERROR [0m sync watch error: 100: Key not found (/state) [8]
04:58:54.743 gohan.sync INFO [0m Locked gohan/cluster/sync with index 0
[36m04:58:54.750 gohan.server DEBUG [0m Monitoring Watcher starts watch
[36m04:58:54.752 gohan.server.sync DEBUG [0m Processing event 1 - create
04:58:54.752 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/network
[36m04:58:54.754 gohan.server.sync DEBUG [0m Deleting event 1
04:58:54.755 gohan.db.sql INFO [0m Executing SQL query in transaction '06478b44-f1c4-4e24-9dbf-c930ab376205': 'DELETE FROM `events` WHERE id = 1'
[36m04:58:54.756 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[31m04:58:54.756 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [10]
[31m04:58:54.757 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [10]
[36m04:58:54.778 gohan.server.sync DEBUG [0m Processing event 2 - create
04:58:54.778 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/subnet
[36m04:58:54.788 gohan.server.sync DEBUG [0m Deleting event 2
04:58:54.789 gohan.db.sql INFO [0m Executing SQL query in transaction '5749fe51-55d0-48ec-8a1c-732baa950051': 'DELETE FROM `events` WHERE id = 2'
[36m04:58:54.789 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.803 gohan.server.sync DEBUG [0m Processing event 3 - create
04:58:54.803 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/port
[36m04:58:54.805 gohan.server.sync DEBUG [0m Deleting event 3
04:58:54.806 gohan.db.sql INFO [0m Executing SQL query in transaction 'edb33461-c26b-4c77-a722-f2e30ab6d198': 'DELETE FROM `events` WHERE id = 3'
[36m04:58:54.806 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.820 gohan.server.sync DEBUG [0m Processing event 4 - create
04:58:54.820 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_existing
[36m04:58:54.824 gohan.server.sync DEBUG [0m Deleting event 4
04:58:54.825 gohan.db.sql INFO [0m Executing SQL query in transaction 'b337c30c-f1f3-4cb4-abaf-2216b0e0b91e': 'DELETE FROM `events` WHERE id = 4'
[36m04:58:54.825 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.846 gohan.server.sync DEBUG [0m Processing event 5 - create
04:58:54.846 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_new
[36m04:58:54.847 gohan.server.sync DEBUG [0m Deleting event 5
04:58:54.848 gohan.db.sql INFO [0m Executing SQL query in transaction '1f907298-cb37-4bed-a623-64b21835e862': 'DELETE FROM `events` WHERE id = 5'
[36m04:58:54.848 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.868 gohan.server.sync DEBUG [0m Processing event 6 - create
04:58:54.868 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_logical_port
[36m04:58:54.869 gohan.server.sync DEBUG [0m Deleting event 6
04:58:54.870 gohan.db.sql INFO [0m Executing SQL query in transaction 'abe8a067-587c-43c4-83be-b4a88cb3c7fd': 'DELETE FROM `events` WHERE id = 6'
[36m04:58:54.871 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.885 gohan.server.sync DEBUG [0m Processing event 7 - create
04:58:54.885 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/local_subnet
[36m04:58:54.888 gohan.server.sync DEBUG [0m Deleting event 7
04:58:54.892 gohan.db.sql INFO [0m Executing SQL query in transaction 'c27e3148-27f6-4273-b8a3-1d55c8253d1d': 'DELETE FROM `events` WHERE id = 7'
[36m04:58:54.892 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.900 gohan.server.sync DEBUG [0m Processing event 8 - create
04:58:54.900 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_existing
[36m04:58:54.903 gohan.server.sync DEBUG [0m Deleting event 8
04:58:54.904 gohan.db.sql INFO [0m Executing SQL query in transaction '9f7dfc13-0171-4336-94f8-426ce8e091b9': 'DELETE FROM `events` WHERE id = 8'
[36m04:58:54.904 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.922 gohan.server.sync DEBUG [0m Processing event 9 - create
04:58:54.922 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_new
[36m04:58:54.924 gohan.server.sync DEBUG [0m Deleting event 9
04:58:54.925 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1401d54-05aa-4546-8150-6026f0c88541': 'DELETE FROM `events` WHERE id = 9'
[36m04:58:54.925 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.945 gohan.server.sync DEBUG [0m Processing event 10 - create
04:58:54.945 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/network_monitoring
[36m04:58:54.945 gohan.server.sync DEBUG [0m Deleting event 10
04:58:54.946 gohan.db.sql INFO [0m Executing SQL query in transaction '0f9e940e-3965-4d87-a8be-ec50fffb728d': 'DELETE FROM `events` WHERE id = 10'
[36m04:58:54.947 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.961 gohan.server.sync DEBUG [0m Processing event 11 - create
04:58:54.961 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/port_monitoring
[36m04:58:54.962 gohan.server.sync DEBUG [0m Deleting event 11
04:58:54.963 gohan.db.sql INFO [0m Executing SQL query in transaction 'efe423d1-21b1-4b5b-8eb2-52ef7ed922b1': 'DELETE FROM `events` WHERE id = 11'
[36m04:58:54.963 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.976 gohan.server.sync DEBUG [0m Processing event 12 - create
04:58:54.976 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_monitoring
[36m04:58:54.977 gohan.server.sync DEBUG [0m Deleting event 12
04:58:54.978 gohan.db.sql INFO [0m Executing SQL query in transaction 'a101f7d9-0968-4421-9e38-d79bd5a2b82e': 'DELETE FROM `events` WHERE id = 12'
[36m04:58:54.978 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:54.990 gohan.server.sync DEBUG [0m Processing event 13 - create
04:58:54.990 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_logical_port_monitoring
[36m04:58:54.991 gohan.server.sync DEBUG [0m Deleting event 13
04:58:54.992 gohan.db.sql INFO [0m Executing SQL query in transaction '5ba8344b-3657-4ad8-898e-4955a584ddff': 'DELETE FROM `events` WHERE id = 13'
[36m04:58:54.992 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.010 gohan.server.sync DEBUG [0m Processing event 14 - create
04:58:55.011 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_monitoring
[36m04:58:55.011 gohan.server.sync DEBUG [0m Deleting event 14
04:58:55.012 gohan.db.sql INFO [0m Executing SQL query in transaction 'd466a5e6-c320-41a0-aa63-410f163ad58d': 'DELETE FROM `events` WHERE id = 14'
[36m04:58:55.013 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.037 gohan.server.sync DEBUG [0m Processing event 15 - create
04:58:55.037 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/edge_router_monitoring
[36m04:58:55.038 gohan.server.sync DEBUG [0m Deleting event 15
04:58:55.039 gohan.db.sql INFO [0m Executing SQL query in transaction '2fbf7ba6-283c-4d51-8998-c69b924ba98e': 'DELETE FROM `events` WHERE id = 15'
[36m04:58:55.039 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.060 gohan.server.sync DEBUG [0m Processing event 16 - create
04:58:55.060 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/er_physical_interface_monitoring
[36m04:58:55.062 gohan.server.sync DEBUG [0m Deleting event 16
04:58:55.063 gohan.db.sql INFO [0m Executing SQL query in transaction '36d79b35-d337-4725-b097-6c9ed3d02aaa': 'DELETE FROM `events` WHERE id = 16'
[36m04:58:55.064 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.076 gohan.server.sync DEBUG [0m Processing event 17 - create
04:58:55.076 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ha_router_monitoring
[36m04:58:55.077 gohan.server.sync DEBUG [0m Deleting event 17
04:58:55.078 gohan.db.sql INFO [0m Executing SQL query in transaction '3ce7de51-bf4f-4ed7-ae4a-2dae1c458cae': 'DELETE FROM `events` WHERE id = 17'
[36m04:58:55.078 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.095 gohan.server.sync DEBUG [0m Processing event 18 - create
04:58:55.095 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ha_interface_monitoring
[36m04:58:55.096 gohan.server.sync DEBUG [0m Deleting event 18
04:58:55.099 gohan.db.sql INFO [0m Executing SQL query in transaction '90d32360-9038-40e9-9e5e-93189040afde': 'DELETE FROM `events` WHERE id = 18'
[36m04:58:55.099 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.111 gohan.server.sync DEBUG [0m Processing event 19 - create
04:58:55.111 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/internet_gateway_monitoring
[36m04:58:55.113 gohan.server.sync DEBUG [0m Deleting event 19
04:58:55.116 gohan.db.sql INFO [0m Executing SQL query in transaction '609914a5-87d6-4b60-94e2-190675114c69': 'DELETE FROM `events` WHERE id = 19'
[36m04:58:55.116 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.141 gohan.server.sync DEBUG [0m Processing event 20 - create
04:58:55.141 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_gateway_monitoring
[36m04:58:55.145 gohan.server.sync DEBUG [0m Deleting event 20
04:58:55.146 gohan.db.sql INFO [0m Executing SQL query in transaction 'be730de6-5f61-49c9-91c7-29e248ab3bf6': 'DELETE FROM `events` WHERE id = 20'
[36m04:58:55.146 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.160 gohan.server.sync DEBUG [0m Processing event 21 - create
04:58:55.160 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_gateway_monitoring
[36m04:58:55.163 gohan.server.sync DEBUG [0m Deleting event 21
04:58:55.164 gohan.db.sql INFO [0m Executing SQL query in transaction '673ae417-2b54-4c03-a5cc-757849ee6f94': 'DELETE FROM `events` WHERE id = 21'
[36m04:58:55.164 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.183 gohan.server.sync DEBUG [0m Processing event 22 - create
04:58:55.183 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_monitoring
[36m04:58:55.185 gohan.server.sync DEBUG [0m Deleting event 22
04:58:55.188 gohan.db.sql INFO [0m Executing SQL query in transaction 'ca73d85f-3bce-4e47-a362-c0f0af5c1be5': 'DELETE FROM `events` WHERE id = 22'
[36m04:58:55.188 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.199 gohan.server.sync DEBUG [0m Processing event 23 - create
04:58:55.199 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_interface_monitoring
[36m04:58:55.203 gohan.server.sync DEBUG [0m Deleting event 23
04:58:55.204 gohan.db.sql INFO [0m Executing SQL query in transaction '7b7c33d7-3fd6-4c2f-a829-886e1fe98316': 'DELETE FROM `events` WHERE id = 23'
[36m04:58:55.204 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.230 gohan.server.sync DEBUG [0m Processing event 24 - create
04:58:55.230 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_interface_monitoring
[36m04:58:55.241 gohan.server.sync DEBUG [0m Deleting event 24
04:58:55.242 gohan.db.sql INFO [0m Executing SQL query in transaction 'af75188f-d1ad-4726-b5e9-7894887f97d6': 'DELETE FROM `events` WHERE id = 24'
[36m04:58:55.242 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.257 gohan.server.sync DEBUG [0m Processing event 25 - create
04:58:55.257 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function_gateway_monitoring
[36m04:58:55.259 gohan.server.sync DEBUG [0m Deleting event 25
04:58:55.261 gohan.db.sql INFO [0m Executing SQL query in transaction '57fbc22b-d072-4dc9-8e16-6e20a2f68570': 'DELETE FROM `events` WHERE id = 25'
[36m04:58:55.262 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.271 gohan.server.sync DEBUG [0m Processing event 26 - create
04:58:55.271 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vnf_instance_monitoring
[36m04:58:55.272 gohan.server.sync DEBUG [0m Deleting event 26
04:58:55.275 gohan.db.sql INFO [0m Executing SQL query in transaction '65433084-b402-4a4e-8a21-30e228075240': 'DELETE FROM `events` WHERE id = 26'
[36m04:58:55.275 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.287 gohan.server.sync DEBUG [0m Processing event 27 - create
04:58:55.287 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_monitoring
[36m04:58:55.288 gohan.server.sync DEBUG [0m Deleting event 27
04:58:55.291 gohan.db.sql INFO [0m Executing SQL query in transaction 'b20d381d-6d75-4f6a-9de0-7b0a2222aa0c': 'DELETE FROM `events` WHERE id = 27'
[36m04:58:55.292 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.350 gohan.server.sync DEBUG [0m Processing event 28 - create
04:58:55.350 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_interface_monitoring
[36m04:58:55.351 gohan.server.sync DEBUG [0m Deleting event 28
04:58:55.352 gohan.db.sql INFO [0m Executing SQL query in transaction '83eeebd2-5221-40f1-b95b-9db20296899f': 'DELETE FROM `events` WHERE id = 28'
[36m04:58:55.354 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:58:55.361 gohan.server INFO [0m New job for cron://cron_purge_billing_resources / 00 02 * * * *
[36m04:58:55.369 gohan.server.sync DEBUG [0m Processing event 29 - create
04:58:55.369 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_monitoring
[36m04:58:55.370 gohan.server.sync DEBUG [0m Deleting event 29
04:58:55.372 gohan.db.sql INFO [0m Executing SQL query in transaction 'c256699d-82e0-4c55-9ee1-5943237c21cc': 'DELETE FROM `events` WHERE id = 29'
[36m04:58:55.374 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.385 gohan.server.sync DEBUG [0m Processing event 30 - create
04:58:55.385 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_interface_monitoring
[36m04:58:55.386 gohan.server.sync DEBUG [0m Deleting event 30
04:58:55.389 gohan.db.sql INFO [0m Executing SQL query in transaction '266df9ae-dc63-4c58-a88d-be52ed7d5e3d': 'DELETE FROM `events` WHERE id = 30'
[36m04:58:55.390 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.404 gohan.server.sync DEBUG [0m Processing event 31 - create
04:58:55.404 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_gateway_monitoring
[36m04:58:55.412 gohan.server.sync DEBUG [0m Deleting event 31
04:58:55.413 gohan.db.sql INFO [0m Executing SQL query in transaction '1d43fd13-a80a-4161-a649-763b8ac8d038': 'DELETE FROM `events` WHERE id = 31'
[36m04:58:55.413 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.434 gohan.server.sync DEBUG [0m Processing event 32 - create
04:58:55.434 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_interface_monitoring
[36m04:58:55.438 gohan.server.sync DEBUG [0m Deleting event 32
04:58:55.439 gohan.db.sql INFO [0m Executing SQL query in transaction 'fa289f45-e0e0-406a-a373-61189f0949ab': 'DELETE FROM `events` WHERE id = 32'
[36m04:58:55.439 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.457 gohan.server.sync DEBUG [0m Processing event 33 - create
04:58:55.457 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/internet_gateway
[36m04:58:55.463 gohan.server.sync DEBUG [0m Deleting event 33
04:58:55.464 gohan.db.sql INFO [0m Executing SQL query in transaction '7d777225-5d8e-46ae-b068-345dfa7ac665': 'DELETE FROM `events` WHERE id = 33'
[36m04:58:55.464 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.474 gohan.server.sync DEBUG [0m Processing event 34 - create
04:58:55.474 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_internet
[36m04:58:55.476 gohan.server.sync DEBUG [0m Deleting event 34
04:58:55.478 gohan.db.sql INFO [0m Executing SQL query in transaction '35e9d953-46af-450e-a561-9667ea40612e': 'DELETE FROM `events` WHERE id = 34'
[36m04:58:55.478 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.488 gohan.server.sync DEBUG [0m Processing event 35 - create
04:58:55.488 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_internet
[36m04:58:55.491 gohan.server.sync DEBUG [0m Deleting event 35
04:58:55.493 gohan.db.sql INFO [0m Executing SQL query in transaction '4d518f10-1fd4-4508-a41f-0a1c42e859a3': 'DELETE FROM `events` WHERE id = 35'
[36m04:58:55.493 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.514 gohan.server.sync DEBUG [0m Processing event 36 - create
04:58:55.514 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_internet
[36m04:58:55.518 gohan.server.sync DEBUG [0m Deleting event 36
04:58:55.519 gohan.db.sql INFO [0m Executing SQL query in transaction '02466dbb-ebdb-4d47-b171-8bccf6ce5180': 'DELETE FROM `events` WHERE id = 36'
[36m04:58:55.520 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.538 gohan.server.sync DEBUG [0m Processing event 37 - create
04:58:55.538 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/public_ip
[36m04:58:55.540 gohan.server.sync DEBUG [0m Deleting event 37
04:58:55.542 gohan.db.sql INFO [0m Executing SQL query in transaction '0cee7bfd-76aa-4543-bec9-6e63c8c622af': 'DELETE FROM `events` WHERE id = 37'
[36m04:58:55.542 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.552 gohan.server.sync DEBUG [0m Processing event 38 - create
04:58:55.552 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_vpn
[36m04:58:55.555 gohan.server.sync DEBUG [0m Deleting event 38
04:58:55.556 gohan.db.sql INFO [0m Executing SQL query in transaction 'a7b27452-2c5d-425b-b62c-957e52d23ba6': 'DELETE FROM `events` WHERE id = 38'
[36m04:58:55.557 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.571 gohan.server.sync DEBUG [0m Processing event 39 - create
04:58:55.571 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_gateway
[36m04:58:55.576 gohan.server.sync DEBUG [0m Deleting event 39
04:58:55.577 gohan.db.sql INFO [0m Executing SQL query in transaction '374be898-9bed-4217-b5d2-c39ac788aa66': 'DELETE FROM `events` WHERE id = 39'
[36m04:58:55.577 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.591 gohan.server.sync DEBUG [0m Processing event 40 - create
04:58:55.591 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_vpn
[36m04:58:55.595 gohan.server.sync DEBUG [0m Deleting event 40
04:58:55.597 gohan.db.sql INFO [0m Executing SQL query in transaction 'd6603790-49a9-4fa8-9590-72bd5e824143': 'DELETE FROM `events` WHERE id = 40'
[36m04:58:55.597 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.614 gohan.server.sync DEBUG [0m Processing event 41 - create
04:58:55.614 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_vpn
[36m04:58:55.616 gohan.server.sync DEBUG [0m Deleting event 41
04:58:55.617 gohan.db.sql INFO [0m Executing SQL query in transaction 'b89dc89b-50e4-484e-affd-e5b1d99e8f39': 'DELETE FROM `events` WHERE id = 41'
[36m04:58:55.619 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.632 gohan.server.sync DEBUG [0m Processing event 42 - create
04:58:55.632 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_interface
[36m04:58:55.636 gohan.server.sync DEBUG [0m Deleting event 42
04:58:55.637 gohan.db.sql INFO [0m Executing SQL query in transaction '5abbccd3-e24c-4a0b-93a0-fa08cb0c18b7': 'DELETE FROM `events` WHERE id = 42'
[36m04:58:55.638 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.651 gohan.server.sync DEBUG [0m Processing event 43 - create
04:58:55.651 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_aws
[36m04:58:55.654 gohan.server.sync DEBUG [0m Deleting event 43
04:58:55.656 gohan.db.sql INFO [0m Executing SQL query in transaction 'd3a61bcd-7b11-48eb-8736-e44797798657': 'DELETE FROM `events` WHERE id = 43'
[36m04:58:55.656 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.671 gohan.server.sync DEBUG [0m Processing event 44 - create
04:58:55.671 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_gateway
[36m04:58:55.674 gohan.server.sync DEBUG [0m Deleting event 44
04:58:55.676 gohan.db.sql INFO [0m Executing SQL query in transaction '10708b85-1173-4bbf-9f8b-75cf8ae1b5f2': 'DELETE FROM `events` WHERE id = 44'
[36m04:58:55.677 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.694 gohan.server.sync DEBUG [0m Processing event 45 - create
04:58:55.694 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_aws
[36m04:58:55.697 gohan.server.sync DEBUG [0m Deleting event 45
04:58:55.700 gohan.db.sql INFO [0m Executing SQL query in transaction '8e403f16-ce93-444a-b3c1-c99d8e0a0e17': 'DELETE FROM `events` WHERE id = 45'
[36m04:58:55.700 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.729 gohan.server.sync DEBUG [0m Processing event 46 - create
04:58:55.729 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_aws
[36m04:58:55.740 gohan.server.sync DEBUG [0m Deleting event 46
04:58:55.741 gohan.db.sql INFO [0m Executing SQL query in transaction 'ddfadf9f-17fe-4ca4-b60c-2206fd31172f': 'DELETE FROM `events` WHERE id = 46'
[36m04:58:55.741 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.759 gohan.server.sync DEBUG [0m Processing event 47 - create
04:58:55.759 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_interface
[36m04:58:55.764 gohan.server.sync DEBUG [0m Deleting event 47
04:58:55.766 gohan.db.sql INFO [0m Executing SQL query in transaction '76410210-835b-46f3-8647-b370076f158a': 'DELETE FROM `events` WHERE id = 47'
[36m04:58:55.766 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.778 gohan.server.sync DEBUG [0m Processing event 48 - create
04:58:55.779 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function_gateway
[36m04:58:55.785 gohan.server.sync DEBUG [0m Deleting event 48
04:58:55.788 gohan.db.sql INFO [0m Executing SQL query in transaction '1da51cf3-d53b-47bb-8722-2e30b285160d': 'DELETE FROM `events` WHERE id = 48'
[36m04:58:55.789 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.797 gohan.server.sync DEBUG [0m Processing event 49 - create
04:58:55.797 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function
[36m04:58:55.802 gohan.server.sync DEBUG [0m Deleting event 49
04:58:55.804 gohan.db.sql INFO [0m Executing SQL query in transaction '5692a561-3445-4e14-bc03-b6f95e4e8ec2': 'DELETE FROM `events` WHERE id = 49'
[36m04:58:55.804 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.819 gohan.server.sync DEBUG [0m Processing event 50 - create
04:58:55.819 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_interdc
[36m04:58:55.824 gohan.server.sync DEBUG [0m Deleting event 50
04:58:55.826 gohan.db.sql INFO [0m Executing SQL query in transaction '7fa1405a-7313-45ad-94ae-70d72baf296b': 'DELETE FROM `events` WHERE id = 50'
[36m04:58:55.826 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.844 gohan.server.sync DEBUG [0m Processing event 51 - create
04:58:55.844 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_gateway
[36m04:58:55.847 gohan.server.sync DEBUG [0m Deleting event 51
04:58:55.850 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef792d87-b4a0-40ba-b6f4-3753ab2d65f4': 'DELETE FROM `events` WHERE id = 51'
[36m04:58:55.850 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.860 gohan.server.sync DEBUG [0m Processing event 52 - create
04:58:55.860 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_interface
[36m04:58:55.864 gohan.server.sync DEBUG [0m Deleting event 52
04:58:55.866 gohan.db.sql INFO [0m Executing SQL query in transaction '213387fa-6ad2-4675-9886-c4172dfa0321': 'DELETE FROM `events` WHERE id = 52'
[36m04:58:55.867 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.877 gohan.server.sync DEBUG [0m Processing event 53 - create
04:58:55.878 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_interdc
[36m04:58:55.883 gohan.server.sync DEBUG [0m Deleting event 53
04:58:55.884 gohan.db.sql INFO [0m Executing SQL query in transaction '35b0a269-a658-44c6-a24c-9850c3d75c4d': 'DELETE FROM `events` WHERE id = 53'
[36m04:58:55.885 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.900 gohan.server.sync DEBUG [0m Processing event 54 - create
04:58:55.900 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_interdc
[36m04:58:55.902 gohan.server.sync DEBUG [0m Deleting event 54
04:58:55.904 gohan.db.sql INFO [0m Executing SQL query in transaction 'f182de82-46da-4b7a-b147-c84779a391a0': 'DELETE FROM `events` WHERE id = 54'
[36m04:58:55.904 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.923 gohan.server.sync DEBUG [0m Processing event 55 - create
04:58:55.923 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/quotas/default
[36m04:58:55.925 gohan.server.sync DEBUG [0m Deleting event 55
04:58:55.926 gohan.db.sql INFO [0m Executing SQL query in transaction 'f98f2c09-7f99-4358-8256-31edc531d417': 'DELETE FROM `events` WHERE id = 55'
[36m04:58:55.927 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:58:55.938 gohan.server INFO [0m New job for cron://cron_purge_resource_mappings / 00 03 * * * *
[36m04:58:55.939 gohan.server.sync DEBUG [0m Processing event 56 - create
04:58:55.939 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/reserve_addresses/default
[36m04:58:55.941 gohan.server.sync DEBUG [0m Deleting event 56
04:58:55.942 gohan.db.sql INFO [0m Executing SQL query in transaction '64efdfcd-8c1b-4f29-9385-a8e1c5ff7616': 'DELETE FROM `events` WHERE id = 56'
[36m04:58:55.942 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.954 gohan.server.sync DEBUG [0m Processing event 57 - create
04:58:55.954 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vnf_instance
[36m04:58:55.956 gohan.server.sync DEBUG [0m Deleting event 57
04:58:55.957 gohan.db.sql INFO [0m Executing SQL query in transaction '94b7854a-2ac1-4c71-b0da-a7f1d78940a4': 'DELETE FROM `events` WHERE id = 57'
[36m04:58:55.958 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.970 gohan.server.sync DEBUG [0m Processing event 58 - create
04:58:55.970 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_config
[36m04:58:55.972 gohan.server.sync DEBUG [0m Deleting event 58
04:58:55.973 gohan.db.sql INFO [0m Executing SQL query in transaction '4d0ce640-2ef2-4f84-889b-0f12b2c65265': 'DELETE FROM `events` WHERE id = 58'
[36m04:58:55.974 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:55.992 gohan.server.sync DEBUG [0m Processing event 59 - create
04:58:55.992 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_conf
[36m04:58:55.996 gohan.server.sync DEBUG [0m Deleting event 59
04:58:55.997 gohan.db.sql INFO [0m Executing SQL query in transaction 'c6bbb8c1-0200-49bc-8d41-899d182fb10c': 'DELETE FROM `events` WHERE id = 59'
[36m04:58:55.998 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:58:56.007 gohan.server.sync DEBUG [0m Processing event 60 - create
04:58:56.008 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_syslog_server
[36m04:58:56.013 gohan.server.sync DEBUG [0m Deleting event 60
04:58:56.014 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea13888a-89c4-4966-8497-baa02d58b3ab': 'DELETE FROM `events` WHERE id = 60'
[36m04:58:56.015 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:58:57.121 gohan.server INFO [0m New job for cron://cron_delete_tenant / 0 */10 * * * *
04:58:57.560 gohan.server INFO [0m New job for cron://tenant_connection_create_cron / */30 * * * * *
04:58:58.278 gohan.server INFO [0m New job for cron://tenant_connection_delete_cron / */30 * * * * *
[36m04:58:59.743 gohan.server DEBUG [0m State Watcher starts watch
[31m04:58:59.743 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/state) [70]
[31m04:58:59.743 gohan.server ERROR [0m sync watch error: 100: Key not found (/state) [70]
[36m04:58:59.757 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:58:59.757 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [70]
[31m04:58:59.757 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [70]
04:59:00.001 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:59:00.008 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:59:00.214 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:59:00.216 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:59:00.220 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:59:00.312 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:59:00.314 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:59:00.315 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:59:01.532 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.20:48114 data: 
[36m04:59:01.532 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*]]
[36m04:59:01.532 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:01.881 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:59:01.897 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:59:01.916 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[68] Content-Length:[336182] Content-Type:[application/json]]
[36m04:59:01.917 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:59:01.917 gohan.server.middleware INFO [0m Completed 200 OK in 385.294686ms
04:59:02.016 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.20:48122 data: 
[36m04:59:02.017 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive]]
[36m04:59:02.017 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:02.109 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:59:02.132 gohan.server.resources DEBUG [0m List schema query: map[] completed
04:59:02.136 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.20:48128 data: 
[36m04:59:02.136 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive]]
[36m04:59:02.137 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:02.164 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[68] Content-Length:[336182]]
[36m04:59:02.164 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:59:02.165 gohan.server.middleware INFO [0m Completed 200 OK in 148.142084ms
[36m04:59:02.236 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:59:02.270 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:59:02.293 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[68] Content-Length:[336182] Content-Type:[application/json]]
[36m04:59:02.293 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:59:02.293 gohan.server.middleware INFO [0m Completed 200 OK in 156.78137ms
[36m04:59:04.743 gohan.server DEBUG [0m State Watcher starts watch
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state map[]
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state/v2.0 map[]
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas map[]
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas/default map[error: state:map[worker_state:READ_COMPLETE] version:1]
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses map[]
[36m04:59:04.745 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses/default map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m04:59:04.745 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses/default'
[33m04:59:04.745 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '//state'
[33m04:59:04.745 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0'
[33m04:59:04.745 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas'
[33m04:59:04.745 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas/default'
[33m04:59:04.746 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses'
[36m04:59:04.758 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:04.758 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [83]
[31m04:59:04.758 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [83]
04:59:05.128 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.20:48142 data: 
[36m04:59:05.129 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1]]
[36m04:59:05.129 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:05.207 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:59:05.228 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:59:05.249 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[68] Content-Length:[336182]]
[36m04:59:05.249 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:59:05.250 gohan.server.middleware INFO [0m Completed 200 OK in 121.125059ms
[36m04:59:09.759 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:09.759 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [84]
[31m04:59:09.760 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [84]
[36m04:59:14.760 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:14.760 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [85]
[31m04:59:14.761 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [85]
04:59:18.571 gohan.server.middleware INFO [0m Started POST /v2.0/ese_devices for client 172.17.0.21:58938 data: 
{
"ese_device": {
"username": "esi",
"password": "password",
"public_ip_address": "10.161.0.34",
"hostname": "QFX-NW02",
"name": "QFX-NW02",
"management_ip_address": "10.161.0.34",
"type": "tor",
"existing": "existing",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:18.572 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[272] Content-Type:[application/json]]
[36m04:59:18.572 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_device": {
"username": "esi",
"password": "password",
"public_ip_address": "10.161.0.34",
"hostname": "QFX-NW02",
"name": "QFX-NW02",
"management_ip_address": "10.161.0.34",
"type": "tor",
"existing": "existing",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:18.675 gohan.server.resources DEBUG [0m Create ese_device with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f username:esi public_ip_address:10.161.0.34 name:QFX-NW02 type:tor existing:existing password:password hostname:QFX-NW02 management_ip_address:10.161.0.34] started
[36m04:59:18.675 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:59:18.692 gohan.db.sql INFO [0m Executing SQL query in transaction '696657d8-b2c3-4764-8209-a9407a46d225': 'INSERT INTO `tenants` (`id`,`status`,`end_time`,`delete_retries`) VALUES (0b576f6f4cbf414f829cd12f008bf08f,active,,0)'
04:59:18.693 gohan.db.sql INFO [0m Executing SQL query in transaction '696657d8-b2c3-4764-8209-a9407a46d225': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f,1494478758,create,false,"{\"delete_retries\":0,\"end_time\":\"\",\"id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"status\":\"active\"}")'
04:59:18.695 gohan.db.sql INFO [0m Executing SQL query in transaction '696657d8-b2c3-4764-8209-a9407a46d225': 'INSERT INTO `ese_devices` (`existing`,`id`,`username`,`tenant_id`,`hostname`,`name`,`status`,`public_ip_address`,`password`,`management_ip_address`,`tags`,`description`,`type`) VALUES (existing,5314fffc-6c86-4410-a64b-5386286ac629,esi,0b576f6f4cbf414f829cd12f008bf08f,QFX-NW02,QFX-NW02,PENDING_CREATE,10.161.0.34,password,10.161.0.34,{},,tor)'
04:59:18.696 gohan.db.sql INFO [0m Executing SQL query in transaction '696657d8-b2c3-4764-8209-a9407a46d225': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"description\":\"\",\"existing\":\"existing\",\"hostname\":\"QFX-NW02\",\"id\":\"5314fffc-6c86-4410-a64b-5386286ac629\",\"management_ip_address\":\"10.161.0.34\",\"name\":\"QFX-NW02\",\"password\":\"password\",\"public_ip_address\":\"10.161.0.34\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"tor\",\"username\":\"esi\"}",1,/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629,1494478758,create)'
[36m04:59:18.741 gohan.server.sync DEBUG [0m Processing event 61 - create
04:59:18.741 gohan.server.sync INFO [0m Setting config with version 1 to /config//common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f
[36m04:59:18.778 gohan.server.resources DEBUG [0m Create ese_device completed: map[ese_device:map[public_ip_address:10.161.0.34 name:QFX-NW02 tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] status:PENDING_CREATE username:esi hostname:QFX-NW02 management_ip_address:10.161.0.34 type:tor existing:existing id:5314fffc-6c86-4410-a64b-5386286ac629 description: password:password]]
[36m04:59:18.778 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[432]]
[36m04:59:18.778 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "tor",
    "username": "esi"
  }
}
04:59:18.778 gohan.server.middleware INFO [0m Completed 201 Created in 206.885964ms
[36m04:59:18.791 gohan.server.sync DEBUG [0m Deleting event 61
04:59:18.793 gohan.db.sql INFO [0m Executing SQL query in transaction '4039578b-d28a-4cfa-a0d1-80a29e90c6e2': 'DELETE FROM `events` WHERE id = 61'
[36m04:59:18.794 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:18.801 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:58948 data: 
[36m04:59:18.801 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:18.801 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:18.802 gohan.server DEBUG [0m State event update received: set /state/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m04:59:18.802 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f'
[36m04:59:18.804 gohan.server.sync DEBUG [0m Processing event 62 - create
04:59:18.804 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629
[36m04:59:18.812 gohan.server.sync DEBUG [0m Deleting event 62
04:59:18.816 gohan.db.sql INFO [0m Executing SQL query in transaction 'a49fbc42-6c30-40a9-a3fb-c3d4c9d617ff': 'DELETE FROM `events` WHERE id = 62'
[36m04:59:18.817 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:18.936 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:18.939 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: public_ip_address:10.161.0.34 id:5314fffc-6c86-4410-a64b-5386286ac629 status:PENDING_CREATE management_ip_address:10.161.0.34 existing:existing hostname:QFX-NW02 tags:map[] location:<nil> tor_agent_names:<nil> username:esi name:QFX-NW02 password:password flavor:<nil> type:tor tsn_names:<nil>]]
[36m04:59:18.940 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[526]]
[36m04:59:18.940 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:18.940 gohan.server.middleware INFO [0m Completed 200 OK in 138.86126ms
[36m04:59:19.761 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:19.762 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [100]
[31m04:59:19.762 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [100]
04:59:19.954 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:58984 data: 
[36m04:59:19.954 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:19.955 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:20.060 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:20.063 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f public_ip_address:10.161.0.34 location:<nil> status:PENDING_CREATE password:password flavor:<nil> management_ip_address:10.161.0.34 existing:existing id:5314fffc-6c86-4410-a64b-5386286ac629 tor_agent_names:<nil> username:esi hostname:QFX-NW02 name:QFX-NW02 tsn_names:<nil> tags:map[] description: type:tor]]
[36m04:59:20.064 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[526]]
[36m04:59:20.064 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:20.064 gohan.server.middleware INFO [0m Completed 200 OK in 109.671098ms
04:59:21.079 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:58992 data: 
[36m04:59:21.080 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:21.080 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:21.186 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:21.190 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[tsn_names:<nil> name:QFX-NW02 password:password tor_agent_names:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f hostname:QFX-NW02 status:PENDING_CREATE flavor:<nil> type:tor existing:existing id:5314fffc-6c86-4410-a64b-5386286ac629 location:<nil> public_ip_address:10.161.0.34 management_ip_address:10.161.0.34 username:esi description: tags:map[]]]
[36m04:59:21.190 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[526]]
[36m04:59:21.190 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:21.190 gohan.server.middleware INFO [0m Completed 200 OK in 111.150311ms
[36m04:59:21.764 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 map[error: state:map[state_monitoring:{"switch": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": ["default-global-system-config", "QFX-NW02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "physical_router", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "dummy", "description": "The name of the physical router.", "output_key": "name"}]] version:1]
04:59:21.764 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 map[error: state:map[heat_outputs:[{"output_value": ["default-global-system-config", "QFX-NW02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "physical_router", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "dummy", "description": "The name of the physical router.", "output_key": "name"}] state_monitoring:{"switch": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:21.773 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 with index 115
04:59:21.840 gohan.db.sql INFO [0m Executing SQL query in transaction '5c77fc28-2f58-4cb2-9e51-bac85b4faa49': 'UPDATE `ese_devices` SET `type` = tor, `location` = <nil>, `tsn_names` = null, `existing` = existing, `id` = 5314fffc-6c86-4410-a64b-5386286ac629, `tor_agent_names` = null, `username` = esi, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `hostname` = QFX-NW02, `name` = QFX-NW02, `status` = PENDING_CREATE, `public_ip_address` = 10.161.0.34, `password` = password, `flavor` = <nil>, `management_ip_address` = 10.161.0.34, `tags` = {}, `description` = , `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [\"default-global-system-config\", \"QFX-NW02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"physical_router\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"dummy\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","state_monitoring":"{\"switch\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 5314fffc-6c86-4410-a64b-5386286ac629'
04:59:21.842 gohan.extension.ese_device.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:21.842 gohan.extension.ese_device.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"switch": "ACTIVE"}
04:59:21.844 gohan.db.sql INFO [0m Executing SQL query in transaction '5c77fc28-2f58-4cb2-9e51-bac85b4faa49': 'UPDATE `ese_devices` SET `id` = 5314fffc-6c86-4410-a64b-5386286ac629, `tor_agent_names` = null, `username` = esi, `existing` = existing, `hostname` = QFX-NW02, `name` = QFX-NW02, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `public_ip_address` = 10.161.0.34, `password` = password, `flavor` = <nil>, `management_ip_address` = 10.161.0.34, `tags` = {}, `description` = , `status` = ACTIVE, `location` = <nil>, `tsn_names` = null, `type` = tor WHERE id = 5314fffc-6c86-4410-a64b-5386286ac629'
04:59:21.856 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 with index 115
04:59:21.863 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 already unlocked or not locked
04:59:22.206 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:59020 data: 
[36m04:59:22.206 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:59:22.206 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:22.300 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:22.304 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[description: status:ACTIVE flavor:<nil> username:esi name:QFX-NW02 management_ip_address:10.161.0.34 type:tor tsn_names:<nil> existing:existing tor_agent_names:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] location:<nil> id:5314fffc-6c86-4410-a64b-5386286ac629 hostname:QFX-NW02 public_ip_address:10.161.0.34 password:password]]
[36m04:59:22.305 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:59:22.305 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:22.305 gohan.server.middleware INFO [0m Completed 200 OK in 99.344907ms
04:59:22.669 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.21:59030 data: 
[36m04:59:22.669 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:22.670 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:22.773 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:59:22.790 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:59:22.815 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[68] Content-Length:[336182]]
[36m04:59:22.815 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:59:22.815 gohan.server.middleware INFO [0m Completed 200 OK in 146.343049ms
04:59:22.893 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:59036 data: 
[36m04:59:22.894 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:22.894 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:22.995 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:22.998 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[hostname:QFX-NW02 status:ACTIVE flavor:<nil> management_ip_address:10.161.0.34 tor_agent_names:<nil> existing:existing id:5314fffc-6c86-4410-a64b-5386286ac629 type:tor username:esi name:QFX-NW02 tags:map[] public_ip_address:10.161.0.34 tsn_names:<nil> location:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f password:password description:]]
[36m04:59:22.999 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:59:22.999 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:22.999 gohan.server.middleware INFO [0m Completed 200 OK in 105.345128ms
04:59:23.000 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 for client 172.17.0.21:59042 data: {}
[36m04:59:23.000 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m04:59:23.001 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:23.105 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 started
[36m04:59:23.109 gohan.server.resources DEBUG [0m Show ese_device 5314fffc-6c86-4410-a64b-5386286ac629 completed: map[ese_device:map[location:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f username:esi name:QFX-NW02 public_ip_address:10.161.0.34 flavor:<nil> management_ip_address:10.161.0.34 status:ACTIVE tsn_names:<nil> type:tor password:password tags:map[] description: existing:existing hostname:QFX-NW02 id:5314fffc-6c86-4410-a64b-5386286ac629 tor_agent_names:<nil>]]
[36m04:59:23.109 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:59:23.109 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:59:23.109 gohan.server.middleware INFO [0m Completed 200 OK in 109.075958ms
[36m04:59:24.762 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:24.763 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [123]
[31m04:59:24.764 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [123]
04:59:25.362 gohan.server.middleware INFO [0m Started POST /v2.0/ese_physical_ports for client 172.17.0.21:59062 data: 
{
"ese_physical_port": {
"name": "xe-0/0/3",
"ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:25.362 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[218] Content-Type:[application/json]]
[36m04:59:25.362 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_physical_port": {
"name": "xe-0/0/3",
"ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:25.439 gohan.server.resources DEBUG [0m Create ese_physical_port with data map[name:xe-0/0/3 ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 connected_port_id: connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:25.439 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:25.510 gohan.server.resources DEBUG [0m List ese_device query: map[id:[5314fffc-6c86-4410-a64b-5386286ac629]] started
[36m04:59:25.513 gohan.server.resources DEBUG [0m List ese_device query: map[id:[5314fffc-6c86-4410-a64b-5386286ac629]] completed
04:59:25.518 gohan.db.sql INFO [0m Executing SQL query in transaction '78d8c613-fd32-4f75-af18-c43c93cedfb8': 'INSERT INTO `ese_physical_ports` (`connected_port_id`,`id`,`description`,`status`,`tags`,`tenant_id`,`existing`,`ese_device_id`,`connected_port_owner`,`name`) VALUES (,eec156b0-7317-48dd-b76c-019c0758e99d,,PENDING_CREATE,{},0b576f6f4cbf414f829cd12f008bf08f,new,5314fffc-6c86-4410-a64b-5386286ac629,mx_downlink,xe-0/0/3)'
04:59:25.519 gohan.db.sql INFO [0m Executing SQL query in transaction '78d8c613-fd32-4f75-af18-c43c93cedfb8': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"connected_port_id\":\"\",\"connected_port_owner\":\"mx_downlink\",\"description\":\"\",\"ese_device_id\":\"5314fffc-6c86-4410-a64b-5386286ac629\",\"existing\":\"new\",\"id\":\"eec156b0-7317-48dd-b76c-019c0758e99d\",\"name\":\"xe-0/0/3\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d,1494478765,create)'
[36m04:59:25.631 gohan.server.resources DEBUG [0m Create ese_physical_port completed: map[ese_physical_port:map[name:xe-0/0/3 connected_port_id: connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:eec156b0-7317-48dd-b76c-019c0758e99d description: status:PENDING_CREATE ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 tags:map[] existing:new]]
[36m04:59:25.631 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:25.632 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:25.632 gohan.server.middleware INFO [0m Completed 201 Created in 269.690784ms
[36m04:59:25.634 gohan.server.sync DEBUG [0m Processing event 63 - create
04:59:25.634 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d
04:59:25.643 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59072 data: 
[36m04:59:25.643 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:25.643 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:25.644 gohan.server.sync DEBUG [0m Deleting event 63
04:59:25.654 gohan.db.sql INFO [0m Executing SQL query in transaction '503e9767-395e-4958-a9e4-71069ab7e916': 'DELETE FROM `events` WHERE id = 63'
[36m04:59:25.655 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:25.743 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:25.747 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[connected_port_owner:mx_downlink name:xe-0/0/3 status:PENDING_CREATE id:eec156b0-7317-48dd-b76c-019c0758e99d existing:new ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 description: tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_id:]]
[36m04:59:25.747 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:25.747 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:25.747 gohan.server.middleware INFO [0m Completed 200 OK in 104.005307ms
04:59:26.764 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59098 data: 
[36m04:59:26.764 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:26.764 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:26.853 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:26.856 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[connected_port_id: id:eec156b0-7317-48dd-b76c-019c0758e99d connected_port_owner:mx_downlink name:xe-0/0/3 tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 existing:new status:PENDING_CREATE]]
[36m04:59:26.856 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:26.856 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:26.856 gohan.server.middleware INFO [0m Completed 200 OK in 92.697097ms
04:59:27.871 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59104 data: 
[36m04:59:27.871 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:59:27.871 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:27.981 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:27.984 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[connected_port_id: id:eec156b0-7317-48dd-b76c-019c0758e99d existing:new connected_port_owner:mx_downlink name:xe-0/0/3 description: tenant_id:0b576f6f4cbf414f829cd12f008bf08f ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 status:PENDING_CREATE tags:map[]]]
[36m04:59:27.985 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:27.985 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:27.985 gohan.server.middleware INFO [0m Completed 200 OK in 114.470759ms
[36m04:59:28.158 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d map[error: state:map[heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:59:28.159 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d map[error: state:map[state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}]] version:1] started
04:59:28.165 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d with index 149
04:59:28.235 gohan.db.sql INFO [0m Executing SQL query in transaction '01d16bf1-2265-4d9b-8c58-d0edfb717434': 'UPDATE `ese_physical_ports` SET `status` = PENDING_CREATE, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_id` = , `id` = eec156b0-7317-48dd-b76c-019c0758e99d, `description` = , `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, `name` = xe-0/0/3, `existing` = new, ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = eec156b0-7317-48dd-b76c-019c0758e99d'
04:59:28.237 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:28.237 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:59:28.239 gohan.db.sql INFO [0m Executing SQL query in transaction '01d16bf1-2265-4d9b-8c58-d0edfb717434': 'UPDATE `ese_physical_ports` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_id` = , `id` = eec156b0-7317-48dd-b76c-019c0758e99d, `description` = , `status` = ACTIVE, `tags` = {}, `name` = xe-0/0/3, `existing` = new, `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629 WHERE id = eec156b0-7317-48dd-b76c-019c0758e99d'
04:59:28.259 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d with index 149
04:59:28.270 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d already unlocked or not locked
04:59:28.998 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59128 data: 
[36m04:59:28.998 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:28.998 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:29.087 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:29.090 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[name:xe-0/0/3 existing:new ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_id: connected_port_owner:mx_downlink id:eec156b0-7317-48dd-b76c-019c0758e99d description: status:ACTIVE tags:map[]]]
[36m04:59:29.090 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:29.090 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:29.090 gohan.server.middleware INFO [0m Completed 200 OK in 92.325938ms
04:59:29.498 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59136 data: 
[36m04:59:29.498 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:29.498 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:29.565 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:29.568 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[tags:map[] status:ACTIVE existing:new ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_id: id:eec156b0-7317-48dd-b76c-019c0758e99d description: connected_port_owner:mx_downlink name:xe-0/0/3]]
[36m04:59:29.569 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:29.569 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:29.569 gohan.server.middleware INFO [0m Completed 200 OK in 70.516151ms
04:59:29.570 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d for client 172.17.0.21:59142 data: {}
[36m04:59:29.570 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:29.570 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:29.643 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d started
[36m04:59:29.645 gohan.server.resources DEBUG [0m Show ese_physical_port eec156b0-7317-48dd-b76c-019c0758e99d completed: map[ese_physical_port:map[connected_port_id: description: existing:new ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 connected_port_owner:mx_downlink id:eec156b0-7317-48dd-b76c-019c0758e99d status:ACTIVE tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:xe-0/0/3]]
[36m04:59:29.646 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:29.646 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:29.646 gohan.server.middleware INFO [0m Completed 200 OK in 76.277832ms
[36m04:59:29.764 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:29.765 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [157]
[31m04:59:29.765 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [157]
04:59:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:59:30.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:59:30.189 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:59:30.192 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:59:30.194 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:59:30.230 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:59:30.232 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:59:30.234 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:59:31.571 gohan.server.middleware INFO [0m Started POST /v2.0/ese_physical_ports for client 172.17.0.21:59172 data: 
{
"ese_physical_port": {
"name": "xe-0/0/4",
"ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:31.571 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[218] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:31.571 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_physical_port": {
"name": "xe-0/0/4",
"ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:31.645 gohan.server.resources DEBUG [0m Create ese_physical_port with data map[name:xe-0/0/4 ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 connected_port_id: connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:31.645 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:31.717 gohan.server.resources DEBUG [0m List ese_device query: map[id:[5314fffc-6c86-4410-a64b-5386286ac629]] started
[36m04:59:31.718 gohan.server.resources DEBUG [0m List ese_device query: map[id:[5314fffc-6c86-4410-a64b-5386286ac629]] completed
04:59:31.730 gohan.db.sql INFO [0m Executing SQL query in transaction '6a14dd4e-fb0c-4c3a-b8ee-b76a8427fe2e': 'INSERT INTO `ese_physical_ports` (`description`,`status`,`tags`,`tenant_id`,`connected_port_id`,`id`,`existing`,`ese_device_id`,`connected_port_owner`,`name`) VALUES (,PENDING_CREATE,{},0b576f6f4cbf414f829cd12f008bf08f,,176ec475-e9e8-4605-8b41-802fbc6220c1,new,5314fffc-6c86-4410-a64b-5386286ac629,mx_downlink,xe-0/0/4)'
04:59:31.730 gohan.db.sql INFO [0m Executing SQL query in transaction '6a14dd4e-fb0c-4c3a-b8ee-b76a8427fe2e': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1,1494478771,create,false,"{\"connected_port_id\":\"\",\"connected_port_owner\":\"mx_downlink\",\"description\":\"\",\"ese_device_id\":\"5314fffc-6c86-4410-a64b-5386286ac629\",\"existing\":\"new\",\"id\":\"176ec475-e9e8-4605-8b41-802fbc6220c1\",\"name\":\"xe-0/0/4\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}")'
[36m04:59:31.739 gohan.server.sync DEBUG [0m Processing event 64 - create
04:59:31.739 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1
[36m04:59:31.740 gohan.server.resources DEBUG [0m Create ese_physical_port completed: map[ese_physical_port:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: connected_port_id: connected_port_owner:mx_downlink id:176ec475-e9e8-4605-8b41-802fbc6220c1 existing:new status:PENDING_CREATE tags:map[] name:xe-0/0/4 ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629]]
[36m04:59:31.743 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:31.744 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:31.744 gohan.server.middleware INFO [0m Completed 201 Created in 172.944472ms
[36m04:59:31.747 gohan.server.sync DEBUG [0m Deleting event 64
04:59:31.750 gohan.db.sql INFO [0m Executing SQL query in transaction 'efd1a3bf-7777-4d24-80bc-e6c7b5dece7d': 'DELETE FROM `events` WHERE id = 64'
[36m04:59:31.751 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:31.755 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59184 data: 
[36m04:59:31.755 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:31.755 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:31.872 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:31.874 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 name:xe-0/0/4 tags:map[] description: status:PENDING_CREATE connected_port_id: existing:new connected_port_owner:mx_downlink id:176ec475-e9e8-4605-8b41-802fbc6220c1]]
[36m04:59:31.874 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:31.874 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:31.874 gohan.server.middleware INFO [0m Completed 200 OK in 119.679352ms
04:59:32.886 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59202 data: 
[36m04:59:32.886 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:59:32.886 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:32.965 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:32.967 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[connected_port_owner:mx_downlink description: status:PENDING_CREATE tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_id: id:176ec475-e9e8-4605-8b41-802fbc6220c1 ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 name:xe-0/0/4 existing:new]]
[36m04:59:32.967 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:32.968 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:32.968 gohan.server.middleware INFO [0m Completed 200 OK in 81.779168ms
04:59:33.978 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59214 data: 
[36m04:59:33.979 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:33.979 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:34.042 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 map[state:map[heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:]
04:59:34.043 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 map[error: state:map[heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:34.048 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 with index 190
[36m04:59:34.081 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:34.088 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[description: existing:new connected_port_owner:mx_downlink connected_port_id: id:176ec475-e9e8-4605-8b41-802fbc6220c1 ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 name:xe-0/0/4 status:PENDING_CREATE tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:59:34.088 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:59:34.088 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:34.088 gohan.server.middleware INFO [0m Completed 200 OK in 109.948923ms
04:59:34.133 gohan.db.sql INFO [0m Executing SQL query in transaction '55bb3819-1d87-4b71-9932-1c77363c7377': 'UPDATE `ese_physical_ports` SET `connected_port_id` = , `id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `description` = , `status` = PENDING_CREATE, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `existing` = new, `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, `name` = xe-0/0/4, ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 176ec475-e9e8-4605-8b41-802fbc6220c1'
04:59:34.134 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:34.135 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:59:34.137 gohan.db.sql INFO [0m Executing SQL query in transaction '55bb3819-1d87-4b71-9932-1c77363c7377': 'UPDATE `ese_physical_ports` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_id` = , `id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `description` = , `status` = ACTIVE, `tags` = {}, `name` = xe-0/0/4, `existing` = new, `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629 WHERE id = 176ec475-e9e8-4605-8b41-802fbc6220c1'
04:59:34.159 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 with index 190
04:59:34.166 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 already unlocked or not locked
[36m04:59:34.765 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:34.766 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [198]
[31m04:59:34.766 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [198]
04:59:35.099 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59232 data: 
[36m04:59:35.100 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:35.100 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:35.176 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:35.179 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[existing:new name:xe-0/0/4 tags:map[] connected_port_id: ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 connected_port_owner:mx_downlink description: status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:176ec475-e9e8-4605-8b41-802fbc6220c1]]
[36m04:59:35.179 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:35.179 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:35.179 gohan.server.middleware INFO [0m Completed 200 OK in 79.833232ms
04:59:35.551 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59240 data: 
[36m04:59:35.551 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:35.551 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:35.634 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:35.637 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[status:ACTIVE tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: connected_port_owner:mx_downlink name:xe-0/0/4 existing:new ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 connected_port_id: id:176ec475-e9e8-4605-8b41-802fbc6220c1]]
[36m04:59:35.637 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:35.637 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:35.637 gohan.server.middleware INFO [0m Completed 200 OK in 86.312412ms
04:59:35.638 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 for client 172.17.0.21:59246 data: {}
[36m04:59:35.638 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:35.638 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:35.730 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 started
[36m04:59:35.733 gohan.server.resources DEBUG [0m Show ese_physical_port 176ec475-e9e8-4605-8b41-802fbc6220c1 completed: map[ese_physical_port:map[ese_device_id:5314fffc-6c86-4410-a64b-5386286ac629 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_id: connected_port_owner:mx_downlink name:xe-0/0/4 existing:new tags:map[] id:176ec475-e9e8-4605-8b41-802fbc6220c1 description:]]
[36m04:59:35.734 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:59:35.734 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "5314fffc-6c86-4410-a64b-5386286ac629",
    "existing": "new",
    "id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:35.734 gohan.server.middleware INFO [0m Completed 200 OK in 95.542828ms
04:59:37.852 gohan.server.middleware INFO [0m Started POST /v2.0/edge_routers for client 172.17.0.21:59266 data: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #2",
"ip": "10.79.5.185",
"name": "vMX-router-02",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:37.853 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[232] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:37.853 gohan.server.middleware DEBUG [0m Request body: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #2",
"ip": "10.79.5.185",
"name": "vMX-router-02",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:37.925 gohan.server.resources DEBUG [0m Create edge_router with data map[login:esi password:esiesi0000 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101 description:MX80 #2 ip:10.79.5.185 name:vMX-router-02] started
[36m04:59:37.925 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:59:37.931 gohan.db.sql INFO [0m Executing SQL query in transaction '2fa15055-7242-4055-81e6-0127d933655b': 'INSERT INTO `edge_routers` (`ip`,`status`,`tenant_id`,`description`,`ssh_port`,`login`,`autonomous_system`,`password`,`name`,`id`) VALUES (10.79.5.185,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,MX80 #2,830,esi,65101,esiesi0000,vMX-router-02,792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198)'
04:59:37.932 gohan.db.sql INFO [0m Executing SQL query in transaction '2fa15055-7242-4055-81e6-0127d933655b': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"autonomous_system\":\"65101\",\"description\":\"MX80 #2\",\"id\":\"792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198\",\"ip\":\"10.79.5.185\",\"login\":\"esi\",\"name\":\"vMX-router-02\",\"password\":\"esiesi0000\",\"ssh_port\":830,\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198,1494478777,create,false)'
[36m04:59:37.945 gohan.server.resources DEBUG [0m Create edge_router completed: map[edge_router:map[autonomous_system:65101 description:MX80 #2 login:esi password:esiesi0000 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE ip:10.79.5.185 name:vMX-router-02 id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]]
[36m04:59:37.945 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[349] Content-Type:[application/json]]
[36m04:59:37.945 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:37.945 gohan.server.middleware INFO [0m Completed 201 Created in 92.697198ms
[36m04:59:37.954 gohan.server.sync DEBUG [0m Processing event 65 - create
04:59:37.954 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198
04:59:37.960 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 for client 172.17.0.21:59274 data: 
[36m04:59:37.960 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:37.960 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:37.960 gohan.server.sync DEBUG [0m Deleting event 65
04:59:37.962 gohan.db.sql INFO [0m Executing SQL query in transaction 'f00b70f5-b351-4a83-b1d3-563abc270dbe': 'DELETE FROM `events` WHERE id = 65'
[36m04:59:37.962 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:38.090 gohan.server DEBUG [0m State event update received: set /state/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 map[error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:59:38.091 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 map[error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:38.135 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 with index 211
04:59:38.937 gohan.db.sql INFO [0m Executing SQL query in transaction 'cdb1d200-eb45-4990-b4ba-91756cbae466': 'UPDATE `edge_routers` SET `login` = esi, `autonomous_system` = 65101, `password` = esiesi0000, `name` = vMX-router-02, `id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `ip` = 10.79.5.185, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = MX80 #2, `ssh_port` = 830, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198'
04:59:38.938 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:38.938 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:59:38.939 gohan.db.sql INFO [0m Executing SQL query in transaction 'cdb1d200-eb45-4990-b4ba-91756cbae466': 'UPDATE `edge_routers` SET `description` = MX80 #2, `ssh_port` = 830, `ip` = 10.79.5.185, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = vMX-router-02, `id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `login` = esi, `autonomous_system` = 65101, `password` = esiesi0000 WHERE id = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198'
[36m04:59:38.949 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 started
[36m04:59:38.951 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 completed: map[edge_router:map[password:esiesi0000 name:vMX-router-02 description:MX80 #2 ssh_port:830 login:esi id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 ip:10.79.5.185 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101]]
[36m04:59:38.952 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:59:38.952 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:38.952 gohan.server.middleware INFO [0m Completed 200 OK in 992.286332ms
04:59:38.954 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 with index 211
04:59:38.963 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 already unlocked or not locked
04:59:39.299 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 for client 172.17.0.21:59298 data: 
[36m04:59:39.299 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:39.299 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:39.369 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 started
[36m04:59:39.371 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 completed: map[edge_router:map[ip:10.79.5.185 password:esiesi0000 login:esi ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:MX80 #2 autonomous_system:65101 name:vMX-router-02 id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 status:ACTIVE]]
[36m04:59:39.371 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[341] Content-Type:[application/json]]
[36m04:59:39.371 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:39.371 gohan.server.middleware INFO [0m Completed 200 OK in 72.056139ms
04:59:39.372 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 for client 172.17.0.21:59304 data: {}
[36m04:59:39.372 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:39.373 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:39.437 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 started
[36m04:59:39.439 gohan.server.resources DEBUG [0m Show edge_router 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 completed: map[edge_router:map[status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101 description:MX80 #2 login:esi password:esiesi0000 ssh_port:830 ip:10.79.5.185 name:vMX-router-02 id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]]
[36m04:59:39.439 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:59:39.439 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:39.439 gohan.server.middleware INFO [0m Completed 200 OK in 66.925665ms
04:59:39.459 gohan.server.middleware INFO [0m Started POST /v2.0/edge_routers for client 172.17.0.21:59310 data: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #1",
"ip": "10.79.5.184",
"name": "vMX-router-01",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:39.459 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[232] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:39.459 gohan.server.middleware DEBUG [0m Request body: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #1",
"ip": "10.79.5.184",
"name": "vMX-router-01",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:39.524 gohan.server.resources DEBUG [0m Create edge_router with data map[autonomous_system:65101 description:MX80 #1 ip:10.79.5.184 name:vMX-router-01 login:esi password:esiesi0000 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:39.524 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:59:39.530 gohan.db.sql INFO [0m Executing SQL query in transaction '218c4d27-fd82-48a9-85f6-2a7c63da8262': 'INSERT INTO `edge_routers` (`ssh_port`,`ip`,`status`,`tenant_id`,`description`,`id`,`login`,`autonomous_system`,`password`,`name`) VALUES (830,10.79.5.184,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,MX80 #1,3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e,esi,65101,esiesi0000,vMX-router-01)'
04:59:39.531 gohan.db.sql INFO [0m Executing SQL query in transaction '218c4d27-fd82-48a9-85f6-2a7c63da8262': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e,1494478779,create,false,"{\"autonomous_system\":\"65101\",\"description\":\"MX80 #1\",\"id\":\"3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e\",\"ip\":\"10.79.5.184\",\"login\":\"esi\",\"name\":\"vMX-router-01\",\"password\":\"esiesi0000\",\"ssh_port\":830,\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:59:39.545 gohan.server.resources DEBUG [0m Create edge_router completed: map[edge_router:map[ssh_port:830 id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e status:PENDING_CREATE autonomous_system:65101 name:vMX-router-01 login:esi password:esiesi0000 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:MX80 #1 ip:10.79.5.184]]
[36m04:59:39.546 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[349]]
[36m04:59:39.546 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:39.546 gohan.server.middleware INFO [0m Completed 201 Created in 87.498535ms
[36m04:59:39.553 gohan.server.sync DEBUG [0m Processing event 66 - create
04:59:39.553 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e
[36m04:59:39.564 gohan.server.sync DEBUG [0m Deleting event 66
04:59:39.565 gohan.db.sql INFO [0m Executing SQL query in transaction 'e7af5435-7f6c-4bca-9c9d-96873eb91937': 'DELETE FROM `events` WHERE id = 66'
[36m04:59:39.565 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:39.568 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e for client 172.17.0.21:59318 data: 
[36m04:59:39.568 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:39.568 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:39.656 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e started
[36m04:59:39.658 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e completed: map[edge_router:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101 password:esiesi0000 name:vMX-router-01 id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e ssh_port:830 login:esi ip:10.79.5.184 status:PENDING_CREATE description:MX80 #1]]
[36m04:59:39.658 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[349]]
[36m04:59:39.658 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:39.658 gohan.server.middleware INFO [0m Completed 200 OK in 90.224447ms
[36m04:59:39.667 gohan.server DEBUG [0m State event update received: set /state/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e map[version:1 error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:59:39.667 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e map[version:1 error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
04:59:39.677 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e with index 231
04:59:39.747 gohan.db.sql INFO [0m Executing SQL query in transaction 'aa0ba6c5-2fc8-459f-b5f9-da2f93dccf27': 'UPDATE `edge_routers` SET `id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `login` = esi, `autonomous_system` = 65101, `password` = esiesi0000, `name` = vMX-router-01, `ssh_port` = 830, `ip` = 10.79.5.184, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = MX80 #1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e'
04:59:39.748 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:39.748 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:59:39.749 gohan.db.sql INFO [0m Executing SQL query in transaction 'aa0ba6c5-2fc8-459f-b5f9-da2f93dccf27': 'UPDATE `edge_routers` SET `ip` = 10.79.5.184, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = MX80 #1, `ssh_port` = 830, `login` = esi, `autonomous_system` = 65101, `password` = esiesi0000, `name` = vMX-router-01, `id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e WHERE id = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e'
04:59:39.766 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e with index 231
[36m04:59:39.766 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:39.767 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [239]
[31m04:59:39.767 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [239]
04:59:39.777 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e already unlocked or not locked
04:59:40.671 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e for client 172.17.0.21:59342 data: 
[36m04:59:40.671 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:59:40.671 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:40.751 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e started
[36m04:59:40.754 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e completed: map[edge_router:map[status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f ip:10.79.5.184 password:esiesi0000 login:esi id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e description:MX80 #1 ssh_port:830 autonomous_system:65101 name:vMX-router-01]]
[36m04:59:40.754 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:59:40.754 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:40.754 gohan.server.middleware INFO [0m Completed 200 OK in 83.323618ms
04:59:41.081 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e for client 172.17.0.21:59350 data: 
[36m04:59:41.081 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:41.082 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:41.147 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e started
[36m04:59:41.149 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e completed: map[edge_router:map[ssh_port:830 autonomous_system:65101 name:vMX-router-01 id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:MX80 #1 login:esi password:esiesi0000 ip:10.79.5.184]]
[36m04:59:41.150 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:59:41.150 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:41.150 gohan.server.middleware INFO [0m Completed 200 OK in 68.505205ms
04:59:41.151 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e for client 172.17.0.21:59356 data: {}
[36m04:59:41.151 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:41.151 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:41.214 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e started
[36m04:59:41.217 gohan.server.resources DEBUG [0m Show edge_router 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e completed: map[edge_router:map[status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f login:esi autonomous_system:65101 password:esiesi0000 id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e ip:10.79.5.184 description:MX80 #1 ssh_port:830 name:vMX-router-01]]
[36m04:59:41.217 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:59:41.217 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:41.217 gohan.server.middleware INFO [0m Completed 200 OK in 66.017458ms
04:59:41.237 gohan.server.middleware INFO [0m Started POST /v2.0/ha_routers for client 172.17.0.21:59362 data: 
{
"ha_router": {
"description": "sample_ha_router",
"name": "sample-ha-router",
"primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:41.237 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[256] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:41.238 gohan.server.middleware DEBUG [0m Request body: 
{
"ha_router": {
"description": "sample_ha_router",
"name": "sample-ha-router",
"primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:41.301 gohan.server.resources DEBUG [0m Create ha_router with data map[description:sample_ha_router name:sample-ha-router primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:41.301 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:41.350 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] started
[36m04:59:41.352 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] completed
[36m04:59:41.401 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] started
[36m04:59:41.403 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] completed
04:59:41.407 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea15dd49-ba95-419a-a9aa-bad660cdd221': 'INSERT INTO `ha_routers` (`secondary_router_id`,`maximum_gateways`,`id`,`available_gateways`,`name`,`tenant_id`,`status`,`primary_router_id`,`description`) VALUES (3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e,500,f01ed0a6-7094-4e54-b14b-94657fff1efb,500,sample-ha-router,0b576f6f4cbf414f829cd12f008bf08f,PENDING_CREATE,792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198,sample_ha_router)'
04:59:41.407 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea15dd49-ba95-419a-a9aa-bad660cdd221': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478781,create,false,"{\"available_gateways\":500,\"description\":\"sample_ha_router\",\"id\":\"f01ed0a6-7094-4e54-b14b-94657fff1efb\",\"maximum_gateways\":500,\"name\":\"sample-ha-router\",\"primary_router_id\":\"792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198\",\"secondary_router_id\":\"3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb)'
[36m04:59:41.414 gohan.server.resources DEBUG [0m Create ha_router completed: map[ha_router:map[description:sample_ha_router name:sample-ha-router primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 id:f01ed0a6-7094-4e54-b14b-94657fff1efb available_gateways:500 secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_gateways:500 status:PENDING_CREATE]]
[36m04:59:41.414 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[421] Content-Type:[application/json]]
[36m04:59:41.414 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:41.414 gohan.server.middleware INFO [0m Completed 201 Created in 177.204305ms
[36m04:59:41.416 gohan.server.sync DEBUG [0m Processing event 67 - create
04:59:41.416 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb
04:59:41.424 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb for client 172.17.0.21:59374 data: 
[36m04:59:41.424 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:41.424 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:41.428 gohan.server.sync DEBUG [0m Deleting event 67
04:59:41.429 gohan.db.sql INFO [0m Executing SQL query in transaction 'a65f5844-3963-47b6-85f6-7f3eddd5a056': 'DELETE FROM `events` WHERE id = 67'
[36m04:59:41.429 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:41.507 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb started
[36m04:59:41.514 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb completed: map[ha_router:map[name:sample-ha-router tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_gateways:500 id:f01ed0a6-7094-4e54-b14b-94657fff1efb status:PENDING_CREATE primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 available_gateways:500 secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e description:sample_ha_router]]
[36m04:59:41.514 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[421]]
[36m04:59:41.514 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:41.514 gohan.server.middleware INFO [0m Completed 200 OK in 89.522173ms
[36m04:59:41.550 gohan.server DEBUG [0m State event update received: set /state/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:59:41.550 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:41.561 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb with index 252
04:59:41.617 gohan.db.sql INFO [0m Executing SQL query in transaction 'fdc1b040-8e46-454d-aa8f-3d8bc92f35fd': 'UPDATE `ha_routers` SET `maximum_gateways` = 500, `id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `available_gateways` = 500, `name` = sample-ha-router, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_router_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `status` = PENDING_CREATE, `primary_router_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `description` = sample_ha_router, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"primary\": \"ACTIVE\", \"secondary\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = f01ed0a6-7094-4e54-b14b-94657fff1efb'
04:59:41.618 gohan.extension.ha_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:41.618 gohan.extension.ha_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "ACTIVE", "secondary": "ACTIVE"}
04:59:41.621 gohan.db.sql INFO [0m Executing SQL query in transaction 'fdc1b040-8e46-454d-aa8f-3d8bc92f35fd': 'UPDATE `ha_routers` SET `status` = ACTIVE, `primary_router_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `description` = sample_ha_router, `available_gateways` = 500, `name` = sample-ha-router, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_router_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `maximum_gateways` = 500, `id` = f01ed0a6-7094-4e54-b14b-94657fff1efb WHERE id = f01ed0a6-7094-4e54-b14b-94657fff1efb'
04:59:41.631 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb with index 252
04:59:41.639 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb already unlocked or not locked
04:59:42.526 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb for client 172.17.0.21:59394 data: 
[36m04:59:42.526 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:42.526 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:42.608 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb started
[36m04:59:42.611 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb completed: map[ha_router:map[primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 name:sample-ha-router maximum_gateways:500 status:ACTIVE available_gateways:500 tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e id:f01ed0a6-7094-4e54-b14b-94657fff1efb description:sample_ha_router]]
[36m04:59:42.612 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:59:42.612 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:42.612 gohan.server.middleware INFO [0m Completed 200 OK in 85.866828ms
04:59:43.028 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb for client 172.17.0.21:59402 data: 
[36m04:59:43.028 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:43.029 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:43.111 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb started
[36m04:59:43.114 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb completed: map[ha_router:map[primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 description:sample_ha_router available_gateways:500 secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e id:f01ed0a6-7094-4e54-b14b-94657fff1efb status:ACTIVE name:sample-ha-router tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_gateways:500]]
[36m04:59:43.114 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:59:43.114 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:43.114 gohan.server.middleware INFO [0m Completed 200 OK in 85.867453ms
04:59:43.116 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/f01ed0a6-7094-4e54-b14b-94657fff1efb for client 172.17.0.21:59408 data: {}
[36m04:59:43.116 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:43.116 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:43.201 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb started
[36m04:59:43.204 gohan.server.resources DEBUG [0m Show ha_router f01ed0a6-7094-4e54-b14b-94657fff1efb completed: map[ha_router:map[status:ACTIVE available_gateways:500 maximum_gateways:500 primary_router_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 description:sample_ha_router id:f01ed0a6-7094-4e54-b14b-94657fff1efb name:sample-ha-router tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary_router_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]]
[36m04:59:43.204 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:59:43.204 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "secondary_router_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:43.204 gohan.server.middleware INFO [0m Completed 200 OK in 88.688102ms
04:59:43.229 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.21:59414 data: 
{
"er_physical_interface": {
"device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"name": "ge-0/0/1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:43.229 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[154] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:43.229 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"name": "ge-0/0/1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:43.312 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 name:ge-0/0/1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:43.312 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:43.379 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] started
[36m04:59:43.381 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] completed
04:59:43.387 gohan.db.sql INFO [0m Executing SQL query in transaction '1b76da26-0a92-40cb-bd80-e4ea19c8c3c8': 'INSERT INTO `er_physical_interfaces` (`status`,`tenant_id`,`id`,`name`,`description`,`device_id`) VALUES (PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,6e8f473f-47ec-4b54-8f0f-d459d440393b,ge-0/0/1,,792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198)'
04:59:43.387 gohan.db.sql INFO [0m Executing SQL query in transaction '1b76da26-0a92-40cb-bd80-e4ea19c8c3c8': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b,1494478783,create,false,"{\"description\":\"\",\"device_id\":\"792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198\",\"id\":\"6e8f473f-47ec-4b54-8f0f-d459d440393b\",\"name\":\"ge-0/0/1\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:59:43.402 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 name:ge-0/0/1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6e8f473f-47ec-4b54-8f0f-d459d440393b description: status:PENDING_CREATE]]
[36m04:59:43.402 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[274]]
[36m04:59:43.402 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "name": "ge-0/0/1",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:43.402 gohan.server.middleware INFO [0m Completed 201 Created in 173.742158ms
[36m04:59:43.403 gohan.server.sync DEBUG [0m Processing event 68 - create
04:59:43.403 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b
[36m04:59:43.406 gohan.server.sync DEBUG [0m Deleting event 68
04:59:43.417 gohan.db.sql INFO [0m Executing SQL query in transaction 'b713b8fd-aa6b-49ca-accd-b4619048364f': 'DELETE FROM `events` WHERE id = 68'
[36m04:59:43.418 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:43.422 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b for client 172.17.0.21:59424 data: 
[36m04:59:43.422 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:43.423 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:43.518 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b map[state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:]
04:59:43.518 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b map[version:1 error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
04:59:43.525 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b with index 272
[36m04:59:43.545 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b started
[36m04:59:43.548 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b completed: map[er_physical_interface:map[device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:<nil> status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6e8f473f-47ec-4b54-8f0f-d459d440393b name:ge-0/0/1 description:]]
[36m04:59:43.548 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[309]]
[36m04:59:43.548 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "name": "ge-0/0/1",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:43.548 gohan.server.middleware INFO [0m Completed 200 OK in 125.931042ms
04:59:43.600 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef7351f7-0536-4f60-b61c-754ba83780b8': 'UPDATE `er_physical_interfaces` SET `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `connected_ese_port_id` = <nil>, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b, `name` = ge-0/0/1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 6e8f473f-47ec-4b54-8f0f-d459d440393b'
04:59:43.601 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:43.601 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:59:43.602 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef7351f7-0536-4f60-b61c-754ba83780b8': 'UPDATE `er_physical_interfaces` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b, `name` = ge-0/0/1, `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `connected_ese_port_id` = <nil>, `status` = ACTIVE WHERE id = 6e8f473f-47ec-4b54-8f0f-d459d440393b'
04:59:43.614 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b with index 272
04:59:43.622 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b already unlocked or not locked
04:59:44.567 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b for client 172.17.0.21:59446 data: 
[36m04:59:44.567 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:44.567 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:44.664 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b started
[36m04:59:44.667 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b completed: map[er_physical_interface:map[connected_ese_port_id:<nil> status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6e8f473f-47ec-4b54-8f0f-d459d440393b name:ge-0/0/1 description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]]
[36m04:59:44.667 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[301] Content-Type:[application/json]]
[36m04:59:44.667 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:44.667 gohan.server.middleware INFO [0m Completed 200 OK in 100.427471ms
[36m04:59:44.767 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:44.768 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [280]
[31m04:59:44.768 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [280]
04:59:45.066 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b for client 172.17.0.21:59454 data: 
[36m04:59:45.067 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m04:59:45.067 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:45.143 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b started
[36m04:59:45.146 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b completed: map[er_physical_interface:map[status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6e8f473f-47ec-4b54-8f0f-d459d440393b name:ge-0/0/1 description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:<nil>]]
[36m04:59:45.146 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[301]]
[36m04:59:45.146 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:45.146 gohan.server.middleware INFO [0m Completed 200 OK in 79.766637ms
04:59:45.147 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b for client 172.17.0.21:59460 data: {}
[36m04:59:45.147 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:45.147 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:45.231 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b started
[36m04:59:45.234 gohan.server.resources DEBUG [0m Show er_physical_interface 6e8f473f-47ec-4b54-8f0f-d459d440393b completed: map[er_physical_interface:map[description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:<nil> status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6e8f473f-47ec-4b54-8f0f-d459d440393b name:ge-0/0/1]]
[36m04:59:45.234 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[301] Content-Type:[application/json]]
[36m04:59:45.234 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:45.234 gohan.server.middleware INFO [0m Completed 200 OK in 87.083222ms
04:59:45.261 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.21:59466 data: 
{
"er_physical_interface": {
"connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
"device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:45.261 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[214] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:45.261 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
"device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:45.354 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:45.354 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:45.433 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] started
[36m04:59:45.436 gohan.server.resources DEBUG [0m List edge_router query: map[id:[792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]] completed
[36m04:59:45.495 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[eec156b0-7317-48dd-b76c-019c0758e99d]] started
[36m04:59:45.497 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[eec156b0-7317-48dd-b76c-019c0758e99d]] completed
04:59:45.512 gohan.db.sql INFO [0m Executing SQL query in transaction '29bf0c86-0f53-4398-ab51-7754d109ac39': 'INSERT INTO `er_physical_interfaces` (`tenant_id`,`id`,`name`,`description`,`device_id`,`connected_ese_port_id`,`status`) VALUES (0b576f6f4cbf414f829cd12f008bf08f,8ff57ce4-55f9-40d4-82ed-1f00c9051678,ae0,,792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198,eec156b0-7317-48dd-b76c-019c0758e99d,PENDING_CREATE)'
04:59:45.513 gohan.db.sql INFO [0m Executing SQL query in transaction '29bf0c86-0f53-4398-ab51-7754d109ac39': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"connected_ese_port_id\":\"eec156b0-7317-48dd-b76c-019c0758e99d\",\"description\":\"\",\"device_id\":\"792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198\",\"id\":\"8ff57ce4-55f9-40d4-82ed-1f00c9051678\",\"name\":\"ae0\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678,1494478785)'
[36m04:59:45.525 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 status:PENDING_CREATE description: connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]]
[36m04:59:45.526 gohan.server.sync DEBUG [0m Processing event 69 - create
04:59:45.526 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678
[36m04:59:45.526 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:59:45.527 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:45.527 gohan.server.middleware INFO [0m Completed 201 Created in 266.262092ms
[36m04:59:45.544 gohan.server.sync DEBUG [0m Deleting event 69
04:59:45.546 gohan.db.sql INFO [0m Executing SQL query in transaction 'd44eb807-7f0f-49fd-981d-e6bafac093b3': 'DELETE FROM `events` WHERE id = 69'
[36m04:59:45.546 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:45.550 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 for client 172.17.0.21:59478 data: 
[36m04:59:45.551 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:45.551 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:45.654 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 map[state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:]
04:59:45.654 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
[36m04:59:45.661 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 started
04:59:45.666 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 with index 293
[36m04:59:45.667 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 completed: map[er_physical_interface:map[description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 name:ae0]]
[36m04:59:45.667 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[338] Content-Type:[application/json]]
[36m04:59:45.667 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:45.667 gohan.server.middleware INFO [0m Completed 200 OK in 116.974433ms
04:59:45.747 gohan.db.sql INFO [0m Executing SQL query in transaction '1e81c1f3-db63-4560-a6a7-6fb8a600278d': 'UPDATE `er_physical_interfaces` SET `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `name` = ae0, `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `connected_ese_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 8ff57ce4-55f9-40d4-82ed-1f00c9051678'
04:59:45.749 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:45.749 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:59:45.750 gohan.db.sql INFO [0m Executing SQL query in transaction '1e81c1f3-db63-4560-a6a7-6fb8a600278d': 'UPDATE `er_physical_interfaces` SET `id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `name` = ae0, `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `connected_ese_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f WHERE id = 8ff57ce4-55f9-40d4-82ed-1f00c9051678'
04:59:45.762 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 with index 293
04:59:45.775 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 already unlocked or not locked
04:59:46.679 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 for client 172.17.0.21:59500 data: 
[36m04:59:46.679 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:46.679 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:46.766 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 started
[36m04:59:46.768 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 completed: map[er_physical_interface:map[connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 name:ae0 description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198]]
[36m04:59:46.768 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:59:46.768 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:46.768 gohan.server.middleware INFO [0m Completed 200 OK in 89.45273ms
04:59:47.157 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 for client 172.17.0.21:59508 data: 
[36m04:59:47.158 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:47.158 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:47.222 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 started
[36m04:59:47.224 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 completed: map[er_physical_interface:map[name:ae0 description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8ff57ce4-55f9-40d4-82ed-1f00c9051678]]
[36m04:59:47.225 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:59:47.225 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:47.225 gohan.server.middleware INFO [0m Completed 200 OK in 67.341758ms
04:59:47.226 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 for client 172.17.0.21:59514 data: {}
[36m04:59:47.226 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:59:47.226 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:47.290 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 started
[36m04:59:47.292 gohan.server.resources DEBUG [0m Show er_physical_interface 8ff57ce4-55f9-40d4-82ed-1f00c9051678 completed: map[er_physical_interface:map[description: device_id:792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 connected_ese_port_id:eec156b0-7317-48dd-b76c-019c0758e99d status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 name:ae0]]
[36m04:59:47.292 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:59:47.292 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "description": "",
    "device_id": "792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198",
    "id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:47.292 gohan.server.middleware INFO [0m Completed 200 OK in 66.333955ms
04:59:47.314 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.21:59520 data: 
{
"er_physical_interface": {
"connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
"device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:47.314 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[214] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:47.314 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
"device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:47.380 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:47.380 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:47.438 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] started
[36m04:59:47.440 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] completed
[36m04:59:47.489 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[176ec475-e9e8-4605-8b41-802fbc6220c1]] started
[36m04:59:47.490 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[176ec475-e9e8-4605-8b41-802fbc6220c1]] completed
04:59:47.499 gohan.db.sql INFO [0m Executing SQL query in transaction '5cc88823-d887-4f95-a532-a1c7629dfce5': 'INSERT INTO `er_physical_interfaces` (`connected_ese_port_id`,`status`,`tenant_id`,`id`,`name`,`description`,`device_id`) VALUES (176ec475-e9e8-4605-8b41-802fbc6220c1,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8,ae0,,3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e)'
04:59:47.499 gohan.db.sql INFO [0m Executing SQL query in transaction '5cc88823-d887-4f95-a532-a1c7629dfce5': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"connected_ese_port_id\":\"176ec475-e9e8-4605-8b41-802fbc6220c1\",\"description\":\"\",\"device_id\":\"3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e\",\"id\":\"6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8\",\"name\":\"ae0\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8,1494478787,create,false)'
[36m04:59:47.509 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 status:PENDING_CREATE description:]]
[36m04:59:47.509 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:59:47.509 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:47.509 gohan.server.middleware INFO [0m Completed 201 Created in 194.810288ms
[36m04:59:47.512 gohan.server.sync DEBUG [0m Processing event 70 - create
04:59:47.512 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8
[36m04:59:47.516 gohan.server.sync DEBUG [0m Deleting event 70
04:59:47.520 gohan.db.sql INFO [0m Executing SQL query in transaction '5b41a620-7adf-4a35-a34e-83eef98d9044': 'DELETE FROM `events` WHERE id = 70'
[36m04:59:47.521 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:47.532 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 for client 172.17.0.21:59532 data: 
[36m04:59:47.532 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:47.532 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:47.615 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 started
[36m04:59:47.617 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 completed: map[er_physical_interface:map[status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 name:ae0 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1]]
[36m04:59:47.617 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:59:47.618 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:47.618 gohan.server.middleware INFO [0m Completed 200 OK in 85.513177ms
[36m04:59:47.621 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 map[version:1 error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:59:47.621 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 map[version:1 error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
04:59:47.632 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 with index 313
04:59:47.693 gohan.db.sql INFO [0m Executing SQL query in transaction '5b5ed27f-38c8-48bc-8a01-66f69c5f99b1': 'UPDATE `er_physical_interfaces` SET `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `name` = ae0, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `connected_ese_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8'
04:59:47.695 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:47.695 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:59:47.697 gohan.db.sql INFO [0m Executing SQL query in transaction '5b5ed27f-38c8-48bc-8a01-66f69c5f99b1': 'UPDATE `er_physical_interfaces` SET `connected_ese_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `name` = ae0, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e WHERE id = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8'
04:59:47.722 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 with index 313
04:59:47.730 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 already unlocked or not locked
04:59:48.628 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 for client 172.17.0.21:59554 data: 
[36m04:59:48.628 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:48.628 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:48.693 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 started
[36m04:59:48.696 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 completed: map[er_physical_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 name:ae0 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 status:ACTIVE]]
[36m04:59:48.696 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[330] Content-Type:[application/json]]
[36m04:59:48.696 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:48.696 gohan.server.middleware INFO [0m Completed 200 OK in 68.285362ms
04:59:49.041 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 for client 172.17.0.21:59562 data: 
[36m04:59:49.041 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m04:59:49.041 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:49.103 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 started
[36m04:59:49.105 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 completed: map[er_physical_interface:map[id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 name:ae0 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:59:49.105 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:59:49.105 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:49.105 gohan.server.middleware INFO [0m Completed 200 OK in 64.747742ms
04:59:49.107 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 for client 172.17.0.21:59568 data: {}
[36m04:59:49.107 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:49.107 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:49.184 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 started
[36m04:59:49.187 gohan.server.resources DEBUG [0m Show er_physical_interface 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 completed: map[er_physical_interface:map[device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 name:ae0 description:]]
[36m04:59:49.187 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:59:49.187 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:49.187 gohan.server.middleware INFO [0m Completed 200 OK in 80.65803ms
04:59:49.212 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.21:59574 data: 
{
"er_physical_interface": {
"device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"name": "ge-0/0/1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:49.212 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[154] Content-Type:[application/json]]
[36m04:59:49.212 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
"name": "ge-0/0/1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:49.276 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e name:ge-0/0/1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:49.276 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:49.326 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] started
[36m04:59:49.328 gohan.server.resources DEBUG [0m List edge_router query: map[id:[3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]] completed
04:59:49.331 gohan.db.sql INFO [0m Executing SQL query in transaction '7192328e-ca2b-4bab-a2a7-c9421a2503c0': 'INSERT INTO `er_physical_interfaces` (`id`,`name`,`description`,`device_id`,`status`,`tenant_id`) VALUES (f87c6efe-f590-4c29-8fc9-2f914e1eb362,ge-0/0/1,,3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f)'
04:59:49.332 gohan.db.sql INFO [0m Executing SQL query in transaction '7192328e-ca2b-4bab-a2a7-c9421a2503c0': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"description\":\"\",\"device_id\":\"3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e\",\"id\":\"f87c6efe-f590-4c29-8fc9-2f914e1eb362\",\"name\":\"ge-0/0/1\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362,1494478789,create)'
[36m04:59:49.342 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e name:ge-0/0/1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 description: status:PENDING_CREATE]]
[36m04:59:49.342 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[274]]
[36m04:59:49.342 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "name": "ge-0/0/1",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:49.342 gohan.server.middleware INFO [0m Completed 201 Created in 129.830266ms
[36m04:59:49.345 gohan.server.sync DEBUG [0m Processing event 71 - create
04:59:49.345 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362
[36m04:59:49.350 gohan.server.sync DEBUG [0m Deleting event 71
04:59:49.351 gohan.db.sql INFO [0m Executing SQL query in transaction 'dab8c9ff-952a-4823-9de8-1c8233cc8a6b': 'DELETE FROM `events` WHERE id = 71'
[36m04:59:49.352 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:49.357 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 for client 172.17.0.21:59584 data: 
[36m04:59:49.357 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:49.358 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:49.443 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 started
[36m04:59:49.445 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 completed: map[er_physical_interface:map[status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 name:ge-0/0/1 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:<nil>]]
[36m04:59:49.445 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[309]]
[36m04:59:49.445 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "name": "ge-0/0/1",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:49.445 gohan.server.middleware INFO [0m Completed 200 OK in 88.119316ms
[36m04:59:49.449 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:59:49.449 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:49.461 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 with index 333
04:59:49.521 gohan.db.sql INFO [0m Executing SQL query in transaction 'c90e949a-146a-4713-9d14-3debef98cd46': 'UPDATE `er_physical_interfaces` SET `id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `name` = ge-0/0/1, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `connected_ese_port_id` = <nil>, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = f87c6efe-f590-4c29-8fc9-2f914e1eb362'
04:59:49.522 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:49.522 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:59:49.523 gohan.db.sql INFO [0m Executing SQL query in transaction 'c90e949a-146a-4713-9d14-3debef98cd46': 'UPDATE `er_physical_interfaces` SET `id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `name` = ge-0/0/1, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `connected_ese_port_id` = <nil>, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f WHERE id = f87c6efe-f590-4c29-8fc9-2f914e1eb362'
04:59:49.535 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 with index 333
04:59:49.543 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 already unlocked or not locked
[36m04:59:49.768 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:49.769 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [341]
[31m04:59:49.769 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [341]
04:59:50.457 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 for client 172.17.0.21:59606 data: 
[36m04:59:50.457 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:50.458 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:50.538 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 started
[36m04:59:50.541 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 completed: map[er_physical_interface:map[device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:<nil> status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 name:ge-0/0/1 description:]]
[36m04:59:50.541 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[301]]
[36m04:59:50.541 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:50.541 gohan.server.middleware INFO [0m Completed 200 OK in 84.064267ms
04:59:50.951 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 for client 172.17.0.21:59614 data: 
[36m04:59:50.951 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:59:50.951 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:51.040 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 started
[36m04:59:51.043 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 completed: map[er_physical_interface:map[connected_ese_port_id:<nil> status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 name:ge-0/0/1 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e]]
[36m04:59:51.044 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[301]]
[36m04:59:51.044 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:51.044 gohan.server.middleware INFO [0m Completed 200 OK in 92.512751ms
04:59:51.045 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 for client 172.17.0.21:59620 data: {}
[36m04:59:51.045 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:51.045 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:51.126 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 started
[36m04:59:51.129 gohan.server.resources DEBUG [0m Show er_physical_interface f87c6efe-f590-4c29-8fc9-2f914e1eb362 completed: map[er_physical_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 name:ge-0/0/1 description: device_id:3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e connected_ese_port_id:<nil> status:ACTIVE]]
[36m04:59:51.129 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[301]]
[36m04:59:51.130 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": null,
    "description": "",
    "device_id": "3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e",
    "id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "name": "ge-0/0/1",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:59:51.130 gohan.server.middleware INFO [0m Completed 200 OK in 84.587545ms
04:59:51.152 gohan.server.middleware INFO [0m Started POST /v2.0/ha_interfaces for client 172.17.0.21:59626 data: 
{
"ha_interface": {
"ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
"link_type": "uplink",
"name": "sample-ha-router-uplink",
"primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
"secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:51.152 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[316] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:51.152 gohan.server.middleware DEBUG [0m Request body: 
{
"ha_interface": {
"ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
"link_type": "uplink",
"name": "sample-ha-router-uplink",
"primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
"secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:51.238 gohan.server.resources DEBUG [0m Create ha_interface with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb link_type:uplink name:sample-ha-router-uplink primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362] started
[36m04:59:51.238 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:51.303 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[f87c6efe-f590-4c29-8fc9-2f914e1eb362]] started
[36m04:59:51.305 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[f87c6efe-f590-4c29-8fc9-2f914e1eb362]] completed
[36m04:59:51.362 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[6e8f473f-47ec-4b54-8f0f-d459d440393b]] started
[36m04:59:51.363 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[6e8f473f-47ec-4b54-8f0f-d459d440393b]] completed
[36m04:59:51.422 gohan.server.resources DEBUG [0m List ha_router query: map[id:[f01ed0a6-7094-4e54-b14b-94657fff1efb]] started
[36m04:59:51.424 gohan.server.resources DEBUG [0m List ha_router query: map[id:[f01ed0a6-7094-4e54-b14b-94657fff1efb]] completed
04:59:51.448 gohan.db.sql INFO [0m Executing SQL query in transaction '6d313e30-f1e3-411f-ad64-3b0f397f6883': 'INSERT INTO `ha_interfaces` (`gateway_instances_count`,`vlan_ids_available`,`secondary_interface_id`,`description`,`vlan_pool_state`,`admin_state_up`,`available_be_bandwidth`,`primary_interface_id`,`available_ga_bandwidth`,`status`,`restricted_vlans`,`link_type`,`tenant_id`,`name`,`maximum_ga_bandwidth`,`ha_router_id`,`maximum_be_bandwidth`,`id`) VALUES (0,4093,f87c6efe-f590-4c29-8fc9-2f914e1eb362,,gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=,true,0,6e8f473f-47ec-4b54-8f0f-d459d440393b,0,PENDING_CREATE,,uplink,0b576f6f4cbf414f829cd12f008bf08f,sample-ha-router-uplink,0,f01ed0a6-7094-4e54-b14b-94657fff1efb,0,5e552b8f-cd5a-454c-a224-33f7da0afa24)'
04:59:51.448 gohan.db.sql INFO [0m Executing SQL query in transaction '6d313e30-f1e3-411f-ad64-3b0f397f6883': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"admin_state_up\":true,\"available_be_bandwidth\":0,\"available_ga_bandwidth\":0,\"description\":\"\",\"gateway_instances_count\":0,\"ha_router_id\":\"f01ed0a6-7094-4e54-b14b-94657fff1efb\",\"id\":\"5e552b8f-cd5a-454c-a224-33f7da0afa24\",\"link_type\":\"uplink\",\"maximum_be_bandwidth\":0,\"maximum_ga_bandwidth\":0,\"name\":\"sample-ha-router-uplink\",\"primary_interface_id\":\"6e8f473f-47ec-4b54-8f0f-d459d440393b\",\"restricted_vlans\":\"\",\"secondary_interface_id\":\"f87c6efe-f590-4c29-8fc9-2f914e1eb362\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vlan_ids_available\":4093,\"vlan_pool_state\":\"gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=\"}",1,/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24,1494478791,create,false)'
[36m04:59:51.459 gohan.server.resources DEBUG [0m Create ha_interface completed: map[ha_interface:map[secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 vlan_ids_available:4093 status:PENDING_CREATE maximum_ga_bandwidth:0 available_be_bandwidth:0 available_ga_bandwidth:0 link_type:uplink name:sample-ha-router-uplink description: vlan_pool_state:gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE= restricted_vlans: admin_state_up:true ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b gateway_instances_count:0 maximum_be_bandwidth:0]]
[36m04:59:51.460 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1409]]
[36m04:59:51.460 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 0,
    "available_ga_bandwidth": 0,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "link_type": "uplink",
    "maximum_be_bandwidth": 0,
    "maximum_ga_bandwidth": 0,
    "name": "sample-ha-router-uplink",
    "primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "restricted_vlans": "",
    "secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 4093,
    "vlan_pool_state": "gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE="
  }
}
04:59:51.460 gohan.server.middleware INFO [0m Completed 201 Created in 307.917407ms
[36m04:59:51.467 gohan.server.sync DEBUG [0m Processing event 72 - create
04:59:51.467 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24
[36m04:59:51.469 gohan.server.sync DEBUG [0m Deleting event 72
04:59:51.477 gohan.db.sql INFO [0m Executing SQL query in transaction '13661c54-ec76-408f-aa70-1b47ebe97583': 'DELETE FROM `events` WHERE id = 72'
[36m04:59:51.480 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:59:51.488 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 for client 172.17.0.21:59640 data: 
[36m04:59:51.488 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:51.489 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:51.585 gohan.server DEBUG [0m State event update received: set /state/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:59:51.585 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:59:51.590 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 with index 354
[36m04:59:51.597 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 started
[36m04:59:51.600 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 completed: map[ha_interface:map[available_be_bandwidth:0 name:sample-ha-router-uplink vlan_ids_available:4093 status:PENDING_CREATE admin_state_up:true primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b link_type:uplink id:5e552b8f-cd5a-454c-a224-33f7da0afa24 vlan_pool_state:gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE= gateway_instances_count:0 available_ga_bandwidth:0 restricted_vlans: ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb maximum_be_bandwidth:0 secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_ga_bandwidth:0 description:]]
[36m04:59:51.600 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1409]]
[36m04:59:51.600 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 0,
    "available_ga_bandwidth": 0,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "link_type": "uplink",
    "maximum_be_bandwidth": 0,
    "maximum_ga_bandwidth": 0,
    "name": "sample-ha-router-uplink",
    "primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "restricted_vlans": "",
    "secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 4093,
    "vlan_pool_state": "gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE="
  }
}
04:59:51.600 gohan.server.middleware INFO [0m Completed 200 OK in 111.97693ms
04:59:51.675 gohan.db.sql INFO [0m Executing SQL query in transaction '66036c31-66a6-4d4d-bcb9-a43c5a11b246': 'UPDATE `ha_interfaces` SET `vlan_ids_available` = 4093, `secondary_interface_id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `description` = , `vlan_pool_state` = gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=, `gateway_instances_count` = 0, `available_be_bandwidth` = 0, `primary_interface_id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b, `available_ga_bandwidth` = 0, `status` = PENDING_CREATE, `restricted_vlans` = , `admin_state_up` = true, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-uplink, `maximum_ga_bandwidth` = 0, `link_type` = uplink, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 0, `id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"primary\": \"ACTIVE\", \"secondary\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 5e552b8f-cd5a-454c-a224-33f7da0afa24'
04:59:51.678 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:51.678 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "ACTIVE", "secondary": "ACTIVE"}
04:59:51.684 gohan.db.sql INFO [0m Executing SQL query in transaction '66036c31-66a6-4d4d-bcb9-a43c5a11b246': 'UPDATE `ha_interfaces` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-uplink, `maximum_ga_bandwidth` = 0, `link_type` = uplink, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 0, `id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `secondary_interface_id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `description` = , `vlan_pool_state` = gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=, `gateway_instances_count` = 0, `vlan_ids_available` = 4093, `available_ga_bandwidth` = 0, `status` = ACTIVE, `restricted_vlans` = , `admin_state_up` = true, `available_be_bandwidth` = 0, `primary_interface_id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b WHERE id = 5e552b8f-cd5a-454c-a224-33f7da0afa24'
04:59:51.710 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 with index 354
04:59:51.722 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 already unlocked or not locked
04:59:52.614 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 for client 172.17.0.21:59662 data: 
[36m04:59:52.614 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:59:52.614 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:52.711 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 started
[36m04:59:52.714 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 completed: map[ha_interface:map[maximum_ga_bandwidth:0 id:5e552b8f-cd5a-454c-a224-33f7da0afa24 vlan_ids_available:4093 status:ACTIVE restricted_vlans: link_type:uplink name:sample-ha-router-uplink ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb gateway_instances_count:0 secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 description: vlan_pool_state:gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE= available_be_bandwidth:0 maximum_be_bandwidth:0 admin_state_up:true primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b available_ga_bandwidth:0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:59:52.714 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1401]]
[36m04:59:52.714 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 0,
    "available_ga_bandwidth": 0,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "link_type": "uplink",
    "maximum_be_bandwidth": 0,
    "maximum_ga_bandwidth": 0,
    "name": "sample-ha-router-uplink",
    "primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "restricted_vlans": "",
    "secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 4093,
    "vlan_pool_state": "gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE="
  }
}
04:59:52.714 gohan.server.middleware INFO [0m Completed 200 OK in 100.541184ms
04:59:53.116 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 for client 172.17.0.21:59670 data: 
[36m04:59:53.116 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:53.116 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:53.182 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 started
[36m04:59:53.184 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 completed: map[ha_interface:map[primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb id:5e552b8f-cd5a-454c-a224-33f7da0afa24 available_ga_bandwidth:0 restricted_vlans: admin_state_up:true maximum_be_bandwidth:0 gateway_instances_count:0 vlan_ids_available:4093 status:ACTIVE name:sample-ha-router-uplink maximum_ga_bandwidth:0 secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 description: vlan_pool_state:gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE= available_be_bandwidth:0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f link_type:uplink]]
[36m04:59:53.184 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1401]]
[36m04:59:53.184 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 0,
    "available_ga_bandwidth": 0,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "link_type": "uplink",
    "maximum_be_bandwidth": 0,
    "maximum_ga_bandwidth": 0,
    "name": "sample-ha-router-uplink",
    "primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "restricted_vlans": "",
    "secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 4093,
    "vlan_pool_state": "gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE="
  }
}
04:59:53.184 gohan.server.middleware INFO [0m Completed 200 OK in 68.243218ms
04:59:53.185 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/5e552b8f-cd5a-454c-a224-33f7da0afa24 for client 172.17.0.21:59676 data: {}
[36m04:59:53.186 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:53.186 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:53.562 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 started
[36m04:59:53.577 gohan.server.resources DEBUG [0m Show ha_interface 5e552b8f-cd5a-454c-a224-33f7da0afa24 completed: map[ha_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:5e552b8f-cd5a-454c-a224-33f7da0afa24 description: vlan_pool_state:gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE= gateway_instances_count:0 maximum_ga_bandwidth:0 ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb maximum_be_bandwidth:0 secondary_interface_id:f87c6efe-f590-4c29-8fc9-2f914e1eb362 status:ACTIVE restricted_vlans: admin_state_up:true name:sample-ha-router-uplink link_type:uplink vlan_ids_available:4093 available_ga_bandwidth:0 available_be_bandwidth:0 primary_interface_id:6e8f473f-47ec-4b54-8f0f-d459d440393b]]
[36m04:59:53.578 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[1401] Content-Type:[application/json]]
[36m04:59:53.578 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 0,
    "available_ga_bandwidth": 0,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "link_type": "uplink",
    "maximum_be_bandwidth": 0,
    "maximum_ga_bandwidth": 0,
    "name": "sample-ha-router-uplink",
    "primary_interface_id": "6e8f473f-47ec-4b54-8f0f-d459d440393b",
    "restricted_vlans": "",
    "secondary_interface_id": "f87c6efe-f590-4c29-8fc9-2f914e1eb362",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 4093,
    "vlan_pool_state": "gAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE="
  }
}
04:59:53.578 gohan.server.middleware INFO [0m Completed 200 OK in 392.362313ms
04:59:53.620 gohan.server.middleware INFO [0m Started POST /v2.0/ha_interfaces for client 172.17.0.21:59682 data: 
{
"ha_interface": {
"ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
"link_type": "downlink",
"maximum_be_bandwidth": 500,
"maximum_ga_bandwidth": 500,
"name": "sample-ha-router-downlink",
"primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
"secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
"restricted_vlans": "0-1024,4094",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:53.621 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[413] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:53.621 gohan.server.middleware DEBUG [0m Request body: 
{
"ha_interface": {
"ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
"link_type": "downlink",
"maximum_be_bandwidth": 500,
"maximum_ga_bandwidth": 500,
"name": "sample-ha-router-downlink",
"primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
"secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
"restricted_vlans": "0-1024,4094",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:54.147 gohan.server.resources DEBUG [0m Create ha_interface with data map[link_type:downlink maximum_be_bandwidth:500 maximum_ga_bandwidth:500 secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 restricted_vlans:0-1024,4094 tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-ha-router-downlink] started
[36m04:59:54.147 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:54.202 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8]] started
[36m04:59:54.204 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8]] completed
[36m04:59:54.253 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[8ff57ce4-55f9-40d4-82ed-1f00c9051678]] started
[36m04:59:54.255 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[8ff57ce4-55f9-40d4-82ed-1f00c9051678]] completed
[36m04:59:54.313 gohan.server.resources DEBUG [0m List ha_router query: map[id:[f01ed0a6-7094-4e54-b14b-94657fff1efb]] started
[36m04:59:54.315 gohan.server.resources DEBUG [0m List ha_router query: map[id:[f01ed0a6-7094-4e54-b14b-94657fff1efb]] completed
04:59:54.374 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef09153a-2999-4848-a9a8-00efc3e955df': 'INSERT INTO `ha_interfaces` (`secondary_interface_id`,`description`,`vlan_pool_state`,`gateway_instances_count`,`vlan_ids_available`,`available_ga_bandwidth`,`status`,`restricted_vlans`,`admin_state_up`,`available_be_bandwidth`,`primary_interface_id`,`tenant_id`,`name`,`maximum_ga_bandwidth`,`link_type`,`ha_router_id`,`maximum_be_bandwidth`,`id`) VALUES (6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8,,//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=,0,3069,500,PENDING_CREATE,0-1024,4094,true,500,8ff57ce4-55f9-40d4-82ed-1f00c9051678,0b576f6f4cbf414f829cd12f008bf08f,sample-ha-router-downlink,500,downlink,f01ed0a6-7094-4e54-b14b-94657fff1efb,500,a3a62a37-5657-4822-98e0-991ab63f0e96)'
04:59:54.375 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef09153a-2999-4848-a9a8-00efc3e955df': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"admin_state_up\":true,\"available_be_bandwidth\":500,\"available_ga_bandwidth\":500,\"description\":\"\",\"gateway_instances_count\":0,\"ha_router_id\":\"f01ed0a6-7094-4e54-b14b-94657fff1efb\",\"id\":\"a3a62a37-5657-4822-98e0-991ab63f0e96\",\"link_type\":\"downlink\",\"maximum_be_bandwidth\":500,\"maximum_ga_bandwidth\":500,\"name\":\"sample-ha-router-downlink\",\"primary_interface_id\":\"8ff57ce4-55f9-40d4-82ed-1f00c9051678\",\"restricted_vlans\":\"0-1024,4094\",\"secondary_interface_id\":\"6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vlan_ids_available\":3069,\"vlan_pool_state\":\"//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=\"}",1,/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96,1494478794,create)'
[36m04:59:54.387 gohan.server.resources DEBUG [0m Create ha_interface completed: map[ha_interface:map[description: vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= admin_state_up:true available_be_bandwidth:500 restricted_vlans:0-1024,4094 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:a3a62a37-5657-4822-98e0-991ab63f0e96 link_type:downlink maximum_be_bandwidth:500 maximum_ga_bandwidth:500 available_ga_bandwidth:500 name:sample-ha-router-downlink primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 gateway_instances_count:0 status:PENDING_CREATE ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 vlan_ids_available:3069]]
[36m04:59:54.387 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1432]]
[36m04:59:54.387 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:59:54.387 gohan.server.middleware INFO [0m Completed 201 Created in 766.79979ms
[36m04:59:54.390 gohan.server.sync DEBUG [0m Processing event 73 - create
04:59:54.390 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96
[36m04:59:54.407 gohan.server.sync DEBUG [0m Deleting event 73
04:59:54.411 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 for client 172.17.0.21:59700 data: 
[36m04:59:54.411 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:54.412 gohan.server.middleware DEBUG [0m Request body: 
04:59:54.412 gohan.db.sql INFO [0m Executing SQL query in transaction '8f3f6a9f-848e-42af-92aa-27710bc2aadd': 'DELETE FROM `events` WHERE id = 73'
[36m04:59:54.413 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:54.497 gohan.server DEBUG [0m State event update received: set /state/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 map[state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:]
04:59:54.497 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
[36m04:59:54.518 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 started
[36m04:59:54.524 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 completed: map[ha_interface:map[secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 gateway_instances_count:0 restricted_vlans:0-1024,4094 primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-ha-router-downlink ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb vlan_ids_available:3069 status:PENDING_CREATE admin_state_up:true id:a3a62a37-5657-4822-98e0-991ab63f0e96 description: maximum_ga_bandwidth:500 link_type:downlink maximum_be_bandwidth:500 available_ga_bandwidth:500 available_be_bandwidth:500 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=]]
[36m04:59:54.525 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1432]]
[36m04:59:54.525 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:59:54.525 gohan.server.middleware INFO [0m Completed 200 OK in 113.364968ms
04:59:54.531 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 with index 374
04:59:54.583 gohan.db.sql INFO [0m Executing SQL query in transaction '086d79c7-0bd7-48e3-b3ff-b9a146db00d7': 'UPDATE `ha_interfaces` SET `secondary_interface_id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `description` = , `vlan_pool_state` = //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `gateway_instances_count` = 0, `vlan_ids_available` = 3069, `primary_interface_id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `available_ga_bandwidth` = 500, `status` = PENDING_CREATE, `restricted_vlans` = 0-1024,4094, `admin_state_up` = true, `available_be_bandwidth` = 500, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-downlink, `maximum_ga_bandwidth` = 500, `link_type` = downlink, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 500, `id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"primary\": \"ACTIVE\", \"secondary\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = a3a62a37-5657-4822-98e0-991ab63f0e96'
04:59:54.585 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:54.585 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "ACTIVE", "secondary": "ACTIVE"}
04:59:54.588 gohan.db.sql INFO [0m Executing SQL query in transaction '086d79c7-0bd7-48e3-b3ff-b9a146db00d7': 'UPDATE `ha_interfaces` SET `secondary_interface_id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `description` = , `vlan_pool_state` = //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `gateway_instances_count` = 0, `vlan_ids_available` = 3069, `available_ga_bandwidth` = 500, `status` = ACTIVE, `restricted_vlans` = 0-1024,4094, `admin_state_up` = true, `available_be_bandwidth` = 500, `primary_interface_id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-downlink, `maximum_ga_bandwidth` = 500, `link_type` = downlink, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 500, `id` = a3a62a37-5657-4822-98e0-991ab63f0e96 WHERE id = a3a62a37-5657-4822-98e0-991ab63f0e96'
04:59:54.602 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 with index 374
04:59:54.609 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 already unlocked or not locked
[36m04:59:54.769 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:54.770 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [382]
[31m04:59:54.770 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [382]
04:59:55.537 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 for client 172.17.0.21:59722 data: 
[36m04:59:55.537 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:55.537 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:55.619 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 started
[36m04:59:55.622 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 completed: map[ha_interface:map[secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 maximum_ga_bandwidth:500 tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-ha-router-downlink id:a3a62a37-5657-4822-98e0-991ab63f0e96 gateway_instances_count:0 status:ACTIVE ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= vlan_ids_available:3069 available_ga_bandwidth:500 link_type:downlink maximum_be_bandwidth:500 description: restricted_vlans:0-1024,4094 admin_state_up:true available_be_bandwidth:500]]
[36m04:59:55.622 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1424]]
[36m04:59:55.622 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:59:55.622 gohan.server.middleware INFO [0m Completed 200 OK in 85.723102ms
04:59:56.031 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 for client 172.17.0.21:59730 data: 
[36m04:59:56.031 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:59:56.031 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:56.120 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 started
[36m04:59:56.123 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 completed: map[ha_interface:map[maximum_ga_bandwidth:500 secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 description: admin_state_up:true status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f gateway_instances_count:0 name:sample-ha-router-downlink ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb vlan_ids_available:3069 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= available_be_bandwidth:500 restricted_vlans:0-1024,4094 link_type:downlink maximum_be_bandwidth:500 id:a3a62a37-5657-4822-98e0-991ab63f0e96 primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 available_ga_bandwidth:500]]
[36m04:59:56.123 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[1424] Content-Type:[application/json]]
[36m04:59:56.123 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:59:56.123 gohan.server.middleware INFO [0m Completed 200 OK in 92.504462ms
04:59:56.125 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/a3a62a37-5657-4822-98e0-991ab63f0e96 for client 172.17.0.21:59736 data: {}
[36m04:59:56.125 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:59:56.125 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:56.209 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 started
[36m04:59:56.212 gohan.server.resources DEBUG [0m Show ha_interface a3a62a37-5657-4822-98e0-991ab63f0e96 completed: map[ha_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_ga_bandwidth:500 secondary_interface_id:6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 admin_state_up:true id:a3a62a37-5657-4822-98e0-991ab63f0e96 gateway_instances_count:0 available_be_bandwidth:500 primary_interface_id:8ff57ce4-55f9-40d4-82ed-1f00c9051678 status:ACTIVE name:sample-ha-router-downlink maximum_be_bandwidth:500 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= description: available_ga_bandwidth:500 restricted_vlans:0-1024,4094 link_type:downlink ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb vlan_ids_available:3069]]
[36m04:59:56.213 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1424]]
[36m04:59:56.213 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "8ff57ce4-55f9-40d4-82ed-1f00c9051678",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:59:56.213 gohan.server.middleware INFO [0m Completed 200 OK in 87.939524ms
04:59:56.249 gohan.server.middleware INFO [0m Started POST /v2.0/vpn_services for client 172.17.0.21:59742 data: 
{
"vpn_service": {
"be_forwarding_class": "FC-VPN-BE",
"default_static_routes_per_gateway": 32,
"downlink_interfaces": ["a3a62a37-5657-4822-98e0-991ab63f0e96"],
"ga_forwarding_class": "FC-VPN-GA",
"name": "sample-vpn-service",
"neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
"primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
"primary_ebgp_config_group": "VPNGW1-RI-EBGP",
"primary_ibgp_config_group": "VPNGW1-RI-IBGP",
"secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
"secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
"secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
"uplink_interfaces": ["5e552b8f-cd5a-454c-a224-33f7da0afa24"],
"zone": "jp1-zone1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:56.249 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[711] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:56.250 gohan.server.middleware DEBUG [0m Request body: 
{
"vpn_service": {
"be_forwarding_class": "FC-VPN-BE",
"default_static_routes_per_gateway": 32,
"downlink_interfaces": ["a3a62a37-5657-4822-98e0-991ab63f0e96"],
"ga_forwarding_class": "FC-VPN-GA",
"name": "sample-vpn-service",
"neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
"primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
"primary_ebgp_config_group": "VPNGW1-RI-EBGP",
"primary_ibgp_config_group": "VPNGW1-RI-IBGP",
"secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
"secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
"secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
"uplink_interfaces": ["5e552b8f-cd5a-454c-a224-33f7da0afa24"],
"zone": "jp1-zone1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:56.336 gohan.server.resources DEBUG [0m Create vpn_service with data map[be_forwarding_class:FC-VPN-BE downlink_interfaces:[a3a62a37-5657-4822-98e0-991ab63f0e96] name:sample-vpn-service primary_ibgp_config_group:VPNGW1-RI-IBGP primary_downlink_vrrp_config_group:VPNGW1-VRRP primary_ebgp_config_group:VPNGW1-RI-EBGP secondary_ebgp_config_group:VPNGW2-RI-EBGP uplink_interfaces:[5e552b8f-cd5a-454c-a224-33f7da0afa24] default_static_routes_per_gateway:32 neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS secondary_downlink_vrrp_config_group:VPNGW2-VRRP zone:jp1-zone1 ga_forwarding_class:FC-VPN-GA secondary_ibgp_config_group:VPNGW2-RI-IBGP tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:56.336 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:59:56.348 gohan.db.sql INFO [0m Executing SQL query in transaction 'fbe7c6cf-848a-4aa0-aa1d-1f0e52f3ebe2': 'INSERT INTO `vpn_services` (`primary_ebgp_config_group`,`default_static_routes_per_gateway`,`primary_ibgp_config_group`,`primary_downlink_vrrp_config_group`,`tenant_id`,`secondary_ibgp_config_group`,`name`,`description`,`id`,`secondary_ebgp_config_group`,`zone`,`ga_forwarding_class`,`downlink_interfaces`,`uplink_interfaces`,`be_forwarding_class`,`secondary_downlink_vrrp_config_group`,`neighbour_prefix`) VALUES (VPNGW1-RI-EBGP,32,VPNGW1-RI-IBGP,VPNGW1-VRRP,0b576f6f4cbf414f829cd12f008bf08f,VPNGW2-RI-IBGP,sample-vpn-service,,72b05fe5-88c6-4888-a6fb-feb793fffae8,VPNGW2-RI-EBGP,jp1-zone1,FC-VPN-GA,["a3a62a37-5657-4822-98e0-991ab63f0e96"],["5e552b8f-cd5a-454c-a224-33f7da0afa24"],FC-VPN-BE,VPNGW2-VRRP,BGP-VIRTUAL-ROUTER-PEERS)'
04:59:56.349 gohan.db.sql INFO [0m Executing SQL query in transaction 'fbe7c6cf-848a-4aa0-aa1d-1f0e52f3ebe2': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8,1494478796,create,false,"{\"be_forwarding_class\":\"FC-VPN-BE\",\"default_static_routes_per_gateway\":32,\"description\":\"\",\"downlink_interfaces\":[\"a3a62a37-5657-4822-98e0-991ab63f0e96\"],\"ga_forwarding_class\":\"FC-VPN-GA\",\"id\":\"72b05fe5-88c6-4888-a6fb-feb793fffae8\",\"name\":\"sample-vpn-service\",\"neighbour_prefix\":\"BGP-VIRTUAL-ROUTER-PEERS\",\"primary_downlink_vrrp_config_group\":\"VPNGW1-VRRP\",\"primary_ebgp_config_group\":\"VPNGW1-RI-EBGP\",\"primary_ibgp_config_group\":\"VPNGW1-RI-IBGP\",\"secondary_downlink_vrrp_config_group\":\"VPNGW2-VRRP\",\"secondary_ebgp_config_group\":\"VPNGW2-RI-EBGP\",\"secondary_ibgp_config_group\":\"VPNGW2-RI-IBGP\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"uplink_interfaces\":[\"5e552b8f-cd5a-454c-a224-33f7da0afa24\"],\"zone\":\"jp1-zone1\"}")'
[36m04:59:56.363 gohan.server.resources DEBUG [0m Create vpn_service completed: map[vpn_service:map[secondary_downlink_vrrp_config_group:VPNGW2-VRRP zone:jp1-zone1 default_static_routes_per_gateway:32 neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS tenant_id:0b576f6f4cbf414f829cd12f008bf08f ga_forwarding_class:FC-VPN-GA secondary_ibgp_config_group:VPNGW2-RI-IBGP name:sample-vpn-service primary_ibgp_config_group:VPNGW1-RI-IBGP id:72b05fe5-88c6-4888-a6fb-feb793fffae8 be_forwarding_class:FC-VPN-BE downlink_interfaces:[a3a62a37-5657-4822-98e0-991ab63f0e96] secondary_ebgp_config_group:VPNGW2-RI-EBGP uplink_interfaces:[5e552b8f-cd5a-454c-a224-33f7da0afa24] description: primary_downlink_vrrp_config_group:VPNGW1-VRRP primary_ebgp_config_group:VPNGW1-RI-EBGP]]
[36m04:59:56.363 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[871]]
[36m04:59:56.363 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_service": {
    "be_forwarding_class": "FC-VPN-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "a3a62a37-5657-4822-98e0-991ab63f0e96"
    ],
    "ga_forwarding_class": "FC-VPN-GA",
    "id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "name": "sample-vpn-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
    "primary_ebgp_config_group": "VPNGW1-RI-EBGP",
    "primary_ibgp_config_group": "VPNGW1-RI-IBGP",
    "secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
    "secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
    "secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interfaces": [
      "5e552b8f-cd5a-454c-a224-33f7da0afa24"
    ],
    "zone": "jp1-zone1"
  }
}
04:59:56.363 gohan.server.middleware INFO [0m Completed 201 Created in 114.132592ms
[36m04:59:56.366 gohan.server.sync DEBUG [0m Processing event 74 - create
04:59:56.366 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8
[36m04:59:56.369 gohan.server.sync DEBUG [0m Deleting event 74
04:59:56.371 gohan.db.sql INFO [0m Executing SQL query in transaction 'ac164dae-30b5-442a-b08d-2f5a9fe43f6e': 'DELETE FROM `events` WHERE id = 74'
[36m04:59:56.372 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:56.384 gohan.server DEBUG [0m State event update received: set /state/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 map[error: state:map[worker_state:READ_COMPLETE] version:1]
04:59:56.384 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 map[error: state:map[worker_state:READ_COMPLETE] version:1] started
04:59:56.386 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 for client 172.17.0.21:59752 data: 
[36m04:59:56.386 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:56.386 gohan.server.middleware DEBUG [0m Request body: 
04:59:56.401 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 with index 385
04:59:56.481 gohan.db.sql INFO [0m Executing SQL query in transaction 'ac505a4d-df78-4da9-8396-579d5eb25c1b': 'UPDATE `vpn_services` SET `uplink_interfaces` = ["5e552b8f-cd5a-454c-a224-33f7da0afa24"], `be_forwarding_class` = FC-VPN-BE, `secondary_downlink_vrrp_config_group` = VPNGW2-VRRP, `neighbour_prefix` = BGP-VIRTUAL-ROUTER-PEERS, `primary_ebgp_config_group` = VPNGW1-RI-EBGP, `default_static_routes_per_gateway` = 32, `primary_ibgp_config_group` = VPNGW1-RI-IBGP, `primary_downlink_vrrp_config_group` = VPNGW1-VRRP, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_ibgp_config_group` = VPNGW2-RI-IBGP, `vrf_config` = <nil>, `description` = , `id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `secondary_ebgp_config_group` = VPNGW2-RI-EBGP, `zone` = jp1-zone1, `ga_forwarding_class` = FC-VPN-GA, `downlink_interfaces` = ["a3a62a37-5657-4822-98e0-991ab63f0e96"], `name` = sample-vpn-service, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 72b05fe5-88c6-4888-a6fb-feb793fffae8'
04:59:56.493 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 with index 385
[36m04:59:56.493 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 started
[36m04:59:56.496 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 completed: map[vpn_service:map[id:72b05fe5-88c6-4888-a6fb-feb793fffae8 secondary_ebgp_config_group:VPNGW2-RI-EBGP primary_ebgp_config_group:VPNGW1-RI-EBGP name:sample-vpn-service secondary_ibgp_config_group:VPNGW2-RI-IBGP be_forwarding_class:FC-VPN-BE default_static_routes_per_gateway:32 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: ga_forwarding_class:FC-VPN-GA secondary_downlink_vrrp_config_group:VPNGW2-VRRP neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS primary_downlink_vrrp_config_group:VPNGW1-VRRP vrf_config:<nil> zone:jp1-zone1 uplink_interfaces:[5e552b8f-cd5a-454c-a224-33f7da0afa24] primary_ibgp_config_group:VPNGW1-RI-IBGP downlink_interfaces:[a3a62a37-5657-4822-98e0-991ab63f0e96]]]
[36m04:59:56.496 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[895]]
[36m04:59:56.496 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_service": {
    "be_forwarding_class": "FC-VPN-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "a3a62a37-5657-4822-98e0-991ab63f0e96"
    ],
    "ga_forwarding_class": "FC-VPN-GA",
    "id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "name": "sample-vpn-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
    "primary_ebgp_config_group": "VPNGW1-RI-EBGP",
    "primary_ibgp_config_group": "VPNGW1-RI-IBGP",
    "secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
    "secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
    "secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interfaces": [
      "5e552b8f-cd5a-454c-a224-33f7da0afa24"
    ],
    "vrf_config": null,
    "zone": "jp1-zone1"
  }
}
04:59:56.496 gohan.server.middleware INFO [0m Completed 200 OK in 110.659119ms
04:59:56.500 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 already unlocked or not locked
04:59:56.912 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 for client 172.17.0.21:59762 data: 
[36m04:59:56.913 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m04:59:56.913 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:57.004 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 started
[36m04:59:57.007 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 completed: map[vpn_service:map[primary_ebgp_config_group:VPNGW1-RI-EBGP primary_ibgp_config_group:VPNGW1-RI-IBGP primary_downlink_vrrp_config_group:VPNGW1-VRRP description: ga_forwarding_class:FC-VPN-GA be_forwarding_class:FC-VPN-BE default_static_routes_per_gateway:32 secondary_ibgp_config_group:VPNGW2-RI-IBGP secondary_ebgp_config_group:VPNGW2-RI-EBGP name:sample-vpn-service vrf_config:<nil> uplink_interfaces:[5e552b8f-cd5a-454c-a224-33f7da0afa24] secondary_downlink_vrrp_config_group:VPNGW2-VRRP tenant_id:0b576f6f4cbf414f829cd12f008bf08f zone:jp1-zone1 downlink_interfaces:[a3a62a37-5657-4822-98e0-991ab63f0e96] neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS id:72b05fe5-88c6-4888-a6fb-feb793fffae8]]
[36m04:59:57.007 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[895]]
[36m04:59:57.007 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_service": {
    "be_forwarding_class": "FC-VPN-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "a3a62a37-5657-4822-98e0-991ab63f0e96"
    ],
    "ga_forwarding_class": "FC-VPN-GA",
    "id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "name": "sample-vpn-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
    "primary_ebgp_config_group": "VPNGW1-RI-EBGP",
    "primary_ibgp_config_group": "VPNGW1-RI-IBGP",
    "secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
    "secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
    "secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interfaces": [
      "5e552b8f-cd5a-454c-a224-33f7da0afa24"
    ],
    "vrf_config": null,
    "zone": "jp1-zone1"
  }
}
04:59:57.007 gohan.server.middleware INFO [0m Completed 200 OK in 95.022015ms
04:59:57.009 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_services/72b05fe5-88c6-4888-a6fb-feb793fffae8 for client 172.17.0.21:59768 data: {}
[36m04:59:57.009 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:57.010 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:57.092 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 started
[36m04:59:57.095 gohan.server.resources DEBUG [0m Show vpn_service 72b05fe5-88c6-4888-a6fb-feb793fffae8 completed: map[vpn_service:map[primary_downlink_vrrp_config_group:VPNGW1-VRRP secondary_ibgp_config_group:VPNGW2-RI-IBGP name:sample-vpn-service primary_ebgp_config_group:VPNGW1-RI-EBGP secondary_ebgp_config_group:VPNGW2-RI-EBGP ga_forwarding_class:FC-VPN-GA downlink_interfaces:[a3a62a37-5657-4822-98e0-991ab63f0e96] be_forwarding_class:FC-VPN-BE secondary_downlink_vrrp_config_group:VPNGW2-VRRP uplink_interfaces:[5e552b8f-cd5a-454c-a224-33f7da0afa24] default_static_routes_per_gateway:32 primary_ibgp_config_group:VPNGW1-RI-IBGP zone:jp1-zone1 vrf_config:<nil> description: id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS]]
[36m04:59:57.095 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[895]]
[36m04:59:57.095 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_service": {
    "be_forwarding_class": "FC-VPN-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "a3a62a37-5657-4822-98e0-991ab63f0e96"
    ],
    "ga_forwarding_class": "FC-VPN-GA",
    "id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "name": "sample-vpn-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_downlink_vrrp_config_group": "VPNGW1-VRRP",
    "primary_ebgp_config_group": "VPNGW1-RI-EBGP",
    "primary_ibgp_config_group": "VPNGW1-RI-IBGP",
    "secondary_downlink_vrrp_config_group": "VPNGW2-VRRP",
    "secondary_ebgp_config_group": "VPNGW2-RI-EBGP",
    "secondary_ibgp_config_group": "VPNGW2-RI-IBGP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interfaces": [
      "5e552b8f-cd5a-454c-a224-33f7da0afa24"
    ],
    "vrf_config": null,
    "zone": "jp1-zone1"
  }
}
04:59:57.095 gohan.server.middleware INFO [0m Completed 200 OK in 85.612164ms
04:59:57.117 gohan.server.middleware INFO [0m Started POST /v2.0/qos_options for client 172.17.0.21:59774 data: 
{
"qos_option": {
"bandwidth": "10",
"incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
"incoming_policer_name": "10M-GA-UP-VPN",
"name": "10Mbps-Guaranteed",
"outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
"outgoing_policer_name": "10M-GA-DOWN-VPN",
"qos_type": "guarantee",
"service_type": "vpn",
"vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:57.117 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[616] Content-Type:[application/json]]
[36m04:59:57.117 gohan.server.middleware DEBUG [0m Request body: 
{
"qos_option": {
"bandwidth": "10",
"incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
"incoming_policer_name": "10M-GA-UP-VPN",
"name": "10Mbps-Guaranteed",
"outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
"outgoing_policer_name": "10M-GA-DOWN-VPN",
"qos_type": "guarantee",
"service_type": "vpn",
"vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:59:57.199 gohan.server.resources DEBUG [0m Create qos_option with data map[incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } incoming_policer_name:10M-GA-UP-VPN name:10Mbps-Guaranteed service_type:vpn vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 bandwidth:10 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; outgoing_policer_name:10M-GA-DOWN-VPN qos_type:guarantee tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:59:57.199 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:59:57.266 gohan.server.resources DEBUG [0m List vpn_service query: map[id:[72b05fe5-88c6-4888-a6fb-feb793fffae8]] started
[36m04:59:57.269 gohan.server.resources DEBUG [0m List vpn_service query: map[id:[72b05fe5-88c6-4888-a6fb-feb793fffae8]] completed
04:59:57.280 gohan.db.sql INFO [0m Executing SQL query in transaction 'd6530a6f-59d4-494c-8d42-8bc023395342': 'INSERT INTO `qos_options` (`id`,`incoming_policer_name`,`service_type`,`name`,`qos_type`,`incoming_policer_config`,`outgoing_policer_name`,`outgoing_policer_config`,`description`,`bandwidth`,`ha_router_id`,`tenant_id`,`vpn_service_id`,`status`) VALUES (4f59680b-52b6-41da-b15a-09946c155efd,10M-GA-UP-VPN,vpn,10Mbps-Guaranteed,guarantee,action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; },10M-GA-DOWN-VPN,if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;,,10,f01ed0a6-7094-4e54-b14b-94657fff1efb,0b576f6f4cbf414f829cd12f008bf08f,72b05fe5-88c6-4888-a6fb-feb793fffae8,PENDING_CREATE)'
04:59:57.283 gohan.db.sql INFO [0m Executing SQL query in transaction 'd6530a6f-59d4-494c-8d42-8bc023395342': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"bandwidth\":\"10\",\"description\":\"\",\"ha_router_id\":\"f01ed0a6-7094-4e54-b14b-94657fff1efb\",\"id\":\"4f59680b-52b6-41da-b15a-09946c155efd\",\"incoming_policer_config\":\"action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }\",\"incoming_policer_name\":\"10M-GA-UP-VPN\",\"name\":\"10Mbps-Guaranteed\",\"outgoing_policer_config\":\"if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;\",\"outgoing_policer_name\":\"10M-GA-DOWN-VPN\",\"qos_type\":\"guarantee\",\"service_type\":\"vpn\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vpn_service_id\":\"72b05fe5-88c6-4888-a6fb-feb793fffae8\"}",1,/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd,1494478797,create)'
[36m04:59:57.298 gohan.server.resources DEBUG [0m Create qos_option completed: map[qos_option:map[id:4f59680b-52b6-41da-b15a-09946c155efd description: bandwidth:10 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; outgoing_policer_name:10M-GA-DOWN-VPN qos_type:guarantee tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } incoming_policer_name:10M-GA-UP-VPN name:10Mbps-Guaranteed service_type:vpn vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb]]
[36m04:59:57.299 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[824]]
[36m04:59:57.299 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "bandwidth": "10",
    "description": "",
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-VPN",
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-VPN",
    "qos_type": "guarantee",
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8"
  }
}
04:59:57.299 gohan.server.middleware INFO [0m Completed 201 Created in 182.183403ms
[36m04:59:57.300 gohan.server.sync DEBUG [0m Processing event 75 - create
04:59:57.300 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd
[36m04:59:57.303 gohan.server.sync DEBUG [0m Deleting event 75
04:59:57.305 gohan.db.sql INFO [0m Executing SQL query in transaction 'e0c8dac8-ae46-4a92-855c-11f86423abe2': 'DELETE FROM `events` WHERE id = 75'
[36m04:59:57.306 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:59:57.323 gohan.server DEBUG [0m State event update received: set /state/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd map[version:1 error: state:map[worker_state:READ_COMPLETE]]
04:59:57.323 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd map[state:map[worker_state:READ_COMPLETE] version:1 error:] started
04:59:57.327 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd for client 172.17.0.21:59786 data: 
[36m04:59:57.327 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:59:57.327 gohan.server.middleware DEBUG [0m Request body: 
04:59:57.333 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd with index 391
[36m04:59:57.420 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd started
[36m04:59:57.423 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd completed: map[qos_option:map[outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; tenant_id:0b576f6f4cbf414f829cd12f008bf08f incoming_policer_name:10M-GA-UP-VPN qos_type:guarantee incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } bandwidth:10 internet_service_id:<nil> service_type:vpn ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb charge_type:<nil> aws_service_id:<nil> vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 status:PENDING_CREATE name:10Mbps-Guaranteed description: interdc_service_id:<nil> id:4f59680b-52b6-41da-b15a-09946c155efd outgoing_policer_name:10M-GA-DOWN-VPN]]
[36m04:59:57.423 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[942]]
[36m04:59:57.423 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-VPN",
    "interdc_service_id": null,
    "internet_service_id": null,
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-VPN",
    "qos_type": "guarantee",
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8"
  }
}
04:59:57.423 gohan.server.middleware INFO [0m Completed 200 OK in 95.916207ms
04:59:57.430 gohan.db.sql INFO [0m Executing SQL query in transaction '421a9293-240f-48dd-ad3e-e17a6f46f202': 'UPDATE `qos_options` SET `aws_service_id` = <nil>, `bandwidth` = 10, `internet_service_id` = <nil>, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `charge_type` = <nil>, `outgoing_policer_name` = 10M-GA-DOWN-VPN, `outgoing_policer_config` = if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;, `description` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `status` = PENDING_CREATE, `incoming_policer_name` = 10M-GA-UP-VPN, `interdc_service_id` = <nil>, `service_type` = vpn, `name` = 10Mbps-Guaranteed, `id` = 4f59680b-52b6-41da-b15a-09946c155efd, `qos_type` = guarantee, `incoming_policer_config` = action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 4f59680b-52b6-41da-b15a-09946c155efd'
04:59:57.431 gohan.extension.qos_option.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:59:57.432 gohan.db.sql INFO [0m Executing SQL query in transaction '421a9293-240f-48dd-ad3e-e17a6f46f202': 'UPDATE `qos_options` SET `qos_type` = guarantee, `incoming_policer_config` = action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }, `outgoing_policer_name` = 10M-GA-DOWN-VPN, `outgoing_policer_config` = if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;, `description` = , `aws_service_id` = <nil>, `bandwidth` = 10, `internet_service_id` = <nil>, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `charge_type` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `status` = ACTIVE, `id` = 4f59680b-52b6-41da-b15a-09946c155efd, `incoming_policer_name` = 10M-GA-UP-VPN, `interdc_service_id` = <nil>, `service_type` = vpn, `name` = 10Mbps-Guaranteed WHERE id = 4f59680b-52b6-41da-b15a-09946c155efd'
04:59:57.443 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd with index 391
04:59:57.450 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd already unlocked or not locked
04:59:58.435 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd for client 172.17.0.21:59794 data: 
[36m04:59:58.435 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:59:58.435 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:58.518 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd started
[36m04:59:58.521 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd completed: map[qos_option:map[incoming_policer_name:10M-GA-UP-VPN interdc_service_id:<nil> service_type:vpn id:4f59680b-52b6-41da-b15a-09946c155efd incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } internet_service_id:<nil> ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb status:ACTIVE bandwidth:10 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; aws_service_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f outgoing_policer_name:10M-GA-DOWN-VPN vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 name:10Mbps-Guaranteed qos_type:guarantee charge_type:<nil> description:]]
[36m04:59:58.521 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[934]]
[36m04:59:58.521 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-VPN",
    "interdc_service_id": null,
    "internet_service_id": null,
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-VPN",
    "qos_type": "guarantee",
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8"
  }
}
04:59:58.522 gohan.server.middleware INFO [0m Completed 200 OK in 86.575197ms
04:59:58.917 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd for client 172.17.0.21:59802 data: 
[36m04:59:58.918 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:58.918 gohan.server.middleware DEBUG [0m Request body: 
[36m04:59:58.999 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd started
[36m04:59:59.002 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd completed: map[qos_option:map[ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb bandwidth:10 incoming_policer_name:10M-GA-UP-VPN interdc_service_id:<nil> qos_type:guarantee internet_service_id:<nil> charge_type:<nil> outgoing_policer_name:10M-GA-DOWN-VPN outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; description: status:ACTIVE name:10Mbps-Guaranteed id:4f59680b-52b6-41da-b15a-09946c155efd incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } aws_service_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 service_type:vpn]]
[36m04:59:59.002 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[934] Content-Type:[application/json]]
[36m04:59:59.002 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-VPN",
    "interdc_service_id": null,
    "internet_service_id": null,
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-VPN",
    "qos_type": "guarantee",
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8"
  }
}
04:59:59.002 gohan.server.middleware INFO [0m Completed 200 OK in 84.606167ms
04:59:59.003 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/4f59680b-52b6-41da-b15a-09946c155efd for client 172.17.0.21:59808 data: {}
[36m04:59:59.004 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:59:59.004 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:59:59.082 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd started
[36m04:59:59.085 gohan.server.resources DEBUG [0m Show qos_option 4f59680b-52b6-41da-b15a-09946c155efd completed: map[qos_option:map[ha_router_id:f01ed0a6-7094-4e54-b14b-94657fff1efb description: vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; service_type:vpn name:10Mbps-Guaranteed id:4f59680b-52b6-41da-b15a-09946c155efd incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } aws_service_id:<nil> status:ACTIVE bandwidth:10 internet_service_id:<nil> outgoing_policer_name:10M-GA-DOWN-VPN tenant_id:0b576f6f4cbf414f829cd12f008bf08f incoming_policer_name:10M-GA-UP-VPN interdc_service_id:<nil> qos_type:guarantee charge_type:<nil>]]
[36m04:59:59.085 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[934]]
[36m04:59:59.085 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "f01ed0a6-7094-4e54-b14b-94657fff1efb",
    "id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-VPN",
    "interdc_service_id": null,
    "internet_service_id": null,
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-VPN",
    "qos_type": "guarantee",
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8"
  }
}
04:59:59.085 gohan.server.middleware INFO [0m Completed 200 OK in 81.706768ms
[36m04:59:59.770 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:59:59.771 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [395]
[31m04:59:59.771 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [395]
05:00:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
05:00:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:00:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:00:00.091 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m05:00:00.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:00:00.181 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:00:00.184 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:00:00.200 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:00:00.202 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:00:00.205 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:00:04.771 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m05:00:04.772 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [406]
[31m05:00:04.772 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [406]
05:00:09.114 gohan.server.middleware INFO [0m Started POST /v2.0/vpn_gateways for client 172.17.0.21:59834 data: 
{
"vpn_gateway": {
"description": "this resource is vpn-gateway",
"local_as_number": "65101",
"maximum_static_routes": 32,
"name": "sample-vpn-gateway",
"qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
"uplink_vlan_id": "122",
"vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:00:09.114 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[345] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:09.114 gohan.server.middleware DEBUG [0m Request body: 
{
"vpn_gateway": {
"description": "this resource is vpn-gateway",
"local_as_number": "65101",
"maximum_static_routes": 32,
"name": "sample-vpn-gateway",
"qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
"uplink_vlan_id": "122",
"vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:00:09.189 gohan.server.resources DEBUG [0m Create vpn_gateway with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway local_as_number:65101 maximum_static_routes:32 name:sample-vpn-gateway qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_vlan_id:122 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8] started
[36m05:00:09.189 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:00:09.245 gohan.server.resources DEBUG [0m List qos_option query: map[id:[4f59680b-52b6-41da-b15a-09946c155efd]] started
[36m05:00:09.247 gohan.server.resources DEBUG [0m List qos_option query: map[id:[4f59680b-52b6-41da-b15a-09946c155efd]] completed
[36m05:00:09.298 gohan.server.resources DEBUG [0m List vpn_service query: map[id:[72b05fe5-88c6-4888-a6fb-feb793fffae8]] started
[36m05:00:09.300 gohan.server.resources DEBUG [0m List vpn_service query: map[id:[72b05fe5-88c6-4888-a6fb-feb793fffae8]] completed
05:00:09.378 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'UPDATE `ha_routers` SET `available_gateways` = 500, `name` = sample-ha-router, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_router_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `maximum_gateways` = 500, `id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `status` = ACTIVE, `primary_router_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `description` = sample_ha_router WHERE id = f01ed0a6-7094-4e54-b14b-94657fff1efb'
05:00:09.379 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'UPDATE `ha_interfaces` SET `secondary_interface_id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `description` = , `vlan_pool_state` = ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `gateway_instances_count` = 1, `vlan_ids_available` = 3068, `available_ga_bandwidth` = 490, `status` = ACTIVE, `restricted_vlans` = 0-1024,4094, `admin_state_up` = true, `available_be_bandwidth` = 500, `primary_interface_id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-downlink, `maximum_ga_bandwidth` = 500, `link_type` = downlink, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 500, `id` = a3a62a37-5657-4822-98e0-991ab63f0e96 WHERE id = a3a62a37-5657-4822-98e0-991ab63f0e96'
[36m05:00:09.382 gohan.extension.vpn_gateway.pre_create_in_transaction DEBUG [0m downlink logical ports names: ae0.1025, ae0.1025, VLAN ID: 1025
[36m05:00:09.382 gohan.extension.vpn_gateway.pre_create_in_transaction DEBUG [0m Downlink vrf_name: vrf_gw_sample-ha-router-downlink_1025
05:00:09.383 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'UPDATE `ha_interfaces` SET `link_type` = uplink, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-ha-router-uplink, `maximum_ga_bandwidth` = 0, `ha_router_id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `maximum_be_bandwidth` = 0, `id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `gateway_instances_count` = 0, `vlan_ids_available` = 4092, `secondary_interface_id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `description` = , `vlan_pool_state` = gAAAAQAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=, `admin_state_up` = true, `available_be_bandwidth` = 0, `primary_interface_id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b, `available_ga_bandwidth` = 0, `status` = ACTIVE, `restricted_vlans` =  WHERE id = 5e552b8f-cd5a-454c-a224-33f7da0afa24'
[36m05:00:09.387 gohan.extension.vpn_gateway.pre_create_in_transaction DEBUG [0m uplink logical ports names: ge-0/0/1.122, ge-0/0/1.122, VLAN ID: 122
[36m05:00:09.387 gohan.extension.vpn_gateway.pre_create_in_transaction DEBUG [0m Logical uplink interfaces: ge-0/0/1.122, ge-0/0/1.122
05:00:09.387 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'UPDATE `ha_routers` SET `status` = ACTIVE, `primary_router_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `description` = sample_ha_router, `maximum_gateways` = 500, `id` = f01ed0a6-7094-4e54-b14b-94657fff1efb, `available_gateways` = 499, `name` = sample-ha-router, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_router_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e WHERE id = f01ed0a6-7094-4e54-b14b-94657fff1efb'
05:00:09.388 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'INSERT INTO `vpn_gateways` (`primary_logical_uplink_interface_name`,`status`,`name`,`secondary_logical_downlink_interface_name`,`local_as_number`,`vpn_service_id`,`tenant_id`,`id`,`connected_vpn_interface`,`vrf_name`,`description`,`downlink_vlan_id`,`primary_logical_downlink_interface_name`,`maximum_static_routes`,`downlink_interface_id`,`qos_option_id`,`uplink_interface_id`,`uplink_vlan_id`,`secondary_logical_uplink_interface_name`) VALUES (ge-0/0/1.122,PENDING_CREATE,sample-vpn-gateway,ae0.1025,65101,72b05fe5-88c6-4888-a6fb-feb793fffae8,0b576f6f4cbf414f829cd12f008bf08f,4fab887d-8f73-40e6-b2d8-2426255231bf,,vrf_gw_sample-ha-router-downlink_1025,this resource is vpn-gateway,1025,ae0.1025,32,a3a62a37-5657-4822-98e0-991ab63f0e96,4f59680b-52b6-41da-b15a-09946c155efd,5e552b8f-cd5a-454c-a224-33f7da0afa24,122,ge-0/0/1.122)'
05:00:09.388 gohan.db.sql INFO [0m Executing SQL query in transaction '34511ab3-f15f-49e7-a730-97f80d0094b4': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478809,create,false,"{\"connected_vpn_interface\":\"\",\"description\":\"this resource is vpn-gateway\",\"downlink_interface_id\":\"a3a62a37-5657-4822-98e0-991ab63f0e96\",\"downlink_vlan_id\":\"1025\",\"id\":\"4fab887d-8f73-40e6-b2d8-2426255231bf\",\"local_as_number\":\"65101\",\"maximum_static_routes\":32,\"name\":\"sample-vpn-gateway\",\"primary_logical_downlink_interface_name\":\"ae0.1025\",\"primary_logical_uplink_interface_name\":\"ge-0/0/1.122\",\"qos_option_id\":\"4f59680b-52b6-41da-b15a-09946c155efd\",\"secondary_logical_downlink_interface_name\":\"ae0.1025\",\"secondary_logical_uplink_interface_name\":\"ge-0/0/1.122\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"uplink_interface_id\":\"5e552b8f-cd5a-454c-a224-33f7da0afa24\",\"uplink_vlan_id\":\"122\",\"vpn_service_id\":\"72b05fe5-88c6-4888-a6fb-feb793fffae8\",\"vrf_name\":\"vrf_gw_sample-ha-router-downlink_1025\"}",1,/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf)'
[36m05:00:09.399 gohan.server.resources DEBUG [0m Create vpn_gateway completed: map[vpn_gateway:map[primary_logical_downlink_interface_name:ae0.1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 secondary_logical_uplink_interface_name:ge-0/0/1.122 description:this resource is vpn-gateway maximum_static_routes:32 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_vpn_interface: downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 vrf_name:vrf_gw_sample-ha-router-downlink_1025 name:sample-vpn-gateway qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd status:PENDING_CREATE downlink_vlan_id:1025 local_as_number:65101 uplink_vlan_id:122 id:4fab887d-8f73-40e6-b2d8-2426255231bf secondary_logical_downlink_interface_name:ae0.1025 primary_logical_uplink_interface_name:ge-0/0/1.122]]
[36m05:00:09.399 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:09.399 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:09.399 gohan.server.middleware INFO [0m Completed 201 Created in 284.801858ms
[36m05:00:09.402 gohan.server.sync DEBUG [0m Processing event 76 - create
05:00:09.402 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf
[36m05:00:09.403 gohan.server.sync DEBUG [0m Deleting event 76
05:00:09.405 gohan.db.sql INFO [0m Executing SQL query in transaction '92752c76-66c6-4106-9b4c-8667b53aac18': 'DELETE FROM `events` WHERE id = 76'
[36m05:00:09.405 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:00:09.425 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59846 data: 
[36m05:00:09.425 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:00:09.426 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:09.515 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:09.521 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[description:this resource is vpn-gateway primary_logical_downlink_interface_name:ae0.1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_logical_uplink_interface_name:ge-0/0/1.122 status:PENDING_CREATE name:sample-vpn-gateway uplink_vlan_id:122 id:4fab887d-8f73-40e6-b2d8-2426255231bf downlink_vlan_id:1025 secondary_logical_uplink_interface_name:ge-0/0/1.122 maximum_static_routes:32 local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 connected_vpn_interface: downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd secondary_logical_downlink_interface_name:ae0.1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f vrf_name:vrf_gw_sample-ha-router-downlink_1025]]
[36m05:00:09.521 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:09.521 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:09.521 gohan.server.middleware INFO [0m Completed 200 OK in 95.571138ms
[36m05:00:09.772 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m05:00:09.773 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [418]
[31m05:00:09.773 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [418]
05:00:10.533 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59868 data: 
[36m05:00:10.534 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:10.534 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:10.629 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:10.632 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[local_as_number:65101 status:PENDING_CREATE connected_vpn_interface: tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway secondary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 downlink_vlan_id:1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 primary_logical_uplink_interface_name:ge-0/0/1.122 id:4fab887d-8f73-40e6-b2d8-2426255231bf uplink_vlan_id:122 primary_logical_downlink_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 maximum_static_routes:32]]
[36m05:00:10.632 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[966] Content-Type:[application/json]]
[36m05:00:10.632 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:10.632 gohan.server.middleware INFO [0m Completed 200 OK in 98.61677ms
05:00:11.645 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59874 data: 
[36m05:00:11.645 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:11.645 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:11.760 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:11.765 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[primary_logical_downlink_interface_name:ae0.1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 uplink_vlan_id:122 primary_logical_uplink_interface_name:ge-0/0/1.122 status:PENDING_CREATE secondary_logical_downlink_interface_name:ae0.1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_vpn_interface: vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd local_as_number:65101 id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway maximum_static_routes:32 secondary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway]]
[36m05:00:11.765 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:11.765 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:11.766 gohan.server.middleware INFO [0m Completed 200 OK in 121.128294ms
05:00:12.779 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59880 data: 
[36m05:00:12.779 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:12.780 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:12.859 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:12.862 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[secondary_logical_uplink_interface_name:ge-0/0/1.122 status:PENDING_CREATE name:sample-vpn-gateway id:4fab887d-8f73-40e6-b2d8-2426255231bf downlink_vlan_id:1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd local_as_number:65101 tenant_id:0b576f6f4cbf414f829cd12f008bf08f uplink_vlan_id:122 primary_logical_downlink_interface_name:ae0.1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 secondary_logical_downlink_interface_name:ae0.1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 connected_vpn_interface: description:this resource is vpn-gateway maximum_static_routes:32 primary_logical_uplink_interface_name:ge-0/0/1.122 vrf_name:vrf_gw_sample-ha-router-downlink_1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24]]
[36m05:00:12.862 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[966] Content-Type:[application/json]]
[36m05:00:12.862 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:12.862 gohan.server.middleware INFO [0m Completed 200 OK in 82.763465ms
05:00:13.873 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59886 data: 
[36m05:00:13.874 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:00:13.874 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:13.948 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:13.951 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[uplink_vlan_id:122 secondary_logical_uplink_interface_name:ge-0/0/1.122 maximum_static_routes:32 status:PENDING_CREATE id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd secondary_logical_downlink_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f downlink_vlan_id:1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 connected_vpn_interface:]]
[36m05:00:13.951 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:13.951 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:13.951 gohan.server.middleware INFO [0m Completed 200 OK in 77.513787ms
[36m05:00:14.773 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m05:00:14.774 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [419]
[31m05:00:14.775 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [419]
05:00:14.963 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59892 data: 
[36m05:00:14.964 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:14.964 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:15.049 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:15.052 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 connected_vpn_interface: uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 maximum_static_routes:32 vrf_name:vrf_gw_sample-ha-router-downlink_1025 secondary_logical_uplink_interface_name:ge-0/0/1.122 local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 primary_logical_uplink_interface_name:ge-0/0/1.122 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway uplink_vlan_id:122 primary_logical_downlink_interface_name:ae0.1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 downlink_vlan_id:1025]]
[36m05:00:15.052 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:15.052 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:15.052 gohan.server.middleware INFO [0m Completed 200 OK in 88.772186ms
05:00:16.065 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59898 data: 
[36m05:00:16.065 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:16.065 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:16.148 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:16.151 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[secondary_logical_uplink_interface_name:ge-0/0/1.122 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway primary_logical_downlink_interface_name:ae0.1025 uplink_vlan_id:122 secondary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 vrf_name:vrf_gw_sample-ha-router-downlink_1025 primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 status:PENDING_CREATE vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 connected_vpn_interface: downlink_vlan_id:1025 maximum_static_routes:32]]
[36m05:00:16.151 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[966] Content-Type:[application/json]]
[36m05:00:16.151 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:16.151 gohan.server.middleware INFO [0m Completed 200 OK in 86.824693ms
05:00:17.164 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59904 data: 
[36m05:00:17.164 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:17.164 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:17.247 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:17.250 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[description:this resource is vpn-gateway maximum_static_routes:32 secondary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 primary_logical_uplink_interface_name:ge-0/0/1.122 vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 status:PENDING_CREATE connected_vpn_interface: id:4fab887d-8f73-40e6-b2d8-2426255231bf qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_vlan_id:122 secondary_logical_downlink_interface_name:ae0.1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f downlink_vlan_id:1025]]
[36m05:00:17.251 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:17.251 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:17.251 gohan.server.middleware INFO [0m Completed 200 OK in 87.096428ms
05:00:18.263 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59912 data: 
[36m05:00:18.263 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:18.264 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:18.338 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:18.340 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[description:this resource is vpn-gateway status:PENDING_CREATE local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_vlan_id:122 vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025 primary_logical_downlink_interface_name:ae0.1025 maximum_static_routes:32 primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 id:4fab887d-8f73-40e6-b2d8-2426255231bf connected_vpn_interface: secondary_logical_uplink_interface_name:ge-0/0/1.122 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24]]
[36m05:00:18.341 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:18.341 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:18.341 gohan.server.middleware INFO [0m Completed 200 OK in 77.648821ms
05:00:19.355 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59918 data: 
[36m05:00:19.355 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:19.355 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:19.439 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:19.442 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[id:4fab887d-8f73-40e6-b2d8-2426255231bf primary_logical_downlink_interface_name:ae0.1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_uplink_interface_name:ge-0/0/1.122 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_static_routes:32 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 vrf_name:vrf_gw_sample-ha-router-downlink_1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_vlan_id:122 status:PENDING_CREATE connected_vpn_interface: description:this resource is vpn-gateway downlink_vlan_id:1025]]
[36m05:00:19.442 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:19.442 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:19.442 gohan.server.middleware INFO [0m Completed 200 OK in 87.378101ms
[36m05:00:19.775 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m05:00:19.775 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [420]
[31m05:00:19.775 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [420]
05:00:20.453 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59924 data: 
[36m05:00:20.453 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:20.453 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:20.519 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:20.521 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[status:PENDING_CREATE vrf_name:vrf_gw_sample-ha-router-downlink_1025 secondary_logical_uplink_interface_name:ge-0/0/1.122 local_as_number:65101 connected_vpn_interface: primary_logical_downlink_interface_name:ae0.1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f downlink_vlan_id:1025 uplink_vlan_id:122 maximum_static_routes:32]]
[36m05:00:20.521 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:20.521 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:20.521 gohan.server.middleware INFO [0m Completed 200 OK in 68.616586ms
05:00:21.533 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59930 data: 
[36m05:00:21.533 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:21.533 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:21.597 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:21.599 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[maximum_static_routes:32 downlink_vlan_id:1025 uplink_vlan_id:122 id:4fab887d-8f73-40e6-b2d8-2426255231bf vrf_name:vrf_gw_sample-ha-router-downlink_1025 primary_logical_uplink_interface_name:ge-0/0/1.122 secondary_logical_downlink_interface_name:ae0.1025 name:sample-vpn-gateway connected_vpn_interface: downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_downlink_interface_name:ae0.1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd local_as_number:65101 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24]]
[36m05:00:21.600 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:21.600 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:21.600 gohan.server.middleware INFO [0m Completed 200 OK in 67.207563ms
05:00:22.610 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59942 data: 
[36m05:00:22.611 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:22.611 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:22.674 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:22.677 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway primary_logical_downlink_interface_name:ae0.1025 uplink_vlan_id:122 status:PENDING_CREATE name:sample-vpn-gateway maximum_static_routes:32 secondary_logical_downlink_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 connected_vpn_interface: tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_uplink_interface_name:ge-0/0/1.122 local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8]]
[36m05:00:22.677 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:22.677 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:22.677 gohan.server.middleware INFO [0m Completed 200 OK in 66.500254ms
05:00:23.687 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59948 data: 
[36m05:00:23.688 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:23.688 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:23.755 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:23.757 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[primary_logical_downlink_interface_name:ae0.1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f uplink_vlan_id:122 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_uplink_interface_name:ge-0/0/1.122 secondary_logical_downlink_interface_name:ae0.1025 id:4fab887d-8f73-40e6-b2d8-2426255231bf vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 maximum_static_routes:32 name:sample-vpn-gateway local_as_number:65101 connected_vpn_interface: description:this resource is vpn-gateway downlink_vlan_id:1025]]
[36m05:00:23.757 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:23.758 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:23.758 gohan.server.middleware INFO [0m Completed 200 OK in 70.163937ms
05:00:24.769 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59956 data: 
[36m05:00:24.770 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:24.770 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:24.776 gohan.server DEBUG [0m Monitoring Watcher starts watch
[36m05:00:24.778 gohan.server DEBUG [0m Monitoring event update received: get /monitoring map[]
[36m05:00:24.778 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0 map[]
[36m05:00:24.778 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices map[]
[36m05:00:24.778 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 map[switch:UP version:1]
05:00:24.778 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 map[switch:UP version:1] started
[33m05:00:24.778 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '//monitoring'
05:00:24.778 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices map[] started
[33m05:00:24.778 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '/v2.0'
[33m05:00:24.780 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: No resource found
05:00:24.781 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 with index 422
05:00:24.837 gohan.db.sql INFO [0m Executing SQL query in transaction '2d61324f-440c-4899-9caa-660177e07071': 'UPDATE `ese_devices` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `hostname` = QFX-NW02, `name` = QFX-NW02, `status` = ACTIVE, `public_ip_address` = 10.161.0.34, `password` = password, `flavor` = <nil>, `management_ip_address` = 10.161.0.34, `tags` = {}, `description` = , `type` = tor, `location` = <nil>, `tsn_names` = null, `existing` = existing, `id` = 5314fffc-6c86-4410-a64b-5386286ac629, `tor_agent_names` = null, `username` = esi, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [\"default-global-system-config\", \"QFX-NW02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"physical_router\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"dummy\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","state_monitoring":"{\"switch\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"switch":"UP"}, `marked_for_deletion` = 0 WHERE id = 5314fffc-6c86-4410-a64b-5386286ac629'
05:00:24.838 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:24.838 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"switch": "ACTIVE"}
05:00:24.838 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"switch":"UP"}
05:00:24.852 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 with index 422
05:00:24.852 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 completed
05:00:24.859 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_devices/5314fffc-6c86-4410-a64b-5386286ac629 already unlocked or not locked
[36m05:00:24.867 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:24.871 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[status:PENDING_CREATE vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025 secondary_logical_uplink_interface_name:ge-0/0/1.122 maximum_static_routes:32 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway primary_logical_downlink_interface_name:ae0.1025 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 uplink_vlan_id:122 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 secondary_logical_downlink_interface_name:ae0.1025 connected_vpn_interface: qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd id:4fab887d-8f73-40e6-b2d8-2426255231bf local_as_number:65101]]
[36m05:00:24.871 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:24.871 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:24.871 gohan.server.middleware INFO [0m Completed 200 OK in 101.420545ms
05:00:25.882 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59964 data: 
[36m05:00:25.882 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:25.882 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:25.959 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:25.962 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[id:4fab887d-8f73-40e6-b2d8-2426255231bf description:this resource is vpn-gateway primary_logical_downlink_interface_name:ae0.1025 secondary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 status:PENDING_CREATE connected_vpn_interface: tenant_id:0b576f6f4cbf414f829cd12f008bf08f downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 primary_logical_uplink_interface_name:ge-0/0/1.122 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 secondary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_vlan_id:122 maximum_static_routes:32 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025]]
[36m05:00:25.963 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:25.963 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:25.963 gohan.server.middleware INFO [0m Completed 200 OK in 80.782746ms
05:00:26.972 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:59970 data: 
[36m05:00:26.972 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:26.972 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:27.044 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:27.047 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_logical_uplink_interface_name:ge-0/0/1.122 id:4fab887d-8f73-40e6-b2d8-2426255231bf downlink_vlan_id:1025 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_downlink_interface_name:ae0.1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_vlan_id:122 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_vpn_interface: maximum_static_routes:32 name:sample-vpn-gateway local_as_number:65101 vrf_name:vrf_gw_sample-ha-router-downlink_1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd status:PENDING_CREATE secondary_logical_downlink_interface_name:ae0.1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 description:this resource is vpn-gateway]]
[36m05:00:27.047 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[966]]
[36m05:00:27.047 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:27.047 gohan.server.middleware INFO [0m Completed 200 OK in 75.418773ms
[36m05:00:27.156 gohan.server DEBUG [0m State event update received: set /state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf map[error: state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
05:00:27.157 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf map[error: state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
05:00:27.164 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf with index 440
05:00:27.226 gohan.db.sql INFO [0m Executing SQL query in transaction '253e692a-e5c4-4b08-9744-2c583551ea99': 'UPDATE `vpn_gateways` SET `local_as_number` = 65101, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `primary_logical_uplink_interface_name` = ge-0/0/1.122, `status` = PENDING_CREATE, `name` = sample-vpn-gateway, `secondary_logical_downlink_interface_name` = ae0.1025, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `connected_vpn_interface` = , `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `description` = this resource is vpn-gateway, `downlink_vlan_id` = 1025, `uplink_interface_id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `uplink_vlan_id` = 122, `secondary_logical_uplink_interface_name` = ge-0/0/1.122, `primary_logical_downlink_interface_name` = ae0.1025, `maximum_static_routes` = 32, `downlink_interface_id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `qos_option_id` = 4f59680b-52b6-41da-b15a-09946c155efd, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"downlink\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 4fab887d-8f73-40e6-b2d8-2426255231bf'
05:00:27.227 gohan.extension.vpn_gateway.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:00:27.227 gohan.extension.vpn_gateway.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"downlink": "ACTIVE"}
05:00:27.230 gohan.db.sql INFO [0m Executing SQL query in transaction '253e692a-e5c4-4b08-9744-2c583551ea99': 'UPDATE `vpn_gateways` SET `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `primary_logical_uplink_interface_name` = ge-0/0/1.122, `status` = ACTIVE, `name` = sample-vpn-gateway, `secondary_logical_downlink_interface_name` = ae0.1025, `local_as_number` = 65101, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `connected_vpn_interface` = , `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `description` = this resource is vpn-gateway, `downlink_vlan_id` = 1025, `uplink_vlan_id` = 122, `secondary_logical_uplink_interface_name` = ge-0/0/1.122, `primary_logical_downlink_interface_name` = ae0.1025, `maximum_static_routes` = 32, `downlink_interface_id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `qos_option_id` = 4f59680b-52b6-41da-b15a-09946c155efd, `uplink_interface_id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24 WHERE id = 4fab887d-8f73-40e6-b2d8-2426255231bf'
05:00:27.243 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf with index 440
Endpoint for service monitoring not found.
[31m05:00:27.243 gohan.extension.vpn_gateway.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:00:27.254 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf already unlocked or not locked
05:00:28.058 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:60002 data: 
[36m05:00:28.058 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:28.058 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:28.121 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:28.123 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[primary_logical_downlink_interface_name:ae0.1025 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 status:ACTIVE connected_vpn_interface: vrf_name:vrf_gw_sample-ha-router-downlink_1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 secondary_logical_uplink_interface_name:ge-0/0/1.122 downlink_vlan_id:1025 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 id:4fab887d-8f73-40e6-b2d8-2426255231bf downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 primary_logical_uplink_interface_name:ge-0/0/1.122 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway uplink_vlan_id:122 maximum_static_routes:32 local_as_number:65101]]
[36m05:00:28.124 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[958]]
[36m05:00:28.124 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:28.124 gohan.server.middleware INFO [0m Completed 200 OK in 66.196886ms
05:00:28.484 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:60010 data: 
[36m05:00:28.484 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m05:00:28.484 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:28.549 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:28.551 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd maximum_static_routes:32 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 vrf_name:vrf_gw_sample-ha-router-downlink_1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 primary_logical_downlink_interface_name:ae0.1025 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 local_as_number:65101 primary_logical_uplink_interface_name:ge-0/0/1.122 name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 status:ACTIVE id:4fab887d-8f73-40e6-b2d8-2426255231bf downlink_vlan_id:1025 uplink_vlan_id:122 secondary_logical_uplink_interface_name:ge-0/0/1.122 connected_vpn_interface:]]
[36m05:00:28.551 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[958]]
[36m05:00:28.551 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:28.551 gohan.server.middleware INFO [0m Completed 200 OK in 67.754279ms
05:00:28.552 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:60016 data: {}
[36m05:00:28.552 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:00:28.553 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:00:28.626 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:00:28.629 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[description:this resource is vpn-gateway downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 connected_vpn_interface: name:sample-vpn-gateway secondary_logical_downlink_interface_name:ae0.1025 local_as_number:65101 tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary_logical_uplink_interface_name:ge-0/0/1.122 id:4fab887d-8f73-40e6-b2d8-2426255231bf vrf_name:vrf_gw_sample-ha-router-downlink_1025 downlink_vlan_id:1025 maximum_static_routes:32 uplink_vlan_id:122 primary_logical_downlink_interface_name:ae0.1025 status:ACTIVE primary_logical_uplink_interface_name:ge-0/0/1.122]]
[36m05:00:28.629 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[958]]
[36m05:00:28.629 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:00:28.629 gohan.server.middleware INFO [0m Completed 200 OK in 77.105682ms
05:00:29.014 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.21:60024 data: {}
[36m05:00:29.014 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:00:29.014 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:00:29.115 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m05:00:29.117 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m05:00:29.117 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[402]]
[36m05:00:29.118 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494478827,
      "deleted": null,
      "id": "7806e79c-7403-462f-abd4-57d4f4f20f54",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:00:29.118 gohan.server.middleware INFO [0m Completed 200 OK in 103.650856ms
05:00:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:00:30.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:00:30.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:00:30.148 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:00:30.158 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:00:30.167 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:00:30.168 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:00:30.170 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:00:32.406 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d map[port:UP version:1]
05:00:32.407 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d map[version:1 port:UP] started
[36m05:00:32.413 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 map[port:UP version:1]
05:00:32.413 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 map[port:UP version:1] started
05:00:32.415 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d with index 457
05:00:32.426 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 with index 458
05:00:33.052 gohan.db.sql INFO [0m Executing SQL query in transaction '3c08bf46-dec8-45ed-ba05-ac1f4b515e69': 'UPDATE `ese_physical_ports` SET `existing` = new, `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, `name` = xe-0/0/4, `id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `description` = , `status` = ACTIVE, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_id` = , ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"port":"UP"}, `marked_for_deletion` = 0 WHERE id = 176ec475-e9e8-4605-8b41-802fbc6220c1'
05:00:33.078 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:33.082 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
05:00:33.084 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"port":"UP"}
05:00:33.230 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 with index 458
05:00:33.230 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 completed
05:00:33.241 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/176ec475-e9e8-4605-8b41-802fbc6220c1 already unlocked or not locked
05:00:33.376 gohan.db.sql INFO [0m Executing SQL query in transaction '5c4c0716-a57e-4f24-8490-5f72d08a9bb1': 'UPDATE `ese_physical_ports` SET `description` = , `status` = ACTIVE, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_id` = , `id` = eec156b0-7317-48dd-b76c-019c0758e99d, `existing` = new, `ese_device_id` = 5314fffc-6c86-4410-a64b-5386286ac629, `connected_port_owner` = mx_downlink, `name` = xe-0/0/3, ese_device_id = 5314fffc-6c86-4410-a64b-5386286ac629, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"port":"UP"}, `marked_for_deletion` = 0 WHERE id = eec156b0-7317-48dd-b76c-019c0758e99d'
05:00:33.378 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:33.378 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
05:00:33.378 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"port":"UP"}
05:00:33.401 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d with index 457
05:00:33.401 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d completed
05:00:33.408 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/eec156b0-7317-48dd-b76c-019c0758e99d already unlocked or not locked
05:00:41.068 gohan.server.middleware INFO [0m Started POST /v2.0/vpn_interfaces for client 172.17.0.21:60070 data: 
{
"vpn_interface": {
"bgp_md5": "test",
"bgp_remote_as": "9598",
"description": "Sample Vpn-interface",
"name": "sample-vpn-interface",

"primary": {
"bgp_peer_ip": "192.168.8.1",
"bgp_router_id": "192.168.8.2",
"ip_address": "192.168.8.2/30"
},
"secondary": {
"bgp_peer_ip": "192.168.8.5",
"bgp_router_id": "192.168.8.6",
"ip_address": "192.168.8.6/30"
},
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:00:41.068 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[462] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:41.069 gohan.server.middleware DEBUG [0m Request body: 
{
"vpn_interface": {
"bgp_md5": "test",
"bgp_remote_as": "9598",
"description": "Sample Vpn-interface",
"name": "sample-vpn-interface",

"primary": {
"bgp_peer_ip": "192.168.8.1",
"bgp_router_id": "192.168.8.2",
"ip_address": "192.168.8.2/30"
},
"secondary": {
"bgp_peer_ip": "192.168.8.5",
"bgp_router_id": "192.168.8.6",
"ip_address": "192.168.8.6/30"
},
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:00:41.155 gohan.server.resources DEBUG [0m Create vpn_interface with data map[description:Sample Vpn-interface name:sample-vpn-interface primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f bgp_md5:test bgp_remote_as:9598] started
[36m05:00:41.155 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:00:41.223 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] started
[36m05:00:41.226 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] completed
05:00:41.232 gohan.db.sql INFO [0m Executing SQL query in transaction '8ae8f9ea-937a-432f-ae71-51762fbe1e0d': 'INSERT INTO `vpn_interfaces` (`bgp_remote_as`,`status`,`name`,`bgp_md5`,`tenant_id`,`id`,`secondary`,`primary`,`description`,`vpn_gw_id`) VALUES (9598,PENDING_CREATE,sample-vpn-interface,test,0b576f6f4cbf414f829cd12f008bf08f,0bea303d-b6eb-4edc-83ef-e32f915d3047,{"bgp_peer_ip":"192.168.8.5","bgp_router_id":"192.168.8.6","ip_address":"192.168.8.6/30"},{"bgp_peer_ip":"192.168.8.1","bgp_router_id":"192.168.8.2","ip_address":"192.168.8.2/30"},Sample Vpn-interface,4fab887d-8f73-40e6-b2d8-2426255231bf)'
05:00:41.233 gohan.db.sql INFO [0m Executing SQL query in transaction '8ae8f9ea-937a-432f-ae71-51762fbe1e0d': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047,1494478841,create,false,"{\"bgp_md5\":\"test\",\"bgp_remote_as\":\"9598\",\"description\":\"Sample Vpn-interface\",\"id\":\"0bea303d-b6eb-4edc-83ef-e32f915d3047\",\"name\":\"sample-vpn-interface\",\"primary\":{\"bgp_peer_ip\":\"192.168.8.1\",\"bgp_router_id\":\"192.168.8.2\",\"ip_address\":\"192.168.8.2/30\"},\"secondary\":{\"bgp_peer_ip\":\"192.168.8.5\",\"bgp_router_id\":\"192.168.8.6\",\"ip_address\":\"192.168.8.6/30\"},\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vpn_gw_id\":\"4fab887d-8f73-40e6-b2d8-2426255231bf\"}",1)'
05:00:41.237 gohan.db.sql INFO [0m Executing SQL query in transaction '8ae8f9ea-937a-432f-ae71-51762fbe1e0d': 'UPDATE `vpn_gateways` SET `description` = this resource is vpn-gateway, `downlink_vlan_id` = 1025, `primary_logical_downlink_interface_name` = ae0.1025, `maximum_static_routes` = 32, `downlink_interface_id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `qos_option_id` = 4f59680b-52b6-41da-b15a-09946c155efd, `uplink_interface_id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `uplink_vlan_id` = 122, `secondary_logical_uplink_interface_name` = ge-0/0/1.122, `primary_logical_uplink_interface_name` = ge-0/0/1.122, `status` = PENDING_UPDATE, `name` = sample-vpn-gateway, `secondary_logical_downlink_interface_name` = ae0.1025, `local_as_number` = 65101, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `connected_vpn_interface` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `config_version` = `config_version` + 1 WHERE id = 4fab887d-8f73-40e6-b2d8-2426255231bf'
05:00:41.238 gohan.db.sql INFO [0m Executing SQL query in transaction '8ae8f9ea-937a-432f-ae71-51762fbe1e0d': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (2,/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf,1494478841,update,false,"{\"connected_vpn_interface\":\"0bea303d-b6eb-4edc-83ef-e32f915d3047\",\"description\":\"this resource is vpn-gateway\",\"downlink_interface_id\":\"a3a62a37-5657-4822-98e0-991ab63f0e96\",\"downlink_vlan_id\":\"1025\",\"id\":\"4fab887d-8f73-40e6-b2d8-2426255231bf\",\"local_as_number\":\"65101\",\"maximum_static_routes\":32,\"name\":\"sample-vpn-gateway\",\"primary_logical_downlink_interface_name\":\"ae0.1025\",\"primary_logical_uplink_interface_name\":\"ge-0/0/1.122\",\"qos_option_id\":\"4f59680b-52b6-41da-b15a-09946c155efd\",\"secondary_logical_downlink_interface_name\":\"ae0.1025\",\"secondary_logical_uplink_interface_name\":\"ge-0/0/1.122\",\"status\":\"PENDING_UPDATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"uplink_interface_id\":\"5e552b8f-cd5a-454c-a224-33f7da0afa24\",\"uplink_vlan_id\":\"122\",\"vpn_service_id\":\"72b05fe5-88c6-4888-a6fb-feb793fffae8\",\"vrf_name\":\"vrf_gw_sample-ha-router-downlink_1025\"}")'
[36m05:00:41.247 gohan.server.resources DEBUG [0m Create vpn_interface completed: map[vpn_interface:map[bgp_md5:test primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf status:PENDING_CREATE bgp_remote_as:9598 description:Sample Vpn-interface name:sample-vpn-interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047]]
[36m05:00:41.247 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:41.248 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:41.248 gohan.server.middleware INFO [0m Completed 201 Created in 179.529954ms
[36m05:00:41.251 gohan.server.sync DEBUG [0m Processing event 77 - create
05:00:41.251 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047
[36m05:00:41.262 gohan.server.sync DEBUG [0m Deleting event 77
05:00:41.266 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60080 data: 
[36m05:00:41.266 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:41.266 gohan.server.middleware DEBUG [0m Request body: 
05:00:41.269 gohan.db.sql INFO [0m Executing SQL query in transaction 'eca47b1d-feee-4085-85da-45c1a1d3dff8': 'DELETE FROM `events` WHERE id = 77'
[36m05:00:41.270 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:00:41.277 gohan.server.sync DEBUG [0m Processing event 78 - update
05:00:41.277 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf
[36m05:00:41.279 gohan.server.sync DEBUG [0m Deleting event 78
05:00:41.281 gohan.db.sql INFO [0m Executing SQL query in transaction '2e73ee58-79d1-40e2-8e3e-2ce259ed18c0': 'DELETE FROM `events` WHERE id = 78'
[36m05:00:41.282 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:00:41.385 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:41.391 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[bgp_remote_as:9598 name:sample-vpn-interface bgp_md5:test secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047]]
[36m05:00:41.391 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[622] Content-Type:[application/json]]
[36m05:00:41.391 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:41.391 gohan.server.middleware INFO [0m Completed 200 OK in 125.328907ms
[36m05:00:42.317 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 map[router:UP version:1]
05:00:42.318 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 map[router:UP version:1] started
05:00:42.326 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 with index 488
[36m05:00:42.348 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e map[router:UP version:1]
05:00:42.348 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e map[router:UP version:1] started
05:00:42.355 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e with index 491
05:00:42.407 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60118 data: 
[36m05:00:42.407 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:42.408 gohan.server.middleware DEBUG [0m Request body: 
05:00:42.426 gohan.db.sql INFO [0m Executing SQL query in transaction '0c3c0456-0dbf-4753-89cd-ebb7ad5174db': 'UPDATE `edge_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = MX80 #2, `ssh_port` = 830, `ip` = 10.79.5.185, `status` = ACTIVE, `password` = esiesi0000, `name` = vMX-router-02, `id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `login` = esi, `autonomous_system` = 65101, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"router":"UP"}, `marked_for_deletion` = 0 WHERE id = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198'
05:00:42.429 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:42.429 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
05:00:42.429 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"router":"UP"}
05:00:42.443 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 with index 488
05:00:42.443 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 completed
05:00:42.449 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/edge_routers/792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198 already unlocked or not locked
05:00:42.470 gohan.db.sql INFO [0m Executing SQL query in transaction '1a5e3f7a-f008-4758-b94d-2dd048c87203': 'UPDATE `edge_routers` SET `login` = esi, `autonomous_system` = 65101, `password` = esiesi0000, `name` = vMX-router-01, `id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `ip` = 10.79.5.184, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = MX80 #1, `ssh_port` = 830, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"router":"UP"}, `marked_for_deletion` = 0 WHERE id = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e'
05:00:42.477 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:42.477 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
05:00:42.477 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"router":"UP"}
05:00:42.487 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e with index 491
05:00:42.487 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e completed
05:00:42.498 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/edge_routers/3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e already unlocked or not locked
[36m05:00:42.519 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:42.522 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[name:sample-vpn-interface bgp_md5:test description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] status:PENDING_CREATE id:0bea303d-b6eb-4edc-83ef-e32f915d3047 bgp_remote_as:9598]]
[36m05:00:42.522 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[622] Content-Type:[application/json]]
[36m05:00:42.522 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:42.522 gohan.server.middleware INFO [0m Completed 200 OK in 114.834722ms
05:00:43.536 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60124 data: 
[36m05:00:43.536 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:43.536 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:43.634 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:43.638 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] description:Sample Vpn-interface status:PENDING_CREATE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf name:sample-vpn-interface bgp_md5:test secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] bgp_remote_as:9598]]
[36m05:00:43.638 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:43.638 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:43.638 gohan.server.middleware INFO [0m Completed 200 OK in 102.463715ms
05:00:44.653 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60130 data: 
[36m05:00:44.653 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:44.653 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:44.733 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:44.735 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] bgp_remote_as:9598 name:sample-vpn-interface description:Sample Vpn-interface bgp_md5:test id:0bea303d-b6eb-4edc-83ef-e32f915d3047 primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] status:PENDING_CREATE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf]]
[36m05:00:44.735 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:44.735 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:44.735 gohan.server.middleware INFO [0m Completed 200 OK in 82.579605ms
05:00:45.775 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60136 data: 
[36m05:00:45.775 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:00:45.775 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:45.868 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:45.871 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] name:sample-vpn-interface description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 bgp_remote_as:9598 status:PENDING_CREATE]]
[36m05:00:45.871 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:45.871 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:45.871 gohan.server.middleware INFO [0m Completed 200 OK in 95.9003ms
05:00:46.889 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60142 data: 
[36m05:00:46.889 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:46.889 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:46.965 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:46.968 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] status:PENDING_CREATE bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f bgp_remote_as:9598 name:sample-vpn-interface]]
[36m05:00:46.968 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:46.968 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:46.968 gohan.server.middleware INFO [0m Completed 200 OK in 79.488426ms
[36m05:00:47.420 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b map[interface:UP version:1]
05:00:47.420 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b map[interface:UP version:1] started
[36m05:00:47.430 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 map[interface:UP version:1]
05:00:47.430 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 map[version:1 interface:UP] started
05:00:47.430 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b with index 497
05:00:47.443 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 with index 499
05:00:47.470 gohan.db.sql INFO [0m Executing SQL query in transaction 'c84170fc-0982-4e87-8714-b5801ce1a084': 'UPDATE `er_physical_interfaces` SET `connected_ese_port_id` = <nil>, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 6e8f473f-47ec-4b54-8f0f-d459d440393b, `name` = ge-0/0/1, `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = 6e8f473f-47ec-4b54-8f0f-d459d440393b'
05:00:47.471 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:47.471 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
05:00:47.471 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
05:00:47.488 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b with index 497
05:00:47.488 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b completed
05:00:47.493 gohan.db.sql INFO [0m Executing SQL query in transaction '19f1629f-f777-4be7-8ef2-afda017dfe65': 'UPDATE `er_physical_interfaces` SET `connected_ese_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 8ff57ce4-55f9-40d4-82ed-1f00c9051678, `name` = ae0, `description` = , `device_id` = 792c7a6d-19b5-4d6f-b9f6-1e5b1eb45198, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = 8ff57ce4-55f9-40d4-82ed-1f00c9051678'
05:00:47.495 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:47.495 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
05:00:47.496 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
05:00:47.499 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6e8f473f-47ec-4b54-8f0f-d459d440393b already unlocked or not locked
05:00:47.528 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 with index 499
05:00:47.528 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 completed
05:00:47.537 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/8ff57ce4-55f9-40d4-82ed-1f00c9051678 already unlocked or not locked
05:00:47.979 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60154 data: 
[36m05:00:47.979 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:47.979 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:48.048 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:48.051 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[bgp_md5:test bgp_remote_as:9598 primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf status:PENDING_CREATE name:sample-vpn-interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30]]]
[36m05:00:48.051 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:48.051 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:48.051 gohan.server.middleware INFO [0m Completed 200 OK in 71.838351ms
05:00:49.060 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60160 data: 
[36m05:00:49.060 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:49.060 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:49.134 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:49.137 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30 bgp_peer_ip:192.168.8.5] status:PENDING_CREATE bgp_md5:test vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f primary:map[ip_address:192.168.8.2/30 bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2] bgp_remote_as:9598 name:sample-vpn-interface description:Sample Vpn-interface]]
[36m05:00:49.137 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:49.137 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:49.137 gohan.server.middleware INFO [0m Completed 200 OK in 76.934119ms
05:00:50.151 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60166 data: 
[36m05:00:50.151 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:00:50.151 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:50.240 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:50.243 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[description:Sample Vpn-interface status:PENDING_CREATE name:sample-vpn-interface bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f bgp_remote_as:9598 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30]]]
[36m05:00:50.243 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:50.243 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:50.244 gohan.server.middleware INFO [0m Completed 200 OK in 92.518552ms
05:00:51.254 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60172 data: 
[36m05:00:51.254 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:51.254 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:51.333 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:51.335 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[status:PENDING_CREATE name:sample-vpn-interface id:0bea303d-b6eb-4edc-83ef-e32f915d3047 description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] bgp_remote_as:9598 bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary:map[bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30 bgp_peer_ip:192.168.8.5]]]
[36m05:00:51.336 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:51.336 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:51.336 gohan.server.middleware INFO [0m Completed 200 OK in 82.145142ms
05:00:52.346 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60180 data: 
[36m05:00:52.346 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:52.346 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:52.404 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 map[interface:UP version:1]
05:00:52.404 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 map[interface:UP version:1] started
[36m05:00:52.419 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 map[interface:UP version:1]
05:00:52.419 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 map[interface:UP version:1] started
05:00:52.419 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 with index 506
05:00:52.444 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 with index 507
[36m05:00:52.446 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:52.449 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[name:sample-vpn-interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf status:PENDING_CREATE bgp_md5:test secondary:map[bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30 bgp_peer_ip:192.168.8.5] description:Sample Vpn-interface bgp_remote_as:9598]]
[36m05:00:52.449 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:52.449 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:52.450 gohan.server.middleware INFO [0m Completed 200 OK in 104.045399ms
05:00:52.462 gohan.db.sql INFO [0m Executing SQL query in transaction '05d2b7e8-d932-44ee-a5c5-3f74f62150fd': 'UPDATE `er_physical_interfaces` SET `id` = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8, `name` = ae0, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `connected_ese_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = 6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8'
05:00:52.464 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:52.464 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
05:00:52.464 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
05:00:52.471 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 with index 506
05:00:52.472 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 completed
05:00:52.483 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/6b160a8d-fdad-4fe7-aaed-3ff5f729d6c8 already unlocked or not locked
05:00:52.492 gohan.db.sql INFO [0m Executing SQL query in transaction '619e36c7-4358-4ad9-97ce-0ca18d86f0b8': 'UPDATE `er_physical_interfaces` SET `connected_ese_port_id` = <nil>, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = f87c6efe-f590-4c29-8fc9-2f914e1eb362, `name` = ge-0/0/1, `description` = , `device_id` = 3ca3a59a-4f92-4a8a-9ec1-1c55a97c794e, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = f87c6efe-f590-4c29-8fc9-2f914e1eb362'
05:00:52.493 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:00:52.494 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
05:00:52.494 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
05:00:52.504 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 with index 507
05:00:52.504 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 completed
05:00:52.516 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/f87c6efe-f590-4c29-8fc9-2f914e1eb362 already unlocked or not locked
05:00:53.461 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60196 data: 
[36m05:00:53.461 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:53.461 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:53.531 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:53.534 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[status:PENDING_CREATE name:sample-vpn-interface bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] description:Sample Vpn-interface bgp_remote_as:9598]]
[36m05:00:53.534 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[622] Content-Type:[application/json]]
[36m05:00:53.534 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:53.534 gohan.server.middleware INFO [0m Completed 200 OK in 73.087921ms
05:00:54.545 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60202 data: 
[36m05:00:54.545 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:54.545 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:54.640 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:54.642 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[name:sample-vpn-interface bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f bgp_remote_as:9598 status:PENDING_CREATE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30 bgp_peer_ip:192.168.8.1] description:Sample Vpn-interface]]
[36m05:00:54.642 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:54.642 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:54.642 gohan.server.middleware INFO [0m Completed 200 OK in 97.803314ms
05:00:55.652 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60208 data: 
[36m05:00:55.653 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:00:55.653 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:55.747 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:55.750 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf bgp_remote_as:9598 name:sample-vpn-interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] status:PENDING_CREATE bgp_md5:test secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] description:Sample Vpn-interface]]
[36m05:00:55.750 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:55.751 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:55.751 gohan.server.middleware INFO [0m Completed 200 OK in 98.144529ms
05:00:56.760 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60214 data: 
[36m05:00:56.760 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:56.760 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:56.855 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:56.858 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[status:PENDING_CREATE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf bgp_md5:test description:Sample Vpn-interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] bgp_remote_as:9598 name:sample-vpn-interface]]
[36m05:00:56.859 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[622]]
[36m05:00:56.859 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:56.859 gohan.server.middleware INFO [0m Completed 200 OK in 98.49853ms
05:00:57.873 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60222 data: 
[36m05:00:57.873 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:00:57.874 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:57.972 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:57.981 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[id:0bea303d-b6eb-4edc-83ef-e32f915d3047 status:PENDING_CREATE name:sample-vpn-interface bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30 bgp_peer_ip:192.168.8.1] bgp_remote_as:9598]]
[36m05:00:57.981 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[622] Content-Type:[application/json]]
[36m05:00:57.981 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:57.981 gohan.server.middleware INFO [0m Completed 200 OK in 108.178122ms
[36m05:00:58.417 gohan.server DEBUG [0m State event update received: set /state/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 map[error: state:map[heat_outputs:[] state_monitoring:{"primary_uplink": "ACTIVE", "primary": "ESTABLISHED", "secondary_uplink": "ACTIVE", "secondary": "ESTABLISHED"} worker_state:CREATE_COMPLETED] version:1]
05:00:58.417 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 map[error: state:map[heat_outputs:[] state_monitoring:{"primary_uplink": "ACTIVE", "primary": "ESTABLISHED", "secondary_uplink": "ACTIVE", "secondary": "ESTABLISHED"} worker_state:CREATE_COMPLETED] version:1] started
05:00:58.425 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 with index 528
05:00:58.500 gohan.db.sql INFO [0m Executing SQL query in transaction '8a0c1fec-7a84-4ece-8593-c1eaabebe93a': 'UPDATE `vpn_interfaces` SET `id` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `secondary` = {"bgp_peer_ip":"192.168.8.5","bgp_router_id":"192.168.8.6","ip_address":"192.168.8.6/30"}, `primary` = {"bgp_peer_ip":"192.168.8.1","bgp_router_id":"192.168.8.2","ip_address":"192.168.8.2/30"}, `bgp_remote_as` = 9598, `status` = PENDING_CREATE, `name` = sample-vpn-interface, `bgp_md5` = test, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = Sample Vpn-interface, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary_uplink\": \"ACTIVE\", \"primary\": \"ESTABLISHED\", \"secondary_uplink\": \"ACTIVE\", \"secondary\": \"ESTABLISHED\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 0bea303d-b6eb-4edc-83ef-e32f915d3047'
05:00:58.502 gohan.extension.vpn_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:00:58.502 gohan.extension.vpn_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary_uplink": "ACTIVE", "primary": "ESTABLISHED", "secondary_uplink": "ACTIVE", "secondary": "ESTABLISHED"}
05:00:58.502 gohan.db.sql INFO [0m Executing SQL query in transaction '8a0c1fec-7a84-4ece-8593-c1eaabebe93a': 'UPDATE `vpn_interfaces` SET `status` = ACTIVE, `name` = sample-vpn-interface, `bgp_md5` = test, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `secondary` = {"bgp_peer_ip":"192.168.8.5","bgp_router_id":"192.168.8.6","ip_address":"192.168.8.6/30"}, `primary` = {"bgp_peer_ip":"192.168.8.1","bgp_router_id":"192.168.8.2","ip_address":"192.168.8.2/30"}, `bgp_remote_as` = 9598, `description` = Sample Vpn-interface, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf WHERE id = 0bea303d-b6eb-4edc-83ef-e32f915d3047'
05:00:58.512 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 with index 528
Endpoint for service monitoring not found.
[31m05:00:58.514 gohan.extension.vpn_interface.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:00:58.533 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 already unlocked or not locked
05:00:58.993 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60262 data: 
[36m05:00:58.993 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:00:58.993 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:59.061 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:59.063 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] bgp_remote_as:9598 bgp_md5:test name:sample-vpn-interface description:Sample Vpn-interface vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:0bea303d-b6eb-4edc-83ef-e32f915d3047 primary:map[bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30 bgp_peer_ip:192.168.8.1] status:ACTIVE]]
[36m05:00:59.063 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[614]]
[36m05:00:59.063 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:59.063 gohan.server.middleware INFO [0m Completed 200 OK in 70.125773ms
05:00:59.455 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60272 data: 
[36m05:00:59.455 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m05:00:59.455 gohan.server.middleware DEBUG [0m Request body: 
[36m05:00:59.541 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:59.544 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[name:sample-vpn-interface bgp_md5:test id:0bea303d-b6eb-4edc-83ef-e32f915d3047 secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] bgp_remote_as:9598 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Vpn-interface]]
[36m05:00:59.544 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[614]]
[36m05:00:59.544 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:59.544 gohan.server.middleware INFO [0m Completed 200 OK in 89.245075ms
05:00:59.546 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 for client 172.17.0.21:60278 data: {}
[36m05:00:59.546 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:00:59.546 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:00:59.638 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 started
[36m05:00:59.640 gohan.server.resources DEBUG [0m Show vpn_interface 0bea303d-b6eb-4edc-83ef-e32f915d3047 completed: map[vpn_interface:map[id:0bea303d-b6eb-4edc-83ef-e32f915d3047 description:Sample Vpn-interface status:ACTIVE name:sample-vpn-interface bgp_md5:test tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary:map[bgp_peer_ip:192.168.8.5 bgp_router_id:192.168.8.6 ip_address:192.168.8.6/30] primary:map[bgp_peer_ip:192.168.8.1 bgp_router_id:192.168.8.2 ip_address:192.168.8.2/30] vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf bgp_remote_as:9598]]
[36m05:00:59.641 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[614]]
[36m05:00:59.641 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_interface": {
    "bgp_md5": "test",
    "bgp_remote_as": "9598",
    "description": "Sample Vpn-interface",
    "id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "name": "sample-vpn-interface",
    "primary": {
      "bgp_peer_ip": "192.168.8.1",
      "bgp_router_id": "192.168.8.2",
      "ip_address": "192.168.8.2/30"
    },
    "secondary": {
      "bgp_peer_ip": "192.168.8.5",
      "bgp_router_id": "192.168.8.6",
      "ip_address": "192.168.8.6/30"
    },
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:00:59.641 gohan.server.middleware INFO [0m Completed 200 OK in 95.044816ms
05:01:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:01:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:01:00.111 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:01:00.118 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:01:00.120 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:01:00.128 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:01:00.130 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:01:00.131 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:01:04.418 gohan.server DEBUG [0m State event update received: set /state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf map[error: state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE"} worker_state:CREATE_COMPLETED] version:2]
05:01:04.419 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf map[version:2 error: state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
05:01:04.426 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf with index 573
05:01:04.505 gohan.db.sql INFO [0m Executing SQL query in transaction 'd028afb5-be83-4d1c-89d5-7133baca03b0': 'UPDATE `vpn_gateways` SET `downlink_vlan_id` = 1025, `description` = this resource is vpn-gateway, `maximum_static_routes` = 32, `downlink_interface_id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `qos_option_id` = 4f59680b-52b6-41da-b15a-09946c155efd, `uplink_interface_id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `uplink_vlan_id` = 122, `secondary_logical_uplink_interface_name` = ge-0/0/1.122, `primary_logical_downlink_interface_name` = ae0.1025, `status` = PENDING_UPDATE, `name` = sample-vpn-gateway, `secondary_logical_downlink_interface_name` = ae0.1025, `local_as_number` = 65101, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `primary_logical_uplink_interface_name` = ge-0/0/1.122, `id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `connected_vpn_interface` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"downlink\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 4fab887d-8f73-40e6-b2d8-2426255231bf'
05:01:04.507 gohan.extension.vpn_gateway.post_state_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 0
05:01:04.507 gohan.extension.vpn_gateway.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"downlink": "ACTIVE"}
05:01:04.511 gohan.db.sql INFO [0m Executing SQL query in transaction 'd028afb5-be83-4d1c-89d5-7133baca03b0': 'UPDATE `vpn_gateways` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `connected_vpn_interface` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `description` = this resource is vpn-gateway, `downlink_vlan_id` = 1025, `uplink_interface_id` = 5e552b8f-cd5a-454c-a224-33f7da0afa24, `uplink_vlan_id` = 122, `secondary_logical_uplink_interface_name` = ge-0/0/1.122, `primary_logical_downlink_interface_name` = ae0.1025, `maximum_static_routes` = 32, `downlink_interface_id` = a3a62a37-5657-4822-98e0-991ab63f0e96, `qos_option_id` = 4f59680b-52b6-41da-b15a-09946c155efd, `local_as_number` = 65101, `vpn_service_id` = 72b05fe5-88c6-4888-a6fb-feb793fffae8, `primary_logical_uplink_interface_name` = ge-0/0/1.122, `status` = ACTIVE, `name` = sample-vpn-gateway, `secondary_logical_downlink_interface_name` = ae0.1025 WHERE id = 4fab887d-8f73-40e6-b2d8-2426255231bf'
05:01:04.524 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf with index 573
05:01:04.531 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf already unlocked or not locked
05:01:30.005 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:01:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:01:30.177 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:60342 data: 
[36m05:01:30.178 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m05:01:30.178 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:30.217 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:01:30.219 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:01:30.228 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:01:30.234 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:01:30.236 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:01:30.241 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:01:30.288 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:01:30.291 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 id:4fab887d-8f73-40e6-b2d8-2426255231bf connected_vpn_interface:0bea303d-b6eb-4edc-83ef-e32f915d3047 downlink_vlan_id:1025 primary_logical_downlink_interface_name:ae0.1025 qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd secondary_logical_downlink_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 uplink_vlan_id:122 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_uplink_interface_name:ge-0/0/1.122 status:ACTIVE name:sample-vpn-gateway local_as_number:65101 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:this resource is vpn-gateway maximum_static_routes:32]]
[36m05:01:30.291 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[994]]
[36m05:01:30.291 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:01:30.291 gohan.server.middleware INFO [0m Completed 200 OK in 113.927366ms
05:01:30.293 gohan.server.middleware INFO [0m Started GET /v2.0/vpn_gateways/4fab887d-8f73-40e6-b2d8-2426255231bf for client 172.17.0.21:60348 data: {}
[36m05:01:30.293 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m05:01:30.293 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:01:30.367 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf started
[36m05:01:30.369 gohan.server.resources DEBUG [0m Show vpn_gateway 4fab887d-8f73-40e6-b2d8-2426255231bf completed: map[vpn_gateway:map[vrf_name:vrf_gw_sample-ha-router-downlink_1025 description:this resource is vpn-gateway uplink_vlan_id:122 local_as_number:65101 id:4fab887d-8f73-40e6-b2d8-2426255231bf connected_vpn_interface:0bea303d-b6eb-4edc-83ef-e32f915d3047 uplink_interface_id:5e552b8f-cd5a-454c-a224-33f7da0afa24 secondary_logical_downlink_interface_name:ae0.1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f qos_option_id:4f59680b-52b6-41da-b15a-09946c155efd primary_logical_uplink_interface_name:ge-0/0/1.122 vpn_service_id:72b05fe5-88c6-4888-a6fb-feb793fffae8 secondary_logical_uplink_interface_name:ge-0/0/1.122 primary_logical_downlink_interface_name:ae0.1025 maximum_static_routes:32 downlink_interface_id:a3a62a37-5657-4822-98e0-991ab63f0e96 status:ACTIVE name:sample-vpn-gateway downlink_vlan_id:1025]]
[36m05:01:30.369 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[994]]
[36m05:01:30.369 gohan.server.middleware DEBUG [0m Response body: {
  "vpn_gateway": {
    "connected_vpn_interface": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
    "description": "this resource is vpn-gateway",
    "downlink_interface_id": "a3a62a37-5657-4822-98e0-991ab63f0e96",
    "downlink_vlan_id": "1025",
    "id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "local_as_number": "65101",
    "maximum_static_routes": 32,
    "name": "sample-vpn-gateway",
    "primary_logical_downlink_interface_name": "ae0.1025",
    "primary_logical_uplink_interface_name": "ge-0/0/1.122",
    "qos_option_id": "4f59680b-52b6-41da-b15a-09946c155efd",
    "secondary_logical_downlink_interface_name": "ae0.1025",
    "secondary_logical_uplink_interface_name": "ge-0/0/1.122",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_interface_id": "5e552b8f-cd5a-454c-a224-33f7da0afa24",
    "uplink_vlan_id": "122",
    "vpn_service_id": "72b05fe5-88c6-4888-a6fb-feb793fffae8",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
05:01:30.370 gohan.server.middleware INFO [0m Completed 200 OK in 76.882744ms
05:01:30.727 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.21:60356 data: {}
[36m05:01:30.727 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:01:30.727 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:01:30.795 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m05:01:30.797 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m05:01:30.797 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[4] Content-Length:[1477]]
[36m05:01:30.797 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494478858,
      "deleted": null,
      "id": "1d5dcf8f-40f5-4780-8023-63bc1dd771ac",
      "mapped_id": "10.79.5.185-ge-0/0/1.122",
      "relation": "primary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478864,
      "deleted": null,
      "id": "2f46f2b3-81f2-45d7-9f66-e64d131bb20b",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478858,
      "deleted": null,
      "id": "4f69c6a1-e11b-4fae-bd0b-babe7df48380",
      "mapped_id": "10.79.5.184-ge-0/0/1.122",
      "relation": "secondary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478827,
      "deleted": 1494478858,
      "id": "7806e79c-7403-462f-abd4-57d4f4f20f54",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:01:30.797 gohan.server.middleware INFO [0m Completed 200 OK in 70.272489ms
05:01:44.950 gohan.server.middleware INFO [0m Started POST /v2.0/networks for client 172.17.0.21:60400 data: 
{
"network": {
"admin_state_up": true,
"description": "Sample Network",
"name": "sample-network",
"plane": "data",
"tags": {},
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:01:44.950 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[179] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:01:44.950 gohan.server.middleware DEBUG [0m Request body: 
{
"network": {
"admin_state_up": true,
"description": "Sample Network",
"name": "sample-network",
"plane": "data",
"tags": {},
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:01:45.047 gohan.server.resources DEBUG [0m Create network with data map[admin_state_up:true description:Sample Network name:sample-network plane:data tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m05:01:45.047 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
05:01:45.060 gohan.db.sql INFO [0m Executing SQL query in transaction '3f21b942-81e8-4173-a925-62d7a8dbc618': 'INSERT INTO `networks` (`name`,`plane`,`admin_state_up`,`shared`,`description`,`id`,`tags`,`status`,`tenant_id`,`subnets`) VALUES (sample-network,data,true,false,Sample Network,bb69041d-c654-4e9f-a763-afd4333275bc,{},PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,[])'
05:01:45.061 gohan.db.sql INFO [0m Executing SQL query in transaction '3f21b942-81e8-4173-a925-62d7a8dbc618': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc,1494478905,create,false,"{\"admin_state_up\":true,\"description\":\"Sample Network\",\"id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"name\":\"sample-network\",\"plane\":\"data\",\"shared\":false,\"status\":\"PENDING_CREATE\",\"subnets\":[],\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
05:01:45.063 gohan.extension.network.post_create_in_transaction INFO [0m Creating a billing resource: {"config_version":1,"ended":null,"id":"0a8861ae-fab5-4a20-814d-6934bbb3e3d4","info":{},"parent_billing_id":null,"resource_id":"bb69041d-c654-4e9f-a763-afd4333275bc","resource_type":"network","started":null,"tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"bb69041d-c654-4e9f-a763-afd4333275bc"}
05:01:45.063 gohan.db.sql INFO [0m Executing SQL query in transaction '3f21b942-81e8-4173-a925-62d7a8dbc618': 'INSERT INTO `billing_resources` (`unique_resource_id`,`id`,`info`,`resource_type`,`parent_billing_id`,`tenant_id`,`resource_id`,`started`,`ended`,`config_version`) VALUES (bb69041d-c654-4e9f-a763-afd4333275bc,0a8861ae-fab5-4a20-814d-6934bbb3e3d4,{},network,<nil>,0b576f6f4cbf414f829cd12f008bf08f,bb69041d-c654-4e9f-a763-afd4333275bc,<nil>,<nil>,1)'
[36m05:01:45.063 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
[36m05:01:45.072 gohan.server.resources DEBUG [0m Create network completed: map[network:map[admin_state_up:true tags:map[] shared:false id:bb69041d-c654-4e9f-a763-afd4333275bc subnets:[] status:PENDING_CREATE description:Sample Network name:sample-network plane:data tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m05:01:45.072 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m05:01:45.072 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:45.072 gohan.server.middleware INFO [0m Completed 201 Created in 122.540521ms
[36m05:01:45.076 gohan.server.sync DEBUG [0m Processing event 79 - create
05:01:45.076 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc
[36m05:01:45.079 gohan.server.sync DEBUG [0m Deleting event 79
05:01:45.082 gohan.db.sql INFO [0m Executing SQL query in transaction 'bb572f96-3e44-49e6-88e1-64633311d7f5': 'DELETE FROM `events` WHERE id = 79'
[36m05:01:45.083 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:01:45.107 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60412 data: 
[36m05:01:45.107 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:01:45.107 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:45.226 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:45.287 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:45.289 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:45.290 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[shared:false tags:map[] status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f subnets:[] id:bb69041d-c654-4e9f-a763-afd4333275bc plane:data admin_state_up:true description:Sample Network name:sample-network]]
[36m05:01:45.290 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m05:01:45.290 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:45.290 gohan.server.middleware INFO [0m Completed 200 OK in 183.288283ms
05:01:46.305 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60434 data: 
[36m05:01:46.305 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:01:46.305 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:46.403 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:46.461 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:46.463 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:46.464 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[shared:false status:PENDING_CREATE subnets:[] description:Sample Network plane:data name:sample-network tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:bb69041d-c654-4e9f-a763-afd4333275bc tags:map[] admin_state_up:true]]
[36m05:01:46.464 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m05:01:46.464 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:46.464 gohan.server.middleware INFO [0m Completed 200 OK in 159.098647ms
05:01:47.477 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60444 data: 
[36m05:01:47.477 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:01:47.477 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:47.561 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:47.606 gohan.server DEBUG [0m State event update received: set /state/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc map[error: state:map[heat_outputs:[{"output_value": "[]", "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:admin:bb69041d-c654-4e9f-a763-afd4333275bc", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "The name of the virtual network.", "output_key": "name"}] state_monitoring:{"network": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
05:01:47.606 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc map[state:map[heat_outputs:[{"output_value": "[]", "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:admin:bb69041d-c654-4e9f-a763-afd4333275bc", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "The name of the virtual network.", "output_key": "name"}] state_monitoring:{"network": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:] started
05:01:47.614 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc with index 622
[36m05:01:47.627 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:47.628 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:47.629 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[subnets:[] admin_state_up:true shared:false description:Sample Network tags:map[] status:PENDING_CREATE plane:data id:bb69041d-c654-4e9f-a763-afd4333275bc tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-network]]
[36m05:01:47.629 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m05:01:47.629 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:47.629 gohan.server.middleware INFO [0m Completed 200 OK in 152.871154ms
05:01:47.680 gohan.db.sql INFO [0m Executing SQL query in transaction '4efbee82-3914-4509-9971-351d5075cfc0': 'UPDATE `networks` SET `shared` = false, `name` = sample-network, `plane` = data, `admin_state_up` = true, `subnets` = [], `description` = Sample Network, `id` = bb69041d-c654-4e9f-a763-afd4333275bc, `tags` = {}, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"[]\", \"description\": \"The name of the virtual network.\", \"output_key\": \"route_targets\"}, {\"output_value\": \"default-domain:admin:bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"The FQ name of the virtual network.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"A unique id for the virtual network.\", \"output_key\": \"id\"}, {\"output_value\": \"bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"The name of the virtual network.\", \"output_key\": \"name\"}]","state_monitoring":"{\"network\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = bb69041d-c654-4e9f-a763-afd4333275bc'
05:01:47.681 gohan.extension.network.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:01:47.682 gohan.extension.network.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"network": "ACTIVE"}
05:01:47.683 gohan.db.sql INFO [0m Executing SQL query in transaction '4efbee82-3914-4509-9971-351d5075cfc0': 'UPDATE `networks` SET `plane` = data, `admin_state_up` = true, `shared` = false, `name` = sample-network, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `subnets` = [], `description` = Sample Network, `id` = bb69041d-c654-4e9f-a763-afd4333275bc, `tags` = {} WHERE id = bb69041d-c654-4e9f-a763-afd4333275bc'
05:01:47.687 gohan.extension.network.post_state_update_in_transaction INFO [0m Starting billing resource: {"config_version":1,"id":"0a8861ae-fab5-4a20-814d-6934bbb3e3d4","info":{},"resource_id":"bb69041d-c654-4e9f-a763-afd4333275bc","resource_type":"network","tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"bb69041d-c654-4e9f-a763-afd4333275bc"} at 1494478907
05:01:47.687 gohan.db.sql INFO [0m Executing SQL query in transaction '4efbee82-3914-4509-9971-351d5075cfc0': 'UPDATE `billing_resources` SET `unique_resource_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `id` = 0a8861ae-fab5-4a20-814d-6934bbb3e3d4, `info` = {}, `resource_type` = network, `parent_billing_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `resource_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `started` = 1.494478907e+09, `ended` = <nil>, `config_version` = 1 WHERE id = 0a8861ae-fab5-4a20-814d-6934bbb3e3d4'
[36m05:01:47.687 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
05:01:47.699 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc with index 622
Endpoint for service monitoring not found.
[31m05:01:47.701 gohan.extension.network.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:01:47.711 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc already unlocked or not locked
05:01:48.646 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60472 data: 
[36m05:01:48.646 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:01:48.647 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:48.722 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:48.777 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:48.779 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:48.780 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[id:bb69041d-c654-4e9f-a763-afd4333275bc plane:data shared:false subnets:[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Network tags:map[] admin_state_up:true name:sample-network status:ACTIVE]]
[36m05:01:48.780 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[320]]
[36m05:01:48.780 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:48.780 gohan.server.middleware INFO [0m Completed 200 OK in 134.063538ms
05:01:49.136 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60482 data: 
[36m05:01:49.136 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m05:01:49.137 gohan.server.middleware DEBUG [0m Request body: 
[36m05:01:49.205 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:49.257 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:49.258 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:49.259 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[name:sample-network plane:data shared:false description:Sample Network id:bb69041d-c654-4e9f-a763-afd4333275bc status:ACTIVE subnets:[] admin_state_up:true tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m05:01:49.260 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[320]]
[36m05:01:49.260 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:49.260 gohan.server.middleware INFO [0m Completed 200 OK in 123.492667ms
05:01:49.262 gohan.server.middleware INFO [0m Started GET /v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc for client 172.17.0.21:60490 data: {}
[36m05:01:49.263 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:01:49.263 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:01:49.336 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc started
[36m05:01:49.386 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:01:49.387 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:01:49.389 gohan.server.resources DEBUG [0m Show network bb69041d-c654-4e9f-a763-afd4333275bc completed: map[network:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f subnets:[] description:Sample Network id:bb69041d-c654-4e9f-a763-afd4333275bc tags:map[] plane:data shared:false status:ACTIVE name:sample-network admin_state_up:true]]
[36m05:01:49.389 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[320]]
[36m05:01:49.389 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:01:49.390 gohan.server.middleware INFO [0m Completed 200 OK in 127.893317ms
05:01:49.769 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.21:60500 data: {}
[36m05:01:49.769 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:01:49.769 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:01:49.835 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m05:01:49.837 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m05:01:49.837 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[5] Content-Length:[1832]]
[36m05:01:49.837 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494478858,
      "deleted": null,
      "id": "1d5dcf8f-40f5-4780-8023-63bc1dd771ac",
      "mapped_id": "10.79.5.185-ge-0/0/1.122",
      "relation": "primary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478864,
      "deleted": null,
      "id": "2f46f2b3-81f2-45d7-9f66-e64d131bb20b",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478858,
      "deleted": null,
      "id": "4f69c6a1-e11b-4fae-bd0b-babe7df48380",
      "mapped_id": "10.79.5.184-ge-0/0/1.122",
      "relation": "secondary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478827,
      "deleted": 1494478858,
      "id": "7806e79c-7403-462f-abd4-57d4f4f20f54",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478907,
      "deleted": null,
      "id": "883c3271-8090-4515-abaa-56ef34692cd3",
      "mapped_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "relation": "instance",
      "resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "resource_type": "network",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:01:49.837 gohan.server.middleware INFO [0m Completed 200 OK in 68.337101ms
05:01:50.189 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.21:60508 data: {}
[36m05:01:50.189 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:01:50.189 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:01:50.256 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m05:01:50.257 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m05:01:50.257 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[441]]
[36m05:01:50.258 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "0a8861ae-fab5-4a20-814d-6934bbb3e3d4",
      "info": {},
      "parent_billing_id": null,
      "resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "resource_type": "network",
      "started": 1494478907,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc"
    }
  ]
}
05:01:50.258 gohan.server.middleware INFO [0m Completed 200 OK in 68.760878ms
[36m05:01:52.511 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc map[network:UP version:1]
05:01:52.512 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc map[version:1 network:UP] started
05:01:52.522 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc with index 632
05:01:52.969 gohan.db.sql INFO [0m Executing SQL query in transaction '28dad203-7230-48d8-a487-7579ccc76ab3': 'UPDATE `networks` SET `plane` = data, `admin_state_up` = true, `shared` = false, `name` = sample-network, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `subnets` = [], `description` = Sample Network, `id` = bb69041d-c654-4e9f-a763-afd4333275bc, `tags` = {}, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"[]\", \"description\": \"The name of the virtual network.\", \"output_key\": \"route_targets\"}, {\"output_value\": \"default-domain:admin:bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"The FQ name of the virtual network.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"A unique id for the virtual network.\", \"output_key\": \"id\"}, {\"output_value\": \"bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"The name of the virtual network.\", \"output_key\": \"name\"}]","state_monitoring":"{\"network\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"network":"UP"}, `marked_for_deletion` = 0 WHERE id = bb69041d-c654-4e9f-a763-afd4333275bc'
05:01:52.976 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:01:52.977 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"network": "ACTIVE"}
05:01:52.977 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"network":"UP"}
05:01:53.015 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc with index 632
05:01:53.015 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc completed
05:01:53.025 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/networks/bb69041d-c654-4e9f-a763-afd4333275bc already unlocked or not locked
05:02:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_purge_billing_resources with index 0
05:02:00.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:02:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:02:00.112 gohan.extension.cron_purge_billing_resources.notification INFO [0m Deleting expired billing resources before 1486270920
05:02:00.112 gohan.db.sql INFO [0m Executing SQL query in transaction '8e4c74c5-2bc5-4fe3-b365-8d3892b0f3bc': 'DELETE FROM billing_resources  WHERE parent_billing_id IN (   SELECT dummy.id FROM (     SELECT parent.id FROM billing_resources AS parent       WHERE parent.parent_billing_id IS NULL         AND parent.ended < 1.48627092e+09     ) AS dummy  ) ;'
[36m05:02:00.179 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:02:00.181 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:02:00.186 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:02:00.206 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:02:00.209 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:02:00.216 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:02:02.419 gohan.server.middleware INFO [0m Started POST /v2.0/subnets for client 172.17.0.21:60552 data: 
{
"subnet": {
"description": "Sample Subnet",
"name": "sample-subnet",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
"tags": {},
"ip_version": 4,
"cidr": "172.16.101.0/24",
"network_id": "bb69041d-c654-4e9f-a763-afd4333275bc"
}
}
[36m05:02:02.420 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[233] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:02:02.420 gohan.server.middleware DEBUG [0m Request body: 
{
"subnet": {
"description": "Sample Subnet",
"name": "sample-subnet",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
"tags": {},
"ip_version": 4,
"cidr": "172.16.101.0/24",
"network_id": "bb69041d-c654-4e9f-a763-afd4333275bc"
}
}
[36m05:02:02.508 gohan.server.resources DEBUG [0m Create subnet with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] ip_version:4 cidr:172.16.101.0/24 network_id:bb69041d-c654-4e9f-a763-afd4333275bc description:Sample Subnet name:sample-subnet] started
[36m05:02:02.508 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:02.578 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:02.588 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 map[primary:ESTABLISHED secondary:ESTABLISHED version:1]
05:02:02.588 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 map[primary:ESTABLISHED secondary:ESTABLISHED version:1] started
05:02:02.597 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 with index 647
05:02:02.651 gohan.db.sql INFO [0m Executing SQL query in transaction '4df90581-a372-4302-a69c-6f0b6cb05a69': 'UPDATE `vpn_interfaces` SET `id` = 0bea303d-b6eb-4edc-83ef-e32f915d3047, `secondary` = {"bgp_peer_ip":"192.168.8.5","bgp_router_id":"192.168.8.6","ip_address":"192.168.8.6/30"}, `primary` = {"bgp_peer_ip":"192.168.8.1","bgp_router_id":"192.168.8.2","ip_address":"192.168.8.2/30"}, `bgp_remote_as` = 9598, `status` = ACTIVE, `name` = sample-vpn-interface, `bgp_md5` = test, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = Sample Vpn-interface, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary_uplink\": \"ACTIVE\", \"primary\": \"ESTABLISHED\", \"secondary_uplink\": \"ACTIVE\", \"secondary\": \"ESTABLISHED\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"primary":"ESTABLISHED","secondary":"ESTABLISHED"}, `marked_for_deletion` = 0 WHERE id = 0bea303d-b6eb-4edc-83ef-e32f915d3047'
05:02:02.653 gohan.extension.vpn_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:02:02.653 gohan.extension.vpn_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary_uplink": "ACTIVE", "primary": "ESTABLISHED", "secondary_uplink": "ACTIVE", "secondary": "ESTABLISHED"}
05:02:02.653 gohan.extension.vpn_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"primary":"ESTABLISHED","secondary":"ESTABLISHED"}
[36m05:02:02.656 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:02.657 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:02.658 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
05:02:02.665 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 with index 647
05:02:02.665 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 completed
05:02:02.671 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/vpn_interfaces/0bea303d-b6eb-4edc-83ef-e32f915d3047 already unlocked or not locked
05:02:02.672 gohan.db.sql INFO [0m Executing SQL query in transaction 'e95f7908-6622-411c-9cc4-e363936bb33c': 'INSERT INTO `subnets` (`allocation_pools`,`status`,`tenant_id`,`ntp_servers`,`tags`,`name`,`ip_version`,`dns_nameservers`,`dhcp_server_address`,`cidr`,`enable_dhcp`,`gateway_ip`,`description`,`host_routes`,`id`,`network_id`) VALUES ([{"end":"172.16.101.254","start":"172.16.101.2"}],PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,[],{},sample-subnet,4,[],172.16.101.2,172.16.101.0/24,true,172.16.101.1,Sample Subnet,[],b4f0c956-2fe0-4634-b7c8-22bfd8095aaf,bb69041d-c654-4e9f-a763-afd4333275bc)'
05:02:02.673 gohan.db.sql INFO [0m Executing SQL query in transaction 'e95f7908-6622-411c-9cc4-e363936bb33c': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"allocation_pools\":[{\"end\":\"172.16.101.254\",\"start\":\"172.16.101.2\"}],\"cidr\":\"172.16.101.0/24\",\"description\":\"Sample Subnet\",\"dhcp_server_address\":\"172.16.101.2\",\"dns_nameservers\":[],\"enable_dhcp\":true,\"gateway_ip\":\"172.16.101.1\",\"host_routes\":[],\"id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\",\"ip_version\":4,\"name\":\"sample-subnet\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"ntp_servers\":[],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf,1494478922)'
05:02:02.679 gohan.db.sql INFO [0m Executing SQL query in transaction 'e95f7908-6622-411c-9cc4-e363936bb33c': 'INSERT INTO `ports` (`status`,`tenant_id`,`binding:vif_type`,`network_id`,`name`,`fake_delete`,`device_owner`,`attached`,`tags`,`id`,`fixed_ips`,`mac_address`,`admin_state_up`,`allowed_address_pairs`,`description`,`managed_by_service`,`device_id`) VALUES (ACTIVE,0b576f6f4cbf414f829cd12f008bf08f,vrouter,bb69041d-c654-4e9f-a763-afd4333275bc,dhcp-server-port,false,network:dhcp,false,{},3388400c-5e25-4b97-8210-2a796927f2e7,[{"ip_address":"172.16.101.2","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}],00:00:5e:00:01:00,true,[],DHCP Server Port,false,b4f0c956-2fe0-4634-b7c8-22bfd8095aaf)'
05:02:02.680 gohan.db.sql INFO [0m Executing SQL query in transaction 'e95f7908-6622-411c-9cc4-e363936bb33c': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"DHCP Server Port\",\"device_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\",\"device_owner\":\"network:dhcp\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.2\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"}],\"host_routes\":[],\"id\":\"3388400c-5e25-4b97-8210-2a796927f2e7\",\"mac_address\":\"00:00:5e:00:01:00\",\"managed_by_service\":false,\"name\":\"dhcp-server-port\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"status\":\"ACTIVE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7,1494478922)'
[36m05:02:02.688 gohan.server.resources DEBUG [0m Create subnet completed: map[subnet:map[dns_nameservers:[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f ip_version:4 cidr:172.16.101.0/24 description:Sample Subnet status:PENDING_CREATE enable_dhcp:true host_routes:[] network_id:bb69041d-c654-4e9f-a763-afd4333275bc gateway_ip:172.16.101.1 id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf ntp_servers:[] dhcp_server_address:172.16.101.2 name:sample-subnet tags:map[] allocation_pools:[map[start:172.16.101.2 end:172.16.101.254]]]]
[36m05:02:02.688 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[635]]
[36m05:02:02.688 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:02.689 gohan.server.middleware INFO [0m Completed 201 Created in 269.207739ms
[36m05:02:02.699 gohan.server.sync DEBUG [0m Processing event 80 - create
05:02:02.699 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf
[36m05:02:02.704 gohan.server.sync DEBUG [0m Deleting event 80
05:02:02.706 gohan.db.sql INFO [0m Executing SQL query in transaction '3b03a91e-d313-4380-80dc-a5b361526cf4': 'DELETE FROM `events` WHERE id = 80'
[36m05:02:02.706 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:02:02.713 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60568 data: 
[36m05:02:02.713 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:02:02.713 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:02.728 gohan.server.sync DEBUG [0m Processing event 81 - create
05:02:02.728 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7
[36m05:02:02.735 gohan.server.sync DEBUG [0m Deleting event 81
05:02:02.737 gohan.db.sql INFO [0m Executing SQL query in transaction '622f7654-6296-471b-9a31-61ce958279eb': 'DELETE FROM `events` WHERE id = 81'
[36m05:02:02.738 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:02:02.794 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 map[error: state:map[worker_state:READ_COMPLETE] version:1]
05:02:02.794 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 map[error: state:map[worker_state:READ_COMPLETE] version:1] started
05:02:02.797 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 with index 656
[36m05:02:02.819 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:02.822 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[ntp_servers:[] network_id:bb69041d-c654-4e9f-a763-afd4333275bc ipv6_address_mode:<nil> tags:map[] ipv6_ra_mode:<nil> name:sample-subnet dns_nameservers:[] dhcp_server_address:172.16.101.2 allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] tenant_id:0b576f6f4cbf414f829cd12f008bf08f enable_dhcp:true description:Sample Subnet host_routes:[] status:PENDING_CREATE id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf cidr:172.16.101.0/24 gateway_ip:172.16.101.1 ip_version:4]]
[36m05:02:02.822 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m05:02:02.822 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:02.822 gohan.server.middleware INFO [0m Completed 200 OK in 109.411026ms
05:02:02.889 gohan.db.sql INFO [0m Executing SQL query in transaction 'f72d333e-a9f3-46b6-848e-ef71ff8dfa2a': 'UPDATE `ports` SET `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = dhcp-server-port, `fake_delete` = false, `device_owner` = network:dhcp, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `ese_logical_port_id` = <nil>, `id` = 3388400c-5e25-4b97-8210-2a796927f2e7, `fixed_ips` = [{"ip_address":"172.16.101.2","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = <nil>, `attached` = false, `tags` = {}, `admin_state_up` = true, `mac_address` = 00:00:5e:00:01:00, `allowed_address_pairs` = [], `description` = DHCP Server Port, `managed_by_service` = false, `device_id` = b4f0c956-2fe0-4634-b7c8-22bfd8095aaf, `segmentation_id` = <nil>, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 3388400c-5e25-4b97-8210-2a796927f2e7'
05:02:02.891 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:02.914 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 with index 656
05:02:02.920 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 already unlocked or not locked
05:02:03.834 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60594 data: 
[36m05:02:03.834 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:02:03.834 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:03.920 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:03.924 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[dns_nameservers:[] status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f ipv6_address_mode:<nil> tags:map[] description:Sample Subnet host_routes:[] enable_dhcp:true gateway_ip:172.16.101.1 allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf cidr:172.16.101.0/24 name:sample-subnet ntp_servers:[] ip_version:4 network_id:bb69041d-c654-4e9f-a763-afd4333275bc dhcp_server_address:172.16.101.2 ipv6_ra_mode:<nil>]]
[36m05:02:03.924 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m05:02:03.924 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:03.924 gohan.server.middleware INFO [0m Completed 200 OK in 90.369913ms
05:02:04.937 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60600 data: 
[36m05:02:04.937 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:02:04.937 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:05.039 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:05.042 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[host_routes:[] network_id:bb69041d-c654-4e9f-a763-afd4333275bc cidr:172.16.101.0/24 ntp_servers:[] name:sample-subnet ipv6_address_mode:<nil> enable_dhcp:true dhcp_server_address:172.16.101.2 status:PENDING_CREATE tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Subnet allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] dns_nameservers:[] gateway_ip:172.16.101.1 id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf ipv6_ra_mode:<nil> ip_version:4]]
[36m05:02:05.042 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m05:02:05.042 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:05.042 gohan.server.middleware INFO [0m Completed 200 OK in 105.504629ms
[36m05:02:05.227 gohan.server DEBUG [0m State event update received: set /state/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf map[error: state:map[heat_outputs:[{"output_value": "172.16.101.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "172.16.101.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "8f9e2ede-c3b4-438e-888d-55e326ec29a9", "description": "A unique id for the local subnet.", "output_key": "id"}] worker_state:CREATE_COMPLETED] version:1]
05:02:05.227 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf map[error: state:map[heat_outputs:[{"output_value": "172.16.101.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "172.16.101.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "bb69041d-c654-4e9f-a763-afd4333275bc", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "8f9e2ede-c3b4-438e-888d-55e326ec29a9", "description": "A unique id for the local subnet.", "output_key": "id"}] worker_state:CREATE_COMPLETED] version:1] started
05:02:05.242 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf with index 671
05:02:05.338 gohan.db.sql INFO [0m Executing SQL query in transaction 'e3d56ec8-91f7-48d7-b217-aea50bc1fd59': 'UPDATE `subnets` SET `allocation_pools` = [{"end":"172.16.101.254","start":"172.16.101.2"}], `status` = PENDING_CREATE, `tags` = {}, `ipv6_ra_mode` = <nil>, `name` = sample-subnet, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `ipv6_address_mode` = <nil>, `ntp_servers` = [], `ip_version` = 4, `dns_nameservers` = [], `gateway_ip` = 172.16.101.1, `description` = Sample Subnet, `host_routes` = [], `id` = b4f0c956-2fe0-4634-b7c8-22bfd8095aaf, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `dhcp_server_address` = 172.16.101.2, `cidr` = 172.16.101.0/24, `enable_dhcp` = true, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"172.16.101.0/24\", \"description\": \"IP prefix of local subnet.\", \"output_key\": \"ip_prefix\"}, {\"output_value\": \"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\", \"description\": \"The name of the local subnet.\", \"output_key\": \"name\"}, {\"output_value\": \"172.16.101.1\", \"description\": \"Default gateway of local subnet.\", \"output_key\": \"default_gateway\"}, {\"output_value\": \"bb69041d-c654-4e9f-a763-afd4333275bc\", \"description\": \"A unique id for the network.\", \"output_key\": \"network_id\"}, {\"output_value\": \"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa\", \"description\": \"IPAM this local subnet uses.\", \"output_key\": \"ipam\"}, {\"output_value\": \"8f9e2ede-c3b4-438e-888d-55e326ec29a9\", \"description\": \"A unique id for the local subnet.\", \"output_key\": \"id\"}]","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = b4f0c956-2fe0-4634-b7c8-22bfd8095aaf'
05:02:05.341 gohan.extension.subnet.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:05.342 gohan.db.sql INFO [0m Executing SQL query in transaction 'e3d56ec8-91f7-48d7-b217-aea50bc1fd59': 'UPDATE `subnets` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `ipv6_address_mode` = <nil>, `ntp_servers` = [], `tags` = {}, `ipv6_ra_mode` = <nil>, `name` = sample-subnet, `ip_version` = 4, `dns_nameservers` = [], `dhcp_server_address` = 172.16.101.2, `cidr` = 172.16.101.0/24, `enable_dhcp` = true, `gateway_ip` = 172.16.101.1, `description` = Sample Subnet, `host_routes` = [], `id` = b4f0c956-2fe0-4634-b7c8-22bfd8095aaf, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `allocation_pools` = [{"end":"172.16.101.254","start":"172.16.101.2"}], `status` = ACTIVE WHERE id = b4f0c956-2fe0-4634-b7c8-22bfd8095aaf'
05:02:05.354 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf with index 671
05:02:05.361 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf already unlocked or not locked
05:02:06.054 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60620 data: 
[36m05:02:06.054 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:02:06.054 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:06.120 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:06.124 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[dhcp_server_address:172.16.101.2 status:ACTIVE id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf dns_nameservers:[] cidr:172.16.101.0/24 host_routes:[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f ipv6_ra_mode:<nil> name:sample-subnet enable_dhcp:true gateway_ip:172.16.101.1 description:Sample Subnet network_id:bb69041d-c654-4e9f-a763-afd4333275bc ntp_servers:[] tags:map[] ip_version:4 allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] ipv6_address_mode:<nil>]]
[36m05:02:06.124 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[684] Content-Type:[application/json]]
[36m05:02:06.125 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:06.125 gohan.server.middleware INFO [0m Completed 200 OK in 70.544905ms
05:02:06.481 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60628 data: 
[36m05:02:06.481 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:02:06.481 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:06.547 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:06.550 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[name:sample-subnet tenant_id:0b576f6f4cbf414f829cd12f008bf08f ntp_servers:[] tags:map[] ip_version:4 dns_nameservers:[] description:Sample Subnet id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf dhcp_server_address:172.16.101.2 gateway_ip:172.16.101.1 ipv6_address_mode:<nil> network_id:bb69041d-c654-4e9f-a763-afd4333275bc cidr:172.16.101.0/24 allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] ipv6_ra_mode:<nil> host_routes:[] enable_dhcp:true status:ACTIVE]]
[36m05:02:06.550 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[684]]
[36m05:02:06.550 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:06.550 gohan.server.middleware INFO [0m Completed 200 OK in 69.44141ms
05:02:06.551 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/b4f0c956-2fe0-4634-b7c8-22bfd8095aaf for client 172.17.0.21:60634 data: {}
[36m05:02:06.551 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:02:06.551 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:02:06.616 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf started
[36m05:02:06.618 gohan.server.resources DEBUG [0m Show subnet b4f0c956-2fe0-4634-b7c8-22bfd8095aaf completed: map[subnet:map[status:ACTIVE ntp_servers:[] ipv6_ra_mode:<nil> name:sample-subnet id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf cidr:172.16.101.0/24 enable_dhcp:true description:Sample Subnet dns_nameservers:[] allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] tenant_id:0b576f6f4cbf414f829cd12f008bf08f network_id:bb69041d-c654-4e9f-a763-afd4333275bc host_routes:[] tags:map[] ip_version:4 dhcp_server_address:172.16.101.2 gateway_ip:172.16.101.1 ipv6_address_mode:<nil>]]
[36m05:02:06.618 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[684]]
[36m05:02:06.618 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:06.619 gohan.server.middleware INFO [0m Completed 200 OK in 67.368729ms
05:02:06.960 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.17.0.21:60642 data: {}
[36m05:02:06.961 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:02:06.961 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:02:07.023 gohan.server.resources DEBUG [0m List port query: map[] started
[36m05:02:07.026 gohan.server.resources DEBUG [0m List port query: map[] completed
[36m05:02:07.027 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[897]]
[36m05:02:07.027 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.2",
          "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
        }
      ],
      "id": "3388400c-5e25-4b97-8210-2a796927f2e7",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:02:07.027 gohan.server.middleware INFO [0m Completed 200 OK in 66.239998ms
05:02:07.370 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 for client 172.17.0.21:60650 data: 
[36m05:02:07.370 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:02:07.370 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:07.433 gohan.server.resources DEBUG [0m Show port 3388400c-5e25-4b97-8210-2a796927f2e7 started
[36m05:02:07.437 gohan.server.resources DEBUG [0m Show port 3388400c-5e25-4b97-8210-2a796927f2e7 completed: map[port:map[network_id:bb69041d-c654-4e9f-a763-afd4333275bc name:dhcp-server-port tags:map[] id:3388400c-5e25-4b97-8210-2a796927f2e7 fixed_ips:[map[ip_address:172.16.101.2 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] segmentation_type:<nil> allowed_address_pairs:[] status:ACTIVE admin_state_up:true managed_by_service:false device_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf fake_delete:false device_owner:network:dhcp mac_address:00:00:5e:00:01:00 segmentation_id:<nil> description:DHCP Server Port attached:false ese_logical_port_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f binding:vif_type:vrouter]]
[36m05:02:07.438 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[834]]
[36m05:02:07.438 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.2",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "3388400c-5e25-4b97-8210-2a796927f2e7",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:07.438 gohan.server.middleware INFO [0m Completed 200 OK in 67.916225ms
05:02:07.439 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3388400c-5e25-4b97-8210-2a796927f2e7 for client 172.17.0.21:60656 data: {}
[36m05:02:07.439 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:02:07.439 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:02:07.502 gohan.server.resources DEBUG [0m Show port 3388400c-5e25-4b97-8210-2a796927f2e7 started
[36m05:02:07.507 gohan.server.resources DEBUG [0m Show port 3388400c-5e25-4b97-8210-2a796927f2e7 completed: map[port:map[network_id:bb69041d-c654-4e9f-a763-afd4333275bc device_owner:network:dhcp ese_logical_port_id:<nil> segmentation_type:<nil> tags:map[] admin_state_up:true device_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf name:dhcp-server-port fake_delete:false tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:3388400c-5e25-4b97-8210-2a796927f2e7 allowed_address_pairs:[] binding:vif_type:vrouter fixed_ips:[map[ip_address:172.16.101.2 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] segmentation_id:<nil> status:ACTIVE attached:false mac_address:00:00:5e:00:01:00 description:DHCP Server Port managed_by_service:false]]
[36m05:02:07.507 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[834]]
[36m05:02:07.507 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.2",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "3388400c-5e25-4b97-8210-2a796927f2e7",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:02:07.507 gohan.server.middleware INFO [0m Completed 200 OK in 68.204809ms
05:02:19.385 gohan.server.middleware INFO [0m Started POST /v2.0/gw_interfaces for client 172.17.0.21:60678 data: 
{
"gw_interface": {
"description": "Sample Gw-interface",
"gw_vipv4": "172.16.101.151",
"name": "sample-gw-interface",
"netmask": 24,
"network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
"primary_ipv4": "172.16.101.152",
"secondary_ipv4": "172.16.101.153",
"service_type": "vpn",
"vrid": 20,
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:02:19.385 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[398] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:02:19.385 gohan.server.middleware DEBUG [0m Request body: 
{
"gw_interface": {
"description": "Sample Gw-interface",
"gw_vipv4": "172.16.101.151",
"name": "sample-gw-interface",
"netmask": 24,
"network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
"primary_ipv4": "172.16.101.152",
"secondary_ipv4": "172.16.101.153",
"service_type": "vpn",
"vrid": 20,
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:02:19.470 gohan.server.resources DEBUG [0m Create gw_interface with data map[description:Sample Gw-interface gw_vipv4:172.16.101.151 netmask:24 network_id:bb69041d-c654-4e9f-a763-afd4333275bc name:sample-gw-interface primary_ipv4:172.16.101.152 secondary_ipv4:172.16.101.153 service_type:vpn vrid:20 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m05:02:19.470 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:19.537 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] started
[36m05:02:19.539 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] completed
[36m05:02:19.601 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:19.665 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:19.667 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:19.667 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
05:02:19.703 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `gw_interfaces` (`vpn_gw_id`,`service_type`,`primary_ipv4`,`network_id`,`name`,`description`,`tenant_id`,`secondary_ipv4`,`id`,`gw_vipv4`,`status`,`netmask`,`vrid`) VALUES (4fab887d-8f73-40e6-b2d8-2426255231bf,vpn,172.16.101.152,bb69041d-c654-4e9f-a763-afd4333275bc,sample-gw-interface,Sample Gw-interface,0b576f6f4cbf414f829cd12f008bf08f,172.16.101.153,fbd7d07e-9e84-4ad7-ab85-36d46adb9435,172.16.101.151,PENDING_CREATE,24,20)'
05:02:19.704 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435,1494478939,create,false,"{\"description\":\"Sample Gw-interface\",\"gw_vipv4\":\"172.16.101.151\",\"id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"name\":\"sample-gw-interface\",\"netmask\":24,\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"primary_ipv4\":\"172.16.101.152\",\"secondary_ipv4\":\"172.16.101.153\",\"service_type\":\"vpn\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vpn_gw_id\":\"4fab887d-8f73-40e6-b2d8-2426255231bf\",\"vrid\":20}")'
[36m05:02:19.776 gohan.server.resources DEBUG [0m Create port with data map[managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f fixed_ips:[map[ip_address:172.16.101.151 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf] map[ip_address:172.16.101.152 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] name:Port for : eec156b0-7317-48dd-b76c-019c0758e99d device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 device_owner:network:gw_interface network_id:bb69041d-c654-4e9f-a763-afd4333275bc segmentation_type:vlan segmentation_id:1025] started
[36m05:02:19.776 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:19.846 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:19.910 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:19.911 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:19.913 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:02:19.986 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] started
[36m05:02:19.988 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] completed
[36m05:02:20.050 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] started
[36m05:02:20.053 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] completed
05:02:20.069 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `ports` (`segmentation_id`,`allowed_address_pairs`,`description`,`managed_by_service`,`device_id`,`binding:vif_type`,`network_id`,`name`,`fake_delete`,`device_owner`,`status`,`tenant_id`,`tags`,`id`,`fixed_ips`,`segmentation_type`,`attached`,`mac_address`,`admin_state_up`) VALUES (1025,[],,true,fbd7d07e-9e84-4ad7-ab85-36d46adb9435,vrouter,bb69041d-c654-4e9f-a763-afd4333275bc,Port for : eec156b0-7317-48dd-b76c-019c0758e99d,false,network:gw_interface,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,{},33907bcb-8689-425d-a700-fe8acfd94aed,[{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}],vlan,false,fa:16:3e:ef:15:a2,true)'
05:02:20.070 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"device_owner\":\"network:gw_interface\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.151\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"},{\"ip_address\":\"172.16.101.152\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"}],\"id\":\"33907bcb-8689-425d-a700-fe8acfd94aed\",\"mac_address\":\"fa:16:3e:ef:15:a2\",\"managed_by_service\":true,\"name\":\"Port for : eec156b0-7317-48dd-b76c-019c0758e99d\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed,1494478940,create,false)'
[36m05:02:20.073 gohan.extension.port.post_create_in_transaction DEBUG [0m Creating logical port for port id='33907bcb-8689-425d-a700-fe8acfd94aed'.
[36m05:02:20.136 gohan.server.resources DEBUG [0m Create ese_logical_port with data map[description:ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed ese_physical_port_id:eec156b0-7317-48dd-b76c-019c0758e99d tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 tags:map[] gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 name:xe-0/0/3.1025 network_id:bb69041d-c654-4e9f-a763-afd4333275bc port_ids:[33907bcb-8689-425d-a700-fe8acfd94aed] vlan_id:1025 connected_resource:gw_interface] started
[36m05:02:20.136 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:20.203 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:20.265 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:20.267 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:20.268 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:02:20.330 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[eec156b0-7317-48dd-b76c-019c0758e99d]] started
[36m05:02:20.332 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[eec156b0-7317-48dd-b76c-019c0758e99d]] completed
05:02:20.340 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `ese_logical_ports` (`tags`,`tenant_id`,`vlan_id`,`name`,`gw_interface_id`,`ese_physical_port_id`,`port_ids`,`status`,`id`,`network_id`,`description`,`connected_resource`,`type`) VALUES ({},0b576f6f4cbf414f829cd12f008bf08f,1025,xe-0/0/3.1025,fbd7d07e-9e84-4ad7-ab85-36d46adb9435,eec156b0-7317-48dd-b76c-019c0758e99d,["33907bcb-8689-425d-a700-fe8acfd94aed"],PENDING_CREATE,ef450536-01c9-4380-a34d-a1ae56e0447e,bb69041d-c654-4e9f-a763-afd4333275bc,ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed,gw_interface,L2)'
05:02:20.340 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"connected_resource\":\"gw_interface\",\"description\":\"ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed\",\"ese_physical_port_id\":\"eec156b0-7317-48dd-b76c-019c0758e99d\",\"gw_interface_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"id\":\"ef450536-01c9-4380-a34d-a1ae56e0447e\",\"name\":\"xe-0/0/3.1025\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"port_ids\":[\"33907bcb-8689-425d-a700-fe8acfd94aed\"],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"L2\",\"vlan_id\":1025}",1,/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e,1494478940,create,false)'
[36m05:02:20.342 gohan.server.resources DEBUG [0m Create ese_logical_port completed: map[ese_logical_port:map[name:xe-0/0/3.1025 network_id:bb69041d-c654-4e9f-a763-afd4333275bc port_ids:[33907bcb-8689-425d-a700-fe8acfd94aed] vlan_id:1025 connected_resource:gw_interface id:ef450536-01c9-4380-a34d-a1ae56e0447e description:ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed ese_physical_port_id:eec156b0-7317-48dd-b76c-019c0758e99d tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 tags:map[] gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 status:PENDING_CREATE]]
[36m05:02:20.342 gohan.extension.port.post_create_in_transaction DEBUG [0m ESE logical port (id='ef450536-01c9-4380-a34d-a1ae56e0447e') created successfully.
05:02:20.342 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'UPDATE `ports` SET `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fake_delete` = false, `segmentation_type` = vlan, `attached` = false, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}] WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
[36m05:02:20.345 gohan.server.resources DEBUG [0m Create port completed: map[port:map[segmentation_id:1025 id:33907bcb-8689-425d-a700-fe8acfd94aed admin_state_up:true binding:vif_type:vrouter fake_delete:false description: ese_logical_port_id:ef450536-01c9-4380-a34d-a1ae56e0447e device_owner:network:gw_interface segmentation_type:vlan fixed_ips:[map[subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf ip_address:172.16.101.151] map[ip_address:172.16.101.152 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] attached:false allowed_address_pairs:[] tags:map[] mac_address:fa:16:3e:ef:15:a2 status:PENDING_CREATE name:Port for : eec156b0-7317-48dd-b76c-019c0758e99d device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 network_id:bb69041d-c654-4e9f-a763-afd4333275bc managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m05:02:20.394 gohan.server.resources DEBUG [0m Create port with data map[name:Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1 device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 network_id:bb69041d-c654-4e9f-a763-afd4333275bc fixed_ips:[map[ip_address:172.16.101.153 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] device_owner:network:gw_interface segmentation_type:vlan segmentation_id:1025 managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m05:02:20.394 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:20.446 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:20.497 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:20.499 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:20.500 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:02:20.560 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] started
[36m05:02:20.562 gohan.server.resources DEBUG [0m List subnet query: map[id:[b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] completed
05:02:20.576 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `ports` (`network_id`,`name`,`fake_delete`,`device_owner`,`status`,`tenant_id`,`binding:vif_type`,`id`,`fixed_ips`,`segmentation_type`,`attached`,`tags`,`admin_state_up`,`mac_address`,`allowed_address_pairs`,`description`,`managed_by_service`,`device_id`,`segmentation_id`) VALUES (bb69041d-c654-4e9f-a763-afd4333275bc,Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1,false,network:gw_interface,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,vrouter,67d9f139-b5be-4082-a090-3a1a9cbf1df8,[{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}],vlan,false,{},true,fa:16:3e:62:dd:f5,[],,true,fbd7d07e-9e84-4ad7-ab85-36d46adb9435,1025)'
05:02:20.576 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494478940,create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"device_owner\":\"network:gw_interface\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.153\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"}],\"id\":\"67d9f139-b5be-4082-a090-3a1a9cbf1df8\",\"mac_address\":\"fa:16:3e:62:dd:f5\",\"managed_by_service\":true,\"name\":\"Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8)'
[36m05:02:20.579 gohan.extension.port.post_create_in_transaction DEBUG [0m Creating logical port for port id='67d9f139-b5be-4082-a090-3a1a9cbf1df8'.
[36m05:02:20.627 gohan.server.resources DEBUG [0m Create ese_logical_port with data map[name:xe-0/0/4.1025 description:ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 ese_physical_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 port_ids:[67d9f139-b5be-4082-a090-3a1a9cbf1df8] connected_resource:gw_interface network_id:bb69041d-c654-4e9f-a763-afd4333275bc tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 vlan_id:1025 tags:map[] gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435] started
[36m05:02:20.627 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:02:20.690 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] started
[36m05:02:20.755 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m05:02:20.756 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m05:02:20.757 gohan.server.resources DEBUG [0m List network query: map[id:[bb69041d-c654-4e9f-a763-afd4333275bc]] completed
[36m05:02:20.817 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[176ec475-e9e8-4605-8b41-802fbc6220c1]] started
[36m05:02:20.819 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[176ec475-e9e8-4605-8b41-802fbc6220c1]] completed
05:02:20.828 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `ese_logical_ports` (`id`,`network_id`,`description`,`connected_resource`,`type`,`tenant_id`,`vlan_id`,`name`,`gw_interface_id`,`tags`,`ese_physical_port_id`,`port_ids`,`status`) VALUES (ecb4c4ac-3ebc-4045-a27c-52fecc93bac5,bb69041d-c654-4e9f-a763-afd4333275bc,ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8,gw_interface,L2,0b576f6f4cbf414f829cd12f008bf08f,1025,xe-0/0/4.1025,fbd7d07e-9e84-4ad7-ab85-36d46adb9435,{},176ec475-e9e8-4605-8b41-802fbc6220c1,["67d9f139-b5be-4082-a090-3a1a9cbf1df8"],PENDING_CREATE)'
05:02:20.829 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5,1494478940,create,false,"{\"connected_resource\":\"gw_interface\",\"description\":\"ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8\",\"ese_physical_port_id\":\"176ec475-e9e8-4605-8b41-802fbc6220c1\",\"gw_interface_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"id\":\"ecb4c4ac-3ebc-4045-a27c-52fecc93bac5\",\"name\":\"xe-0/0/4.1025\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"port_ids\":[\"67d9f139-b5be-4082-a090-3a1a9cbf1df8\"],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"L2\",\"vlan_id\":1025}",1)'
[36m05:02:20.831 gohan.server.resources DEBUG [0m Create ese_logical_port completed: map[ese_logical_port:map[id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 name:xe-0/0/4.1025 description:ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 ese_physical_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 port_ids:[67d9f139-b5be-4082-a090-3a1a9cbf1df8] connected_resource:gw_interface gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 status:PENDING_CREATE network_id:bb69041d-c654-4e9f-a763-afd4333275bc tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 vlan_id:1025 tags:map[]]]
[36m05:02:20.831 gohan.extension.port.post_create_in_transaction DEBUG [0m ESE logical port (id='ecb4c4ac-3ebc-4045-a27c-52fecc93bac5') created successfully.
05:02:20.831 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9695572-fb88-446a-a8df-71066a1506dc': 'UPDATE `ports` SET `mac_address` = fa:16:3e:62:dd:f5, `admin_state_up` = true, `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fake_delete` = false, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = false, `tags` = {}, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
[36m05:02:20.834 gohan.server.resources DEBUG [0m Create port completed: map[port:map[device_owner:network:gw_interface managed_by_service:true attached:false description: ese_logical_port_id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 name:Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1 fake_delete:false status:PENDING_CREATE allowed_address_pairs:[] admin_state_up:true segmentation_type:vlan segmentation_id:1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:67d9f139-b5be-4082-a090-3a1a9cbf1df8 binding:vif_type:vrouter tags:map[] device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 network_id:bb69041d-c654-4e9f-a763-afd4333275bc fixed_ips:[map[ip_address:172.16.101.153 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] mac_address:fa:16:3e:62:dd:f5]]
05:02:20.834 gohan.extension.gw_interface.post_create_in_transaction INFO [0m GW Interface Ports created
[36m05:02:20.850 gohan.server.resources DEBUG [0m Create gw_interface completed: map[gw_interface:map[description:Sample Gw-interface gw_vipv4:172.16.101.151 netmask:24 network_id:bb69041d-c654-4e9f-a763-afd4333275bc id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 name:sample-gw-interface primary_ipv4:172.16.101.152 secondary_ipv4:172.16.101.153 service_type:vpn vrid:20 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE]]
[36m05:02:20.850 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[527] Content-Type:[application/json]]
[36m05:02:20.850 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "primary_ipv4": "172.16.101.152",
    "secondary_ipv4": "172.16.101.153",
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "vrid": 20
  }
}
05:02:20.850 gohan.server.middleware INFO [0m Completed 201 Created in 1.465298116s
[36m05:02:20.853 gohan.server.sync DEBUG [0m Processing event 82 - create
05:02:20.853 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435
[36m05:02:20.855 gohan.server.sync DEBUG [0m Deleting event 82
05:02:20.857 gohan.db.sql INFO [0m Executing SQL query in transaction 'a03460a4-4a07-4c8f-b98b-808804117cde': 'DELETE FROM `events` WHERE id = 82'
[36m05:02:20.858 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:02:20.874 gohan.server.sync DEBUG [0m Processing event 83 - create
05:02:20.874 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed
[36m05:02:20.880 gohan.server.sync DEBUG [0m Deleting event 83
05:02:20.882 gohan.db.sql INFO [0m Executing SQL query in transaction 'f3053926-a9a2-4a64-8c7c-9c3029759cec': 'DELETE FROM `events` WHERE id = 83'
[36m05:02:20.882 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:02:20.893 gohan.server.sync DEBUG [0m Processing event 84 - create
05:02:20.893 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e
[36m05:02:20.896 gohan.server.sync DEBUG [0m Deleting event 84
05:02:20.899 gohan.db.sql INFO [0m Executing SQL query in transaction '87c43388-c4de-46bd-8819-6c50937531ac': 'DELETE FROM `events` WHERE id = 84'
[36m05:02:20.900 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:02:20.915 gohan.server.sync DEBUG [0m Processing event 85 - create
05:02:20.915 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8
[36m05:02:20.926 gohan.server.sync DEBUG [0m Deleting event 85
05:02:20.928 gohan.db.sql INFO [0m Executing SQL query in transaction '080918cb-de17-47ca-bac1-459a7ac6d9fe': 'DELETE FROM `events` WHERE id = 85'
[36m05:02:20.928 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:02:20.950 gohan.server.sync DEBUG [0m Processing event 86 - create
05:02:20.950 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5
[36m05:02:20.962 gohan.server.sync DEBUG [0m Deleting event 86
05:02:20.970 gohan.db.sql INFO [0m Executing SQL query in transaction '9d632ede-77be-48fd-8ebc-23e9037ee5d4': 'DELETE FROM `events` WHERE id = 86'
[36m05:02:20.970 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:02:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:02:30.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:02:30.114 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:02:30.118 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:02:30.119 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:02:30.132 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:02:30.134 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:02:30.135 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:02:39.070 gohan.server DEBUG [0m State event update received: set /state/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 map[error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[] state_monitoring:{"primary": "master", "secondary": "backup"}] version:1]
05:02:39.071 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 map[error: state:map[heat_outputs:[] state_monitoring:{"primary": "master", "secondary": "backup"} worker_state:CREATE_COMPLETED] version:1] started
05:02:39.081 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 with index 765
05:02:39.176 gohan.db.sql INFO [0m Executing SQL query in transaction '182efa27-33ed-4f62-86ec-bb5b3e56776f': 'UPDATE `gw_interfaces` SET `gw_vipv6` = <nil>, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `internet_gw_id` = <nil>, `service_type` = vpn, `secondary_ipv6` = <nil>, `primary_ipv4` = 172.16.101.152, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = sample-gw-interface, `description` = Sample Gw-interface, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_ipv4` = 172.16.101.153, `id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `aws_gw_id` = <nil>, `primary_ipv6` = <nil>, `vrid` = 20, `gw_vipv4` = 172.16.101.151, `public_ip_id` = <nil>, `status` = PENDING_CREATE, `netmask` = 24, `interdc_gw_id` = <nil>, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary\": \"master\", \"secondary\": \"backup\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = fbd7d07e-9e84-4ad7-ab85-36d46adb9435'
05:02:39.177 gohan.extension.gw_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:39.177 gohan.extension.gw_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "master", "secondary": "backup"}
05:02:39.178 gohan.db.sql INFO [0m Executing SQL query in transaction '182efa27-33ed-4f62-86ec-bb5b3e56776f': 'UPDATE `gw_interfaces` SET `secondary_ipv6` = <nil>, `primary_ipv4` = 172.16.101.152, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = sample-gw-interface, `description` = Sample Gw-interface, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_ipv4` = 172.16.101.153, `id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `aws_gw_id` = <nil>, `primary_ipv6` = <nil>, `gw_vipv4` = 172.16.101.151, `public_ip_id` = <nil>, `status` = ACTIVE, `netmask` = 24, `interdc_gw_id` = <nil>, `vrid` = 20, `gw_vipv6` = <nil>, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `internet_gw_id` = <nil>, `service_type` = vpn WHERE id = fbd7d07e-9e84-4ad7-ab85-36d46adb9435'
05:02:39.191 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 with index 765
Endpoint for service monitoring not found.
[31m05:02:39.191 gohan.extension.gw_interface.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:02:39.198 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 already unlocked or not locked
[36m05:02:42.974 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED] version:1]
05:02:42.974 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[state:map[worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{}] version:1 error:] started
05:02:42.982 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 809
[36m05:02:43.058 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[version:1 error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "33907bcb-8689-425d-a700-fe8acfd94aed", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED]]
05:02:43.058 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "33907bcb-8689-425d-a700-fe8acfd94aed", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED] version:1 error:] started
05:02:43.063 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 820
05:02:43.151 gohan.db.sql INFO [0m Executing SQL query in transaction 'e51dda58-983b-4221-b090-7ffee16bcc2b': 'UPDATE `ports` SET `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fake_delete` = false, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = false, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:62:dd:f5, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
05:02:43.153 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:43.153 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {}
05:02:43.169 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 809
05:02:43.178 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 already unlocked or not locked
05:02:43.185 gohan.db.sql INFO [0m Executing SQL query in transaction '2df06cee-2a02-472b-97eb-f47cfcd3767e': 'UPDATE `ports` SET `attached` = false, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fake_delete` = false, `device_owner` = network:gw_interface, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
05:02:43.187 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:43.188 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {}
05:02:43.218 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 820
05:02:43.225 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed already unlocked or not locked
[36m05:02:45.532 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 map[error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
05:02:45.533 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 map[error: state:map[state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}]] version:1] started
05:02:45.541 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 with index 849
05:02:45.601 gohan.db.sql INFO [0m Executing SQL query in transaction 'e345d012-8cd4-4b49-9823-eebc05d59c6a': 'UPDATE `ese_logical_ports` SET `id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `description` = ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `connected_resource` = gw_interface, `type` = L2, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `vlan_id` = 1025, `name` = xe-0/0/4.1025, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `ese_physical_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `port_ids` = ["67d9f139-b5be-4082-a090-3a1a9cbf1df8"], `status` = PENDING_CREATE, `common_function_gateway_id` = <nil>, ese_physical_port_id = 176ec475-e9e8-4605-8b41-802fbc6220c1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5'
05:02:45.603 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:45.603 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
05:02:45.603 gohan.db.sql INFO [0m Executing SQL query in transaction 'e345d012-8cd4-4b49-9823-eebc05d59c6a': 'UPDATE `ese_logical_ports` SET `common_function_gateway_id` = <nil>, `ese_physical_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `port_ids` = ["67d9f139-b5be-4082-a090-3a1a9cbf1df8"], `status` = ACTIVE, `id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `description` = ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `connected_resource` = gw_interface, `type` = L2, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `vlan_id` = 1025, `name` = xe-0/0/4.1025, ese_physical_port_id = 176ec475-e9e8-4605-8b41-802fbc6220c1 WHERE id = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5'
05:02:45.605 gohan.db.sql INFO [0m Executing SQL query in transaction 'e345d012-8cd4-4b49-9823-eebc05d59c6a': 'UPDATE `ports` SET `mac_address` = fa:16:3e:62:dd:f5, `admin_state_up` = true, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fake_delete` = false, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tags` = {}, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = true, `config_version` = `config_version` + 1 WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
05:02:45.606 gohan.db.sql INFO [0m Executing SQL query in transaction 'e345d012-8cd4-4b49-9823-eebc05d59c6a': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (update,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":true,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"device_owner\":\"network:gw_interface\",\"ese_logical_port_id\":\"ecb4c4ac-3ebc-4045-a27c-52fecc93bac5\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.153\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"}],\"id\":\"67d9f139-b5be-4082-a090-3a1a9cbf1df8\",\"mac_address\":\"fa:16:3e:62:dd:f5\",\"managed_by_service\":true,\"name\":\"Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",2,/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8,1494478965)'
[36m05:02:45.623 gohan.server.sync DEBUG [0m Processing event 87 - update
05:02:45.623 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8
[36m05:02:45.624 gohan.server.sync DEBUG [0m Deleting event 87
05:02:45.625 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 with index 849
05:02:45.630 gohan.db.sql INFO [0m Executing SQL query in transaction 'e0fa18fc-e9b7-434f-a994-3c35b8403ed0': 'DELETE FROM `events` WHERE id = 87'
[36m05:02:45.631 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:02:45.634 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 already unlocked or not locked
[36m05:02:45.697 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e map[version:1 error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED]]
05:02:45.697 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e map[version:1 error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
05:02:45.709 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e with index 871
05:02:45.773 gohan.db.sql INFO [0m Executing SQL query in transaction '7b3a2d62-f33c-4fc3-b9d6-06009f047d3c': 'UPDATE `ese_logical_ports` SET `id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `description` = ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed, `connected_resource` = gw_interface, `type` = L2, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `vlan_id` = 1025, `name` = xe-0/0/3.1025, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `ese_physical_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, `port_ids` = ["33907bcb-8689-425d-a700-fe8acfd94aed"], `status` = PENDING_CREATE, `common_function_gateway_id` = <nil>, ese_physical_port_id = eec156b0-7317-48dd-b76c-019c0758e99d, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = ef450536-01c9-4380-a34d-a1ae56e0447e'
05:02:45.774 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:02:45.774 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
05:02:45.775 gohan.db.sql INFO [0m Executing SQL query in transaction '7b3a2d62-f33c-4fc3-b9d6-06009f047d3c': 'UPDATE `ese_logical_ports` SET `vlan_id` = 1025, `name` = xe-0/0/3.1025, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `port_ids` = ["33907bcb-8689-425d-a700-fe8acfd94aed"], `status` = ACTIVE, `common_function_gateway_id` = <nil>, `ese_physical_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `connected_resource` = gw_interface, `type` = L2, `description` = ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed, ese_physical_port_id = eec156b0-7317-48dd-b76c-019c0758e99d WHERE id = ef450536-01c9-4380-a34d-a1ae56e0447e'
05:02:45.781 gohan.db.sql INFO [0m Executing SQL query in transaction '7b3a2d62-f33c-4fc3-b9d6-06009f047d3c': 'UPDATE `ports` SET `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fake_delete` = false, `device_owner` = network:gw_interface, `attached` = true, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `config_version` = `config_version` + 1 WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
05:02:45.782 gohan.db.sql INFO [0m Executing SQL query in transaction '7b3a2d62-f33c-4fc3-b9d6-06009f047d3c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed,1494478965,update,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":true,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"fbd7d07e-9e84-4ad7-ab85-36d46adb9435\",\"device_owner\":\"network:gw_interface\",\"ese_logical_port_id\":\"ef450536-01c9-4380-a34d-a1ae56e0447e\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.151\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"},{\"ip_address\":\"172.16.101.152\",\"subnet_id\":\"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf\"}],\"id\":\"33907bcb-8689-425d-a700-fe8acfd94aed\",\"mac_address\":\"fa:16:3e:ef:15:a2\",\"managed_by_service\":true,\"name\":\"Port for : eec156b0-7317-48dd-b76c-019c0758e99d\",\"network_id\":\"bb69041d-c654-4e9f-a763-afd4333275bc\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",2)'
[36m05:02:45.802 gohan.server.sync DEBUG [0m Processing event 88 - update
05:02:45.802 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed
[36m05:02:45.811 gohan.server.sync DEBUG [0m Deleting event 88
05:02:45.811 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e with index 871
05:02:45.815 gohan.db.sql INFO [0m Executing SQL query in transaction '288cc313-4a4e-4e9d-a64b-5383c8f05d43': 'DELETE FROM `events` WHERE id = 88'
[36m05:02:45.816 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
05:02:45.817 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e already unlocked or not locked
05:02:47.463 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.17.0.21:60960 data: {}
[36m05:02:47.463 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m05:02:47.463 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:02:47.575 gohan.server.resources DEBUG [0m List port query: map[] started
[36m05:02:47.577 gohan.server.resources DEBUG [0m List port query: map[] completed
[36m05:02:47.578 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[3] Content-Length:[2912]]
[36m05:02:47.578 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.2",
          "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
        }
      ],
      "id": "3388400c-5e25-4b97-8210-2a796927f2e7",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "device_owner": "network:gw_interface",
      "ese_logical_port_id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.151",
          "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
        },
        {
          "ip_address": "172.16.101.152",
          "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
        }
      ],
      "id": "33907bcb-8689-425d-a700-fe8acfd94aed",
      "mac_address": "fa:16:3e:ef:15:a2",
      "managed_by_service": true,
      "name": "Port for : eec156b0-7317-48dd-b76c-019c0758e99d",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "segmentation_id": 1025,
      "segmentation_type": "vlan",
      "status": "PENDING_CREATE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "device_owner": "network:gw_interface",
      "ese_logical_port_id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.153",
          "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
        }
      ],
      "id": "67d9f139-b5be-4082-a090-3a1a9cbf1df8",
      "mac_address": "fa:16:3e:62:dd:f5",
      "managed_by_service": true,
      "name": "Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "segmentation_id": 1025,
      "segmentation_type": "vlan",
      "status": "PENDING_CREATE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:02:47.578 gohan.server.middleware INFO [0m Completed 200 OK in 114.899513ms
05:02:51.541 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 for client 172.17.0.21:60994 data: 
[36m05:02:51.541 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:02:51.541 gohan.server.middleware DEBUG [0m Request body: 
[36m05:02:51.612 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 started
[36m05:02:51.615 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 completed: map[gw_interface:map[service_type:vpn description:Sample Gw-interface status:ACTIVE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf network_id:bb69041d-c654-4e9f-a763-afd4333275bc tenant_id:0b576f6f4cbf414f829cd12f008bf08f public_ip_id:<nil> interdc_gw_id:<nil> gw_vipv6:<nil> secondary_ipv6:<nil> name:sample-gw-interface secondary_ipv4:172.16.101.153 primary_ipv6:<nil> internet_gw_id:<nil> id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 aws_gw_id:<nil> gw_vipv4:172.16.101.151 netmask:24 vrid:20 primary_ipv4:172.16.101.152]]
[36m05:02:51.615 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[699]]
[36m05:02:51.615 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "vrid": 20
  }
}
05:02:51.615 gohan.server.middleware INFO [0m Completed 200 OK in 73.985292ms
[36m05:02:56.420 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED] version:2]
05:02:56.420 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "67d9f139-b5be-4082-a090-3a1a9cbf1df8", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED] version:2] started
05:02:56.428 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 939
05:02:56.506 gohan.db.sql INFO [0m Executing SQL query in transaction '862fc2dc-64ea-43b7-afbe-9bc85b8cc3ad': 'UPDATE `ports` SET `mac_address` = fa:16:3e:62:dd:f5, `admin_state_up` = true, `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `fake_delete` = false, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = true, `tags` = {}, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
05:02:56.509 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 0
05:02:56.509 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
05:02:56.513 gohan.db.sql INFO [0m Executing SQL query in transaction '862fc2dc-64ea-43b7-afbe-9bc85b8cc3ad': 'UPDATE `ports` SET `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = true, `tags` = {}, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `mac_address` = fa:16:3e:62:dd:f5, `admin_state_up` = true, `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fake_delete` = false, `device_owner` = network:gw_interface, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
05:02:56.536 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 939
Endpoint for service monitoring not found.
[31m05:02:56.536 gohan.extension.port.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:02:56.546 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 already unlocked or not locked
[36m05:02:56.897 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "33907bcb-8689-425d-a700-fe8acfd94aed", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED] version:2]
05:02:56.897 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[error: state:map[state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "33907bcb-8689-425d-a700-fe8acfd94aed", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}]] version:2] started
05:02:56.909 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 961
05:02:56.972 gohan.db.sql INFO [0m Executing SQL query in transaction '83523433-ca95-48ed-bc68-242c0f4aa598': 'UPDATE `ports` SET `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_owner` = network:gw_interface, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fake_delete` = false, `segmentation_type` = vlan, `attached` = true, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
05:02:56.973 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 0
05:02:56.974 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
05:02:56.976 gohan.db.sql INFO [0m Executing SQL query in transaction '83523433-ca95-48ed-bc68-242c0f4aa598': 'UPDATE `ports` SET `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `fake_delete` = false, `device_owner` = network:gw_interface, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = true, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
05:02:56.991 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 961
Endpoint for service monitoring not found.
[31m05:02:56.992 gohan.extension.port.post_state_update ERROR [0m No monitoring endpoint found for monitoring
05:02:56.998 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed already unlocked or not locked
[36m05:02:57.513 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[vmi:UP version:2]
05:02:57.523 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 map[version:2 vmi:UP] started
05:02:57.532 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 970
[36m05:02:57.546 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[vmi:UP version:2]
05:02:57.546 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed map[version:2 vmi:UP] started
05:02:57.551 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 972
05:02:57.582 gohan.db.sql INFO [0m Executing SQL query in transaction 'a94d3125-865f-466e-8721-4e31c2f954d1': 'UPDATE `ports` SET `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1, `fake_delete` = false, `device_owner` = network:gw_interface, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `tags` = {}, `ese_logical_port_id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `id` = 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `segmentation_type` = vlan, `attached` = true, `mac_address` = fa:16:3e:62:dd:f5, `admin_state_up` = true, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"67d9f139-b5be-4082-a090-3a1a9cbf1df8\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0 WHERE id = 67d9f139-b5be-4082-a090-3a1a9cbf1df8'
05:02:57.583 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 2
05:02:57.584 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
05:02:57.584 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"vmi":"UP"}
05:02:57.601 gohan.db.sql INFO [0m Executing SQL query in transaction '928095e2-a643-41e8-b627-4fb2a92128b0': 'UPDATE `ports` SET `mac_address` = fa:16:3e:ef:15:a2, `admin_state_up` = true, `device_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `segmentation_id` = 1025, `allowed_address_pairs` = [], `description` = , `managed_by_service` = true, `device_owner` = network:gw_interface, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `binding:vif_type` = vrouter, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = Port for : eec156b0-7317-48dd-b76c-019c0758e99d, `fake_delete` = false, `segmentation_type` = vlan, `attached` = true, `tags` = {}, `ese_logical_port_id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `id` = 33907bcb-8689-425d-a700-fe8acfd94aed, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"},{"ip_address":"172.16.101.152","subnet_id":"b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"}], `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"33907bcb-8689-425d-a700-fe8acfd94aed\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0 WHERE id = 33907bcb-8689-425d-a700-fe8acfd94aed'
05:02:57.603 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 2
05:02:57.603 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
05:02:57.603 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"vmi":"UP"}
05:02:57.618 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 with index 970
05:02:57.618 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 completed
05:02:57.643 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed with index 972
05:02:57.643 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed completed
05:02:57.644 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 already unlocked or not locked
05:02:57.669 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed already unlocked or not locked
05:03:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_purge_resource_mappings with index 0
05:03:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:03:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:03:00.976 gohan.extension.cron_purge_resource_mappings.notification INFO [0m Deleting expired resource mappings before 1493614980
05:03:00.976 gohan.db.sql INFO [0m Executing SQL query in transaction 'f46069e2-9e4e-46e6-94a8-9e0cce069973': 'DELETE FROM resource_mappings  WHERE deleted < 1.49361498e+09  ;'
[36m05:03:01.043 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:03:01.064 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:03:01.065 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:03:01.067 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:03:01.067 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:03:01.082 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:03:12.071 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 for client 172.17.0.21:32838 data: 
[36m05:03:12.072 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:03:12.072 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:12.159 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 started
[36m05:03:12.162 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 completed: map[gw_interface:map[network_id:bb69041d-c654-4e9f-a763-afd4333275bc description:Sample Gw-interface gw_vipv4:172.16.101.151 status:ACTIVE interdc_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf netmask:24 name:sample-gw-interface id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 aws_gw_id:<nil> secondary_ipv4:172.16.101.153 public_ip_id:<nil> gw_vipv6:<nil> internet_gw_id:<nil> service_type:vpn primary_ipv6:<nil> vrid:20 secondary_ipv6:<nil> primary_ipv4:172.16.101.152 tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m05:03:12.162 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[699]]
[36m05:03:12.162 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "vrid": 20
  }
}
05:03:12.162 gohan.server.middleware INFO [0m Completed 200 OK in 90.875944ms
05:03:12.164 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 for client 172.17.0.21:32844 data: {}
[36m05:03:12.164 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m05:03:12.164 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:12.247 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 started
[36m05:03:12.250 gohan.server.resources DEBUG [0m Show gw_interface fbd7d07e-9e84-4ad7-ab85-36d46adb9435 completed: map[gw_interface:map[public_ip_id:<nil> status:ACTIVE vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f primary_ipv6:<nil> vrid:20 service_type:vpn secondary_ipv6:<nil> primary_ipv4:172.16.101.152 network_id:bb69041d-c654-4e9f-a763-afd4333275bc secondary_ipv4:172.16.101.153 gw_vipv4:172.16.101.151 interdc_gw_id:<nil> internet_gw_id:<nil> description:Sample Gw-interface id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 aws_gw_id:<nil> netmask:24 gw_vipv6:<nil> name:sample-gw-interface]]
[36m05:03:12.250 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[699] Content-Type:[application/json]]
[36m05:03:12.250 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
    "vrid": 20
  }
}
05:03:12.250 gohan.server.middleware INFO [0m Completed 200 OK in 86.390693ms
05:03:14.550 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports for client 172.17.0.21:32866 data: {}
[36m05:03:14.550 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:03:14.550 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:14.615 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] started
[36m05:03:14.617 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] completed
[36m05:03:14.617 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[2] Content-Length:[1393]]
[36m05:03:14.617 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_ports": [
    {
      "common_function_gateway_id": null,
      "connected_resource": "gw_interface",
      "description": "ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8",
      "ese_physical_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
      "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
      "name": "xe-0/0/4.1025",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "port_ids": [
        "67d9f139-b5be-4082-a090-3a1a9cbf1df8"
      ],
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "type": "L2",
      "vlan_id": 1025
    },
    {
      "common_function_gateway_id": null,
      "connected_resource": "gw_interface",
      "description": "ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed",
      "ese_physical_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
      "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
      "name": "xe-0/0/3.1025",
      "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "port_ids": [
        "33907bcb-8689-425d-a700-fe8acfd94aed"
      ],
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "type": "L2",
      "vlan_id": 1025
    }
  ]
}
05:03:14.617 gohan.server.middleware INFO [0m Completed 200 OK in 66.871646ms
05:03:14.958 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 for client 172.17.0.21:32874 data: 
[36m05:03:14.959 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m05:03:14.959 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:15.023 gohan.server.resources DEBUG [0m Show ese_logical_port ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 started
[36m05:03:15.025 gohan.server.resources DEBUG [0m Show ese_logical_port ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 completed: map[ese_logical_port:map[type:L2 description:ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 ese_physical_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 common_function_gateway_id:<nil> network_id:bb69041d-c654-4e9f-a763-afd4333275bc name:xe-0/0/4.1025 tags:map[] connected_resource:gw_interface vlan_id:1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f port_ids:[67d9f139-b5be-4082-a090-3a1a9cbf1df8] status:ACTIVE]]
[36m05:03:15.025 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m05:03:15.026 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8",
    "ese_physical_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
    "name": "xe-0/0/4.1025",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "port_ids": [
      "67d9f139-b5be-4082-a090-3a1a9cbf1df8"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
05:03:15.026 gohan.server.middleware INFO [0m Completed 200 OK in 67.202394ms
05:03:15.027 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 for client 172.17.0.21:32880 data: {}
[36m05:03:15.027 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:15.027 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:15.093 gohan.server.resources DEBUG [0m Show ese_logical_port ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 started
[36m05:03:15.096 gohan.server.resources DEBUG [0m Show ese_logical_port ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 completed: map[ese_logical_port:map[tags:map[] id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 type:L2 vlan_id:1025 gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 common_function_gateway_id:<nil> network_id:bb69041d-c654-4e9f-a763-afd4333275bc connected_resource:gw_interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f port_ids:[67d9f139-b5be-4082-a090-3a1a9cbf1df8] ese_physical_port_id:176ec475-e9e8-4605-8b41-802fbc6220c1 description:ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 name:xe-0/0/4.1025 status:ACTIVE]]
[36m05:03:15.096 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m05:03:15.096 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8",
    "ese_physical_port_id": "176ec475-e9e8-4605-8b41-802fbc6220c1",
    "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
    "name": "xe-0/0/4.1025",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "port_ids": [
      "67d9f139-b5be-4082-a090-3a1a9cbf1df8"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
05:03:15.096 gohan.server.middleware INFO [0m Completed 200 OK in 69.504994ms
05:03:17.275 gohan.server.middleware INFO [0m Started GET /v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 for client 172.17.0.21:32906 data: 
[36m05:03:17.275 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m05:03:17.275 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:17.341 gohan.server.resources DEBUG [0m Show port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 started
[36m05:03:17.345 gohan.server.resources DEBUG [0m Show port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 completed: map[port:map[description: managed_by_service:true device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 tenant_id:0b576f6f4cbf414f829cd12f008bf08f ese_logical_port_id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 mac_address:fa:16:3e:62:dd:f5 admin_state_up:true binding:vif_type:vrouter network_id:bb69041d-c654-4e9f-a763-afd4333275bc fixed_ips:[map[ip_address:172.16.101.153 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] segmentation_type:vlan tags:map[] segmentation_id:1025 allowed_address_pairs:[] name:Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1 fake_delete:false attached:true device_owner:network:gw_interface status:ACTIVE id:67d9f139-b5be-4082-a090-3a1a9cbf1df8]]
[36m05:03:17.345 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[893]]
[36m05:03:17.345 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.153",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "67d9f139-b5be-4082-a090-3a1a9cbf1df8",
    "mac_address": "fa:16:3e:62:dd:f5",
    "managed_by_service": true,
    "name": "Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:03:17.345 gohan.server.middleware INFO [0m Completed 200 OK in 70.828149ms
05:03:17.346 gohan.server.middleware INFO [0m Started GET /v2.0/ports/67d9f139-b5be-4082-a090-3a1a9cbf1df8 for client 172.17.0.21:32912 data: {}
[36m05:03:17.346 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:17.347 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:17.413 gohan.server.resources DEBUG [0m Show port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 started
[36m05:03:17.418 gohan.server.resources DEBUG [0m Show port 67d9f139-b5be-4082-a090-3a1a9cbf1df8 completed: map[port:map[admin_state_up:true allowed_address_pairs:[] device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f device_owner:network:gw_interface ese_logical_port_id:ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 id:67d9f139-b5be-4082-a090-3a1a9cbf1df8 segmentation_type:vlan description: managed_by_service:true mac_address:fa:16:3e:62:dd:f5 attached:true tags:map[] fixed_ips:[map[ip_address:172.16.101.153 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] segmentation_id:1025 name:Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1 fake_delete:false binding:vif_type:vrouter network_id:bb69041d-c654-4e9f-a763-afd4333275bc]]
[36m05:03:17.418 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[893]]
[36m05:03:17.418 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "ecb4c4ac-3ebc-4045-a27c-52fecc93bac5",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.153",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "67d9f139-b5be-4082-a090-3a1a9cbf1df8",
    "mac_address": "fa:16:3e:62:dd:f5",
    "managed_by_service": true,
    "name": "Port for : 176ec475-e9e8-4605-8b41-802fbc6220c1",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:03:17.418 gohan.server.middleware INFO [0m Completed 200 OK in 71.797031ms
05:03:19.541 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e for client 172.17.0.21:32934 data: 
[36m05:03:19.541 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:03:19.541 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:19.603 gohan.server.resources DEBUG [0m Show ese_logical_port ef450536-01c9-4380-a34d-a1ae56e0447e started
[36m05:03:19.606 gohan.server.resources DEBUG [0m Show ese_logical_port ef450536-01c9-4380-a34d-a1ae56e0447e completed: map[ese_logical_port:map[status:ACTIVE ese_physical_port_id:eec156b0-7317-48dd-b76c-019c0758e99d id:ef450536-01c9-4380-a34d-a1ae56e0447e network_id:bb69041d-c654-4e9f-a763-afd4333275bc name:xe-0/0/3.1025 type:L2 connected_resource:gw_interface vlan_id:1025 common_function_gateway_id:<nil> port_ids:[33907bcb-8689-425d-a700-fe8acfd94aed] description:ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435]]
[36m05:03:19.606 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m05:03:19.606 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed",
    "ese_physical_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
    "name": "xe-0/0/3.1025",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "port_ids": [
      "33907bcb-8689-425d-a700-fe8acfd94aed"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
05:03:19.606 gohan.server.middleware INFO [0m Completed 200 OK in 65.218873ms
05:03:19.607 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e for client 172.17.0.21:32940 data: {}
[36m05:03:19.607 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m05:03:19.607 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:19.672 gohan.server.resources DEBUG [0m Show ese_logical_port ef450536-01c9-4380-a34d-a1ae56e0447e started
[36m05:03:19.675 gohan.server.resources DEBUG [0m Show ese_logical_port ef450536-01c9-4380-a34d-a1ae56e0447e completed: map[ese_logical_port:map[vlan_id:1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed connected_resource:gw_interface name:xe-0/0/3.1025 port_ids:[33907bcb-8689-425d-a700-fe8acfd94aed] type:L2 tags:map[] common_function_gateway_id:<nil> ese_physical_port_id:eec156b0-7317-48dd-b76c-019c0758e99d gw_interface_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 id:ef450536-01c9-4380-a34d-a1ae56e0447e network_id:bb69041d-c654-4e9f-a763-afd4333275bc status:ACTIVE]]
[36m05:03:19.675 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[667] Content-Type:[application/json]]
[36m05:03:19.675 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed",
    "ese_physical_port_id": "eec156b0-7317-48dd-b76c-019c0758e99d",
    "gw_interface_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
    "name": "xe-0/0/3.1025",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "port_ids": [
      "33907bcb-8689-425d-a700-fe8acfd94aed"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
05:03:19.675 gohan.server.middleware INFO [0m Completed 200 OK in 68.196856ms
05:03:21.940 gohan.server.middleware INFO [0m Started GET /v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed for client 172.17.0.21:32962 data: 
[36m05:03:21.940 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m05:03:21.940 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:22.004 gohan.server.resources DEBUG [0m Show port 33907bcb-8689-425d-a700-fe8acfd94aed started
[36m05:03:22.008 gohan.server.resources DEBUG [0m Show port 33907bcb-8689-425d-a700-fe8acfd94aed completed: map[port:map[segmentation_type:vlan attached:true managed_by_service:true fake_delete:false status:ACTIVE admin_state_up:true description: device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 name:Port for : eec156b0-7317-48dd-b76c-019c0758e99d segmentation_id:1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f binding:vif_type:vrouter ese_logical_port_id:ef450536-01c9-4380-a34d-a1ae56e0447e tags:map[] mac_address:fa:16:3e:ef:15:a2 allowed_address_pairs:[] id:33907bcb-8689-425d-a700-fe8acfd94aed fixed_ips:[map[ip_address:172.16.101.151 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf] map[ip_address:172.16.101.152 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] network_id:bb69041d-c654-4e9f-a763-afd4333275bc device_owner:network:gw_interface]]
[36m05:03:22.008 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[1010] Content-Type:[application/json]]
[36m05:03:22.008 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.151",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      },
      {
        "ip_address": "172.16.101.152",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "33907bcb-8689-425d-a700-fe8acfd94aed",
    "mac_address": "fa:16:3e:ef:15:a2",
    "managed_by_service": true,
    "name": "Port for : eec156b0-7317-48dd-b76c-019c0758e99d",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:03:22.008 gohan.server.middleware INFO [0m Completed 200 OK in 68.048383ms
05:03:22.009 gohan.server.middleware INFO [0m Started GET /v2.0/ports/33907bcb-8689-425d-a700-fe8acfd94aed for client 172.17.0.21:32968 data: {}
[36m05:03:22.009 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m05:03:22.009 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:22.087 gohan.server.resources DEBUG [0m Show port 33907bcb-8689-425d-a700-fe8acfd94aed started
[36m05:03:22.091 gohan.server.resources DEBUG [0m Show port 33907bcb-8689-425d-a700-fe8acfd94aed completed: map[port:map[device_owner:network:gw_interface fixed_ips:[map[ip_address:172.16.101.151 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf] map[ip_address:172.16.101.152 subnet_id:b4f0c956-2fe0-4634-b7c8-22bfd8095aaf]] ese_logical_port_id:ef450536-01c9-4380-a34d-a1ae56e0447e admin_state_up:true description: fake_delete:false name:Port for : eec156b0-7317-48dd-b76c-019c0758e99d id:33907bcb-8689-425d-a700-fe8acfd94aed mac_address:fa:16:3e:ef:15:a2 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] network_id:bb69041d-c654-4e9f-a763-afd4333275bc segmentation_type:vlan attached:true managed_by_service:true device_id:fbd7d07e-9e84-4ad7-ab85-36d46adb9435 segmentation_id:1025 allowed_address_pairs:[] binding:vif_type:vrouter]]
[36m05:03:22.091 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1010]]
[36m05:03:22.091 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "ef450536-01c9-4380-a34d-a1ae56e0447e",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.151",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      },
      {
        "ip_address": "172.16.101.152",
        "subnet_id": "b4f0c956-2fe0-4634-b7c8-22bfd8095aaf"
      }
    ],
    "id": "33907bcb-8689-425d-a700-fe8acfd94aed",
    "mac_address": "fa:16:3e:ef:15:a2",
    "managed_by_service": true,
    "name": "Port for : eec156b0-7317-48dd-b76c-019c0758e99d",
    "network_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
05:03:22.091 gohan.server.middleware INFO [0m Completed 200 OK in 82.149901ms
05:03:24.485 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.21:32992 data: {}
[36m05:03:24.486 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m05:03:24.486 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:24.566 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m05:03:24.568 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m05:03:24.569 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[9] Content-Length:[3212]]
[36m05:03:24.569 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494478959,
      "deleted": null,
      "id": "050aa995-9d28-4108-b02b-6003c1de5880",
      "mapped_id": "10.79.5.185-ae0.1025",
      "relation": "vpn_primary",
      "resource_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "resource_type": "gw_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478858,
      "deleted": null,
      "id": "1d5dcf8f-40f5-4780-8023-63bc1dd771ac",
      "mapped_id": "10.79.5.185-ge-0/0/1.122",
      "relation": "primary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478864,
      "deleted": null,
      "id": "2f46f2b3-81f2-45d7-9f66-e64d131bb20b",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478965,
      "deleted": null,
      "id": "35f2e482-0cc8-4371-aee5-0a0cf0ee276e",
      "mapped_id": "10.161.0.34-xe-0/0/4.1025",
      "relation": "baremetal",
      "resource_id": "67d9f139-b5be-4082-a090-3a1a9cbf1df8",
      "resource_type": "port",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478959,
      "deleted": null,
      "id": "3cc6cb24-ad8d-481d-a3f6-c60c62071697",
      "mapped_id": "10.79.5.184-ae0.1025",
      "relation": "vpn_secondary",
      "resource_id": "fbd7d07e-9e84-4ad7-ab85-36d46adb9435",
      "resource_type": "gw_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478858,
      "deleted": null,
      "id": "4f69c6a1-e11b-4fae-bd0b-babe7df48380",
      "mapped_id": "10.79.5.184-ge-0/0/1.122",
      "relation": "secondary",
      "resource_id": "0bea303d-b6eb-4edc-83ef-e32f915d3047",
      "resource_type": "vpn_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478965,
      "deleted": null,
      "id": "620b2247-8ba2-4e1b-86fe-4de6260608bc",
      "mapped_id": "10.161.0.34-xe-0/0/3.1025",
      "relation": "baremetal",
      "resource_id": "33907bcb-8689-425d-a700-fe8acfd94aed",
      "resource_type": "port",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478827,
      "deleted": 1494478858,
      "id": "7806e79c-7403-462f-abd4-57d4f4f20f54",
      "mapped_id": "10.79.5.185-a3a62a37-5657-4822-98e0-991ab63f0e96",
      "relation": "instance",
      "resource_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
      "resource_type": "vpn_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494478907,
      "deleted": null,
      "id": "883c3271-8090-4515-abaa-56ef34692cd3",
      "mapped_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "relation": "instance",
      "resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "resource_type": "network",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
05:03:24.569 gohan.server.middleware INFO [0m Completed 200 OK in 83.55159ms
05:03:24.976 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.21:33000 data: {}
[36m05:03:24.976 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m05:03:24.977 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:25.063 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m05:03:25.065 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m05:03:25.066 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[441] Content-Type:[application/json] X-Total-Count:[1]]
[36m05:03:25.066 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "0a8861ae-fab5-4a20-814d-6934bbb3e3d4",
      "info": {},
      "parent_billing_id": null,
      "resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc",
      "resource_type": "network",
      "started": 1494478907,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "bb69041d-c654-4e9f-a763-afd4333275bc"
    }
  ]
}
05:03:25.066 gohan.server.middleware INFO [0m Completed 200 OK in 89.579519ms
05:03:30.001 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:03:30.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:03:30.109 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:03:30.111 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:03:30.113 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:03:30.127 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:03:30.128 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:03:30.129 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:03:32.397 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 map[logical_port:UP version:1]
05:03:32.397 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 map[logical_port:UP version:1] started
05:03:32.405 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 with index 1014
[36m05:03:32.407 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e map[logical_port:UP version:1]
05:03:32.407 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e map[logical_port:UP version:1] started
05:03:32.414 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e with index 1015
05:03:32.446 gohan.db.sql INFO [0m Executing SQL query in transaction 'd450cec5-4f45-4890-b0a7-0dd6ac0482b0': 'UPDATE `ese_logical_ports` SET `port_ids` = ["67d9f139-b5be-4082-a090-3a1a9cbf1df8"], `status` = ACTIVE, `common_function_gateway_id` = <nil>, `ese_physical_port_id` = 176ec475-e9e8-4605-8b41-802fbc6220c1, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `id` = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5, `connected_resource` = gw_interface, `type` = L2, `description` = ESE Logical port for Port 67d9f139-b5be-4082-a090-3a1a9cbf1df8, `vlan_id` = 1025, `name` = xe-0/0/4.1025, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, ese_physical_port_id = 176ec475-e9e8-4605-8b41-802fbc6220c1, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"logical_port":"UP"}, `marked_for_deletion` = 0 WHERE id = ecb4c4ac-3ebc-4045-a27c-52fecc93bac5'
05:03:32.448 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:03:32.448 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
05:03:32.448 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"logical_port":"UP"}
05:03:32.457 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 with index 1014
05:03:32.457 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 completed
05:03:32.463 gohan.db.sql INFO [0m Executing SQL query in transaction '1c5226c0-5475-403c-862b-501f98769ab7': 'UPDATE `ese_logical_ports` SET `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `id` = ef450536-01c9-4380-a34d-a1ae56e0447e, `connected_resource` = gw_interface, `type` = L2, `description` = ESE Logical port for Port 33907bcb-8689-425d-a700-fe8acfd94aed, `vlan_id` = 1025, `name` = xe-0/0/3.1025, `gw_interface_id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `tags` = {}, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `port_ids` = ["33907bcb-8689-425d-a700-fe8acfd94aed"], `status` = ACTIVE, `common_function_gateway_id` = <nil>, `ese_physical_port_id` = eec156b0-7317-48dd-b76c-019c0758e99d, ese_physical_port_id = eec156b0-7317-48dd-b76c-019c0758e99d, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"logical_port":"UP"}, `marked_for_deletion` = 0 WHERE id = ef450536-01c9-4380-a34d-a1ae56e0447e'
05:03:32.465 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:03:32.465 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
05:03:32.466 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"logical_port":"UP"}
05:03:32.469 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ecb4c4ac-3ebc-4045-a27c-52fecc93bac5 already unlocked or not locked
05:03:32.494 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e with index 1015
05:03:32.494 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e completed
05:03:32.504 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/ef450536-01c9-4380-a34d-a1ae56e0447e already unlocked or not locked
05:03:35.097 gohan.server.middleware INFO [0m Started POST /v2.0/static_routes for client 172.17.0.21:33026 data: 
{
"static_route": {
"description": "Sample Static-route",
"destination": "192.168.0.0/24",
"name": "sample-static-route",
"nexthop": "172.16.101.1",
"service_type": "vpn",
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:03:35.097 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[277] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:35.098 gohan.server.middleware DEBUG [0m Request body: 
{
"static_route": {
"description": "Sample Static-route",
"destination": "192.168.0.0/24",
"name": "sample-static-route",
"nexthop": "172.16.101.1",
"service_type": "vpn",
"vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m05:03:35.184 gohan.server.resources DEBUG [0m Create static_route with data map[description:Sample Static-route destination:192.168.0.0/24 name:sample-static-route nexthop:172.16.101.1 service_type:vpn vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m05:03:35.184 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m05:03:35.253 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] started
[36m05:03:35.256 gohan.server.resources DEBUG [0m List vpn_gateway query: map[id:[4fab887d-8f73-40e6-b2d8-2426255231bf]] completed
05:03:35.264 gohan.db.sql INFO [0m Executing SQL query in transaction '51dafdba-6110-4269-b323-7813b747afb5': 'INSERT INTO `static_routes` (`tenant_id`,`destination`,`id`,`nexthop`,`name`,`vpn_gw_id`,`service_type`,`status`,`description`) VALUES (0b576f6f4cbf414f829cd12f008bf08f,192.168.0.0/24,1db45c0a-46cd-40af-a87e-718092df68b3,172.16.101.1,sample-static-route,4fab887d-8f73-40e6-b2d8-2426255231bf,vpn,PENDING_CREATE,Sample Static-route)'
05:03:35.265 gohan.db.sql INFO [0m Executing SQL query in transaction '51dafdba-6110-4269-b323-7813b747afb5': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"description\":\"Sample Static-route\",\"destination\":\"192.168.0.0/24\",\"id\":\"1db45c0a-46cd-40af-a87e-718092df68b3\",\"name\":\"sample-static-route\",\"nexthop\":\"172.16.101.1\",\"service_type\":\"vpn\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vpn_gw_id\":\"4fab887d-8f73-40e6-b2d8-2426255231bf\"}",1,/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3,1494479015,create)'
[36m05:03:35.273 gohan.server.resources DEBUG [0m Create static_route completed: map[static_route:map[destination:192.168.0.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 status:PENDING_CREATE description:Sample Static-route name:sample-static-route nexthop:172.16.101.1 service_type:vpn vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf]]
[36m05:03:35.274 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[390]]
[36m05:03:35.274 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:35.274 gohan.server.middleware INFO [0m Completed 201 Created in 176.621498ms
[36m05:03:35.283 gohan.server.sync DEBUG [0m Processing event 89 - create
05:03:35.283 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3
[36m05:03:35.296 gohan.server.sync DEBUG [0m Deleting event 89
05:03:35.296 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33036 data: 
[36m05:03:35.296 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:35.296 gohan.server.middleware DEBUG [0m Request body: 
05:03:35.298 gohan.db.sql INFO [0m Executing SQL query in transaction 'baa36c1e-03e5-4240-8dc6-b54b669e4f45': 'DELETE FROM `events` WHERE id = 89'
[36m05:03:35.298 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m05:03:35.411 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:35.418 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> name:sample-static-route aws_gw_id:<nil> internet_gw_id:<nil> destination:192.168.0.0/24 interdc_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf service_type:vpn status:PENDING_CREATE description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f nexthop:172.16.101.1]]
[36m05:03:35.418 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:35.418 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:35.418 gohan.server.middleware INFO [0m Completed 200 OK in 122.792151ms
05:03:36.430 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33058 data: 
[36m05:03:36.430 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:36.431 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:36.514 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:36.516 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[service_type:vpn public_ip_id:<nil> nexthop:172.16.101.1 internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 destination:192.168.0.0/24 status:PENDING_CREATE description:Sample Static-route interdc_gw_id:<nil> name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil>]]
[36m05:03:36.517 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[494] Content-Type:[application/json]]
[36m05:03:36.517 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:36.517 gohan.server.middleware INFO [0m Completed 200 OK in 86.637445ms
05:03:37.533 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33064 data: 
[36m05:03:37.534 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:37.534 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:37.621 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:37.625 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[interdc_gw_id:<nil> name:sample-static-route id:1db45c0a-46cd-40af-a87e-718092df68b3 nexthop:172.16.101.1 destination:192.168.0.0/24 service_type:vpn description:Sample Static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf public_ip_id:<nil> internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_gw_id:<nil> status:PENDING_CREATE]]
[36m05:03:37.625 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:37.625 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:37.625 gohan.server.middleware INFO [0m Completed 200 OK in 91.648755ms
05:03:38.638 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33070 data: 
[36m05:03:38.638 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:38.638 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:38.726 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:38.730 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[nexthop:172.16.101.1 destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3 service_type:vpn status:PENDING_CREATE description:Sample Static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f interdc_gw_id:<nil> name:sample-static-route aws_gw_id:<nil> public_ip_id:<nil>]]
[36m05:03:38.730 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:38.730 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:38.730 gohan.server.middleware INFO [0m Completed 200 OK in 92.042277ms
05:03:39.744 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33076 data: 
[36m05:03:39.744 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:03:39.745 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:39.832 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:39.836 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[id:1db45c0a-46cd-40af-a87e-718092df68b3 service_type:vpn status:PENDING_CREATE interdc_gw_id:<nil> public_ip_id:<nil> nexthop:172.16.101.1 internet_gw_id:<nil> destination:192.168.0.0/24 name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Static-route]]
[36m05:03:39.836 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[494] Content-Type:[application/json]]
[36m05:03:39.836 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:39.836 gohan.server.middleware INFO [0m Completed 200 OK in 92.166294ms
05:03:40.851 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33082 data: 
[36m05:03:40.851 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:40.851 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:40.940 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:40.944 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 name:sample-static-route description:Sample Static-route destination:192.168.0.0/24 public_ip_id:<nil> nexthop:172.16.101.1 internet_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> service_type:vpn status:PENDING_CREATE interdc_gw_id:<nil>]]
[36m05:03:40.944 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:40.945 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:40.945 gohan.server.middleware INFO [0m Completed 200 OK in 94.128001ms
05:03:41.959 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33088 data: 
[36m05:03:41.959 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:03:41.960 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:42.039 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:42.042 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f destination:192.168.0.0/24 service_type:vpn description:Sample Static-route interdc_gw_id:<nil> name:sample-static-route public_ip_id:<nil> aws_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf id:1db45c0a-46cd-40af-a87e-718092df68b3 status:PENDING_CREATE nexthop:172.16.101.1]]
[36m05:03:42.042 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:42.043 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:42.043 gohan.server.middleware INFO [0m Completed 200 OK in 83.35342ms
[36m05:03:42.570 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 map[version:1 primary:MASTER secondary:BACKUP]
05:03:42.570 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 map[version:1 primary:MASTER secondary:BACKUP] started
05:03:42.581 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 with index 1037
05:03:42.631 gohan.db.sql INFO [0m Executing SQL query in transaction '29a0e435-4485-4a65-bfa5-0fb907d4e425': 'UPDATE `gw_interfaces` SET `interdc_gw_id` = <nil>, `vrid` = 20, `gw_vipv4` = 172.16.101.151, `public_ip_id` = <nil>, `status` = ACTIVE, `netmask` = 24, `gw_vipv6` = <nil>, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `internet_gw_id` = <nil>, `service_type` = vpn, `description` = Sample Gw-interface, `secondary_ipv6` = <nil>, `primary_ipv4` = 172.16.101.152, `network_id` = bb69041d-c654-4e9f-a763-afd4333275bc, `name` = sample-gw-interface, `primary_ipv6` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `secondary_ipv4` = 172.16.101.153, `id` = fbd7d07e-9e84-4ad7-ab85-36d46adb9435, `aws_gw_id` = <nil>, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary\": \"master\", \"secondary\": \"backup\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"primary":"MASTER","secondary":"BACKUP"}, `marked_for_deletion` = 0 WHERE id = fbd7d07e-9e84-4ad7-ab85-36d46adb9435'
05:03:42.633 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
05:03:42.633 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "master", "secondary": "backup"}
05:03:42.634 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"primary":"MASTER","secondary":"BACKUP"}
05:03:42.648 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 with index 1037
05:03:42.649 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 completed
05:03:42.655 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/gw_interfaces/fbd7d07e-9e84-4ad7-ab85-36d46adb9435 already unlocked or not locked
05:03:43.056 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33098 data: 
[36m05:03:43.056 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:43.056 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:43.145 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:43.148 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> interdc_gw_id:<nil> public_ip_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 nexthop:172.16.101.1 internet_gw_id:<nil> service_type:vpn status:PENDING_CREATE description:Sample Static-route name:sample-static-route destination:192.168.0.0/24]]
[36m05:03:43.148 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:43.148 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:43.148 gohan.server.middleware INFO [0m Completed 200 OK in 92.905486ms
05:03:44.161 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33106 data: 
[36m05:03:44.161 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:44.162 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:44.250 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:44.253 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf nexthop:172.16.101.1 internet_gw_id:<nil> aws_gw_id:<nil> service_type:vpn status:PENDING_CREATE description:Sample Static-route interdc_gw_id:<nil>]]
[36m05:03:44.253 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:44.253 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:44.253 gohan.server.middleware INFO [0m Completed 200 OK in 91.815027ms
05:03:45.266 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33112 data: 
[36m05:03:45.266 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:45.266 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:45.350 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:45.353 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[service_type:vpn description:Sample Static-route internet_gw_id:<nil> destination:192.168.0.0/24 name:sample-static-route aws_gw_id:<nil> status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> nexthop:172.16.101.1 interdc_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf]]
[36m05:03:45.353 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:45.353 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:45.353 gohan.server.middleware INFO [0m Completed 200 OK in 88.009746ms
05:03:46.366 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33118 data: 
[36m05:03:46.367 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:03:46.367 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:46.444 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:46.446 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[public_ip_id:<nil> internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_gw_id:<nil> id:1db45c0a-46cd-40af-a87e-718092df68b3 nexthop:172.16.101.1 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf service_type:vpn status:PENDING_CREATE description:Sample Static-route interdc_gw_id:<nil> name:sample-static-route destination:192.168.0.0/24]]
[36m05:03:46.447 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:46.447 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:46.447 gohan.server.middleware INFO [0m Completed 200 OK in 80.435022ms
05:03:47.458 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33124 data: 
[36m05:03:47.458 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:47.459 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:47.540 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:47.543 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[service_type:vpn destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> status:PENDING_CREATE description:Sample Static-route interdc_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f nexthop:172.16.101.1 internet_gw_id:<nil>]]
[36m05:03:47.543 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:47.543 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:47.543 gohan.server.middleware INFO [0m Completed 200 OK in 85.218028ms
05:03:48.557 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33130 data: 
[36m05:03:48.557 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:48.558 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:48.652 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:48.654 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[status:PENDING_CREATE interdc_gw_id:<nil> aws_gw_id:<nil> nexthop:172.16.101.1 destination:192.168.0.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1db45c0a-46cd-40af-a87e-718092df68b3 description:Sample Static-route name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf service_type:vpn public_ip_id:<nil> internet_gw_id:<nil>]]
[36m05:03:48.655 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:48.655 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:48.655 gohan.server.middleware INFO [0m Completed 200 OK in 97.568343ms
05:03:49.672 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33136 data: 
[36m05:03:49.672 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m05:03:49.673 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:49.770 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:49.773 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[id:1db45c0a-46cd-40af-a87e-718092df68b3 nexthop:172.16.101.1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_gw_id:<nil> status:PENDING_CREATE interdc_gw_id:<nil> name:sample-static-route public_ip_id:<nil> internet_gw_id:<nil> vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf service_type:vpn description:Sample Static-route destination:192.168.0.0/24]]
[36m05:03:49.774 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:49.774 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:49.774 gohan.server.middleware INFO [0m Completed 200 OK in 101.442772ms
05:03:50.785 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33142 data: 
[36m05:03:50.785 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:50.785 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:50.858 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:50.860 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[nexthop:172.16.101.1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f interdc_gw_id:<nil> name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> service_type:vpn public_ip_id:<nil> status:PENDING_CREATE description:Sample Static-route internet_gw_id:<nil> destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3]]
[36m05:03:50.861 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[494] Content-Type:[application/json]]
[36m05:03:50.861 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:50.861 gohan.server.middleware INFO [0m Completed 200 OK in 75.619822ms
05:03:51.873 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33148 data: 
[36m05:03:51.873 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m05:03:51.873 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:51.953 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:51.955 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f service_type:vpn status:PENDING_CREATE description:Sample Static-route interdc_gw_id:<nil> name:sample-static-route destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> nexthop:172.16.101.1]]
[36m05:03:51.956 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:51.956 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:51.956 gohan.server.middleware INFO [0m Completed 200 OK in 83.021746ms
05:03:52.970 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33156 data: 
[36m05:03:52.970 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m05:03:52.970 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:53.047 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:53.049 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[aws_gw_id:<nil> status:PENDING_CREATE interdc_gw_id:<nil> id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> internet_gw_id:<nil> service_type:vpn description:Sample Static-route name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf nexthop:172.16.101.1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f destination:192.168.0.0/24]]
[36m05:03:53.049 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[494]]
[36m05:03:53.049 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:53.050 gohan.server.middleware INFO [0m Completed 200 OK in 79.933706ms
[36m05:03:53.178 gohan.server DEBUG [0m State event update received: set /state/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 map[error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[]] version:1]
05:03:53.179 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 map[error: state:map[heat_outputs:[] worker_state:CREATE_COMPLETED] version:1] started
05:03:53.184 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 with index 1050
05:03:53.263 gohan.db.sql INFO [0m Executing SQL query in transaction '541d2883-0e4c-413a-9dd7-16953d1ea77f': 'UPDATE `static_routes` SET `nexthop` = 172.16.101.1, `internet_gw_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `destination` = 192.168.0.0/24, `id` = 1db45c0a-46cd-40af-a87e-718092df68b3, `public_ip_id` = <nil>, `description` = Sample Static-route, `interdc_gw_id` = <nil>, `name` = sample-static-route, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `aws_gw_id` = <nil>, `service_type` = vpn, `status` = PENDING_CREATE, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 1db45c0a-46cd-40af-a87e-718092df68b3'
05:03:53.265 gohan.extension.static_route.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
05:03:53.265 gohan.db.sql INFO [0m Executing SQL query in transaction '541d2883-0e4c-413a-9dd7-16953d1ea77f': 'UPDATE `static_routes` SET `name` = sample-static-route, `vpn_gw_id` = 4fab887d-8f73-40e6-b2d8-2426255231bf, `aws_gw_id` = <nil>, `service_type` = vpn, `status` = ACTIVE, `description` = Sample Static-route, `interdc_gw_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `destination` = 192.168.0.0/24, `id` = 1db45c0a-46cd-40af-a87e-718092df68b3, `public_ip_id` = <nil>, `nexthop` = 172.16.101.1, `internet_gw_id` = <nil> WHERE id = 1db45c0a-46cd-40af-a87e-718092df68b3'
05:03:53.277 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 with index 1050
05:03:53.289 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 already unlocked or not locked
05:03:54.062 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33178 data: 
[36m05:03:54.063 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m05:03:54.063 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:54.159 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:54.163 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf description:Sample Static-route destination:192.168.0.0/24 id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> nexthop:172.16.101.1 interdc_gw_id:<nil> aws_gw_id:<nil> service_type:vpn status:ACTIVE internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m05:03:54.163 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[486]]
[36m05:03:54.163 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:54.163 gohan.server.middleware INFO [0m Completed 200 OK in 100.553713ms
05:03:54.595 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33186 data: 
[36m05:03:54.595 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m05:03:54.595 gohan.server.middleware DEBUG [0m Request body: 
[36m05:03:54.678 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:54.681 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[interdc_gw_id:<nil> name:sample-static-route id:1db45c0a-46cd-40af-a87e-718092df68b3 status:ACTIVE description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f destination:192.168.0.0/24 vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf aws_gw_id:<nil> service_type:vpn public_ip_id:<nil> nexthop:172.16.101.1 internet_gw_id:<nil>]]
[36m05:03:54.681 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[486]]
[36m05:03:54.681 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:54.681 gohan.server.middleware INFO [0m Completed 200 OK in 86.612416ms
05:03:54.683 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/1db45c0a-46cd-40af-a87e-718092df68b3 for client 172.17.0.21:33192 data: {}
[36m05:03:54.683 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m05:03:54.683 gohan.server.middleware DEBUG [0m Request body: {}
[36m05:03:54.769 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 started
[36m05:03:54.772 gohan.server.resources DEBUG [0m Show static_route 1db45c0a-46cd-40af-a87e-718092df68b3 completed: map[static_route:map[id:1db45c0a-46cd-40af-a87e-718092df68b3 public_ip_id:<nil> name:sample-static-route vpn_gw_id:4fab887d-8f73-40e6-b2d8-2426255231bf status:ACTIVE description:Sample Static-route interdc_gw_id:<nil> nexthop:172.16.101.1 internet_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_gw_id:<nil> service_type:vpn destination:192.168.0.0/24]]
[36m05:03:54.772 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[486]]
[36m05:03:54.772 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "192.168.0.0/24",
    "id": "1db45c0a-46cd-40af-a87e-718092df68b3",
    "interdc_gw_id": null,
    "internet_gw_id": null,
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": null,
    "service_type": "vpn",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": "4fab887d-8f73-40e6-b2d8-2426255231bf"
  }
}
05:03:54.772 gohan.server.middleware INFO [0m Completed 200 OK in 89.285496ms
05:04:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:04:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:04:00.116 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:04:00.122 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:04:00.123 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:04:00.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:04:00.136 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:04:00.138 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:04:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:04:30.009 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:04:30.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:04:30.148 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:04:30.152 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:04:30.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:04:30.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:04:30.176 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:05:00.005 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:05:00.005 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:05:00.402 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:05:00.478 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:05:00.516 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:05:00.783 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:05:00.798 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:05:00.817 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:05:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:05:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:05:30.152 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:05:30.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:05:30.160 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:05:30.173 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:05:30.175 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:05:30.177 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:06:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:06:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:06:00.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:06:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:06:00.144 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:06:00.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:06:00.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:06:00.159 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:06:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:06:30.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:06:30.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:06:30.140 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:06:30.146 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:06:30.169 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:06:30.171 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:06:30.173 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:07:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:07:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:07:00.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:07:00.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:07:00.165 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:07:00.187 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:07:00.189 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:07:00.191 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:07:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:07:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:07:30.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:07:30.151 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:07:30.154 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:07:30.175 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:07:30.178 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:07:30.180 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:08:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:08:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:08:00.152 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:08:00.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:08:00.164 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:08:00.178 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:08:00.180 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:08:00.184 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:08:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:08:30.008 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:08:30.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:08:30.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:08:30.155 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:08:30.167 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:08:30.169 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:08:30.171 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:09:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:09:00.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:09:00.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:09:00.141 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:09:00.144 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:09:00.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:09:00.165 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:09:00.168 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:09:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:09:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:09:30.133 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:09:30.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:09:30.140 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:09:30.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:09:30.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:09:30.164 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:10:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:10:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
05:10:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:10:00.118 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m05:10:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:10:00.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:10:00.147 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:10:00.177 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:10:00.180 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:10:00.182 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:10:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:10:30.076 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:10:30.106 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:10:30.107 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:10:30.109 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:10:30.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:10:30.176 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:10:30.177 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:11:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:11:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:11:00.140 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:11:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:11:00.144 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:11:00.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:11:00.164 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:11:00.166 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:11:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:11:30.019 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:11:30.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:11:30.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:11:30.162 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:11:30.183 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:11:30.185 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:11:30.186 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:12:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:12:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:12:00.130 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:12:00.134 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:12:00.136 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:12:00.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:12:00.151 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:12:00.153 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:12:30.001 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:12:30.008 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:12:30.120 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:12:30.122 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:12:30.125 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:12:30.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:12:30.141 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:12:30.142 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:13:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:13:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:13:00.111 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:13:00.114 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:13:00.115 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:13:00.128 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:13:00.129 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:13:00.131 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:13:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:13:30.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:13:30.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:13:30.146 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:13:30.149 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:13:30.164 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:13:30.166 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:13:30.168 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:14:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:14:00.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:14:00.110 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:14:00.114 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:14:00.116 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:14:00.127 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:14:00.129 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:14:00.131 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:14:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:14:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:14:30.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:14:30.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:14:30.142 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:14:30.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:14:30.164 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:14:30.165 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:15:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:15:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:15:00.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:15:00.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:15:00.161 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:15:00.181 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:15:00.184 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:15:00.187 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:15:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:15:30.019 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:15:30.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:15:30.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:15:30.163 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:15:30.182 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:15:30.184 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:15:30.186 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:16:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:16:00.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:16:00.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:16:00.148 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:16:00.151 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:16:00.170 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:16:00.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:16:00.174 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:16:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:16:30.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:16:30.107 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:16:30.109 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:16:30.116 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:16:30.128 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:16:30.130 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:16:30.131 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:17:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:17:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:17:00.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:17:00.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:17:00.139 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:17:00.157 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:17:00.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:17:00.160 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:17:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:17:30.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:17:30.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:17:30.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:17:30.146 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:17:30.164 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:17:30.169 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:17:30.170 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:18:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:18:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:18:00.116 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:18:00.117 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:18:00.119 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:18:00.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:18:00.157 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:18:00.159 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:18:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:18:30.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:18:30.113 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:18:30.116 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:18:30.117 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:18:30.131 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:18:30.133 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:18:30.134 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:19:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:19:00.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:19:00.136 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:19:00.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:19:00.141 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:19:00.152 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:19:00.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:19:00.156 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:19:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:19:30.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:19:30.104 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:19:30.106 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:19:30.108 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m05:19:30.122 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:19:30.124 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:19:30.126 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:20:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
05:20:00.004 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
05:20:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
05:20:00.091 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m05:20:00.143 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m05:20:00.145 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
05:20:00.150 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m05:20:00.191 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m05:20:00.195 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
05:20:00.199 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
