{"log_level": "INFO", "timestamp": "2018-04-15 23:58:26,170", "logger_name": "esi-worker.None", "msg": "Registered gohan 2-step delete flag: marked_for_deletion", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:58:26,170", "logger_name": "esi-worker.None", "msg": "Gohan config path: /config", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:58:26,171", "logger_name": "esi-worker.None", "msg": "Gohan state path: /state", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "WARNING", "timestamp": "2018-04-15 23:58:26,412", "logger_name": "esi-worker.None", "msg": "Could not reach gohan. Retrying in 1s.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "WARNING", "timestamp": "2018-04-15 23:58:27,417", "logger_name": "esi-worker.None", "msg": "Could not reach gohan. Retrying in 2s.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "WARNING", "timestamp": "2018-04-15 23:58:29,422", "logger_name": "esi-worker.None", "msg": "Could not reach gohan. Retrying in 4s.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "WARNING", "timestamp": "2018-04-15 23:58:33,429", "logger_name": "esi-worker.None", "msg": "Could not reach gohan. Retrying in 8s.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "WARNING", "timestamp": "2018-04-15 23:58:41,440", "logger_name": "esi-worker.None", "msg": "Could not reach gohan. Retrying in 16s.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:58:57,695", "logger_name": "esi-worker.None", "msg": "Starting worker.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:58:57,696", "logger_name": "esi-worker.None", "msg": "Worker started.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:58:57,698", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:58:57,699", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:27,411", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4:1:6ud1f using id: 03fabd52-7f22-4e07-80e7-e4f22f20f3ff", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:27,413", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:27,413", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:27,427", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Starting work on new ready job create:heat_worker:ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4:1:6ud1f", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:27,428", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Checking job status for ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:27,998", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:28,085", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Template id ese_device_existing resolved from mapping: ACese_device_&Pexisting", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:28,092", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  ESE Device (existing) template\n\nparameters:\n  name:\n    type: string\n    label: Physical Router Name\n    description: Name of the physical router that will be created.\n  hostname:\n    type: string\n    label: Hostname\n    description: Name of host (vrouter) to create router on\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Device\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_router:\n    type: OS::Contrail::ExistingResource\n    properties:\n      fq_name:\n        - \"default-global-system-config\"\n        - { get_param: hostname }\n      resource_type: \"physical_router\"\n\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: ese_devices\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: switch\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: switch\n    depends_on: physical_router\n\noutputs:\n  id:\n    description: A unique id for the physical router.\n    value: { get_resource: physical_router }\n  name:\n    description: The name of the physical router.\n    value: { get_attr: [physical_router, name] }\n  fq_name:\n    description: The FQ name of the physical router.\n    value: { get_attr: [physical_router, fq_name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link] }\n with parameters:\n{\"device_ip\": \"10.161.0.34\", \"name\": \"QFX-NW02\", \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"hostname\": \"QFX-NW02\", \"version\": 1, \"gohan_id\": \"4d8371c0-1b91-4818-a6e7-26425178e5d4\"}, \n and heat timeout = 6, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:28,093", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Creating a stack ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4 with parameters: {u'device_ip': u'10.161.0.34', u'name': u'QFX-NW02', u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'hostname': u'QFX-NW02', u'version': 1, u'gohan_id': u'4d8371c0-1b91-4818-a6e7-26425178e5d4'}, timeout_mins: 6, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  ESE Device (existing) template\n\nparameters:\n  name:\n    type: string\n    label: Physical Router Name\n    description: Name of the physical router that will be created.\n  hostname:\n    type: string\n    label: Hostname\n    description: Name of host (vrouter) to create router on\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Device\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_router:\n    type: OS::Contrail::ExistingResource\n    properties:\n      fq_name:\n        - \"default-global-system-config\"\n        - { get_param: hostname }\n      resource_type: \"physical_router\"\n\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: ese_devices\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: switch\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: switch\n    depends_on: physical_router\n\noutputs:\n  id:\n    description: A unique id for the physical router.\n    value: { get_resource: physical_router }\n  name:\n    description: The name of the physical router.\n    value: { get_attr: [physical_router, name] }\n  fq_name:\n    description: The FQ name of the physical router.\n    value: { get_attr: [physical_router, fq_name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:28,665", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Stack \"ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:29,832", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Stack \"ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:31,273", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Stack \"ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:31,273", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - CREATED ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:31,729", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Job create finished with results {'heat_outputs': [{u'output_value': u'aeaad149-357c-41b9-b408-6304c5d3396c', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': [u'default-global-system-config', u'NWSDP-JNPR-02'], u'description': u'The FQ name of the physical router.', u'output_key': u'fq_name'}, {u'output_value': u'7e5c78fa-71c0-427e-947f-586b1fc3c470', u'description': u'A unique id for the physical router.', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/aeaad149-357c-41b9-b408-6304c5d3396c', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'NWSDP-JNPR-02', u'description': u'The name of the physical router.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:31,769", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Job create:heat_worker:ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4:1:6ud1f finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-15 23:59:31,770", "logger_name": "esi-worker.None", "msg": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4 - Trying to delete internal process state for resource ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:57,421", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:57,422", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-15 23:59:57,422", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:27,433", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:27,433", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:27,434", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:35,569", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446:1:p1k4h using id: b078b0c9-5969-4cf2-b883-8937010b4d5b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:35,576", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:35,576", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:35,586", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Starting work on new ready job create:heat_worker:ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446:1:p1k4h", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:35,587", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Checking job status for ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:35,889", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:35,981", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Template id ese_physical_port_new resolved from mapping: ACese_physical_port_&Pexisting", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:00:35,986", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  physical_device:\n    type: string\n    label: Physical Device Id\n    description: Id of the physical device on which physical port will be created.\n  physical_port_name:\n    type: string\n    label: Physical Interface Name\n    description: Name of the physical port.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_interface:\n    type: OS::Contrail::PhysicalInterface\n    properties:\n      name: { get_param: physical_port_name }\n      physical_router: { get_param: physical_device }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: ese_physical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: physical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: port\n    depends_on: physical_interface\n\noutputs:\n  id:\n    description: A unique id for the physical interface\n    value: { get_resource: physical_interface }\n  name:\n    description: The name of the physical interface.\n    value: { get_attr: [physical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }\n with parameters:\n{\"physical_port_name\": \"xe-0/0/3\", \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.161.0.34\", \"physical_device\": \"7e5c78fa-71c0-427e-947f-586b1fc3c470\", \"version\": 1, \"gohan_id\": \"0078808a-c28e-46e1-887d-8ec65f90c446\"}, \n and heat timeout = 6, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:35,987", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Creating a stack ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446 with parameters: {u'physical_port_name': u'xe-0/0/3', u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.161.0.34', u'physical_device': u'7e5c78fa-71c0-427e-947f-586b1fc3c470', u'version': 1, u'gohan_id': u'0078808a-c28e-46e1-887d-8ec65f90c446'}, timeout_mins: 6, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  physical_device:\n    type: string\n    label: Physical Device Id\n    description: Id of the physical device on which physical port will be created.\n  physical_port_name:\n    type: string\n    label: Physical Interface Name\n    description: Name of the physical port.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_interface:\n    type: OS::Contrail::PhysicalInterface\n    properties:\n      name: { get_param: physical_port_name }\n      physical_router: { get_param: physical_device }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: ese_physical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: physical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: port\n    depends_on: physical_interface\n\noutputs:\n  id:\n    description: A unique id for the physical interface\n    value: { get_resource: physical_interface }\n  name:\n    description: The name of the physical interface.\n    value: { get_attr: [physical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:36,447", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Stack \"ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:37,615", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Stack \"ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:38,964", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Stack \"ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:38,965", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - CREATED ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:39,391", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Job create finished with results {'heat_outputs': [{u'output_value': u'28c45b87-a1c0-41f0-8f69-85c60d47713f', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'06bfe521-07f0-4931-9f8c-318c3ad8114e', u'description': u'A unique id for the physical interface', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/28c45b87-a1c0-41f0-8f69-85c60d47713f', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'xe-0/0/38', u'description': u'The name of the physical interface.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:39,434", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Job create:heat_worker:ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446:1:p1k4h finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:00:39,438", "logger_name": "esi-worker.None", "msg": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446 - Trying to delete internal process state for resource ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:05,589", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:05,590", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:05,590", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:35,602", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:35,603", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:35,603", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:41,315", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3:1:dug4j using id: de79451c-7d70-4ce0-81b1-b93ae65de966", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:41,317", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:41,317", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:41,332", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Starting work on new ready job create:heat_worker:ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3:1:dug4j", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:41,333", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Checking job status for ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:41,708", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:41,798", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Template id ese_physical_port_new resolved from mapping: ACese_physical_port_&Pexisting", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:01:41,802", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  physical_device:\n    type: string\n    label: Physical Device Id\n    description: Id of the physical device on which physical port will be created.\n  physical_port_name:\n    type: string\n    label: Physical Interface Name\n    description: Name of the physical port.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_interface:\n    type: OS::Contrail::PhysicalInterface\n    properties:\n      name: { get_param: physical_port_name }\n      physical_router: { get_param: physical_device }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: ese_physical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: physical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: port\n    depends_on: physical_interface\n\noutputs:\n  id:\n    description: A unique id for the physical interface\n    value: { get_resource: physical_interface }\n  name:\n    description: The name of the physical interface.\n    value: { get_attr: [physical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }\n with parameters:\n{\"physical_port_name\": \"xe-0/0/4\", \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.161.0.34\", \"physical_device\": \"7e5c78fa-71c0-427e-947f-586b1fc3c470\", \"version\": 1, \"gohan_id\": \"a6e70af1-386b-4d79-943f-6f44e87f95b3\"}, \n and heat timeout = 6, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:41,802", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Creating a stack ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3 with parameters: {u'physical_port_name': u'xe-0/0/4', u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.161.0.34', u'physical_device': u'7e5c78fa-71c0-427e-947f-586b1fc3c470', u'version': 1, u'gohan_id': u'a6e70af1-386b-4d79-943f-6f44e87f95b3'}, timeout_mins: 6, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  physical_device:\n    type: string\n    label: Physical Device Id\n    description: Id of the physical device on which physical port will be created.\n  physical_port_name:\n    type: string\n    label: Physical Interface Name\n    description: Name of the physical port.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  physical_interface:\n    type: OS::Contrail::PhysicalInterface\n    properties:\n      name: { get_param: physical_port_name }\n      physical_router: { get_param: physical_device }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: ese_physical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: physical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: port\n    depends_on: physical_interface\n\noutputs:\n  id:\n    description: A unique id for the physical interface\n    value: { get_resource: physical_interface }\n  name:\n    description: The name of the physical interface.\n    value: { get_attr: [physical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:42,260", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Stack \"ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:43,462", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Stack \"ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:44,824", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Stack \"ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:44,825", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - CREATED ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:45,293", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Job create finished with results {'heat_outputs': [{u'output_value': u'07d5e8ed-4695-49b4-8560-897b586b1b71', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'06bfe521-07f0-4931-9f8c-318c3ad8114e', u'description': u'A unique id for the physical interface', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/07d5e8ed-4695-49b4-8560-897b586b1b71', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'xe-0/0/38', u'description': u'The name of the physical interface.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:45,339", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Job create:heat_worker:ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3:1:dug4j finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:01:45,340", "logger_name": "esi-worker.None", "msg": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3 - Trying to delete internal process state for resource ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:11,325", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:11,326", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:11,326", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,341", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,341", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,342", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:41,717", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975:1:nkfox using id: 858c6d08-ff50-4d6e-aecb-92d2fb89bb96", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,719", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,719", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,731", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Starting work on new ready job create:heat_worker:edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975:1:nkfox", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:41,732", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Checking job status for edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:42,043", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:42,136", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Template id edge_router resolved from mapping: Cedge_router", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:02:42,139", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the Edge Router\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: edge_routers\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: router\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: router\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link]}\n with parameters:\n{\"gohan_id\": \"7a35974a-a19f-49e2-b907-ad7fd8692975\", \"device_ip\": \"10.79.5.185\", \"version\": 1, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:42,140", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Creating a stack edge_router_7a35974a-a19f-49e2-b907-ad7fd8692975 with parameters: {u'gohan_id': u'7a35974a-a19f-49e2-b907-ad7fd8692975', u'device_ip': u'10.79.5.185', u'version': 1, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the Edge Router\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: edge_routers\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: router\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: router\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:42,622", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Stack \"edge_router_7a35974a-a19f-49e2-b907-ad7fd8692975\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:43,789", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Stack \"edge_router_7a35974a-a19f-49e2-b907-ad7fd8692975\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:43,789", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - CREATED edge_router_7a35974a-a19f-49e2-b907-ad7fd8692975", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:44,105", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Job create finished with results {'heat_outputs': [{u'output_value': u'cc896303-29e2-47d6-a409-a84c23b5722b', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/cc896303-29e2-47d6-a409-a84c23b5722b', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:44,147", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Job create:heat_worker:edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975:1:nkfox finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:02:44,147", "logger_name": "esi-worker.None", "msg": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975 - Trying to delete internal process state for resource edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:11,723", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:11,724", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:11,724", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:41,737", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:41,738", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:41,738", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:46,039", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d:1:zyp5y using id: ba446aca-5232-44c2-b6a1-8e45aad488ee", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:46,041", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:46,042", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:46,052", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Starting work on new ready job create:heat_worker:edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d:1:zyp5y", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:46,053", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Checking job status for edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:46,351", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:46,434", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Template id edge_router resolved from mapping: Cedge_router", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:03:46,436", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the Edge Router\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: edge_routers\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: router\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: router\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link]}\n with parameters:\n{\"gohan_id\": \"b7e6d8ad-5377-4380-bbb4-1a62566cbd6d\", \"device_ip\": \"10.79.5.184\", \"version\": 1, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:46,436", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Creating a stack edge_router_b7e6d8ad-5377-4380-bbb4-1a62566cbd6d with parameters: {u'gohan_id': u'b7e6d8ad-5377-4380-bbb4-1a62566cbd6d', u'device_ip': u'10.79.5.184', u'version': 1, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the Edge Router\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  device_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_device\n      resource_type: edge_routers\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: router\n      properties:\n        device_ip: { get_param: device_ip }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: router\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: device_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [device_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:46,865", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Stack \"edge_router_b7e6d8ad-5377-4380-bbb4-1a62566cbd6d\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:48,039", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Stack \"edge_router_b7e6d8ad-5377-4380-bbb4-1a62566cbd6d\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:48,039", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - CREATED edge_router_b7e6d8ad-5377-4380-bbb4-1a62566cbd6d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:48,355", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Job create finished with results {'heat_outputs': [{u'output_value': u'1e628441-c77a-4ebe-b5fe-6bd69816456d', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/1e628441-c77a-4ebe-b5fe-6bd69816456d', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:48,399", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Job create:heat_worker:edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d:1:zyp5y finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:03:48,399", "logger_name": "esi-worker.None", "msg": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d - Trying to delete internal process state for resource edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:16,048", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:16,049", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:16,049", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:46,058", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:46,058", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:46,059", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:52,674", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16:1:13pri using id: 8f27050c-dbac-4132-9cc6-cc324a656ecd", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:52,676", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:52,676", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:52,682", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Starting work on new ready job create:heat_worker:er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16:1:13pri", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:52,682", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Checking job status for er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:52,997", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:53,083", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Template id er_physical_interface resolved from mapping: Cer_physical_interface", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:04:53,086", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}\n with parameters:\n{\"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.79.5.185\", \"if_name\": \"ge-0/0/1\", \"version\": 1, \"gohan_id\": \"f3ecf585-5c3b-445a-97a7-d8e124c99e16\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:53,086", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Creating a stack er_physical_interface_f3ecf585-5c3b-445a-97a7-d8e124c99e16 with parameters: {u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.79.5.185', u'if_name': u'ge-0/0/1', u'version': 1, u'gohan_id': u'f3ecf585-5c3b-445a-97a7-d8e124c99e16'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:53,541", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Stack \"er_physical_interface_f3ecf585-5c3b-445a-97a7-d8e124c99e16\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:54,702", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Stack \"er_physical_interface_f3ecf585-5c3b-445a-97a7-d8e124c99e16\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:54,702", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - CREATED er_physical_interface_f3ecf585-5c3b-445a-97a7-d8e124c99e16", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:55,021", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Job create finished with results {'heat_outputs': [{u'output_value': u'03bc2bdc-e6b0-4ae6-acda-b76a5da84fb6', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/03bc2bdc-e6b0-4ae6-acda-b76a5da84fb6', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:55,059", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Job create:heat_worker:er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16:1:13pri finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:04:55,060", "logger_name": "esi-worker.None", "msg": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16 - Trying to delete internal process state for resource er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:22,687", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:22,687", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:22,688", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:52,702", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:52,703", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:52,703", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:57,048", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7:1:ozhuq using id: bd8a8fbb-2993-4283-8332-0e5d41f79d72", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:57,050", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:57,051", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:57,060", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Starting work on new ready job create:heat_worker:er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7:1:ozhuq", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:57,061", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Checking job status for er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:57,363", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:57,448", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Template id er_physical_interface resolved from mapping: Cer_physical_interface", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:05:57,450", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}\n with parameters:\n{\"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.79.5.185\", \"if_name\": \"ae0\", \"version\": 1, \"gohan_id\": \"3118d6be-b1cb-472a-805f-7e1ec46aa5e7\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:57,451", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Creating a stack er_physical_interface_3118d6be-b1cb-472a-805f-7e1ec46aa5e7 with parameters: {u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.79.5.185', u'if_name': u'ae0', u'version': 1, u'gohan_id': u'3118d6be-b1cb-472a-805f-7e1ec46aa5e7'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:57,974", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Stack \"er_physical_interface_3118d6be-b1cb-472a-805f-7e1ec46aa5e7\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:59,140", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Stack \"er_physical_interface_3118d6be-b1cb-472a-805f-7e1ec46aa5e7\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:59,141", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - CREATED er_physical_interface_3118d6be-b1cb-472a-805f-7e1ec46aa5e7", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:59,517", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Job create finished with results {'heat_outputs': [{u'output_value': u'e848bb97-1643-4167-9865-9a8b3b30b66f', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/e848bb97-1643-4167-9865-9a8b3b30b66f', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:59,563", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Job create:heat_worker:er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7:1:ozhuq finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:05:59,563", "logger_name": "esi-worker.None", "msg": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7 - Trying to delete internal process state for resource er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:27,057", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:27,058", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:27,058", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,072", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,073", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,074", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:57,210", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043:1:df5np using id: 633e5029-57a7-4fc7-a329-343e8e6aa578", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,212", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,220", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,228", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Starting work on new ready job create:heat_worker:er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043:1:df5np", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,229", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Checking job status for er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:57,527", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:57,613", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Template id er_physical_interface resolved from mapping: Cer_physical_interface", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:06:57,615", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}\n with parameters:\n{\"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.79.5.184\", \"if_name\": \"ae0\", \"version\": 1, \"gohan_id\": \"c8e2d558-02ee-4bf3-ba5b-958821a21043\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:57,616", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Creating a stack er_physical_interface_c8e2d558-02ee-4bf3-ba5b-958821a21043 with parameters: {u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.79.5.184', u'if_name': u'ae0', u'version': 1, u'gohan_id': u'c8e2d558-02ee-4bf3-ba5b-958821a21043'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:58,074", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Stack \"er_physical_interface_c8e2d558-02ee-4bf3-ba5b-958821a21043\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:59,227", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Stack \"er_physical_interface_c8e2d558-02ee-4bf3-ba5b-958821a21043\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:59,227", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - CREATED er_physical_interface_c8e2d558-02ee-4bf3-ba5b-958821a21043", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:59,536", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Job create finished with results {'heat_outputs': [{u'output_value': u'81b1e3e1-1182-4431-9c0f-9e430ec29a09', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/81b1e3e1-1182-4431-9c0f-9e430ec29a09', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:59,656", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Job create:heat_worker:er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043:1:df5np finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:06:59,657", "logger_name": "esi-worker.None", "msg": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043 - Trying to delete internal process state for resource er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:27,223", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:27,224", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:27,224", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:57,237", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:57,237", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:07:57,237", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:01,455", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688:1:qb54n using id: ea345059-cf15-4337-8d34-ffc85be1211d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:01,457", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:01,458", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:01,469", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Starting work on new ready job create:heat_worker:er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688:1:qb54n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:01,471", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Checking job status for er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:01,769", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:01,862", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Template id er_physical_interface resolved from mapping: Cer_physical_interface", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:01,864", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}\n with parameters:\n{\"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.79.5.184\", \"if_name\": \"ge-0/0/1\", \"version\": 1, \"gohan_id\": \"2bc8e40d-ab01-4738-a4aa-e69d8fd30688\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:01,864", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Creating a stack er_physical_interface_2bc8e40d-ab01-4738-a4aa-e69d8fd30688 with parameters: {u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.79.5.184', u'if_name': u'ge-0/0/1', u'version': 1, u'gohan_id': u'2bc8e40d-ab01-4738-a4aa-e69d8fd30688'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Physical port template\n\nparameters:\n  if_name:\n    type: string\n    label: Interface Name\n    description: Name of the ER Physical Interface\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ER Physical Interface\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_status\n      resource_type: er_physical_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: interface\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: if_name }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: interface\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:02,320", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Stack \"er_physical_interface_2bc8e40d-ab01-4738-a4aa-e69d8fd30688\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:03,471", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Stack \"er_physical_interface_2bc8e40d-ab01-4738-a4aa-e69d8fd30688\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:03,472", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - CREATED er_physical_interface_2bc8e40d-ab01-4738-a4aa-e69d8fd30688", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:03,800", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Job create finished with results {'heat_outputs': [{u'output_value': u'd80c91c1-a82c-4742-b571-03c17cbeff1c', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/d80c91c1-a82c-4742-b571-03c17cbeff1c', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:03,841", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Job create:heat_worker:er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688:1:qb54n finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:08:03,842", "logger_name": "esi-worker.None", "msg": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688 - Trying to delete internal process state for resource er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:31,464", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:31,465", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:08:31,465", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:01,478", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:01,478", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:01,479", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:17,747", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:1:hhmut using id: b951a7fa-ef58-4b2a-a248-33b92ad81fe1", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:17,750", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:17,750", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:17,763", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Starting work on new ready job create:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:1:hhmut", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:17,764", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Checking job status for vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:18,066", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:18,157", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Template id vpn_gateway resolved from mapping: Cvpn_gateway", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:18,169", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_downlink_interface:\n    description: Physical port on the Primary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_uplink_interface:\n    description: Physical port on the Primary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_downlink_interface:\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_uplink_interface:\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  downlink_vlan:\n    description: vlan tag used by logical downlink interface\n    label: VLAN ID\n    type: string\n  uplink_vlan:\n    description: vlan tag used by logical uplink interface\n    label: VLAN ID\n    type: string\n  vrf_name:\n    description: Name for VRF used by logical interfaces\n    label: VRF name\n    type: string\n  input_filter_name:\n    description: Name for policer used for input\n    label: Input filter name\n    type: string\n  output_filter_name:\n    description: Name for policer used for output\n    label: Output filter name\n    type: string\n  primary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n  secondary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: primary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: primary_device_logical_downlink_interface\n              $LIFU:\n                get_param: primary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: secondary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: secondary_device_logical_downlink_interface\n              $LIFU:\n                get_param: secondary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n with parameters:\n{\"primary_device_logical_uplink_interface\": \"ge-0/0/1.122\", \"primary_device_logical_downlink_interface\": \"ae0.1025\", \"primary_device_password\": \"***\", \"output_filter_name\": \"FILTER_10M-GA-DOWN-VPN\", \"primary_device_ip\": \"10.79.5.185\", \"secondary_device_physical_downlink_interface\": \"ae0\", \"secondary_device_username\": \"esi\", \"primary_device_physical_uplink_interface\": \"ge-0/0/1\", \"secondary_device_logical_uplink_interface\": \"ge-0/0/1.122\", \"downlink_vlan\": \"1025\", \"secondary_device_logical_downlink_interface\": \"ae0.1025\", \"input_filter_name\": \"FILTER_10M-GA-UP-VPN\", \"uplink_vlan\": \"122\", \"secondary_device_port\": 830, \"secondary_device_physical_uplink_interface\": \"ge-0/0/1\", \"secondary_device_password\": \"***\", \"vrf_name\": \"vrf_gw_sample-ha-router-downlink_1025\", \"primary_device_username\": \"esi\", \"primary_device_physical_downlink_interface\": \"ae0\", \"secondary_downlink_vrrp_config_group\": \"VPNGW2-VRRP\", \"primary_device_port\": 830, \"primary_downlink_vrrp_config_group\": \"VPNGW1-VRRP\", \"secondary_device_ip\": \"10.79.5.184\"}, \n and heat timeout = 60, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:18,170", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Creating a stack vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69 with parameters: {u'primary_device_logical_uplink_interface': u'ge-0/0/1.122', u'primary_device_logical_downlink_interface': u'ae0.1025', u'primary_device_password': u'***', u'output_filter_name': u'FILTER_10M-GA-DOWN-VPN', u'primary_device_ip': u'10.79.5.185', u'secondary_device_physical_downlink_interface': u'ae0', u'secondary_device_username': u'esi', u'primary_device_physical_uplink_interface': u'ge-0/0/1', u'secondary_device_logical_uplink_interface': u'ge-0/0/1.122', u'downlink_vlan': u'1025', u'secondary_device_logical_downlink_interface': u'ae0.1025', u'input_filter_name': u'FILTER_10M-GA-UP-VPN', u'uplink_vlan': u'122', u'secondary_device_port': 830, u'secondary_device_physical_uplink_interface': u'ge-0/0/1', u'secondary_device_password': u'***', u'vrf_name': u'vrf_gw_sample-ha-router-downlink_1025', u'primary_device_username': u'esi', u'primary_device_physical_downlink_interface': u'ae0', u'secondary_downlink_vrrp_config_group': u'VPNGW2-VRRP', u'primary_device_port': 830, u'primary_downlink_vrrp_config_group': u'VPNGW1-VRRP', u'secondary_device_ip': u'10.79.5.184'}, timeout_mins: 60, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_downlink_interface:\n    description: Physical port on the Primary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_uplink_interface:\n    description: Physical port on the Primary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_downlink_interface:\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_uplink_interface:\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  downlink_vlan:\n    description: vlan tag used by logical downlink interface\n    label: VLAN ID\n    type: string\n  uplink_vlan:\n    description: vlan tag used by logical uplink interface\n    label: VLAN ID\n    type: string\n  vrf_name:\n    description: Name for VRF used by logical interfaces\n    label: VRF name\n    type: string\n  input_filter_name:\n    description: Name for policer used for input\n    label: Input filter name\n    type: string\n  output_filter_name:\n    description: Name for policer used for output\n    label: Output filter name\n    type: string\n  primary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n  secondary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: primary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: primary_device_logical_downlink_interface\n              $LIFU:\n                get_param: primary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: secondary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: secondary_device_logical_downlink_interface\n              $LIFU:\n                get_param: secondary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:18,701", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:19,855", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:21,038", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:22,208", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:23,347", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:24,491", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:25,632", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:26,778", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:27,923", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:29,060", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:30,197", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:31,341", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:32,482", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:33,635", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:34,775", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:35,909", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:35,910", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - CREATED vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:36,211", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Job create finished with results {'heat_outputs': [], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:36,252", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Job create:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:1:hhmut finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:36,253", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Trying to delete internal process state for resource vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:47,761", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:47,761", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:47,762", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:50,844", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222:1:1r2cs using id: 612340d4-9da1-4b1c-a753-cff02d5308ae", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:50,846", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:50,852", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:50,883", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Starting work on new ready job create:heat_worker:vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222:1:1r2cs", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:50,884", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Checking job status for vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:51,303", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:51,388", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Template id vpn_interface resolved from mapping: Cvpn_interface", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:09:51,409", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Inet Address\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  secondary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  secondary_device_logical_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  vrf_name:\n    description: Name of VRF (routing-instance) in MX config\n    label: VRF Name\n    type: string\n  local_as:\n    type: number\n    label: Local AS Number\n  primary_ebgp_config_group:\n    description: Name of MX config group for eBGP config\n    label: eBGP config group\n    type: string\n  secondary_ebgp_config_group:\n    description: Name of MX config group for eBGP config\n    label: eBGP config group\n    type: string\n  uplink_vlan:\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\n    label: Uplink VLAN ID\n    type: string\n  primary_peer_ip:\n    description: IP address of primary router eBGP neighbour\n    label: Primary device BGP peer\n    type: string\n  secondary_peer_ip:\n    description: IP address of secondary router eBGP neighbour\n    label: Secondary device BGP peer\n    type: string\n  primary_router_id:\n    description: Primary router VRF router id\n    label: Primary router id\n    type: string\n  secondary_router_id:\n    description: Secondary router VRF router id\n    label: Secondary router id\n    type: string\n  remote_as:\n    description: eBGP remote autonomous system\n    label: Remote AS\n    type: string\n  md5:\n    description: eBGP authentication key\n    label: eBGP authentication key\n    type: string\n  bgp_group_name:\n    description: Name of eBGP group\n    label: eBGP group name\n    type: string\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the VPN Interface\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n\n\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config: \"\"\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:  192.168.8.2/30 \n      - config:\n          str_replace:\n            params:\n              $NEIGHBOR_IP:\n                    get_param: primary_peer_ip\n              $REMOTE_AS:\n                    get_param: remote_as\n              $APPLY_GROUP:\n                    get_param: primary_ebgp_config_group\n              $KEY:\n                    get_param: md5\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address  192.168.8.2 ;\n              peer-as $REMOTE_AS;\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      - config:\n          str_replace:\n            params:\n              $ROUTER_ID:\n                    get_param: primary_router_id\n              $LOCAL_AS:\n                    get_param: local_as\n            template: |\n              router-id $ROUTER_ID;\n              autonomous-system $LOCAL_AS;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config: \"\"\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:  192.168.8.6/30 \n      - config:\n          str_replace:\n            params:\n              $NEIGHBOR_IP:\n                    get_param: secondary_peer_ip\n              $REMOTE_AS:\n                    get_param: remote_as\n              $APPLY_GROUP:\n                    get_param: secondary_ebgp_config_group\n              $KEY:\n                    get_param: md5\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address  192.168.8.6 ;\n              peer-as $REMOTE_AS;\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      - config:\n          str_replace:\n            params:\n              $ROUTER_ID:\n                    get_param: secondary_router_id\n              $LOCAL_AS:\n                    get_param: local_as\n            template: |\n              router-id $ROUTER_ID;\n              autonomous-system $LOCAL_AS;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n\n  bgp_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: bgp_pool\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: status\n      properties:\n        instance: { get_param: vrf_name }\n        primary:\n          host: { get_param: primary_device_ip }\n          port: { get_param: primary_device_port }\n          login: { get_param: primary_device_username }\n          password: { get_param: primary_device_password }\n          peer_address: { get_param: primary_peer_ip }\n        secondary:\n          host: { get_param: secondary_device_ip }\n          port: { get_param: secondary_device_port }\n          login: { get_param: secondary_device_username }\n          password: { get_param: secondary_device_password }\n          peer_address: { get_param: secondary_peer_ip }\n      syncer_properties:\n        etcd:\n          status:\n            key: status\n    depends_on: netconf_configure_secondary\n\n\n  primary_interface_metric_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_metric\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: primary_router\n      properties:\n        device_ip: { get_param: primary_device_ip }\n        if_name: { get_param: primary_device_logical_interface }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              device_index: primary\n              resource_id: { get_param: gohan_id }\n              direction: in\n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              device_index: primary\n              resource_id: { get_param: gohan_id }\n              direction: out\n    depends_on: bgp_monitor\n\n  secondary_interface_metric_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_metric\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: secondary_router\n      properties:\n        device_ip: { get_param: secondary_device_ip }\n        if_name: { get_param: secondary_device_logical_interface }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              device_index: secondary\n              resource_id: { get_param: gohan_id }\n              direction: in\n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              device_index: secondary\n              resource_id: { get_param: gohan_id }\n              direction: out\n    depends_on: bgp_monitor\n\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: bgp_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [bgp_monitor, link]}\n\n  primary_interface_monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: primary_interface_metric_monitor}\n  primary_interface_monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [primary_interface_metric_monitor, link]}\n\n  secondary_interface_monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: secondary_interface_metric_monitor}\n  secondary_interface_monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [secondary_interface_metric_monitor, link]}\n\n with parameters:\n{\"secondary_router_id\": \"192.168.8.6\", \"secondary_device_physical_interface\": \"ge-0/0/1\", \"primary_peer_ip\": \"192.168.8.1\", \"primary_device_logical_interface\": \"ge-0/0/1.122\", \"primary_device_password\": \"***\", \"gohan_id\": \"07d4f1fc-5142-4fae-b115-627fc009e222\", \"bgp_group_name\": \"CloudGW1\", \"remote_as\": \"9598\", \"secondary_device_ip\": \"10.79.5.184\", \"primary_device_ip\": \"10.79.5.185\", \"secondary_ebgp_config_group\": \"VPNGW2-RI-EBGP\", \"version\": 1, \"secondary_device_username\": \"esi\", \"secondary_device_logical_interface\": \"ge-0/0/1.122\", \"local_as\": \"65101\", \"primary_device_physical_interface\": \"ge-0/0/1\", \"uplink_vlan\": \"122\", \"md5\": \"test\", \"secondary_peer_ip\": \"192.168.8.5\", \"primary_router_id\": \"192.168.8.2\", \"primary_ebgp_config_group\": \"VPNGW1-RI-EBGP\", \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"secondary_device_port\": 830, \"secondary_device_password\": \"***\", \"vrf_name\": \"vrf_gw_sample-ha-router-downlink_1025\", \"primary_device_username\": \"esi\", \"primary_device_port\": 830}, \n and heat timeout = 60, rollback = False, \nusing this jinja parameters: \n{u'jinja_primary_uplink_ip': u'192.168.8.2/30', u'jinja_secondary_uplink_ip': u'192.168.8.6/30'}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:51,411", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Creating a stack vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222 with parameters: {u'secondary_router_id': u'192.168.8.6', u'secondary_device_physical_interface': u'ge-0/0/1', u'primary_peer_ip': u'192.168.8.1', u'primary_device_logical_interface': u'ge-0/0/1.122', u'primary_device_password': u'***', u'gohan_id': u'07d4f1fc-5142-4fae-b115-627fc009e222', u'bgp_group_name': u'CloudGW1', u'remote_as': u'9598', u'secondary_device_ip': u'10.79.5.184', u'primary_device_ip': u'10.79.5.185', u'secondary_ebgp_config_group': u'VPNGW2-RI-EBGP', u'version': 1, u'secondary_device_username': u'esi', u'secondary_device_logical_interface': u'ge-0/0/1.122', u'local_as': u'65101', u'primary_device_physical_interface': u'ge-0/0/1', u'uplink_vlan': u'122', u'md5': u'test', u'secondary_peer_ip': u'192.168.8.5', u'primary_router_id': u'192.168.8.2', u'primary_ebgp_config_group': u'VPNGW1-RI-EBGP', u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'secondary_device_port': 830, u'secondary_device_password': u'***', u'vrf_name': u'vrf_gw_sample-ha-router-downlink_1025', u'primary_device_username': u'esi', u'primary_device_port': 830}, timeout_mins: 60, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Inet Address\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  secondary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  secondary_device_logical_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  vrf_name:\n    description: Name of VRF (routing-instance) in MX config\n    label: VRF Name\n    type: string\n  local_as:\n    type: number\n    label: Local AS Number\n  primary_ebgp_config_group:\n    description: Name of MX config group for eBGP config\n    label: eBGP config group\n    type: string\n  secondary_ebgp_config_group:\n    description: Name of MX config group for eBGP config\n    label: eBGP config group\n    type: string\n  uplink_vlan:\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\n    label: Uplink VLAN ID\n    type: string\n  primary_peer_ip:\n    description: IP address of primary router eBGP neighbour\n    label: Primary device BGP peer\n    type: string\n  secondary_peer_ip:\n    description: IP address of secondary router eBGP neighbour\n    label: Secondary device BGP peer\n    type: string\n  primary_router_id:\n    description: Primary router VRF router id\n    label: Primary router id\n    type: string\n  secondary_router_id:\n    description: Secondary router VRF router id\n    label: Secondary router id\n    type: string\n  remote_as:\n    description: eBGP remote autonomous system\n    label: Remote AS\n    type: string\n  md5:\n    description: eBGP authentication key\n    label: eBGP authentication key\n    type: string\n  bgp_group_name:\n    description: Name of eBGP group\n    label: eBGP group name\n    type: string\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the VPN Interface\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n\n\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config: \"\"\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:  192.168.8.2/30 \n      - config:\n          str_replace:\n            params:\n              $NEIGHBOR_IP:\n                    get_param: primary_peer_ip\n              $REMOTE_AS:\n                    get_param: remote_as\n              $APPLY_GROUP:\n                    get_param: primary_ebgp_config_group\n              $KEY:\n                    get_param: md5\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address  192.168.8.2 ;\n              peer-as $REMOTE_AS;\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      - config:\n          str_replace:\n            params:\n              $ROUTER_ID:\n                    get_param: primary_router_id\n              $LOCAL_AS:\n                    get_param: local_as\n            template: |\n              router-id $ROUTER_ID;\n              autonomous-system $LOCAL_AS;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config: \"\"\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:  192.168.8.6/30 \n      - config:\n          str_replace:\n            params:\n              $NEIGHBOR_IP:\n                    get_param: secondary_peer_ip\n              $REMOTE_AS:\n                    get_param: remote_as\n              $APPLY_GROUP:\n                    get_param: secondary_ebgp_config_group\n              $KEY:\n                    get_param: md5\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address  192.168.8.6 ;\n              peer-as $REMOTE_AS;\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      - config:\n          str_replace:\n            params:\n              $ROUTER_ID:\n                    get_param: secondary_router_id\n              $LOCAL_AS:\n                    get_param: local_as\n            template: |\n              router-id $ROUTER_ID;\n              autonomous-system $LOCAL_AS;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n\n  bgp_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: bgp_pool\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: status\n      properties:\n        instance: { get_param: vrf_name }\n        primary:\n          host: { get_param: primary_device_ip }\n          port: { get_param: primary_device_port }\n          login: { get_param: primary_device_username }\n          password: { get_param: primary_device_password }\n          peer_address: { get_param: primary_peer_ip }\n        secondary:\n          host: { get_param: secondary_device_ip }\n          port: { get_param: secondary_device_port }\n          login: { get_param: secondary_device_username }\n          password: { get_param: secondary_device_password }\n          peer_address: { get_param: secondary_peer_ip }\n      syncer_properties:\n        etcd:\n          status:\n            key: status\n    depends_on: netconf_configure_secondary\n\n\n  primary_interface_metric_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_metric\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: primary_router\n      properties:\n        device_ip: { get_param: primary_device_ip }\n        if_name: { get_param: primary_device_logical_interface }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              device_index: primary\n              resource_id: { get_param: gohan_id }\n              direction: in\n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              device_index: primary\n              resource_id: { get_param: gohan_id }\n              direction: out\n    depends_on: bgp_monitor\n\n  secondary_interface_metric_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports_metric\n      resource_type: vpn_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: secondary_router\n      properties:\n        device_ip: { get_param: secondary_device_ip }\n        if_name: { get_param: secondary_device_logical_interface }\n        community_name: EDGE_ROUTER_COMMUNITY\n      syncer_properties:\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              device_index: secondary\n              resource_id: { get_param: gohan_id }\n              direction: in\n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              device_index: secondary\n              resource_id: { get_param: gohan_id }\n              direction: out\n    depends_on: bgp_monitor\n\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: bgp_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [bgp_monitor, link]}\n\n  primary_interface_monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: primary_interface_metric_monitor}\n  primary_interface_monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [primary_interface_metric_monitor, link]}\n\n  secondary_interface_monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: secondary_interface_metric_monitor}\n  secondary_interface_monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [secondary_interface_metric_monitor, link]}\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:51,976", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:53,186", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:54,345", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:55,558", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:56,717", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:57,858", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:09:59,001", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:00,170", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:01,316", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:02,465", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:03,606", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:04,752", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:05,893", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:07,035", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:08,175", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:09,330", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,512", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Stack \"vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,512", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - CREATED vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,875", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Job create finished with results {'heat_outputs': [{u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/3bdb3c86-ac6d-4ff2-aa55-4b2989971614', u'description': u'Monitoring Process Link', u'output_key': u'secondary_interface_monitoring_link'}, {u'output_value': u'34b9de21-40c0-46f1-afa5-787220cc5ed2', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/d7885526-613f-4565-a3df-de89ed911e3b', u'description': u'Monitoring Process Link', u'output_key': u'primary_interface_monitoring_link'}, {u'output_value': u'd7885526-613f-4565-a3df-de89ed911e3b', u'description': u'Monitoring Target ID', u'output_key': u'primary_interface_monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/34b9de21-40c0-46f1-afa5-787220cc5ed2', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'3bdb3c86-ac6d-4ff2-aa55-4b2989971614', u'description': u'Monitoring Target ID', u'output_key': u'secondary_interface_monitoring_target_id'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,914", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Job create:heat_worker:vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222:1:1r2cs finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,915", "logger_name": "esi-worker.None", "msg": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222 - Trying to delete internal process state for resource vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:10,963", "logger_name": "esi-worker.None", "msg": "Reserved job: modify:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:2:5iv3e using id: 75d9ece9-8ab8-4424-9572-fd94780c07d8", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:10,966", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:10,966", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:10,975", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Starting work on new ready job modify:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:2:5iv3e", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:10,975", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Checking job status for vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:11,356", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Found stack with status CREATE_COMPLETE for vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:11,357", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - MODIFY STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:11,898", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Template id vpn_gateway resolved from mapping: Cvpn_gateway", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:11,907", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_downlink_interface:\n    description: Physical port on the Primary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_uplink_interface:\n    description: Physical port on the Primary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_downlink_interface:\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_uplink_interface:\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  downlink_vlan:\n    description: vlan tag used by logical downlink interface\n    label: VLAN ID\n    type: string\n  uplink_vlan:\n    description: vlan tag used by logical uplink interface\n    label: VLAN ID\n    type: string\n  vrf_name:\n    description: Name for VRF used by logical interfaces\n    label: VRF name\n    type: string\n  input_filter_name:\n    description: Name for policer used for input\n    label: Input filter name\n    type: string\n  output_filter_name:\n    description: Name for policer used for output\n    label: Output filter name\n    type: string\n  primary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n  secondary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: primary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: primary_device_logical_downlink_interface\n              $LIFU:\n                get_param: primary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: secondary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: secondary_device_logical_downlink_interface\n              $LIFU:\n                get_param: secondary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n with parameters:\n{\"primary_device_logical_uplink_interface\": \"ge-0/0/1.122\", \"primary_device_logical_downlink_interface\": \"ae0.1025\", \"primary_device_password\": \"***\", \"output_filter_name\": \"FILTER_10M-GA-DOWN-VPN\", \"primary_device_ip\": \"10.79.5.185\", \"secondary_device_physical_downlink_interface\": \"ae0\", \"secondary_device_username\": \"esi\", \"primary_device_physical_uplink_interface\": \"ge-0/0/1\", \"secondary_device_logical_uplink_interface\": \"ge-0/0/1.122\", \"downlink_vlan\": \"1025\", \"secondary_device_logical_downlink_interface\": \"ae0.1025\", \"input_filter_name\": \"FILTER_10M-GA-UP-VPN\", \"uplink_vlan\": \"122\", \"secondary_device_port\": 830, \"secondary_device_physical_uplink_interface\": \"ge-0/0/1\", \"secondary_device_password\": \"***\", \"vrf_name\": \"vrf_gw_sample-ha-router-downlink_1025\", \"primary_device_username\": \"esi\", \"primary_device_physical_downlink_interface\": \"ae0\", \"secondary_downlink_vrrp_config_group\": \"VPNGW2-VRRP\", \"primary_device_port\": 830, \"primary_downlink_vrrp_config_group\": \"VPNGW1-VRRP\", \"secondary_device_ip\": \"10.79.5.184\"}, \n and heat timeout = 60, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:11,908", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Updating a stack vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69 with parameters: {u'primary_device_logical_uplink_interface': u'ge-0/0/1.122', u'primary_device_logical_downlink_interface': u'ae0.1025', u'primary_device_password': u'***', u'output_filter_name': u'FILTER_10M-GA-DOWN-VPN', u'primary_device_ip': u'10.79.5.185', u'secondary_device_physical_downlink_interface': u'ae0', u'secondary_device_username': u'esi', u'primary_device_physical_uplink_interface': u'ge-0/0/1', u'secondary_device_logical_uplink_interface': u'ge-0/0/1.122', u'downlink_vlan': u'1025', u'secondary_device_logical_downlink_interface': u'ae0.1025', u'input_filter_name': u'FILTER_10M-GA-UP-VPN', u'uplink_vlan': u'122', u'secondary_device_port': 830, u'secondary_device_physical_uplink_interface': u'ge-0/0/1', u'secondary_device_password': u'***', u'vrf_name': u'vrf_gw_sample-ha-router-downlink_1025', u'primary_device_username': u'esi', u'primary_device_physical_downlink_interface': u'ae0', u'secondary_downlink_vrrp_config_group': u'VPNGW2-VRRP', u'primary_device_port': 830, u'primary_downlink_vrrp_config_group': u'VPNGW1-VRRP', u'secondary_device_ip': u'10.79.5.184'}, timeout_mins: 60, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_downlink_interface:\n    description: Physical port on the Primary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  primary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Primary device\n    label: Logical Interface name\n    type: string\n  primary_device_physical_uplink_interface:\n    description: Physical port on the Primary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_logical_downlink_interface:\n    description: Name of the created logical downlink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_downlink_interface:\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\n    label: Underlying physical interface\n    type: string\n  secondary_device_logical_uplink_interface:\n    description: Name of the created logical uplink interface on the Secondary device\n    label: Logical Interface name\n    type: string\n  secondary_device_physical_uplink_interface:\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\n    label: Underlying physical interface\n    type: string\n  downlink_vlan:\n    description: vlan tag used by logical downlink interface\n    label: VLAN ID\n    type: string\n  uplink_vlan:\n    description: vlan tag used by logical uplink interface\n    label: VLAN ID\n    type: string\n  vrf_name:\n    description: Name for VRF used by logical interfaces\n    label: VRF name\n    type: string\n  input_filter_name:\n    description: Name for policer used for input\n    label: Input filter name\n    type: string\n  output_filter_name:\n    description: Name for policer used for output\n    label: Output filter name\n    type: string\n  primary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n  secondary_downlink_vrrp_config_group:\n    description: Name for apply group to use for downlink interface for VRRP\n    label: Apply group name\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: primary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: primary_device_logical_downlink_interface\n              $LIFU:\n                get_param: primary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      on_update: merge\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: downlink_vlan\n              $INPUT_FILTER:\n                get_param: input_filter_name\n              $OUTPUT_FILTER:\n                get_param: output_filter_name\n              $APPLY_GROUP:\n                get_param: secondary_downlink_vrrp_config_group\n            template: |\n              apply-groups $APPLY_GROUP\n              vlan-id $VLAN;\n              description vpn_gw;\n              family inet {\n                  filter {\n                      input $INPUT_FILTER;\n                      output $OUTPUT_FILTER;\n                  }\n              }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_downlink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan }\n      - config:\n          str_replace:\n            params:\n              $LIFD:\n                get_param: secondary_device_logical_downlink_interface\n              $LIFU:\n                get_param: secondary_device_logical_uplink_interface\n            template: |\n                instance-type virtual-router;\n                interface $LIFD;\n                interface $LIFU;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n      - config:\n          str_replace:\n            params:\n              $VLAN:\n                get_param: uplink_vlan\n            template: |\n              vlan-id $VLAN;\n              description CloudGW_vpn;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_uplink_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: uplink_vlan }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:12,294", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:13,435", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:14,570", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:15,707", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:16,846", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:17,989", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:19,127", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:20,277", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:21,451", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Stack \"vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69\" in status \"UPDATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:21,452", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - MODIFIED vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:21,756", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Job modify finished with results {'heat_outputs': [], 'orchestration_state': u'UPDATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:21,816", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Job modify:heat_worker:vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69:2:5iv3e finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:10:21,818", "logger_name": "esi-worker.None", "msg": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69 - Trying to delete internal process state for resource vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:40,977", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:40,978", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:10:40,978", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:10,990", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:10,991", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:10,992", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:41,005", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:41,005", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:41,006", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:53,669", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2:1:vodtl using id: 6c09ab08-977e-460e-9a4b-6f7d57c4d58e", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:53,678", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:53,679", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:53,686", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Starting work on new ready job create:heat_worker:network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2:1:vodtl", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:53,686", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Checking job status for network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:53,974", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:54,092", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Template id network resolved from mapping: Cnetwork", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:11:54,096", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Network template\n\nparameters:\n  uuid:\n    type: string\n    label: Virtual Network UUID\n    description: UUID of the virtual network that will be created.\n    default: \"\"\n  name:\n    type: string\n    label: Virtual Network Name\n    description: Name of the virtual network that will be created.\n  forwarding_mode:\n    type: string\n    label: Forwarding Mode\n    description: Forwarding Mode.\n    default: 'l2_l3'\n  route_targets:\n    type: comma_delimited_list\n    label: Route Targets list\n    default: []\n  shared:\n    type: boolean\n    label: Shared Network\n    default: false\n  external:\n    type: boolean\n    label: External Network\n    default: true\n  allow_transit:\n    type: boolean\n    label: Allow Transit\n    default: false\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n\nresources:\n  network:\n    type: OS::Contrail::VirtualNetwork\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      forwarding_mode: { get_param: forwarding_mode }\n      route_targets: { get_param: route_targets }\n      shared: { get_param: shared }\n      admin_state_up: { get_param: admin_state_up }\n\noutputs:\n  id:\n    description: A unique id for the virtual network.\n    value: { get_resource: network }\n  name:\n    description: The name of the virtual network.\n    value: { get_attr: [network, name] }\n  fq_name:\n    description: The FQ name of the virtual network.\n    value: { get_attr: [network, fq_name] }\n  route_targets:\n    description: The name of the virtual network.\n    value: { get_attr: [network, route_targets] }\n with parameters:\n{\"admin_state_up\": true, \"uuid\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"name\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:54,097", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Creating a stack network_afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 with parameters: {u'admin_state_up': True, u'uuid': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'name': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Network template\n\nparameters:\n  uuid:\n    type: string\n    label: Virtual Network UUID\n    description: UUID of the virtual network that will be created.\n    default: \"\"\n  name:\n    type: string\n    label: Virtual Network Name\n    description: Name of the virtual network that will be created.\n  forwarding_mode:\n    type: string\n    label: Forwarding Mode\n    description: Forwarding Mode.\n    default: 'l2_l3'\n  route_targets:\n    type: comma_delimited_list\n    label: Route Targets list\n    default: []\n  shared:\n    type: boolean\n    label: Shared Network\n    default: false\n  external:\n    type: boolean\n    label: External Network\n    default: true\n  allow_transit:\n    type: boolean\n    label: Allow Transit\n    default: false\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n\nresources:\n  network:\n    type: OS::Contrail::VirtualNetwork\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      forwarding_mode: { get_param: forwarding_mode }\n      route_targets: { get_param: route_targets }\n      shared: { get_param: shared }\n      admin_state_up: { get_param: admin_state_up }\n\noutputs:\n  id:\n    description: A unique id for the virtual network.\n    value: { get_resource: network }\n  name:\n    description: The name of the virtual network.\n    value: { get_attr: [network, name] }\n  fq_name:\n    description: The FQ name of the virtual network.\n    value: { get_attr: [network, fq_name] }\n  route_targets:\n    description: The name of the virtual network.\n    value: { get_attr: [network, route_targets] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:54,569", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Stack \"network_afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:55,913", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Stack \"network_afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:55,913", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - CREATED network_afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:56,336", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Job create finished with results {'heat_outputs': [{u'output_value': [], u'description': u'The name of the virtual network.', u'output_key': u'route_targets'}, {u'output_value': u'default-domain:usertenant:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'description': u'The FQ name of the virtual network.', u'output_key': u'fq_name'}, {u'output_value': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'description': u'A unique id for the virtual network.', u'output_key': u'id'}, {u'output_value': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'description': u'The name of the virtual network.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:56,379", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Job create:heat_worker:network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2:1:vodtl finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:11:56,380", "logger_name": "esi-worker.None", "msg": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2 - Trying to delete internal process state for resource network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:10,965", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda:1:89l4t using id: a35b261d-3f28-47fc-ba18-b2ad2fa9f511", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:10,967", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:10,967", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:10,973", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Starting work on new ready job create:heat_worker:subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda:1:89l4t", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:10,973", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Checking job status for subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:11,275", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:11,359", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Template id subnet resolved from mapping: Csubnet", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:11,367", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Subnet template\n\nparameters:\n  name:\n    type: string\n    label: Local Subnet Name\n    description: Name of the local subnet that will be created.\n  network_id:\n    type: string\n    label: Network ID\n    description: ID of the network for which subnet will be created.\n  cidr:\n    type: string\n    label: Local Subnet IP prefix\n    description: IP prefix of the local subnet that will be created.\n  gateway_ip:\n    default: \"0.0.0.0\"\n    type: string\n    label: Default Gateway\n    description: Default gateway for the local subnet that will be created.\n  ipam:\n    type: string\n    label: IP Address Management\n    description: IPAM for the local subnet that will be created.\n    default: ''\n  enable_dhcp:\n    type: boolean\n    label: Enable DHCP\n    description: Enable DHCP\n    default: true\n  dhcp_server_address:\n    type: string\n    label: DHCP Server address\n    description: DHCP Server address\n    default: \"0.0.0.0\"\n  allocation_pools:\n    type: string\n    label: Allocation Pools\n    description: Allocation Pools\n    default: []\n  dns_nameservers:\n    type: comma_delimited_list\n    label: DNS Nameservers List\n    description: DNS Nameservers List\n    default: []\n  ntp_servers:\n    type: comma_delimited_list\n    label: NTP Nameservers List\n    description: NTP Nameservers List\n    default: []\n  host_routes:\n    type: json\n    label: Host Routes\n    description: Host Routes\n    default: []\n\nresources:\n  subnet:\n    type: OS::Contrail::VnSubnet\n    properties:\n      name: { get_param: name }\n      network_id: { get_param: network_id }\n      ip_prefix: { get_param: cidr }\n      default_gateway: { get_param: gateway_ip }\n      ipam: { get_param: ipam }\n      enable_dhcp: { get_param: enable_dhcp }\n      dns_server_address: { get_param: dhcp_server_address }\n      dns_nameservers: { get_param: dns_nameservers }\n      ntp_servers: { get_param: ntp_servers }\n      host_routes: { get_param: host_routes }\n      allocation_pools: { get_param: allocation_pools }\n      gateway_is_vrouter: false\n\noutputs:\n  id:\n    description: A unique id for the local subnet.\n    value: { get_resource: subnet }\n  name:\n    description: The name of the local subnet.\n    value: { get_attr: [subnet, name] }\n  network_id:\n    description: A unique id for the network.\n    value: { get_attr: [subnet, network_id] }\n  ip_prefix:\n    description: IP prefix of local subnet.\n    value: { get_attr: [subnet, ip_prefix] }\n  default_gateway:\n    description: Default gateway of local subnet.\n    value: { get_attr: [subnet, default_gateway] }\n  ipam:\n    description: IPAM this local subnet uses.\n    value: { get_attr: [subnet, ipam] }\n with parameters:\n{\"name\": \"e825f4e4-ba44-4d9e-9578-a31ad45bedda\", \"enable_dhcp\": true, \"network_id\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"ipam\": \"default-domain:default-project:default-network-ipam\", \"dns_nameservers\": [], \"allocation_pools\": [{\"start\": \"172.16.101.2\", \"end\": \"172.16.101.254\"}], \"dhcp_server_address\": \"172.16.101.2\", \"ntp_servers\": [], \"gateway_ip\": \"172.16.101.1\", \"host_routes\": [], \"cidr\": \"172.16.101.0/24\"}, \n and heat timeout = 3, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:11,368", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Creating a stack subnet_e825f4e4-ba44-4d9e-9578-a31ad45bedda with parameters: {u'name': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'enable_dhcp': True, u'network_id': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'ipam': u'default-domain:default-project:default-network-ipam', u'dns_nameservers': [], u'allocation_pools': [{u'start': u'172.16.101.2', u'end': u'172.16.101.254'}], u'dhcp_server_address': u'172.16.101.2', u'ntp_servers': [], u'gateway_ip': u'172.16.101.1', u'host_routes': [], u'cidr': u'172.16.101.0/24'}, timeout_mins: 3, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Subnet template\n\nparameters:\n  name:\n    type: string\n    label: Local Subnet Name\n    description: Name of the local subnet that will be created.\n  network_id:\n    type: string\n    label: Network ID\n    description: ID of the network for which subnet will be created.\n  cidr:\n    type: string\n    label: Local Subnet IP prefix\n    description: IP prefix of the local subnet that will be created.\n  gateway_ip:\n    default: \"0.0.0.0\"\n    type: string\n    label: Default Gateway\n    description: Default gateway for the local subnet that will be created.\n  ipam:\n    type: string\n    label: IP Address Management\n    description: IPAM for the local subnet that will be created.\n    default: ''\n  enable_dhcp:\n    type: boolean\n    label: Enable DHCP\n    description: Enable DHCP\n    default: true\n  dhcp_server_address:\n    type: string\n    label: DHCP Server address\n    description: DHCP Server address\n    default: \"0.0.0.0\"\n  allocation_pools:\n    type: string\n    label: Allocation Pools\n    description: Allocation Pools\n    default: []\n  dns_nameservers:\n    type: comma_delimited_list\n    label: DNS Nameservers List\n    description: DNS Nameservers List\n    default: []\n  ntp_servers:\n    type: comma_delimited_list\n    label: NTP Nameservers List\n    description: NTP Nameservers List\n    default: []\n  host_routes:\n    type: json\n    label: Host Routes\n    description: Host Routes\n    default: []\n\nresources:\n  subnet:\n    type: OS::Contrail::VnSubnet\n    properties:\n      name: { get_param: name }\n      network_id: { get_param: network_id }\n      ip_prefix: { get_param: cidr }\n      default_gateway: { get_param: gateway_ip }\n      ipam: { get_param: ipam }\n      enable_dhcp: { get_param: enable_dhcp }\n      dns_server_address: { get_param: dhcp_server_address }\n      dns_nameservers: { get_param: dns_nameservers }\n      ntp_servers: { get_param: ntp_servers }\n      host_routes: { get_param: host_routes }\n      allocation_pools: { get_param: allocation_pools }\n      gateway_is_vrouter: false\n\noutputs:\n  id:\n    description: A unique id for the local subnet.\n    value: { get_resource: subnet }\n  name:\n    description: The name of the local subnet.\n    value: { get_attr: [subnet, name] }\n  network_id:\n    description: A unique id for the network.\n    value: { get_attr: [subnet, network_id] }\n  ip_prefix:\n    description: IP prefix of local subnet.\n    value: { get_attr: [subnet, ip_prefix] }\n  default_gateway:\n    description: Default gateway of local subnet.\n    value: { get_attr: [subnet, default_gateway] }\n  ipam:\n    description: IPAM this local subnet uses.\n    value: { get_attr: [subnet, ipam] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:11,842", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Stack \"subnet_e825f4e4-ba44-4d9e-9578-a31ad45bedda\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:13,315", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Stack \"subnet_e825f4e4-ba44-4d9e-9578-a31ad45bedda\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:13,316", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - CREATED subnet_e825f4e4-ba44-4d9e-9578-a31ad45bedda", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:13,810", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Job create finished with results {'heat_outputs': [{u'output_value': u'172.16.101.0/24', u'description': u'IP prefix of local subnet.', u'output_key': u'ip_prefix'}, {u'output_value': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'description': u'The name of the local subnet.', u'output_key': u'name'}, {u'output_value': u'172.16.101.1', u'description': u'Default gateway of local subnet.', u'output_key': u'default_gateway'}, {u'output_value': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'description': u'A unique id for the network.', u'output_key': u'network_id'}, {u'output_value': u'5a79909b-2bf3-4e26-8a9c-0bf6bb175457', u'description': u'IPAM this local subnet uses.', u'output_key': u'ipam'}, {u'output_value': u'323017d2-b9fc-4407-b998-e4776b16aee8', u'description': u'A unique id for the local subnet.', u'output_key': u'id'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:13,871", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Job create:heat_worker:subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda:1:89l4t finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:13,872", "logger_name": "esi-worker.None", "msg": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda - Trying to delete internal process state for resource subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:29,413", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1:1:2qwyd using id: 2c43186e-05f0-4c13-ba08-e5129a872eba", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:29,416", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:29,416", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:29,462", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Starting work on new ready job create:heat_worker:gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1:1:2qwyd", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:29,463", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Checking job status for gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:29,796", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:29,891", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Template id gw_interface_vpn resolved from mapping: ACgw_interface_&Pservice_type", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:29,905", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Inet Address\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  secondary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  downlink_vlan_id:\n    description: Vlan tag for mx logical downlink interface\n    label: Vlan Tag\n    type: string\n  gw_vip:\n    description: Virtual IP configured on VRRP\n    label: Inet Address CIDR\n    type: string\n  primary_device_gw_ip:\n    description: IP on primary device\n    label: Inet Address CIDR\n    type: string\n  secondary_device_gw_ip:\n    description: IP on secondary device\n    label: Inet Address CIDR\n    type: string\n  netmask:\n    description: Netmask for gw_ip\n    label: Netmask\n    type: number\n  vrrp_group:\n    type: string\n    label: VRRP Group\n  primary_device_priority:\n    type: string\n    label: Primary device priority\n  secondary_device_priority:\n    type: string\n    label: Secondary device priority\n  vrf_name:\n    type: string\n    label: VRF\n  bgp_group_name:\n    type: string\n    label: Name of BGP Group on VRF\n  local_as:\n    type: string\n    label: Local AS Number\n  primary_ibgp_config_group:\n    description: Name for apply group to use for downlink interface\n    label: Apply group name\n    type: string\n  secondary_ibgp_config_group:\n    description: Name for apply group to use for downlink interface\n    label: Apply group name\n    type: string\n  primary_logical_interface_name:\n    description: MX logical port\n    label: Underlying logical interface\n    type: string\n  secondary_logical_interface_name:\n    description: MX logical port\n    label: Underlying logical interface\n    type: string\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the GW Interface\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VRRP_GROUP:\n                    get_param: vrrp_group\n              $PRIORITY:\n                    get_param: primary_device_priority\n              $VIP:\n                    get_param: gw_vip\n            template: |\n                vrrp-group $VRRP_GROUP {\n                    virtual-address $VIP;\n                    priority $PRIORITY;\n                }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan_id }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:\n              str_replace:\n                params:\n                  $DEVICE_IP:\n                    get_param: primary_device_gw_ip\n                  $NETMASK:\n                    get_param: netmask\n                template: |\n                  $DEVICE_IP/$NETMASK\n      - config:\n          str_replace:\n            params:\n              $DEVICE_GW_IP:\n                    get_param: primary_device_gw_ip\n              $NEIGHBOR_GW_IP:\n                    get_param: secondary_device_gw_ip\n              $LOCAL_AS:\n                    get_param: local_as\n              $APPLY_GROUP:\n                    get_param: primary_ibgp_config_group\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address $DEVICE_GW_IP;\n              peer-as $LOCAL_AS;\n              neighbor $NEIGHBOR_GW_IP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VRRP_GROUP:\n                    get_param: vrrp_group\n              $PRIORITY:\n                    get_param: secondary_device_priority\n              $VIP:\n                    get_param: gw_vip\n            template: |\n                vrrp-group $VRRP_GROUP {\n                    virtual-address $VIP;\n                    priority $PRIORITY;\n                }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan_id }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:\n              str_replace:\n                params:\n                  $DEVICE_IP:\n                    get_param: secondary_device_gw_ip\n                  $NETMASK:\n                    get_param: netmask\n                template: |\n                  $DEVICE_IP/$NETMASK\n      - config:\n          str_replace:\n            params:\n              $DEVICE_GW_IP:\n                    get_param: secondary_device_gw_ip\n              $NEIGHBOR_GW_IP:\n                    get_param: primary_device_gw_ip\n              $LOCAL_AS:\n                    get_param: local_as\n              $APPLY_GROUP:\n                    get_param: secondary_ibgp_config_group\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address $DEVICE_GW_IP;\n              peer-as $LOCAL_AS;\n              neighbor $NEIGHBOR_GW_IP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n\n  vrrp_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: vrrp_pool\n      resource_type: gw_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: status\n      properties:\n        vrid:\n          - { get_param: vrrp_group }\n        primary:\n          host: { get_param: primary_device_ip }\n          port: { get_param: primary_device_port }\n          login: { get_param: primary_device_username }\n          password: { get_param: primary_device_password }\n          interface: { get_param: primary_logical_interface_name }\n        secondary:\n          host: { get_param: secondary_device_ip }\n          port: { get_param: secondary_device_port }\n          login: { get_param: secondary_device_username }\n          password: { get_param: secondary_device_password }\n          interface: { get_param: secondary_logical_interface_name }\n      syncer_properties:\n        etcd:\n          status:\n            key: status\n          hold_options:\n            positive_status:\n              primary: MASTER\n              secondary: BACKUP\n            time_seconds: 360\n    depends_on: netconf_configure_secondary\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vrrp_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vrrp_monitor, link]}\n with parameters:\n{\"secondary_device_physical_interface\": \"ae0\", \"secondary_ibgp_config_group\": \"VPNGW2-RI-IBGP\", \"primary_device_password\": \"***\", \"secondary_device_gw_ip\": \"172.16.101.153\", \"gohan_id\": \"3dbcfce5-bca5-4182-991a-c23de685fcf1\", \"bgp_group_name\": \"inet-gw-group\", \"gw_vip\": \"172.16.101.151\", \"primary_device_ip\": \"10.79.5.185\", \"version\": 1, \"secondary_device_username\": \"esi\", \"downlink_vlan_id\": \"1025\", \"secondary_logical_interface_name\": \"ae0.1025\", \"primary_logical_interface_name\": \"ae0.1025\", \"local_as\": \"65101\", \"primary_device_physical_interface\": \"ae0\", \"netmask\": 24, \"vrrp_group\": 20, \"primary_device_priority\": \"105\", \"primary_device_gw_ip\": \"172.16.101.152\", \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"secondary_device_port\": 830, \"secondary_device_password\": \"***\", \"vrf_name\": \"vrf_gw_sample-ha-router-downlink_1025\", \"primary_device_username\": \"esi\", \"secondary_device_priority\": \"100\", \"primary_ibgp_config_group\": \"VPNGW1-RI-IBGP\", \"primary_device_port\": 830, \"secondary_device_ip\": \"10.79.5.184\"}, \n and heat timeout = 60, rollback = False, \nusing this jinja parameters: \n{u'jinja_force_dependency2': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'jinja_force_dependency': u'07d4f1fc-5142-4fae-b115-627fc009e222'}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:29,907", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Creating a stack gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1 with parameters: {u'secondary_device_physical_interface': u'ae0', u'secondary_ibgp_config_group': u'VPNGW2-RI-IBGP', u'primary_device_password': u'***', u'secondary_device_gw_ip': u'172.16.101.153', u'gohan_id': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'bgp_group_name': u'inet-gw-group', u'gw_vip': u'172.16.101.151', u'primary_device_ip': u'10.79.5.185', u'version': 1, u'secondary_device_username': u'esi', u'downlink_vlan_id': u'1025', u'secondary_logical_interface_name': u'ae0.1025', u'primary_logical_interface_name': u'ae0.1025', u'local_as': u'65101', u'primary_device_physical_interface': u'ae0', u'netmask': 24, u'vrrp_group': 20, u'primary_device_priority': u'105', u'primary_device_gw_ip': u'172.16.101.152', u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'secondary_device_port': 830, u'secondary_device_password': u'***', u'vrf_name': u'vrf_gw_sample-ha-router-downlink_1025', u'primary_device_username': u'esi', u'secondary_device_priority': u'100', u'primary_ibgp_config_group': u'VPNGW1-RI-IBGP', u'primary_device_port': 830, u'secondary_device_ip': u'10.79.5.184'}, timeout_mins: 60, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Inet Address\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  primary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  secondary_device_physical_interface:\n    description: MX physical port on which logical interface will be created\n    label: Underlying physical interface\n    type: string\n  downlink_vlan_id:\n    description: Vlan tag for mx logical downlink interface\n    label: Vlan Tag\n    type: string\n  gw_vip:\n    description: Virtual IP configured on VRRP\n    label: Inet Address CIDR\n    type: string\n  primary_device_gw_ip:\n    description: IP on primary device\n    label: Inet Address CIDR\n    type: string\n  secondary_device_gw_ip:\n    description: IP on secondary device\n    label: Inet Address CIDR\n    type: string\n  netmask:\n    description: Netmask for gw_ip\n    label: Netmask\n    type: number\n  vrrp_group:\n    type: string\n    label: VRRP Group\n  primary_device_priority:\n    type: string\n    label: Primary device priority\n  secondary_device_priority:\n    type: string\n    label: Secondary device priority\n  vrf_name:\n    type: string\n    label: VRF\n  bgp_group_name:\n    type: string\n    label: Name of BGP Group on VRF\n  local_as:\n    type: string\n    label: Local AS Number\n  primary_ibgp_config_group:\n    description: Name for apply group to use for downlink interface\n    label: Apply group name\n    type: string\n  secondary_ibgp_config_group:\n    description: Name for apply group to use for downlink interface\n    label: Apply group name\n    type: string\n  primary_logical_interface_name:\n    description: MX logical port\n    label: Underlying logical interface\n    type: string\n  secondary_logical_interface_name:\n    description: MX logical port\n    label: Underlying logical interface\n    type: string\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the GW Interface\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VRRP_GROUP:\n                    get_param: vrrp_group\n              $PRIORITY:\n                    get_param: primary_device_priority\n              $VIP:\n                    get_param: gw_vip\n            template: |\n                vrrp-group $VRRP_GROUP {\n                    virtual-address $VIP;\n                    priority $PRIORITY;\n                }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: primary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan_id }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:\n              str_replace:\n                params:\n                  $DEVICE_IP:\n                    get_param: primary_device_gw_ip\n                  $NETMASK:\n                    get_param: netmask\n                template: |\n                  $DEVICE_IP/$NETMASK\n      - config:\n          str_replace:\n            params:\n              $DEVICE_GW_IP:\n                    get_param: primary_device_gw_ip\n              $NEIGHBOR_GW_IP:\n                    get_param: secondary_device_gw_ip\n              $LOCAL_AS:\n                    get_param: local_as\n              $APPLY_GROUP:\n                    get_param: primary_ibgp_config_group\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address $DEVICE_GW_IP;\n              peer-as $LOCAL_AS;\n              neighbor $NEIGHBOR_GW_IP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $VRRP_GROUP:\n                    get_param: vrrp_group\n              $PRIORITY:\n                    get_param: secondary_device_priority\n              $VIP:\n                    get_param: gw_vip\n            template: |\n                vrrp-group $VRRP_GROUP {\n                    virtual-address $VIP;\n                    priority $PRIORITY;\n                }\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: interfaces\n          - config_type: name\n            xml_type: named_tag\n            tag: interface\n            name: { get_param: secondary_device_physical_interface }\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: unit\n            name: { get_param: downlink_vlan_id }\n          - config_type: tag\n            xml_type: tag\n            tag: family\n          - config_type: tag\n            xml_type: tag\n            tag: inet\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: address\n            name:\n              str_replace:\n                params:\n                  $DEVICE_IP:\n                    get_param: secondary_device_gw_ip\n                  $NETMASK:\n                    get_param: netmask\n                template: |\n                  $DEVICE_IP/$NETMASK\n      - config:\n          str_replace:\n            params:\n              $DEVICE_GW_IP:\n                    get_param: secondary_device_gw_ip\n              $NEIGHBOR_GW_IP:\n                    get_param: primary_device_gw_ip\n              $LOCAL_AS:\n                    get_param: local_as\n              $APPLY_GROUP:\n                    get_param: secondary_ibgp_config_group\n            template: |\n              apply-groups $APPLY_GROUP;\n              local-address $DEVICE_GW_IP;\n              peer-as $LOCAL_AS;\n              neighbor $NEIGHBOR_GW_IP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: protocols\n          - config_type: tag\n            xml_type: tag\n            tag: bgp\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: group\n            name: { get_param: bgp_group_name }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n\n  vrrp_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: vrrp_pool\n      resource_type: gw_interfaces\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: status\n      properties:\n        vrid:\n          - { get_param: vrrp_group }\n        primary:\n          host: { get_param: primary_device_ip }\n          port: { get_param: primary_device_port }\n          login: { get_param: primary_device_username }\n          password: { get_param: primary_device_password }\n          interface: { get_param: primary_logical_interface_name }\n        secondary:\n          host: { get_param: secondary_device_ip }\n          port: { get_param: secondary_device_port }\n          login: { get_param: secondary_device_username }\n          password: { get_param: secondary_device_password }\n          interface: { get_param: secondary_logical_interface_name }\n      syncer_properties:\n        etcd:\n          status:\n            key: status\n          hold_options:\n            positive_status:\n              primary: MASTER\n              secondary: BACKUP\n            time_seconds: 360\n    depends_on: netconf_configure_secondary\n\noutputs:\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vrrp_monitor}\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vrrp_monitor, link]}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:30,502", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:31,665", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:32,811", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:33,957", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:35,100", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:36,254", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:37,408", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:38,559", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:39,701", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:40,838", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:41,981", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:43,122", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:44,286", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:45,425", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:46,569", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:47,716", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:48,898", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Stack \"gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:48,898", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - CREATED gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,222", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Job create finished with results {'heat_outputs': [{u'output_value': u'8ac03032-a027-4965-b636-32a7b1281bfc', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/8ac03032-a027-4965-b636-32a7b1281bfc', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,269", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Job create:heat_worker:gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1:1:2qwyd finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,273", "logger_name": "esi-worker.None", "msg": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1 - Trying to delete internal process state for resource gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,317", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:1:79pnn using id: a5fb7dc3-dd5f-45ed-9e02-1f750cfbbe71", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,319", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,319", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,328", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Starting work on new ready job create:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:1:79pnn", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,332", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Checking job status for port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,353", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:1:o685k using id: 0e185fc8-05cf-4f93-b94a-16ee860c1259", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,355", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,360", "logger_name": "esi-worker.None", "msg": "6 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,369", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Starting work on new ready job create:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:1:o685k", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:49,373", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Checking job status for port:53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:49,955", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,103", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Template id port resolved from mapping: {u'else_mapping': {u'constant': u'port'}, u'if_mapping': {u'regexp': [{u'field': u'device_owner'}, {u'constant': u'network:dhcp|network:empty'}]}, u'then_mapping': {u'constant': None}}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:50,125", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.153\n      ip_address: 172.16.101.153\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n with parameters:\n{\"virtual_machine\": \"3dbcfce5-bca5-4182-991a-c23de685fcf1\", \"name\": \"53eeb091-3297-4b9b-a200-b6568567e387\", \"admin_state_up\": true, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_owner\": \"network:gw_interface\", \"virtual_machine_interface_allowed_address_pairs\": [], \"virtual_machine_interface_mac_address\": \"fa:16:3e:7b:6f:90\", \"version\": 1, \"virtual_network\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"security_groups\": [], \"uuid\": \"53eeb091-3297-4b9b-a200-b6568567e387\"}, \n and heat timeout = 13, rollback = False, \nusing this jinja parameters: \n{u'jinja_attached': False, u'jinja_force_dependency_gw_interface': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'jinja_fixed_ips': [{u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.153'}], u'jinja_force_dependency_cfg': None, u'jinja_device_owner': u'network:gw_interface', u'jinja_subnets': [u'323017d2-b9fc-4407-b998-e4776b16aee8']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,128", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Creating a stack port_53eeb091-3297-4b9b-a200-b6568567e387 with parameters: {u'virtual_machine': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'name': u'53eeb091-3297-4b9b-a200-b6568567e387', u'admin_state_up': True, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_owner': u'network:gw_interface', u'virtual_machine_interface_allowed_address_pairs': [], u'virtual_machine_interface_mac_address': u'fa:16:3e:7b:6f:90', u'version': 1, u'virtual_network': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'security_groups': [], u'uuid': u'53eeb091-3297-4b9b-a200-b6568567e387'}, timeout_mins: 13, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.153\n      ip_address: 172.16.101.153\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,140", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,313", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Template id port resolved from mapping: {u'else_mapping': {u'constant': u'port'}, u'if_mapping': {u'regexp': [{u'field': u'device_owner'}, {u'constant': u'network:dhcp|network:empty'}]}, u'then_mapping': {u'constant': None}}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:50,326", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.151\n      ip_address: 172.16.101.151\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n  instance_ip_1:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.152\n      ip_address: 172.16.101.152\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n with parameters:\n{\"virtual_machine\": \"3dbcfce5-bca5-4182-991a-c23de685fcf1\", \"name\": \"5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\", \"admin_state_up\": true, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_owner\": \"network:gw_interface\", \"virtual_machine_interface_allowed_address_pairs\": [], \"virtual_machine_interface_mac_address\": \"fa:16:3e:7b:eb:e8\", \"version\": 1, \"virtual_network\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"security_groups\": [], \"uuid\": \"5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\"}, \n and heat timeout = 13, rollback = False, \nusing this jinja parameters: \n{u'jinja_attached': False, u'jinja_force_dependency_gw_interface': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'jinja_fixed_ips': [{u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.151'}, {u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.152'}], u'jinja_force_dependency_cfg': None, u'jinja_device_owner': u'network:gw_interface', u'jinja_subnets': [u'323017d2-b9fc-4407-b998-e4776b16aee8', u'323017d2-b9fc-4407-b998-e4776b16aee8']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,327", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Creating a stack port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b with parameters: {u'virtual_machine': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'name': u'5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b', u'admin_state_up': True, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_owner': u'network:gw_interface', u'virtual_machine_interface_allowed_address_pairs': [], u'virtual_machine_interface_mac_address': u'fa:16:3e:7b:eb:e8', u'version': 1, u'virtual_network': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'security_groups': [], u'uuid': u'5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b'}, timeout_mins: 13, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.151\n      ip_address: 172.16.101.151\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n  instance_ip_1:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.152\n      ip_address: 172.16.101.152\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:50,988", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:51,093", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:52,243", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:52,381", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:53,642", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:53,642", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - CREATED port_53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:53,831", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:53,832", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - CREATED port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,252", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Job create finished with results {'heat_outputs': [{u'output_value': [[u'default-domain', u'admin', u'b62eefe0-0872-478d-adfe-1a606320f0e7']], u'description': u'Virtual network.', u'output_key': u'virtual_network'}, {u'output_value': u'default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'Fully Qualified Name of the VMI', u'output_key': u'fq_name'}, {u'output_value': u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'A unique id for the virtual machine interface.', u'output_key': u'id'}, {u'output_value': {u'allowed_address_pair': []}, u'description': u'Virtual machine allowed address pairs.', u'output_key': u'allowed_address_pairs'}, {u'output_value': [u'fa:16:3e:f7:60:7f'], u'description': u'Virtual machine interface mac address.', u'output_key': u'mac_address'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,295", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Job create:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:1:o685k finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,295", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Trying to delete internal process state for resource port:53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,335", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d:1:pn8fq using id: 2d2499db-8d2c-4dd6-b03d-9e39b4e48755", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,340", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,340", "logger_name": "esi-worker.None", "msg": "6 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,354", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Starting work on new ready job create:heat_worker:ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d:1:pn8fq", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,356", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Checking job status for ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,448", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Job create finished with results {'heat_outputs': [{u'output_value': [[u'default-domain', u'admin', u'b62eefe0-0872-478d-adfe-1a606320f0e7']], u'description': u'Virtual network.', u'output_key': u'virtual_network'}, {u'output_value': u'default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'Fully Qualified Name of the VMI', u'output_key': u'fq_name'}, {u'output_value': u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'A unique id for the virtual machine interface.', u'output_key': u'id'}, {u'output_value': {u'allowed_address_pair': []}, u'description': u'Virtual machine allowed address pairs.', u'output_key': u'allowed_address_pairs'}, {u'output_value': [u'fa:16:3e:f7:60:7f'], u'description': u'Virtual machine interface mac address.', u'output_key': u'mac_address'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,505", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Job create:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:1:79pnn finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,505", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Trying to delete internal process state for resource port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,556", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8:1:s3oth using id: 4242efa8-e53b-4ed3-977b-da908dce3a2a", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,558", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,558", "logger_name": "esi-worker.None", "msg": "6 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,570", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Starting work on new ready job create:heat_worker:ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8:1:s3oth", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,571", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Checking job status for ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,778", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,898", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Template id ese_logical_port resolved from mapping: Cese_logical_port", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:54,914", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Logical port template\n\nparameters:\n  physical_port_id:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  logical_port_name:\n    type: string\n    label: Logical Port Name\n    description: Name of the logical port.\n  logical_port_type:\n    type: string\n    label: Logical Port Type\n    description: Type of the logical port.\n  logical_port_vlan_id:\n    type: number\n    label: VLAN id for Logical Port\n    description: VLAN id to use for logical port creation.\n    default: 0\n  virtual_machine_interface_ids:\n    type: comma_delimited_list\n    label: Virtual Machine Interface ID\n    description: Virtual Machine Interface ID.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  logical_interface:\n    type: OS::Contrail::LogicalInterface\n    properties:\n      name: { get_param: logical_port_name }\n      physical_interface: { get_param: physical_port_id }\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\n      type: { get_param: logical_port_type }\n      vlan: { get_param: logical_port_vlan_id }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports\n      resource_type: ese_logical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: logical_port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: logical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: logical_port\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 53eeb091-3297-4b9b-a200-b6568567e387\n                 direction: in\n              \n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 53eeb091-3297-4b9b-a200-b6568567e387\n                 direction: out\n              \n    depends_on: logical_interface\n\noutputs:\n  id:\n    description: A unique id for the logical interface\n    value: { get_resource: logical_interface }\n  name:\n    description: The name of the logical interface.\n    value: { get_attr: [logical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }\n with parameters:\n{\"logical_port_type\": \"L2\", \"logical_port_vlan_id\": 1025, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.161.0.34\", \"version\": 1, \"virtual_machine_interface_ids\": [\"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\"], \"logical_port_name\": \"xe-0/0/4.1025\", \"gohan_id\": \"257d0a9f-d5ae-4a93-9af4-81ad611e1b0d\", \"physical_port_id\": \"06bfe521-07f0-4931-9f8c-318c3ad8114e\"}, \n and heat timeout = 6, rollback = False, \nusing this jinja parameters: \n{u'jinja_port_ids': [u'53eeb091-3297-4b9b-a200-b6568567e387']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:54,915", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Creating a stack ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d with parameters: {u'logical_port_type': u'L2', u'logical_port_vlan_id': 1025, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.161.0.34', u'version': 1, u'virtual_machine_interface_ids': [u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7'], u'logical_port_name': u'xe-0/0/4.1025', u'gohan_id': u'257d0a9f-d5ae-4a93-9af4-81ad611e1b0d', u'physical_port_id': u'06bfe521-07f0-4931-9f8c-318c3ad8114e'}, timeout_mins: 6, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Logical port template\n\nparameters:\n  physical_port_id:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  logical_port_name:\n    type: string\n    label: Logical Port Name\n    description: Name of the logical port.\n  logical_port_type:\n    type: string\n    label: Logical Port Type\n    description: Type of the logical port.\n  logical_port_vlan_id:\n    type: number\n    label: VLAN id for Logical Port\n    description: VLAN id to use for logical port creation.\n    default: 0\n  virtual_machine_interface_ids:\n    type: comma_delimited_list\n    label: Virtual Machine Interface ID\n    description: Virtual Machine Interface ID.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  logical_interface:\n    type: OS::Contrail::LogicalInterface\n    properties:\n      name: { get_param: logical_port_name }\n      physical_interface: { get_param: physical_port_id }\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\n      type: { get_param: logical_port_type }\n      vlan: { get_param: logical_port_vlan_id }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports\n      resource_type: ese_logical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: logical_port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: logical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: logical_port\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 53eeb091-3297-4b9b-a200-b6568567e387\n                 direction: in\n              \n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 53eeb091-3297-4b9b-a200-b6568567e387\n                 direction: out\n              \n    depends_on: logical_interface\n\noutputs:\n  id:\n    description: A unique id for the logical interface\n    value: { get_resource: logical_interface }\n  name:\n    description: The name of the logical interface.\n    value: { get_attr: [logical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:55,054", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:55,169", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Template id ese_logical_port resolved from mapping: Cese_logical_port", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:55,176", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Logical port template\n\nparameters:\n  physical_port_id:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  logical_port_name:\n    type: string\n    label: Logical Port Name\n    description: Name of the logical port.\n  logical_port_type:\n    type: string\n    label: Logical Port Type\n    description: Type of the logical port.\n  logical_port_vlan_id:\n    type: number\n    label: VLAN id for Logical Port\n    description: VLAN id to use for logical port creation.\n    default: 0\n  virtual_machine_interface_ids:\n    type: comma_delimited_list\n    label: Virtual Machine Interface ID\n    description: Virtual Machine Interface ID.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  logical_interface:\n    type: OS::Contrail::LogicalInterface\n    properties:\n      name: { get_param: logical_port_name }\n      physical_interface: { get_param: physical_port_id }\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\n      type: { get_param: logical_port_type }\n      vlan: { get_param: logical_port_vlan_id }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports\n      resource_type: ese_logical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: logical_port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: logical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: logical_port\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\n                 direction: in\n              \n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\n                 direction: out\n              \n    depends_on: logical_interface\n\noutputs:\n  id:\n    description: A unique id for the logical interface\n    value: { get_resource: logical_interface }\n  name:\n    description: The name of the logical interface.\n    value: { get_attr: [logical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }\n with parameters:\n{\"logical_port_type\": \"L2\", \"logical_port_vlan_id\": 1025, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_ip\": \"10.161.0.34\", \"version\": 1, \"virtual_machine_interface_ids\": [\"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\"], \"logical_port_name\": \"xe-0/0/3.1025\", \"gohan_id\": \"e30fdd19-2f48-422e-9c68-7c59a0e2fae8\", \"physical_port_id\": \"06bfe521-07f0-4931-9f8c-318c3ad8114e\"}, \n and heat timeout = 6, rollback = False, \nusing this jinja parameters: \n{u'jinja_port_ids': [u'5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:55,176", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Creating a stack ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8 with parameters: {u'logical_port_type': u'L2', u'logical_port_vlan_id': 1025, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_ip': u'10.161.0.34', u'version': 1, u'virtual_machine_interface_ids': [u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7'], u'logical_port_name': u'xe-0/0/3.1025', u'gohan_id': u'e30fdd19-2f48-422e-9c68-7c59a0e2fae8', u'physical_port_id': u'06bfe521-07f0-4931-9f8c-318c3ad8114e'}, timeout_mins: 6, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Logical port template\n\nparameters:\n  physical_port_id:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  logical_port_name:\n    type: string\n    label: Logical Port Name\n    description: Name of the logical port.\n  logical_port_type:\n    type: string\n    label: Logical Port Type\n    description: Type of the logical port.\n  logical_port_vlan_id:\n    type: number\n    label: VLAN id for Logical Port\n    description: VLAN id to use for logical port creation.\n    default: 0\n  virtual_machine_interface_ids:\n    type: comma_delimited_list\n    label: Virtual Machine Interface ID\n    description: Virtual Machine Interface ID.\n  gohan_id:\n    type: string\n    label: Gohan resource ID\n    description: UUID of the ESE Physical Port\n  device_ip:\n    type: string\n    label: Device IP Address\n    description: Device IP Address.\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  logical_interface:\n    type: OS::Contrail::LogicalInterface\n    properties:\n      name: { get_param: logical_port_name }\n      physical_interface: { get_param: physical_port_id }\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\n      type: { get_param: logical_port_type }\n      vlan: { get_param: logical_port_vlan_id }\n\n  interface_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: snmp_ports\n      resource_type: ese_logical_ports\n      resource_id: { get_param: gohan_id }\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      field_name: logical_port\n      properties:\n        device_ip: { get_param: device_ip }\n        if_name: { get_param: logical_port_name }\n        community_name: ESE_NODE_COMMUNITY\n      syncer_properties:\n        etcd:\n          status:\n            key: logical_port\n        tsdb:\n          traffic.in:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\n                 direction: in\n              \n          traffic.out:\n            metric: traffic.bytes\n            tags:\n              \n              -  resource_id: { get_param: gohan_id }\n                 port_id: 5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\n                 direction: out\n              \n    depends_on: logical_interface\n\noutputs:\n  id:\n    description: A unique id for the logical interface\n    value: { get_resource: logical_interface }\n  name:\n    description: The name of the logical interface.\n    value: { get_attr: [logical_interface, name] }\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: interface_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [interface_monitor, link] }", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:55,643", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Stack \"ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:55,845", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Stack \"ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:56,848", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Stack \"ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:57,030", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Stack \"ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,152", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Stack \"ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,152", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - CREATED ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,422", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Stack \"ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,423", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - CREATED ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,683", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Job create finished with results {'heat_outputs': [{u'output_value': u'5e4c28ad-c5f2-43fc-97e8-1b5e99642b87', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'46b0cd68-d0fb-4d72-9def-830164f9e215', u'description': u'A unique id for the logical interface', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/5e4c28ad-c5f2-43fc-97e8-1b5e99642b87', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'xe-0/0/38.0', u'description': u'The name of the logical interface.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,742", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Job create:heat_worker:ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d:1:pn8fq finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,743", "logger_name": "esi-worker.None", "msg": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d - Trying to delete internal process state for resource ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:58,938", "logger_name": "esi-worker.None", "msg": "Reserved job: modify:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:2:o4wqr using id: 24c94bb9-8a1e-45ac-9935-6920b89efeaa", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:58,941", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:58,942", "logger_name": "esi-worker.None", "msg": "6 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:58,950", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Starting work on new ready job modify:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:2:o4wqr", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:58,950", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Checking job status for port:53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,023", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Job create finished with results {'heat_outputs': [{u'output_value': u'fc210c75-e57f-4657-8114-a528d3b3aac5', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': u'46b0cd68-d0fb-4d72-9def-830164f9e215', u'description': u'A unique id for the logical interface', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/fc210c75-e57f-4657-8114-a528d3b3aac5', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}, {u'output_value': u'xe-0/0/38.0', u'description': u'The name of the logical interface.', u'output_key': u'name'}], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,083", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Job create:heat_worker:ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8:1:s3oth finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,084", "logger_name": "esi-worker.None", "msg": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8 - Trying to delete internal process state for resource ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,224", "logger_name": "esi-worker.None", "msg": "Reserved job: modify:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:2:5hieq using id: 6433be9f-5161-42d9-9192-7e052b121fda", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:59,226", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:59,227", "logger_name": "esi-worker.None", "msg": "6 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:59,236", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Starting work on new ready job modify:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:2:5hieq", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:12:59,236", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Checking job status for port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,636", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Found stack with status CREATE_COMPLETE for port:53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,637", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - MODIFY STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,804", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Found stack with status CREATE_COMPLETE for port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:12:59,804", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - MODIFY STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:00,667", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Template id port resolved from mapping: {u'else_mapping': {u'constant': u'port'}, u'if_mapping': {u'regexp': [{u'field': u'device_owner'}, {u'constant': u'network:dhcp|network:empty'}]}, u'then_mapping': {u'constant': None}}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:00,678", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.153\n      ip_address: 172.16.101.153\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n  vmi_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: virtual_machine_interface\n      resource_type: ports\n      resource_id: { get_param: uuid }\n      field_name: vmi\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      properties:\n        fq_name: { get_attr: [virtual_machine_interface, fq_name] }\n      syncer_properties:\n        etcd:\n          status:\n            key: vmi\n        tsdb:\n          traffic.in:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: in\n          traffic.out:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: out\n    depends_on: virtual_machine_interface\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vmi_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vmi_monitor, link] }\n\n with parameters:\n{\"virtual_machine\": \"3dbcfce5-bca5-4182-991a-c23de685fcf1\", \"name\": \"53eeb091-3297-4b9b-a200-b6568567e387\", \"admin_state_up\": true, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_owner\": \"network:gw_interface\", \"virtual_machine_interface_allowed_address_pairs\": [], \"virtual_machine_interface_mac_address\": \"fa:16:3e:7b:6f:90\", \"version\": 2, \"virtual_network\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"security_groups\": [], \"uuid\": \"53eeb091-3297-4b9b-a200-b6568567e387\"}, \n and heat timeout = 13, rollback = False, \nusing this jinja parameters: \n{u'jinja_attached': True, u'jinja_force_dependency_gw_interface': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'jinja_fixed_ips': [{u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.153'}], u'jinja_force_dependency_cfg': None, u'jinja_device_owner': u'network:gw_interface', u'jinja_subnets': [u'323017d2-b9fc-4407-b998-e4776b16aee8']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:00,679", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Updating a stack port_53eeb091-3297-4b9b-a200-b6568567e387 with parameters: {u'virtual_machine': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'name': u'53eeb091-3297-4b9b-a200-b6568567e387', u'admin_state_up': True, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_owner': u'network:gw_interface', u'virtual_machine_interface_allowed_address_pairs': [], u'virtual_machine_interface_mac_address': u'fa:16:3e:7b:6f:90', u'version': 2, u'virtual_network': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'security_groups': [], u'uuid': u'53eeb091-3297-4b9b-a200-b6568567e387'}, timeout_mins: 13, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.153\n      ip_address: 172.16.101.153\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n  vmi_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: virtual_machine_interface\n      resource_type: ports\n      resource_id: { get_param: uuid }\n      field_name: vmi\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      properties:\n        fq_name: { get_attr: [virtual_machine_interface, fq_name] }\n      syncer_properties:\n        etcd:\n          status:\n            key: vmi\n        tsdb:\n          traffic.in:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: in\n          traffic.out:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: out\n    depends_on: virtual_machine_interface\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vmi_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vmi_monitor, link] }\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:00,935", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Template id port resolved from mapping: {u'else_mapping': {u'constant': u'port'}, u'if_mapping': {u'regexp': [{u'field': u'device_owner'}, {u'constant': u'network:dhcp|network:empty'}]}, u'then_mapping': {u'constant': None}}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:00,956", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.151\n      ip_address: 172.16.101.151\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n  instance_ip_1:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.152\n      ip_address: 172.16.101.152\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n  vmi_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: virtual_machine_interface\n      resource_type: ports\n      resource_id: { get_param: uuid }\n      field_name: vmi\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      properties:\n        fq_name: { get_attr: [virtual_machine_interface, fq_name] }\n      syncer_properties:\n        etcd:\n          status:\n            key: vmi\n        tsdb:\n          traffic.in:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: in\n          traffic.out:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: out\n    depends_on: virtual_machine_interface\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vmi_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vmi_monitor, link] }\n\n with parameters:\n{\"virtual_machine\": \"3dbcfce5-bca5-4182-991a-c23de685fcf1\", \"name\": \"5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\", \"admin_state_up\": true, \"tenant_id\": \"b3e3095c0a5b4383805efe9cf2a6b5ef\", \"device_owner\": \"network:gw_interface\", \"virtual_machine_interface_allowed_address_pairs\": [], \"virtual_machine_interface_mac_address\": \"fa:16:3e:7b:eb:e8\", \"version\": 2, \"virtual_network\": \"afa0d9d6-84dc-4755-9c6e-db2f23f9dde2\", \"security_groups\": [], \"uuid\": \"5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\"}, \n and heat timeout = 13, rollback = False, \nusing this jinja parameters: \n{u'jinja_attached': True, u'jinja_force_dependency_gw_interface': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'jinja_fixed_ips': [{u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.151'}, {u'subnet_id': u'e825f4e4-ba44-4d9e-9578-a31ad45bedda', u'ip_address': u'172.16.101.152'}], u'jinja_force_dependency_cfg': None, u'jinja_device_owner': u'network:gw_interface', u'jinja_subnets': [u'323017d2-b9fc-4407-b998-e4776b16aee8', u'323017d2-b9fc-4407-b998-e4776b16aee8']}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:00,957", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Updating a stack port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b with parameters: {u'virtual_machine': u'3dbcfce5-bca5-4182-991a-c23de685fcf1', u'name': u'5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b', u'admin_state_up': True, u'tenant_id': u'b3e3095c0a5b4383805efe9cf2a6b5ef', u'device_owner': u'network:gw_interface', u'virtual_machine_interface_allowed_address_pairs': [], u'virtual_machine_interface_mac_address': u'fa:16:3e:7b:eb:e8', u'version': 2, u'virtual_network': u'afa0d9d6-84dc-4755-9c6e-db2f23f9dde2', u'security_groups': [], u'uuid': u'5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b'}, timeout_mins: 13, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  Virtual Machine Interface Template\n\nparameters:\n  uuid:\n    type: string\n    label: Backend Virtual Machine Interface UUID\n    description: A unique id for the Virtual Machine Interface.\n  name:\n    type: string\n    label: Physical Interface ID\n    description: A unique id for the Physical Interface.\n  security_groups:\n    type: json\n    default: []\n    label: Security Groups List\n    description: The IDs of security groups applied to the port.\n  virtual_machine_interface_allowed_address_pairs:\n    type: json\n    label: Virtual machine interface allowed address pairs.\n  virtual_machine_interface_mac_address:\n    type: string\n    default: \"fe:ff:ff:ff:ff:ff\"\n    label: Virtual machine interface mac address.\n  virtual_network:\n    type: string\n    label: Virtual Network.\n  virtual_machine:\n    type: string\n    label: Virtual Machine.\n    default: \"\"\n  device_owner:\n    type: string\n    label: Device Owner\n    default: \"\"\n  admin_state_up:\n    type: boolean\n    label: Admin state up\n    default: true\n  tenant_id:\n    type: string\n    label: Tenant ID\n  version:\n    type: number\n    label: Config version\n\nresources:\n  virtual_machine_interface:\n    type: OS::Contrail::VirtualMachineInterface\n    properties:\n      uuid: { get_param: uuid }\n      name: { get_param: name }\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\n      virtual_networks: [ { get_param: virtual_network } ]\n      virtual_machine: { get_param: virtual_machine }\n      device_owner: { get_param: device_owner }\n      admin_state_up: { get_param: admin_state_up }\n      security_groups: { get_param: security_groups }\n\n\n\n  instance_ip_0:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.151\n      ip_address: 172.16.101.151\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n  instance_ip_1:\n    type: OS::Contrail::InstanceIp\n    properties:\n      name:\n        str_replace:\n          template: '%name%_%zone%_%ip%'\n          params:\n            \"%name%\": { get_param: name }\n            \"%zone%\": e825f4e4-ba44-4d9e-9578-a31ad45bedda\n            \"%ip%\": 172.16.101.152\n      ip_address: 172.16.101.152\n      subnet_id: 323017d2-b9fc-4407-b998-e4776b16aee8\n      network_id: { get_param: virtual_network }\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\n\n\n\n  vmi_monitor:\n    type: ESI::Monitoring::MonitoringTarget\n    properties:\n      type: virtual_machine_interface\n      resource_type: ports\n      resource_id: { get_param: uuid }\n      field_name: vmi\n      tenant_id: { get_param: tenant_id }\n      version: { get_param: version }\n      properties:\n        fq_name: { get_attr: [virtual_machine_interface, fq_name] }\n      syncer_properties:\n        etcd:\n          status:\n            key: vmi\n        tsdb:\n          traffic.in:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: in\n          traffic.out:\n            metric: traffic.contrail_bytes\n            tags:\n              resource_id: { get_param: uuid }\n              direction: out\n    depends_on: virtual_machine_interface\n\n\noutputs:\n  id:\n    description: A unique id for the virtual machine interface.\n    value: { get_resource: virtual_machine_interface }\n  mac_address:\n    description: Virtual machine interface mac address.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\n  allowed_address_pairs:\n    description: Virtual machine allowed address pairs.\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\n  virtual_network:\n    description: Virtual network.\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\n  fq_name:\n    description: Fully Qualified Name of the VMI\n    value: { get_attr: [virtual_machine_interface, fq_name] }\n\n  monitoring_target_id:\n    description: Monitoring Target ID\n    value: { get_resource: vmi_monitor }\n  monitoring_link:\n    description: Monitoring Process Link\n    value: { get_attr: [vmi_monitor, link] }\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:01,194", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:01,445", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:02,338", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:02,581", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:03,501", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:03,729", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:04,658", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:04,870", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:05,827", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:06,015", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:06,982", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:07,161", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:08,129", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:08,303", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:09,278", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:09,473", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:10,677", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Stack \"port_53eeb091-3297-4b9b-a200-b6568567e387\" in status \"UPDATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:10,678", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - MODIFIED port_53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:10,900", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Stack \"port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b\" in status \"UPDATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:10,900", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - MODIFIED port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,258", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Job modify finished with results {'heat_outputs': [{u'output_value': u'default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'Fully Qualified Name of the VMI', u'output_key': u'fq_name'}, {u'output_value': {u'allowed_address_pair': []}, u'description': u'Virtual machine allowed address pairs.', u'output_key': u'allowed_address_pairs'}, {u'output_value': u'aa5568e3-f399-474f-9ddb-02c0e583b91b', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': [u'fa:16:3e:f7:60:7f'], u'description': u'Virtual machine interface mac address.', u'output_key': u'mac_address'}, {u'output_value': [[u'default-domain', u'admin', u'b62eefe0-0872-478d-adfe-1a606320f0e7']], u'description': u'Virtual network.', u'output_key': u'virtual_network'}, {u'output_value': u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'A unique id for the virtual machine interface.', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/aa5568e3-f399-474f-9ddb-02c0e583b91b', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'UPDATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,311", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Job modify:heat_worker:port:53eeb091-3297-4b9b-a200-b6568567e387:2:o4wqr finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,312", "logger_name": "esi-worker.None", "msg": "port:53eeb091-3297-4b9b-a200-b6568567e387 - Trying to delete internal process state for resource port:53eeb091-3297-4b9b-a200-b6568567e387", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,503", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Job modify finished with results {'heat_outputs': [{u'output_value': u'default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'Fully Qualified Name of the VMI', u'output_key': u'fq_name'}, {u'output_value': {u'allowed_address_pair': []}, u'description': u'Virtual machine allowed address pairs.', u'output_key': u'allowed_address_pairs'}, {u'output_value': u'09f0db4a-16f7-4d25-840f-79436680056e', u'description': u'Monitoring Target ID', u'output_key': u'monitoring_target_id'}, {u'output_value': [u'fa:16:3e:f7:60:7f'], u'description': u'Virtual machine interface mac address.', u'output_key': u'mac_address'}, {u'output_value': [[u'default-domain', u'admin', u'b62eefe0-0872-478d-adfe-1a606320f0e7']], u'description': u'Virtual network.', u'output_key': u'virtual_network'}, {u'output_value': u'f68d0924-ef20-4c1b-ac45-0e6b879af5e7', u'description': u'A unique id for the virtual machine interface.', u'output_key': u'id'}, {u'output_value': u'http://collector-agents-se.monitoringrefactordocker_default:7070/targets/09f0db4a-16f7-4d25-840f-79436680056e', u'description': u'Monitoring Process Link', u'output_key': u'monitoring_link'}], 'orchestration_state': u'UPDATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,557", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Job modify:heat_worker:port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b:2:5hieq finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:13:11,558", "logger_name": "esi-worker.None", "msg": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b - Trying to delete internal process state for resource port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:29,230", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:29,230", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:29,231", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:59,243", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:59,244", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:13:59,244", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:29,254", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:29,254", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:29,255", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:35,375", "logger_name": "esi-worker.None", "msg": "Reserved job: create:heat_worker:static_route:31980341-9bef-4f05-8df7-674dea343884:1:qyuh9 using id: b34c377d-a444-4145-918b-a9959876c7bf", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:35,377", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:35,377", "logger_name": "esi-worker.None", "msg": "7 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:35,385", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Starting work on new ready job create:heat_worker:static_route:31980341-9bef-4f05-8df7-674dea343884:1:qyuh9", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:35,385", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Checking job status for static_route:31980341-9bef-4f05-8df7-674dea343884", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:35,665", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - CREATE STARTED", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:35,747", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Template id static_route_vpn resolved from mapping: ACstatic_route_&Pservice_type", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:14:35,755", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Heat template prepared: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway Static Route\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  vrf_name:\n    description: Name of VRF to add this static route\n    label: VRF\n    type: string\n  route:\n    description: Static Route definition\n    label: Route\n    type: string\n  next_hop:\n    description: Next hop for the static route\n    label: Next hop\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $NEXT_HOP:\n                get_param: next_hop\n            template: |\n              next-hop $NEXT_HOP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n          - config_type: tag\n            xml_type: tag\n            tag: static\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: route\n            name: { get_param: route }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $NEXT_HOP:\n                get_param: next_hop\n            template: |\n              next-hop $NEXT_HOP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n          - config_type: tag\n            xml_type: tag\n            tag: static\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: route\n            name: { get_param: route }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n\n with parameters:\n{\"primary_device_ip\": \"10.79.5.185\", \"route\": \"192.168.0.0/24\", \"primary_device_password\": \"***\", \"secondary_device_port\": 830, \"secondary_device_password\": \"***\", \"next_hop\": \"172.16.101.1\", \"vrf_name\": \"vrf_gw_sample-ha-router-downlink_1025\", \"primary_device_username\": \"esi\", \"primary_device_port\": 830, \"secondary_device_ip\": \"10.79.5.184\", \"secondary_device_username\": \"esi\"}, \n and heat timeout = 60, rollback = False, \nusing this jinja parameters: \n{}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:35,756", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Creating a stack static_route_31980341-9bef-4f05-8df7-674dea343884 with parameters: {u'primary_device_ip': u'10.79.5.185', u'route': u'192.168.0.0/24', u'primary_device_password': u'***', u'secondary_device_port': 830, u'secondary_device_password': u'***', u'next_hop': u'172.16.101.1', u'vrf_name': u'vrf_gw_sample-ha-router-downlink_1025', u'primary_device_username': u'esi', u'primary_device_port': 830, u'secondary_device_ip': u'10.79.5.184', u'secondary_device_username': u'esi'}, timeout_mins: 60, and template: \nheat_template_version: 2013-05-23\n\ndescription: >\n  VPN Gateway Static Route\n\nparameters:\n  primary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\n    label: Ip address of the device.\n    type: string\n  primary_device_port:\n    description: Port that will be used to establish ssh connection to the Primary Device.\n    label: Port of the ssh connection.\n    type: number\n  primary_device_username:\n    description: Name of the user which will be used to log onto the Primary Device.\n    label: User name to log on to device.\n    type: string\n  primary_device_password:\n    description: Password of the user which will be used to log onto the Primary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  secondary_device_ip:\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\n    label: Ip address of the device.\n    type: string\n  secondary_device_port:\n    description: Port that will be used to establish ssh connection to the Secondary Device.\n    label: Port of the ssh connection.\n    type: number\n  secondary_device_username:\n    description: Name of the user which will be used to log onto the Secondary Device.\n    label: User name to log on to device.\n    type: string\n  secondary_device_password:\n    description: Password of the user which will be used to log onto the Secondary Device.\n    label: Users password.\n    type: string\n    hidden: true\n  vrf_name:\n    description: Name of VRF to add this static route\n    label: VRF\n    type: string\n  route:\n    description: Static Route definition\n    label: Route\n    type: string\n  next_hop:\n    description: Next hop for the static route\n    label: Next hop\n    type: string\n\nresources:\n\n  netconf_configure_primary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $NEXT_HOP:\n                get_param: next_hop\n            template: |\n              next-hop $NEXT_HOP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n          - config_type: tag\n            xml_type: tag\n            tag: static\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: route\n            name: { get_param: route }\n      device_ip:\n        get_param: primary_device_ip\n      password:\n        get_param: primary_device_password\n      port:\n        get_param: primary_device_port\n      username:\n        get_param: primary_device_username\n    \n    type: OS::Contrail::NetconfNamedConfigs\n\n  netconf_configure_secondary:\n    properties:\n      lock_timeout: 3000\n      configs:\n      - config:\n          str_replace:\n            params:\n              $NEXT_HOP:\n                get_param: next_hop\n            template: |\n              next-hop $NEXT_HOP;\n        path:\n          - config_type: tag\n            xml_type: tag\n            tag: routing-instances\n          - config_type: name\n            xml_type: named_tag\n            tag: instance\n            name: { get_param: vrf_name }\n          - config_type: tag\n            xml_type: tag\n            tag: routing-options\n          - config_type: tag\n            xml_type: tag\n            tag: static\n          - config_type: named_tag\n            xml_type: named_tag\n            tag: route\n            name: { get_param: route }\n      device_ip:\n        get_param: secondary_device_ip\n      password:\n        get_param: secondary_device_password\n      port:\n        get_param: secondary_device_port\n      username:\n        get_param: secondary_device_username\n    depends_on: netconf_configure_primary\n    type: OS::Contrail::NetconfNamedConfigs\n", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:36,215", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:37,361", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:38,501", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:39,672", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:40,814", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:41,950", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:43,095", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:44,248", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:45,388", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:46,526", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:47,667", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:48,810", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:49,944", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:51,084", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:52,226", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_IN_PROGRESS\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:53,367", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Stack \"static_route_31980341-9bef-4f05-8df7-674dea343884\" in status \"CREATE_COMPLETE\"", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:53,368", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - CREATED static_route_31980341-9bef-4f05-8df7-674dea343884", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:53,677", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Job create finished with results {'heat_outputs': [], 'orchestration_state': u'CREATE_COMPLETE', 'error': None}", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:53,759", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Job create:heat_worker:static_route:31980341-9bef-4f05-8df7-674dea343884:1:qyuh9 finished.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:14:53,762", "logger_name": "esi-worker.None", "msg": "static_route:31980341-9bef-4f05-8df7-674dea343884 - Trying to delete internal process state for resource static_route:31980341-9bef-4f05-8df7-674dea343884", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:05,391", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:05,392", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:05,393", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:35,407", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:35,407", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:15:35,408", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:05,418", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:05,419", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:05,419", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:35,431", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:35,432", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:16:35,433", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:05,444", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:05,445", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:05,446", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:35,458", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:35,459", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:17:35,460", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:05,475", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:05,476", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:05,476", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:35,489", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:35,490", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:18:35,490", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:05,503", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:05,504", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:05,505", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:35,518", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:35,518", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:19:35,519", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:20:05,532", "logger_name": "esi-worker.None", "msg": "GetJob timeout.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:20:05,533", "logger_name": "esi-worker.None", "msg": "Waiting for a job.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "DEBUG", "timestamp": "2018-04-16 00:20:05,533", "logger_name": "esi-worker.None", "msg": "8 job slots available", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "ERROR", "timestamp": "2018-04-16 00:20:32,131", "logger_name": "esi-worker.None", "msg": "Request to server http://etcd-server.monitoringrefactordocker_default:2379 failed: ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:20:32,141", "logger_name": "esi-worker.None", "msg": "Reconnection allowed, looking for another server.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:20:32,150", "logger_name": "etcd.client", "msg": "Selected new etcd server http://etcd-server:2379", "log_type": "log", "component_name": "heat_worker:etcd.client"}
{"log_level": "WARNING", "timestamp": "2018-04-16 00:20:32,189", "logger_name": "urllib3.connectionpool", "msg": "Retrying (Retry(total=2, connect=None, read=None, redirect=0)) after connection broken by 'ProtocolError('Connection aborted.', error(111, 'ECONNREFUSED'))': /v2/keys/jobs/ready?waitIndex=1272&recursive=true&wait=true", "log_type": "log", "component_name": "heat_worker:urllib3.connectionpool"}
{"log_level": "WARNING", "timestamp": "2018-04-16 00:20:32,205", "logger_name": "urllib3.connectionpool", "msg": "Retrying (Retry(total=1, connect=None, read=None, redirect=0)) after connection broken by 'ProtocolError('Connection aborted.', error(111, 'ECONNREFUSED'))': /v2/keys/jobs/ready?waitIndex=1272&recursive=true&wait=true", "log_type": "log", "component_name": "heat_worker:urllib3.connectionpool"}
{"log_level": "WARNING", "timestamp": "2018-04-16 00:20:32,259", "logger_name": "urllib3.connectionpool", "msg": "Retrying (Retry(total=0, connect=None, read=None, redirect=0)) after connection broken by 'ProtocolError('Connection aborted.', error(111, 'ECONNREFUSED'))': /v2/keys/jobs/ready?waitIndex=1272&recursive=true&wait=true", "log_type": "log", "component_name": "heat_worker:urllib3.connectionpool"}
{"log_level": "ERROR", "timestamp": "2018-04-16 00:20:32,303", "logger_name": "esi-worker.None", "msg": "Request to server http://etcd-server:2379 failed: MaxRetryError(u\"HTTPConnectionPool(host=u'etcd-server', port=2379): Max retries exceeded with url: /v2/keys/jobs/ready?waitIndex=1272&recursive=true&wait=true (Caused by ProtocolError('Connection aborted.', error(111, 'ECONNREFUSED')))\",)", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:20:32,318", "logger_name": "esi-worker.None", "msg": "Reconnection allowed, looking for another server.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "ERROR", "timestamp": "2018-04-16 00:20:32,321", "logger_name": "etcd.client", "msg": "Machines cache is empty, no machines to try.", "log_type": "log", "component_name": "heat_worker:etcd.client"}
{"log_level": "WARNING", "timestamp": "2018-04-16 00:20:32,322", "logger_name": "esi-worker.None", "msg": "Recreating machine cache from local copy.", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:20:32,322", "logger_name": "etcd.client", "msg": "Selected new etcd server http://etcd-server.monitoringrefactordocker_default:2379", "log_type": "log", "component_name": "heat_worker:etcd.client"}
{"log_level": "WARNING", "timestamp": "2018-04-16 00:20:32,324", "logger_name": "esi-worker.None", "msg": "Etcd connection problem: HTTPConnectionPool(host=u'etcd-server', port=2379): Max retries exceeded with url: /v2/keys/jobs/ready?waitIndex=1272&recursive=true&wait=true (Caused by ProtocolError('Connection aborted.', error(111, 'ECONNREFUSED'))). ", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
{"log_level": "INFO", "timestamp": "2018-04-16 00:20:32,337", "logger_name": "esi-worker.None", "msg": "Retrying in: 2. ", "log_type": "log", "component_name": "heat_worker:esi-worker.None"}
