2018-04-09 04:40:18,799:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:40:18,799:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:40:18,799:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:40:18,800:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:40:18,803:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:40:42,440:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all],
 value=[]
2018-04-09 04:40:42,440:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:40:42,441:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:40:42,441:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:40:42,441:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:40:42,443:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:41:20,045:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:ese_device:cc214b6a-2f09-4094-b7cd-a9590f64b854:1:1gsws],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854", 
        "handler": "heat_worker", 
        "job_name": "ese_device:cc214b6a-2f09-4094-b7cd-a9590f64b854:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "QFX-NW02", 
                "param": "hostname"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "QFX-NW02", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "10.161.0.34", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "6", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "cc214b6a-2f09-4094-b7cd-a9590f64b854", 
                "param": "gohan_id"
            }
        ], 
        "resource_type": "ese_device", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:ese_device:cc214b6a-2f09-4094-b7cd-a9590f64b854:1:1gsws", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "username": "esi", 
            "description": "", 
            "name": "QFX-NW02", 
            "tags": {}, 
            "existing": "existing", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "hostname": "QFX-NW02", 
            "operational_state": "NO_STATE", 
            "management_ip_address": "10.161.0.34", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "password": "password", 
            "type": "tor", 
            "id": "cc214b6a-2f09-4094-b7cd-a9590f64b854", 
            "public_ip_address": "10.161.0.34"
        }
    }, 
    0
]]
2018-04-09 04:41:20,045:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:41:20,045:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:41:20,045:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:41:20,046:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:41:20,048:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:41:26,183:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:ese_device:cc214b6a-2f09-4094-b7cd-a9590f64b854:1:1gsws],
 value=[]
2018-04-09 04:41:26,183:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:41:26,183:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:41:26,184:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:41:26,184:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:41:26,186:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:42:28,591:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:ese_physical_port:9451c9ca-289d-42ba-846d-359c448e910c:1:711dk],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "9451c9ca-289d-42ba-846d-359c448e910c", 
        "handler": "heat_worker", 
        "job_name": "ese_physical_port:9451c9ca-289d-42ba-846d-359c448e910c:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "xe-0/0/3", 
                "param": "physical_port_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "value", 
                "value": "10.161.0.34", 
                "param": "device_ip"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "ese_device", 
                    "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                }, 
                "param": "physical_device"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "6", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "9451c9ca-289d-42ba-846d-359c448e910c", 
                "param": "gohan_id"
            }
        ], 
        "resource_type": "ese_physical_port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:ese_physical_port:9451c9ca-289d-42ba-846d-359c448e910c:1:711dk", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "connected_port_owner": "mx_downlink", 
            "tags": {}, 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "description": "", 
            "existing": "new", 
            "connected_port_id": "", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "ese_device_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854", 
            "operational_state": "NO_STATE", 
            "id": "9451c9ca-289d-42ba-846d-359c448e910c", 
            "name": "xe-0/0/3"
        }
    }, 
    0
]]
2018-04-09 04:42:28,591:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:42:28,591:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:42:28,591:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:42:28,592:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:42:28,594:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:42:32,609:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:ese_physical_port:9451c9ca-289d-42ba-846d-359c448e910c:1:711dk],
 value=[]
2018-04-09 04:42:32,609:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:42:32,610:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:42:32,610:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:42:32,610:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:42:32,611:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:43:34,162:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:ese_physical_port:f4c3a1bf-3b61-48ba-a548-422036849465:1:pymqx],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "f4c3a1bf-3b61-48ba-a548-422036849465", 
        "handler": "heat_worker", 
        "job_name": "ese_physical_port:f4c3a1bf-3b61-48ba-a548-422036849465:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "xe-0/0/4", 
                "param": "physical_port_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "value", 
                "value": "10.161.0.34", 
                "param": "device_ip"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "ese_device", 
                    "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                }, 
                "param": "physical_device"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "6", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f4c3a1bf-3b61-48ba-a548-422036849465", 
                "param": "gohan_id"
            }
        ], 
        "resource_type": "ese_physical_port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:ese_physical_port:f4c3a1bf-3b61-48ba-a548-422036849465:1:pymqx", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "connected_port_owner": "mx_downlink", 
            "tags": {}, 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "description": "", 
            "existing": "new", 
            "connected_port_id": "", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "ese_device_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854", 
            "operational_state": "NO_STATE", 
            "id": "f4c3a1bf-3b61-48ba-a548-422036849465", 
            "name": "xe-0/0/4"
        }
    }, 
    0
]]
2018-04-09 04:43:34,162:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:43:34,162:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:43:34,162:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:43:34,162:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:43:34,169:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:43:38,150:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:ese_physical_port:f4c3a1bf-3b61-48ba-a548-422036849465:1:pymqx],
 value=[]
2018-04-09 04:43:38,150:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:43:38,150:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:43:38,150:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:43:38,151:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:43:38,152:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:44:34,394:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:edge_router:f4f54175-93fe-406b-ae66-dbca4df99e03:1:iprr1],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03", 
        "handler": "heat_worker", 
        "job_name": "edge_router:f4f54175-93fe-406b-ae66-dbca4df99e03:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "f4f54175-93fe-406b-ae66-dbca4df99e03", 
                "param": "gohan_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "10.79.5.185", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }
        ], 
        "resource_type": "edge_router", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:edge_router:f4f54175-93fe-406b-ae66-dbca4df99e03:1:iprr1", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "name": "vMX-router-02", 
            "ssh_port": 830, 
            "ip": "10.79.5.185", 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "id": "f4f54175-93fe-406b-ae66-dbca4df99e03", 
            "login": "esi", 
            "password": "esiesi0000", 
            "autonomous_system": "65101", 
            "description": "MX80 #2"
        }
    }, 
    0
]]
2018-04-09 04:44:34,394:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:44:34,394:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:44:34,394:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:44:34,395:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:44:34,396:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:44:37,022:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:edge_router:f4f54175-93fe-406b-ae66-dbca4df99e03:1:iprr1],
 value=[]
2018-04-09 04:44:37,022:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:44:37,022:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:44:37,022:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:44:37,022:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:44:37,024:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:45:38,660:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:edge_router:2d056865-47a9-45cf-a890-ed10e3b5912a:1:yj6cc],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a", 
        "handler": "heat_worker", 
        "job_name": "edge_router:2d056865-47a9-45cf-a890-ed10e3b5912a:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "2d056865-47a9-45cf-a890-ed10e3b5912a", 
                "param": "gohan_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "10.79.5.184", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }
        ], 
        "resource_type": "edge_router", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:edge_router:2d056865-47a9-45cf-a890-ed10e3b5912a:1:yj6cc", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "name": "vMX-router-01", 
            "ssh_port": 830, 
            "ip": "10.79.5.184", 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "id": "2d056865-47a9-45cf-a890-ed10e3b5912a", 
            "login": "esi", 
            "password": "esiesi0000", 
            "autonomous_system": "65101", 
            "description": "MX80 #1"
        }
    }, 
    0
]]
2018-04-09 04:45:38,660:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:45:38,661:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:45:38,661:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:45:38,661:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:45:38,663:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:45:41,227:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:edge_router:2d056865-47a9-45cf-a890-ed10e3b5912a:1:yj6cc],
 value=[]
2018-04-09 04:45:41,227:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:45:41,227:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:45:41,227:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:45:41,228:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:45:41,230:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:46:44,887:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:er_physical_interface:c2576120-00b0-461e-a2ae-f7bbff9465d0:1:i19ds],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "c2576120-00b0-461e-a2ae-f7bbff9465d0", 
        "handler": "heat_worker", 
        "job_name": "er_physical_interface:c2576120-00b0-461e-a2ae-f7bbff9465d0:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
                    }
                ], 
                "type": "value", 
                "value": "10.79.5.185", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "ae0", 
                "param": "if_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c2576120-00b0-461e-a2ae-f7bbff9465d0", 
                "param": "gohan_id"
            }
        ], 
        "resource_type": "er_physical_interface", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:er_physical_interface:c2576120-00b0-461e-a2ae-f7bbff9465d0:1:i19ds", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "connected_ese_port_id": "9451c9ca-289d-42ba-846d-359c448e910c", 
            "description": "", 
            "name": "ae0", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "id": "c2576120-00b0-461e-a2ae-f7bbff9465d0", 
            "device_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
        }
    }, 
    0
]]
2018-04-09 04:46:44,888:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:46:44,888:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:46:44,888:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:46:44,888:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:46:44,890:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:46:47,306:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:er_physical_interface:c2576120-00b0-461e-a2ae-f7bbff9465d0:1:i19ds],
 value=[]
2018-04-09 04:46:47,307:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:46:47,307:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:46:47,307:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:46:47,307:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:46:47,311:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:47:49,243:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:er_physical_interface:b9c7c1f4-1b90-4a7a-8161-34276bb2ed10:1:qsftf],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "b9c7c1f4-1b90-4a7a-8161-34276bb2ed10", 
        "handler": "heat_worker", 
        "job_name": "er_physical_interface:b9c7c1f4-1b90-4a7a-8161-34276bb2ed10:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
                    }
                ], 
                "type": "value", 
                "value": "10.79.5.184", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "ae0", 
                "param": "if_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "b9c7c1f4-1b90-4a7a-8161-34276bb2ed10", 
                "param": "gohan_id"
            }
        ], 
        "resource_type": "er_physical_interface", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:er_physical_interface:b9c7c1f4-1b90-4a7a-8161-34276bb2ed10:1:qsftf", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "connected_ese_port_id": "f4c3a1bf-3b61-48ba-a548-422036849465", 
            "description": "", 
            "name": "ae0", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "id": "b9c7c1f4-1b90-4a7a-8161-34276bb2ed10", 
            "device_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
        }
    }, 
    0
]]
2018-04-09 04:47:49,243:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:47:49,243:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:47:49,243:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:47:49,244:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:47:49,246:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:47:51,704:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:er_physical_interface:b9c7c1f4-1b90-4a7a-8161-34276bb2ed10:1:qsftf],
 value=[]
2018-04-09 04:47:51,704:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:47:51,704:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:47:51,704:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:47:51,705:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:47:51,708:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:51,794:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
        "handler": "heat_worker", 
        "job_name": "network:fc8814a7-eb1e-4f59-8422-7de500e72782:1", 
        "dependency": [], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
                "param": "uuid"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "admin_state_up"
            }
        ], 
        "resource_type": "network", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "subnets": [], 
            "description": "", 
            "tags": {}, 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "admin_state_up": true, 
            "plane": "data", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "shared": false, 
            "id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "name": "common_function_gw_access_f649736d-1920-41eb-96af-d4e4fe192d0e"
        }
    }, 
    0
]]
2018-04-09 04:49:51,794:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:51,794:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:51,794:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:51,795:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:51,796:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:51,894:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
        "handler": "heat_worker", 
        "job_name": "subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1", 
        "dependency": [
            "create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "enable_dhcp"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "network", 
                    "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                }, 
                "param": "network_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "default-domain:default-project:default-network-ipam", 
                "param": "ipam"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "dns_nameservers"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "3", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "169.254.0.2", 
                "param": "dhcp_server_address"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "ntp_servers"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    {
                        "start": "169.254.0.2", 
                        "end": "169.254.127.254"
                    }
                ], 
                "param": "allocation_pools"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": null, 
                "param": "gateway_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "host_routes"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "169.254.0.0/17", 
                "param": "cidr"
            }
        ], 
        "resource_type": "subnet", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "description": "", 
            "enable_dhcp": true, 
            "tags": {}, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "dns_nameservers": [], 
            "dhcp_server_address": "169.254.0.2", 
            "ntp_servers": [], 
            "allocation_pools": [
                {
                    "start": "169.254.0.2", 
                    "end": "169.254.127.254"
                }
            ], 
            "gateway_ip": null, 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "ip_version": 4, 
            "host_routes": [], 
            "cidr": "169.254.0.0/17", 
            "id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
            "name": "common_function_gw_access_subnet_f649736d-1920-41eb-96af-d4e4fe192d0e"
        }
    }, 
    0
]]
2018-04-09 04:49:51,894:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:51,895:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:51,895:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:51,895:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:51,896:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:51,971:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:1:3xe01],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "f84496b5-dc56-4727-87b1-aa06e2471737", 
        "handler": "heat_worker", 
        "job_name": "port:f84496b5-dc56-4727-87b1-aa06e2471737:1", 
        "dependency": [
            "create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi", 
            "create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": false, 
                "param": "jinja_attached"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "network", 
                    "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                }, 
                "param": "virtual_network"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "virtual_machine"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f84496b5-dc56-4727-87b1-aa06e2471737", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "admin_state_up"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "13", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "virtual_machine_interface_allowed_address_pairs"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "fa:16:3e:82:e7:8b", 
                "param": "virtual_machine_interface_mac_address"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "device_owner"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "security_groups"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": null, 
                "param": "jinja_force_dependency_gw_interface"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    {
                        "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                        "ip_address": "169.254.0.3"
                    }
                ], 
                "param": "jinja_fixed_ips"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "", 
                "param": "jinja_force_dependency_cfg"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "jinja_device_owner"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "jinja_subnets", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "subnet", 
                            "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "jinja_subnets"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f84496b5-dc56-4727-87b1-aa06e2471737", 
                "param": "uuid"
            }
        ], 
        "resource_type": "port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:1:3xe01", 
        "resource_input": {
            "allowed_address_pairs": [], 
            "device_owner": "network:common_function_gateway", 
            "fake_delete": false, 
            "fixed_ips": [
                {
                    "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                    "ip_address": "169.254.0.3"
                }
            ], 
            "id": "f84496b5-dc56-4727-87b1-aa06e2471737", 
            "security_groups": [], 
            "binding:vif_type": "vrouter", 
            "mac_address": "fa:16:3e:82:e7:8b", 
            "status": "PENDING_CREATE", 
            "description": "", 
            "tags": {}, 
            "segmentation_id": 1025, 
            "device_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "name": "common_function_gw_f649736d-1920-41eb-96af-d4e4fe192d0e_primary_port:9451c9ca-289d-42ba-846d-359c448e910c", 
            "managed_by_service": true, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "admin_state_up": true, 
            "attached": false, 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "segmentation_type": "vlan"
        }
    }, 
    0
]]
2018-04-09 04:49:51,971:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:51,972:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:51,972:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:51,972:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:51,974:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:52,028:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:ese_logical_port:be66c7e0-b222-4e76-bf81-af75e8cf1824:1:2u7dw],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "be66c7e0-b222-4e76-bf81-af75e8cf1824", 
        "handler": "heat_worker", 
        "job_name": "ese_logical_port:be66c7e0-b222-4e76-bf81-af75e8cf1824:1", 
        "dependency": [
            "create:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:1:3xe01"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "L2", 
                "param": "logical_port_type"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1025, 
                "param": "logical_port_vlan_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_physical_port", 
                        "resource_id": "9451c9ca-289d-42ba-846d-359c448e910c"
                    }, 
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "value", 
                "value": "10.161.0.34", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "6", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    "f84496b5-dc56-4727-87b1-aa06e2471737"
                ], 
                "param": "jinja_port_ids"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "port", 
                        "resource_id": "f84496b5-dc56-4727-87b1-aa06e2471737"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "virtual_machine_interface_ids", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "port", 
                            "resource_id": "f84496b5-dc56-4727-87b1-aa06e2471737"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "virtual_machine_interface_ids"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "xe-0/0/3.1025", 
                "param": "logical_port_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "be66c7e0-b222-4e76-bf81-af75e8cf1824", 
                "param": "gohan_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_physical_port", 
                        "resource_id": "9451c9ca-289d-42ba-846d-359c448e910c"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "ese_physical_port", 
                    "resource_id": "9451c9ca-289d-42ba-846d-359c448e910c"
                }, 
                "param": "physical_port_id"
            }
        ], 
        "resource_type": "ese_logical_port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:ese_logical_port:be66c7e0-b222-4e76-bf81-af75e8cf1824:1:2u7dw", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "name": "xe-0/0/3.1025", 
            "tags": {}, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "port_ids": [
                "f84496b5-dc56-4727-87b1-aa06e2471737"
            ], 
            "operational_state": "NO_STATE", 
            "common_function_gateway_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "ese_physical_port_id": "9451c9ca-289d-42ba-846d-359c448e910c", 
            "connected_resource": "common_function_gateway", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "type": "L2", 
            "id": "be66c7e0-b222-4e76-bf81-af75e8cf1824", 
            "vlan_id": 1025, 
            "description": "ESE Logical port for Port f84496b5-dc56-4727-87b1-aa06e2471737"
        }
    }, 
    0
]]
2018-04-09 04:49:52,028:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:52,029:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:52,029:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:52,029:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:52,031:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:52,079:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:1:tsmd8],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
        "handler": "heat_worker", 
        "job_name": "port:343b0257-512e-40e3-b063-8cc13a4b61f4:1", 
        "dependency": [
            "create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi", 
            "create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": false, 
                "param": "jinja_attached"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "network", 
                    "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                }, 
                "param": "virtual_network"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "virtual_machine"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "admin_state_up"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "13", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "virtual_machine_interface_allowed_address_pairs"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "fa:16:3e:38:35:6a", 
                "param": "virtual_machine_interface_mac_address"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "device_owner"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "security_groups"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": null, 
                "param": "jinja_force_dependency_gw_interface"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    {
                        "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                        "ip_address": "169.254.0.4"
                    }
                ], 
                "param": "jinja_fixed_ips"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "", 
                "param": "jinja_force_dependency_cfg"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "jinja_device_owner"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "jinja_subnets", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "subnet", 
                            "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "jinja_subnets"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
                "param": "uuid"
            }
        ], 
        "resource_type": "port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:1:tsmd8", 
        "resource_input": {
            "allowed_address_pairs": [], 
            "device_owner": "network:common_function_gateway", 
            "fake_delete": false, 
            "fixed_ips": [
                {
                    "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                    "ip_address": "169.254.0.4"
                }
            ], 
            "id": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
            "security_groups": [], 
            "binding:vif_type": "vrouter", 
            "mac_address": "fa:16:3e:38:35:6a", 
            "status": "PENDING_CREATE", 
            "description": "", 
            "tags": {}, 
            "segmentation_id": 1025, 
            "device_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "name": "common_function_gw_f649736d-1920-41eb-96af-d4e4fe192d0e_secondary_port:f4c3a1bf-3b61-48ba-a548-422036849465", 
            "managed_by_service": true, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "admin_state_up": true, 
            "attached": false, 
            "operational_state": "NO_STATE", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "segmentation_type": "vlan"
        }
    }, 
    0
]]
2018-04-09 04:49:52,079:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:52,079:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:52,079:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:52,080:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:52,081:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:52,136:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:ese_logical_port:e8555ee6-529c-42d9-8bb1-bfbe217133b1:1:euyfe],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "e8555ee6-529c-42d9-8bb1-bfbe217133b1", 
        "handler": "heat_worker", 
        "job_name": "ese_logical_port:e8555ee6-529c-42d9-8bb1-bfbe217133b1:1", 
        "dependency": [
            "create:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:1:tsmd8"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": "L2", 
                "param": "logical_port_type"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1025, 
                "param": "logical_port_vlan_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_physical_port", 
                        "resource_id": "f4c3a1bf-3b61-48ba-a548-422036849465"
                    }, 
                    {
                        "resource_type": "ese_device", 
                        "resource_id": "cc214b6a-2f09-4094-b7cd-a9590f64b854"
                    }
                ], 
                "type": "value", 
                "value": "10.161.0.34", 
                "param": "device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "6", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    "343b0257-512e-40e3-b063-8cc13a4b61f4"
                ], 
                "param": "jinja_port_ids"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "port", 
                        "resource_id": "343b0257-512e-40e3-b063-8cc13a4b61f4"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "virtual_machine_interface_ids", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "port", 
                            "resource_id": "343b0257-512e-40e3-b063-8cc13a4b61f4"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "virtual_machine_interface_ids"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "xe-0/0/4.1025", 
                "param": "logical_port_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "e8555ee6-529c-42d9-8bb1-bfbe217133b1", 
                "param": "gohan_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ese_physical_port", 
                        "resource_id": "f4c3a1bf-3b61-48ba-a548-422036849465"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "ese_physical_port", 
                    "resource_id": "f4c3a1bf-3b61-48ba-a548-422036849465"
                }, 
                "param": "physical_port_id"
            }
        ], 
        "resource_type": "ese_logical_port", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:ese_logical_port:e8555ee6-529c-42d9-8bb1-bfbe217133b1:1:euyfe", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "name": "xe-0/0/4.1025", 
            "tags": {}, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "port_ids": [
                "343b0257-512e-40e3-b063-8cc13a4b61f4"
            ], 
            "operational_state": "NO_STATE", 
            "common_function_gateway_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "ese_physical_port_id": "f4c3a1bf-3b61-48ba-a548-422036849465", 
            "connected_resource": "common_function_gateway", 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "type": "L2", 
            "id": "e8555ee6-529c-42d9-8bb1-bfbe217133b1", 
            "vlan_id": 1025, 
            "description": "ESE Logical port for Port 343b0257-512e-40e3-b063-8cc13a4b61f4"
        }
    }, 
    0
]]
2018-04-09 04:49:52,136:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:52,136:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:52,137:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:52,137:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:52,139:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:52,184:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/create:heat_worker:common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1:2n65z],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
        "handler": "heat_worker", 
        "job_name": "common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1", 
        "dependency": [
            "create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4"
        ], 
        "version": 1, 
        "params": [
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": [
                    41, 
                    42
                ], 
                "param": "jinja_vrids"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "ae0.1025", 
                "param": "primary_device_logical_downlink_interface"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function", 
                        "resource_id": "637aa51a-f54f-4723-bc5f-9fb8942dfc8b"
                    }, 
                    {
                        "resource_type": "common_function", 
                        "resource_id": "b7ff279d-a7ee-4714-b77c-bcd2f0e51996"
                    }
                ], 
                "type": "value", 
                "value": [
                    1, 
                    2
                ], 
                "param": "jinja_common_service_numbers"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "1025", 
                "param": "jinja_vlan_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
                    }
                ], 
                "type": "value", 
                "value": "esiesi0000", 
                "param": "primary_device_password"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "gohan_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "SHARED-RESOURCE", 
                "param": "jinja_service_vrf_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "DNAT-RULE", 
                "param": "jinja_dnat_group_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "60", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
                    }
                ], 
                "type": "value", 
                "value": "10.79.5.185", 
                "param": "primary_device_ip"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "1025", 
                "param": "jinja_logical_tunnel_unit_user"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 1, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "ae0.1025", 
                "param": "secondary_device_logical_downlink_interface"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "er_physical_interface", 
                        "resource_id": "b9c7c1f4-1b90-4a7a-8161-34276bb2ed10"
                    }
                ], 
                "type": "value", 
                "value": "ae0", 
                "param": "secondary_device_physical_downlink_interface"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
                    }
                ], 
                "type": "value", 
                "value": "esi", 
                "param": "secondary_device_username"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "DNAT-POOL", 
                "param": "jinja_dnat_pool_group_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "100.64.0.10", 
                "param": "jinja_nat_ip"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }
                ], 
                "type": "value", 
                "value": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                "param": "jinja_dummy_dependency"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "vrf_gw_sample-ha-router-downlink_1025", 
                "param": "jinja_vrf_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "IF-USER-VRRP-ACT", 
                "param": "jinja_vrrp_group_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "SNAPT-RULE", 
                "param": "jinja_snapt_group_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "lt-0/0/0", 
                "param": "jinja_logical_tunnel_interface_name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
                    }
                ], 
                "type": "value", 
                "value": 830, 
                "param": "secondary_device_port"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "11025", 
                "param": "jinja_logical_tunnel_unit_service"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
                    }
                ], 
                "type": "value", 
                "value": "esiesi0000", 
                "param": "secondary_device_password"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "ms-0/2/0", 
                "param": "jinja_service_interface_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
                    }
                ], 
                "type": "value", 
                "value": "esi", 
                "param": "primary_device_username"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "er_physical_interface", 
                        "resource_id": "c2576120-00b0-461e-a2ae-f7bbff9465d0"
                    }
                ], 
                "type": "value", 
                "value": "ae0", 
                "param": "primary_device_physical_downlink_interface"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_pool", 
                        "resource_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f"
                    }
                ], 
                "type": "value", 
                "value": "SNAPT-POOL", 
                "param": "jinja_snapt_pool_group_name"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "f4f54175-93fe-406b-ae66-dbca4df99e03"
                    }
                ], 
                "type": "value", 
                "value": 830, 
                "param": "primary_device_port"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "ha_interface", 
                        "resource_id": "16f6433d-0864-4d24-809d-c1b8e878280c"
                    }, 
                    {
                        "resource_type": "ha_router", 
                        "resource_id": "e16529c4-ffb8-4346-b850-af3c93564604"
                    }, 
                    {
                        "resource_type": "edge_router", 
                        "resource_id": "2d056865-47a9-45cf-a890-ed10e3b5912a"
                    }
                ], 
                "type": "value", 
                "value": "10.79.5.184", 
                "param": "secondary_device_ip"
            }
        ], 
        "resource_type": "common_function_gateway", 
        "action": "create", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "create:heat_worker:common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1:2n65z", 
        "resource_input": {
            "status": "PENDING_CREATE", 
            "secondary_logical_interface_name": "ae0.1025", 
            "description": "", 
            "primary_logical_interface_name": "ae0.1025", 
            "logical_tunnel_unit_user": "1025", 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "downlink_interface_id": "16f6433d-0864-4d24-809d-c1b8e878280c", 
            "nat_ip": "100.64.0.10", 
            "operational_state": "NO_STATE", 
            "logical_tunnel_unit_service": "11025", 
            "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
            "common_function_pool_id": "2d4a700d-bf94-4217-9a3c-4217a16c951f", 
            "vrf_name": "vrf_gw_sample-ha-router-downlink_1025", 
            "common_functions": [
                {
                    "common_function_id": "637aa51a-f54f-4723-bc5f-9fb8942dfc8b"
                }, 
                {
                    "common_function_id": "b7ff279d-a7ee-4714-b77c-bcd2f0e51996"
                }
            ], 
            "orchestration_state": "CREATE_IN_PROGRESS", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "vlan_id": "1025", 
            "name": "T0011CF000"
        }
    }, 
    0
]]
2018-04-09 04:49:52,184:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:52,185:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:52,185:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:52,185:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:52,187:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:54,661:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:network:fc8814a7-eb1e-4f59-8422-7de500e72782:1:oodvi],
 value=[]
2018-04-09 04:49:54,662:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:54,662:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:54,662:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:54,662:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:54,665:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:49:58,646:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:subnet:cf9356ae-b4e1-4a91-8193-089fdc12173d:1:7kdu4],
 value=[]
2018-04-09 04:49:58,646:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:49:58,646:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:49:58,647:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:49:58,647:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:49:58,650:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:05,026:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:1:3xe01],
 value=[]
2018-04-09 04:50:05,027:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:05,027:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:05,027:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:05,027:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:05,035:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:05,217:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:1:tsmd8],
 value=[]
2018-04-09 04:50:05,218:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:05,218:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:05,218:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:05,218:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:05,220:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:09,917:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:ese_logical_port:be66c7e0-b222-4e76-bf81-af75e8cf1824:1:2u7dw],
 value=[]
2018-04-09 04:50:09,917:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:09,917:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:09,918:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:09,918:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:09,920:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:10,156:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/modify:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:2:fxjly],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "f84496b5-dc56-4727-87b1-aa06e2471737", 
        "handler": "heat_worker", 
        "job_name": "port:f84496b5-dc56-4727-87b1-aa06e2471737:2", 
        "dependency": [
            "create:heat_worker:common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1:2n65z"
        ], 
        "version": 2, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "jinja_attached"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }, 
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "network", 
                    "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                }, 
                "param": "virtual_network"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "virtual_machine"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f84496b5-dc56-4727-87b1-aa06e2471737", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "admin_state_up"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "13", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "virtual_machine_interface_allowed_address_pairs"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "fa:16:3e:82:e7:8b", 
                "param": "virtual_machine_interface_mac_address"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "device_owner"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 2, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "security_groups"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": null, 
                "param": "jinja_force_dependency_gw_interface"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    {
                        "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                        "ip_address": "169.254.0.3"
                    }
                ], 
                "param": "jinja_fixed_ips"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_gateway", 
                        "resource_id": "f649736d-1920-41eb-96af-d4e4fe192d0e"
                    }, 
                    {
                        "resource_type": "common_function_gateway", 
                        "resource_id": "f649736d-1920-41eb-96af-d4e4fe192d0e"
                    }
                ], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "jinja_force_dependency_cfg"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "jinja_device_owner"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }, 
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "jinja_subnets", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "subnet", 
                            "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "jinja_subnets"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f84496b5-dc56-4727-87b1-aa06e2471737", 
                "param": "uuid"
            }
        ], 
        "resource_type": "port", 
        "action": "modify", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "modify:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:2:fxjly", 
        "resource_input": {
            "ese_logical_port_id": "be66c7e0-b222-4e76-bf81-af75e8cf1824", 
            "allowed_address_pairs": [], 
            "device_owner": "network:common_function_gateway", 
            "fake_delete": false, 
            "fixed_ips": [
                {
                    "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                    "ip_address": "169.254.0.3"
                }
            ], 
            "id": "f84496b5-dc56-4727-87b1-aa06e2471737", 
            "security_groups": [], 
            "binding:vif_type": "vrouter", 
            "mac_address": "fa:16:3e:82:e7:8b", 
            "status": "PENDING_CREATE", 
            "description": "", 
            "tags": {}, 
            "segmentation_id": 1025, 
            "device_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "name": "common_function_gw_f649736d-1920-41eb-96af-d4e4fe192d0e_primary_port:9451c9ca-289d-42ba-846d-359c448e910c", 
            "managed_by_service": true, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "admin_state_up": true, 
            "attached": true, 
            "operational_state": "NO_STATE", 
            "orchestration_state": "UPDATE_IN_PROGRESS", 
            "segmentation_type": "vlan"
        }
    }, 
    0
]]
2018-04-09 04:50:10,157:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:10,157:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:10,157:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:10,157:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:10,159:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:10,181:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:ese_logical_port:e8555ee6-529c-42d9-8bb1-bfbe217133b1:1:euyfe],
 value=[]
2018-04-09 04:50:10,181:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:10,181:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:10,181:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:10,182:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:10,183:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:10,299:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/jobs/all/modify:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:2:biikl],
 value=[[
    "heat_worker", 
    {
        "is_first": true, 
        "resource_id": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
        "handler": "heat_worker", 
        "job_name": "port:343b0257-512e-40e3-b063-8cc13a4b61f4:2", 
        "dependency": [
            "create:heat_worker:common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1:2n65z"
        ], 
        "version": 2, 
        "params": [
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "jinja_attached"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }, 
                    {
                        "resource_type": "network", 
                        "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                    }
                ], 
                "type": "output_key", 
                "value": {
                    "output_key": "id", 
                    "resource_type": "network", 
                    "resource_id": "fc8814a7-eb1e-4f59-8422-7de500e72782"
                }, 
                "param": "virtual_network"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "virtual_machine"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
                "param": "name"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": true, 
                "param": "admin_state_up"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "c583ce78843344adbe5fd20f13620274", 
                "param": "tenant_id"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "13", 
                "param": "heat_timeout"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "virtual_machine_interface_allowed_address_pairs"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "fa:16:3e:38:35:6a", 
                "param": "virtual_machine_interface_mac_address"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "device_owner"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": 2, 
                "param": "version"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [], 
                "param": "security_groups"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": null, 
                "param": "jinja_force_dependency_gw_interface"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": [
                    {
                        "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                        "ip_address": "169.254.0.4"
                    }
                ], 
                "param": "jinja_fixed_ips"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "common_function_gateway", 
                        "resource_id": "f649736d-1920-41eb-96af-d4e4fe192d0e"
                    }, 
                    {
                        "resource_type": "common_function_gateway", 
                        "resource_id": "f649736d-1920-41eb-96af-d4e4fe192d0e"
                    }
                ], 
                "type": "value", 
                "value": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
                "param": "jinja_force_dependency_cfg"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "network:common_function_gateway", 
                "param": "jinja_device_owner"
            }, 
            {
                "resources": [
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }, 
                    {
                        "resource_type": "subnet", 
                        "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                    }
                ], 
                "type": "list", 
                "value": [
                    {
                        "param": "jinja_subnets", 
                        "type": "output_key", 
                        "value": {
                            "output_key": "id", 
                            "resource_type": "subnet", 
                            "resource_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d"
                        }, 
                        "resources": []
                    }
                ], 
                "param": "jinja_subnets"
            }, 
            {
                "resources": [], 
                "type": "value", 
                "value": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
                "param": "uuid"
            }
        ], 
        "resource_type": "port", 
        "action": "modify", 
        "is_last": true, 
        "on_failure": "fail", 
        "id": "modify:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:2:biikl", 
        "resource_input": {
            "ese_logical_port_id": "e8555ee6-529c-42d9-8bb1-bfbe217133b1", 
            "allowed_address_pairs": [], 
            "device_owner": "network:common_function_gateway", 
            "fake_delete": false, 
            "fixed_ips": [
                {
                    "subnet_id": "cf9356ae-b4e1-4a91-8193-089fdc12173d", 
                    "ip_address": "169.254.0.4"
                }
            ], 
            "id": "343b0257-512e-40e3-b063-8cc13a4b61f4", 
            "security_groups": [], 
            "binding:vif_type": "vrouter", 
            "mac_address": "fa:16:3e:38:35:6a", 
            "status": "PENDING_CREATE", 
            "description": "", 
            "tags": {}, 
            "segmentation_id": 1025, 
            "device_id": "f649736d-1920-41eb-96af-d4e4fe192d0e", 
            "name": "common_function_gw_f649736d-1920-41eb-96af-d4e4fe192d0e_secondary_port:f4c3a1bf-3b61-48ba-a548-422036849465", 
            "managed_by_service": true, 
            "network_id": "fc8814a7-eb1e-4f59-8422-7de500e72782", 
            "tenant_id": "c583ce78843344adbe5fd20f13620274", 
            "admin_state_up": true, 
            "attached": true, 
            "operational_state": "NO_STATE", 
            "orchestration_state": "UPDATE_IN_PROGRESS", 
            "segmentation_type": "vlan"
        }
    }, 
    0
]]
2018-04-09 04:50:10,299:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:10,299:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:10,300:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:10,300:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:10,302:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:22,862:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/create:heat_worker:common_function_gateway:f649736d-1920-41eb-96af-d4e4fe192d0e:1:2n65z],
 value=[]
2018-04-09 04:50:22,862:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:22,862:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:22,862:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:22,862:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:22,864:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:34,904:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/modify:heat_worker:port:343b0257-512e-40e3-b063-8cc13a4b61f4:2:biikl],
 value=[]
2018-04-09 04:50:34,905:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:34,905:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:34,905:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:34,906:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:34,907:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:50:34,925:DEBUG:
*** Consume stored data in etcd ***
 action=[delete], key=[/jobs/all/modify:heat_worker:port:f84496b5-dc56-4727-87b1-aa06e2471737:2:fxjly],
 value=[]
2018-04-09 04:50:34,925:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-09 04:50:34,925:DEBUG:About to wait on key /jobs/all, index None
2018-04-09 04:50:34,925:DEBUG:Issuing read for key /jobs/all with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-09 04:50:34,926:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-09 04:50:34,927:DEBUG:http://etcd-server:2379 "GET /v2/keys/jobs/all?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-09 04:56:56,981:ERROR:Request to server http://etcd-server:2379 failed: ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
2018-04-09 04:56:56,981:DEBUG:Reconnection disabled, giving up.
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 346, in fire_timers
    timer()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/timer.py", line 56, in __call__
    cb(*args, **kw)
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
Traceback (most recent call last):
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 48, in <module>
    thread.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 168, in wait
    return self._exit_event.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/event.py", line 116, in wait
    return hubs.get_hub().switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 187, in switch
    return self.greenlet.switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
etcd.EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
