00:26:24.918 gohan.server.core INFO [0m logging initialized
00:26:24.921 gohan.schema INFO [0m Loading schema ./../etc/schema/gohan.json ...
00:26:24.930 gohan.schema INFO [0m Loading schema ./../etc/extensions/gohan_extension.yaml ...
00:26:24.931 gohan.schema INFO [0m Loading schema ./schemas/cloud_schema.yaml ...
00:26:24.965 gohan.schema INFO [0m Loading schema ./schemas/heat_worker_schema.yaml ...
00:26:24.969 gohan.schema INFO [0m Loading schema ./schemas/tenants.yaml ...
00:26:24.971 gohan.schema INFO [0m Loading schema ./schemas/policies.yaml ...
00:26:24.972 gohan.schema INFO [0m Loading schema ./schemas/common_extensions.yaml ...
00:26:24.973 gohan.schema INFO [0m Loading schema ./schemas/relation_extensions.yaml ...
00:26:24.974 gohan.schema INFO [0m Loading schema ./schemas/logging_extensions.yaml ...
00:26:24.974 gohan.schema INFO [0m Loading schema ./schemas/extensions.yaml ...
00:26:24.976 gohan.schema INFO [0m Loading schema ./schemas/sss_extensions.yaml ...
00:26:24.978 gohan.schema INFO [0m Loading schema ./schemas/monitoring_extensions.yaml ...
00:26:24.979 gohan.schema INFO [0m Loading schema ./schemas/igs_schema.yaml ...
00:26:25.100 gohan.schema INFO [0m Loading schema ./schemas/igs_extensions.yaml ...
00:26:25.103 gohan.schema INFO [0m Loading schema ./schemas/igs_policies.yaml ...
00:26:25.107 gohan.schema INFO [0m Loading schema ./schemas/vnf_schema.yaml ...
00:26:25.116 gohan.schema INFO [0m Loading schema ./schemas/vnf_policies.yaml ...
00:26:25.116 gohan.schema INFO [0m Loading schema ./schemas/vnf_extensions.yaml ...
00:26:25.117 gohan.schema INFO [0m Loading schema ./schemas/firewall_schema.yaml ...
00:26:25.129 gohan.schema INFO [0m Loading schema ./schemas/firewall_extensions.yaml ...
00:26:25.129 gohan.schema INFO [0m Loading schema ./schemas/firewall_policies.yaml ...
00:26:25.130 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_schema.yaml ...
00:26:25.152 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_policies.yaml ...
00:26:25.154 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_extensions.yaml ...
00:26:25.156 gohan.schema INFO [0m Loading schema ./schemas/usage.yaml ...
00:26:25.158 gohan.schema INFO [0m Loading schema ./schemas/billing_extensions.yaml ...
00:26:25.161 gohan.schema INFO [0m Loading schema ./schemas/billing_resource_schema.yaml ...
00:26:25.164 gohan.schema INFO [0m Loading schema ./schemas/metrics.yaml ...
00:26:25.169 gohan.schema INFO [0m Loading schema ./schemas/sdp_esi_sdn_orch_policies.yaml ...
00:26:25.172 gohan.schema INFO [0m Loading schema ./schemas/sdp_esi_interdc_policies.yaml ...
00:26:25.173 gohan.schema INFO [0m Loading schema ./schemas/interdc_member_policy.yaml ...
00:26:25.173 gohan.schema INFO [0m Loading schema ./schemas/sss_admin_policies.yaml ...
00:26:25.174 gohan.schema INFO [0m Loading schema ./schemas/colocation_schema.yaml ...
00:26:25.187 gohan.schema INFO [0m Loading schema ./schemas/colocation_policies.yaml ...
00:26:25.188 gohan.schema INFO [0m Loading schema ./schemas/colocation_extensions.yaml ...
00:26:25.189 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_schema.yaml ...
00:26:25.192 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_policies.yaml ...
00:26:25.192 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_extensions.yaml ...
00:26:25.193 gohan.schema INFO [0m Loading schema ./schemas/hosting_schema.yaml ...
00:26:25.198 gohan.schema INFO [0m Loading schema ./schemas/hosting_policies.yaml ...
00:26:25.198 gohan.schema INFO [0m Loading schema ./schemas/hosting_extensions.yaml ...
00:26:25.199 gohan.schema INFO [0m Loading schema ./schemas/syncdb_extensions.yaml ...
[36m00:26:25.201 gohan.db DEBUG [0m Registering schema schema
00:26:25.202 gohan.db.sql INFO [0m Creating table: create table `schemas` (`actions`text null,`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`namespace`text not null,`parent`text not null,`plural`text not null,`prefix`text not null,`schema`text not null,`singular`text not null,`title`text not null);
[36m00:26:25.242 gohan.db DEBUG [0m Registering schema policy
00:26:25.243 gohan.db.sql INFO [0m Creating table: create table `policys` (`action`text null,`condition`text not null,`effect`text null,`id`varchar(255) primary key,`principal`text null,`resource`text null);
[36m00:26:25.270 gohan.db DEBUG [0m Registering schema extension
00:26:25.271 gohan.db.sql INFO [0m Creating table: create table `extensions` (`code`text not null,`code_type`text not null,`id`varchar(255) primary key,`path`text null,`url`text not null);
[36m00:26:25.315 gohan.db DEBUG [0m Registering schema event
00:26:25.315 gohan.db.sql INFO [0m Creating table: create table `events` (`body`text null,`id`integer primary key auto_increment ,`marked_for_deletion`boolean not null,`path`text not null,`timestamp`numeric not null,`type`text not null,`version`numeric null);
[36m00:26:25.350 gohan.db DEBUG [0m Registering schema namespace
00:26:25.350 gohan.db.sql INFO [0m Creating table: create table `namespaces` (`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`name`text not null,`parent`text not null,`prefix`text not null,`version`text not null);
[36m00:26:25.387 gohan.db DEBUG [0m Registering schema location
00:26:25.387 gohan.db.sql INFO [0m Creating table: create table `locations` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`address`text not null,`description`text not null,`id`varchar(255) primary key,`name`text null,`tags`text not null,`tenant_id`text null,`type`text null);
[36m00:26:25.422 gohan.db DEBUG [0m Registering schema ese_device
00:26:25.423 gohan.db.sql INFO [0m Creating table: create table `ese_devices` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`existing`text not null,`flavor`text null,`hostname`text null,`id`varchar(255) primary key,`location`varchar(255) null,`management_ip_address`varchar(255) null unique,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`password`text not null,`public_ip_address`text null,`status`text null,`tags`text not null,`tenant_id`text null,`tor_agent_names`text null,`tsn_names`text null,`type`text not null,`username`text not null,CONSTRAINT `ese_device_location_fk` FOREIGN KEY (`location`) REFERENCES `locations`(id) );
[36m00:26:25.500 gohan.db DEBUG [0m Registering schema network
00:26:25.500 gohan.db.sql INFO [0m Creating table: create table `networks` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_state_up`boolean not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`orchestration_state`text not null,`plane`text not null,`shared`boolean not null,`status`text not null,`subnets`text not null,`tags`text not null,`tenant_id`text null);
[36m00:26:25.527 gohan.db DEBUG [0m Registering schema subnet
00:26:25.527 gohan.db.sql INFO [0m Creating table: create table `subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`allocation_pools`text not null,`cidr`text not null,`description`text not null,`dhcp_server_address`text null,`dns_nameservers`text not null,`enable_dhcp`boolean not null,`gateway_ip`text null,`host_routes`text not null,`id`varchar(255) primary key,`ip_version`numeric not null,`ipv6_address_mode`text null,`ipv6_ra_mode`text null,`name`text not null,`network_id`varchar(255) not null,`ntp_servers`text not null,`orchestration_state`text not null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m00:26:25.572 gohan.db DEBUG [0m Registering schema port
00:26:25.572 gohan.db.sql INFO [0m Creating table: create table `ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_state_up`boolean not null,`allowed_address_pairs`text not null,`attached`boolean not null,`binding:vif_type`text not null,`description`text not null,`device_id`text null,`device_owner`text null,`ese_logical_port_id`text null,`fake_delete`boolean not null,`fixed_ips`text null,`id`varchar(255) primary key,`mac_address`text null,`managed_by_service`boolean not null,`name`text not null,`network_id`varchar(255) not null,`operational_state`text not null,`orchestration_state`text not null,`security_groups`text not null,`segmentation_id`numeric null,`segmentation_type`text null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m00:26:25.629 gohan.db DEBUG [0m Registering schema security_group
00:26:25.629 gohan.db.sql INFO [0m Creating table: create table `security_groups` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`id`varchar(255) primary key,`name`text not null,`rules`text not null,`tenant_id`text null);
[36m00:26:25.669 gohan.db DEBUG [0m Registering schema ese_physical_port
00:26:25.669 gohan.db.sql INFO [0m Creating table: create table `ese_physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`connected_port_id`text null,`connected_port_owner`text null,`description`text not null,`ese_device_id`varchar(255) not null,`existing`text not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`status`text null,`tags`text not null,`tenant_id`text null,CONSTRAINT `ese_physical_port_ese_device_id_fk` FOREIGN KEY (`ese_device_id`) REFERENCES `ese_devices`(id) );
[36m00:26:25.713 gohan.db DEBUG [0m Registering schema ese_logical_port
00:26:25.713 gohan.db.sql INFO [0m Creating table: create table `ese_logical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`common_function_gateway_id`text null,`connected_resource`text not null,`description`text not null,`ese_physical_port_id`varchar(255) not null,`gw_interface_id`text null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`operational_state`text not null,`orchestration_state`text not null,`port_ids`text null,`status`text null,`tags`text not null,`tenant_id`text null,`type`text not null,`vlan_id`numeric not null,CONSTRAINT `ese_logical_port_ese_physical_port_id_fk` FOREIGN KEY (`ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `ese_logical_port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m00:26:25.779 gohan.db DEBUG [0m Registering schema local_subnet
00:26:25.779 gohan.db.sql INFO [0m Creating table: create table `local_subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`cidr`text not null,`description`text not null,`ese_logical_port_id`varchar(255) not null,`id`varchar(255) primary key,`ip_version`numeric not null,`name`text not null,`network_id`varchar(255) not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `local_subnet_ese_logical_port_id_fk` FOREIGN KEY (`ese_logical_port_id`) REFERENCES `ese_logical_ports`(id) ,CONSTRAINT `local_subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m00:26:25.845 gohan.db DEBUG [0m Registering schema server
00:26:25.845 gohan.db.sql INFO [0m Creating table: create table `servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`flavor`text not null,`id`varchar(255) primary key,`name`text not null,`tags`text not null,`tenant_id`text null,`type`text not null);
[36m00:26:25.888 gohan.db DEBUG [0m Registering schema physical_port
00:26:25.888 gohan.db.sql INFO [0m Creating table: create table `physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`segmentation_ranges`text not null,`service_id`text null,`service_owner`text null,`status`text null,`tags`text not null,`tenant_id`text null);
[36m00:26:25.939 gohan.db DEBUG [0m Registering schema quota
00:26:25.939 gohan.db.sql INFO [0m Creating table: create table `quotas` (`aws_gateway`numeric not null,`azure_gateway`numeric not null,`colocation_logical_link`numeric not null,`common_function_gateway`numeric not null,`firewall`numeric not null,`gcp_gateway`numeric not null,`hosting_logical_link`numeric not null,`hosting_physical_link_plane_storage`numeric not null,`id`varchar(255) primary key,`interdc_gateway`numeric not null,`internet_gateway`numeric not null,`load_balancer`numeric not null,`network`numeric not null,`port`numeric not null,`public_ip`numeric not null,`subnet`numeric not null,`tenant_id`varchar(255) not null unique,`vpn_gateway`numeric not null);
[36m00:26:25.985 gohan.db DEBUG [0m Registering schema reserve_address
00:26:25.985 gohan.db.sql INFO [0m Creating table: create table `reserve_addresss` (`id`varchar(255) primary key,`subnets`text not null,`tenant_id`varchar(255) not null unique);
[36m00:26:26.014 gohan.db DEBUG [0m Registering schema neutron_extension
00:26:26.015 gohan.db.sql INFO [0m Creating table: create table `neutron_extensions` (`alias`varchar(255) null unique,`description`text not null,`id`varchar(255) primary key,`links`text not null,`name`text null,`namespace`text null,`updated`text null);
[36m00:26:26.058 gohan.db DEBUG [0m Registering schema heat_template
00:26:26.058 gohan.db.sql INFO [0m Creating table: create table `heat_templates` (`handler`text null,`id`varchar(255) primary key,`parameter_mappings`text null,`template_file`text null,`tenant_id`text null,`watch`text null);
[36m00:26:26.090 gohan.db DEBUG [0m Registering schema worker_data
00:26:26.091 gohan.db.sql INFO [0m Creating table: create table `worker_datas` (`id`varchar(255) primary key,`tenant_id`text null,`value`text not null);
[36m00:26:26.115 gohan.db DEBUG [0m Registering schema tenant
00:26:26.115 gohan.db.sql INFO [0m Creating table: create table `tenants` (`delete_retries`numeric not null,`end_time`text not null,`id`varchar(255) primary key,`status`text null);
[36m00:26:26.146 gohan.db DEBUG [0m Registering schema edge_router
00:26:26.147 gohan.db.sql INFO [0m Creating table: create table `edge_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`autonomous_system`text null,`description`text not null,`id`varchar(255) primary key,`ip`varchar(255) not null unique,`login`text not null,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`password`text not null,`ssh_port`numeric not null,`status`text null,`tenant_id`text null);
[36m00:26:26.184 gohan.db DEBUG [0m Registering schema er_physical_interface
00:26:26.184 gohan.db.sql INFO [0m Creating table: create table `er_physical_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`connected_ese_port_id`varchar(255) null,`description`text not null,`device_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`status`text null,`tenant_id`text null,CONSTRAINT `er_physical_interface_connected_ese_port_id_fk` FOREIGN KEY (`connected_ese_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `er_physical_interface_device_id_fk` FOREIGN KEY (`device_id`) REFERENCES `edge_routers`(id) );
[36m00:26:26.232 gohan.db DEBUG [0m Registering schema ha_router
00:26:26.232 gohan.db.sql INFO [0m Creating table: create table `ha_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`available_gateways`numeric null,`description`text not null,`id`varchar(255) primary key,`maximum_gateways`numeric not null,`name`text not null,`primary_router_id`varchar(255) not null unique,`secondary_router_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,CONSTRAINT `ha_router_primary_router_id_fk` FOREIGN KEY (`primary_router_id`) REFERENCES `edge_routers`(id) ,CONSTRAINT `ha_router_secondary_router_id_fk` FOREIGN KEY (`secondary_router_id`) REFERENCES `edge_routers`(id) );
[36m00:26:26.320 gohan.db DEBUG [0m Registering schema ha_interface
00:26:26.321 gohan.db.sql INFO [0m Creating table: create table `ha_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_state_up`boolean not null,`available_be_bandwidth`numeric null,`available_ga_bandwidth`numeric null,`description`text not null,`gateway_instances_count`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`link_type`text not null,`maximum_be_bandwidth`numeric not null,`maximum_ga_bandwidth`numeric not null,`name`text not null,`primary_interface_id`varchar(255) not null unique,`restricted_vlans`text not null,`secondary_interface_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,`vlan_ids_available`numeric not null,`vlan_pool_state`text not null,CONSTRAINT `ha_interface_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `ha_interface_primary_interface_id_fk` FOREIGN KEY (`primary_interface_id`) REFERENCES `er_physical_interfaces`(id) ,CONSTRAINT `ha_interface_secondary_interface_id_fk` FOREIGN KEY (`secondary_interface_id`) REFERENCES `er_physical_interfaces`(id) );
[36m00:26:26.401 gohan.db DEBUG [0m Registering schema internet_service
00:26:26.402 gohan.db.sql INFO [0m Creating table: create table `internet_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`inet_in_filter`text not null,`inet_out_filter`text not null,`minimal_submask_length`numeric not null,`name`text not null,`neighbour_prefix`text not null,`primary_ibgp_config_group`text not null,`primary_vrrp_config_group`text not null,`secondary_ibgp_config_group`text not null,`secondary_vrrp_config_group`text not null,`tenant_id`text null,`uplink_import_policy`text not null,`vrf_config`text not null,`vrf_export_policy`text not null,`vrf_import_policy`text not null,`zone`text null);
[36m00:26:26.447 gohan.db DEBUG [0m Registering schema vpn_service
00:26:26.447 gohan.db.sql INFO [0m Creating table: create table `vpn_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m00:26:26.487 gohan.db DEBUG [0m Registering schema aws_service
00:26:26.487 gohan.db.sql INFO [0m Creating table: create table `aws_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m00:26:26.521 gohan.db DEBUG [0m Registering schema azure_service
00:26:26.521 gohan.db.sql INFO [0m Creating table: create table `azure_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m00:26:26.556 gohan.db DEBUG [0m Registering schema gcp_service
00:26:26.556 gohan.db.sql INFO [0m Creating table: create table `gcp_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m00:26:26.599 gohan.db DEBUG [0m Registering schema interdc_service
00:26:26.600 gohan.db.sql INFO [0m Creating table: create table `interdc_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_uplink_vrrp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_uplink_vrrp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m00:26:26.628 gohan.db DEBUG [0m Registering schema common_function_pool
00:26:26.628 gohan.db.sql INFO [0m Creating table: create table `common_function_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`common_function_pool_state`text not null,`description`text not null,`dnat_group_name`text not null,`dnat_pool_group_name`text not null,`downlink_interfaces`text not null,`id`varchar(255) primary key,`link_local_cidr`text not null,`link_local_netmask`numeric not null,`logical_tunnel_interface_name`text not null,`name`text not null,`service_interface_name`text not null,`service_vrf_name`text not null,`snapt_group_name`text not null,`snapt_pool_group_name`text not null,`tenant_id`text not null,`vrrp_config`text not null,`vrrp_group_name`text not null);
[36m00:26:26.666 gohan.db DEBUG [0m Registering schema nat_ip_pool
00:26:26.666 gohan.db.sql INFO [0m Creating table: create table `nat_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`ip_allocation_state`text not null,`ip_ranges`text not null,`name`text not null,`tenant_id`text not null,CONSTRAINT `nat_ip_pool_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `nat_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m00:26:26.707 gohan.db DEBUG [0m Registering schema common_function
00:26:26.708 gohan.db.sql INFO [0m Creating table: create table `common_functions` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`common_function_number`numeric null,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`link_local_ip_address`text not null,`name`text not null,`orchestration_state`text not null,`primary_vrrp_ip`text null,`secondary_vrrp_ip`text null,`shared_ip_address`text not null,`status`text not null,`tenant_id`text not null,`vrid`numeric null,CONSTRAINT `common_function_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m00:26:26.746 gohan.db DEBUG [0m Registering schema public_ip_pool
00:26:26.746 gohan.db.sql INFO [0m Creating table: create table `public_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`addresses_available`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`ip_version`numeric not null,`pool_state`text not null,`submask_length`numeric not null,`subnet_ip`text not null,`tenant_id`text null,CONSTRAINT `public_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `public_ip_pool_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) );
[36m00:26:26.809 gohan.db DEBUG [0m Registering schema suspended_public_ip
00:26:26.809 gohan.db.sql INFO [0m Creating table: create table `suspended_public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`cidr`text not null,`description`text not null,`expiry_timestamp`text null,`id`varchar(255) primary key,`ip_pool_id`varchar(255) not null,`name`text not null,`previous_tenant_id`text null,`submask_length`text not null,`tenant_id`text null,CONSTRAINT `suspended_public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) );
[36m00:26:26.846 gohan.db DEBUG [0m Registering schema qos_option
00:26:26.846 gohan.db.sql INFO [0m Creating table: create table `qos_options` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`aws_service_id`varchar(255) null,`azure_service_id`varchar(255) null,`bandwidth`text not null,`charge_type`text null,`description`text not null,`gcp_service_id`varchar(255) null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`incoming_policer_config`text not null,`incoming_policer_name`text not null,`interdc_service_id`varchar(255) null,`internet_service_id`varchar(255) null,`name`text not null,`orchestration_state`text not null,`outgoing_policer_config`text not null,`outgoing_policer_name`text not null,`qos_type`text not null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_service_id`varchar(255) null,CONSTRAINT `qos_option_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `qos_option_azure_service_id_fk` FOREIGN KEY (`azure_service_id`) REFERENCES `azure_services`(id) ,CONSTRAINT `qos_option_gcp_service_id_fk` FOREIGN KEY (`gcp_service_id`) REFERENCES `gcp_services`(id) ,CONSTRAINT `qos_option_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `qos_option_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `qos_option_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `qos_option_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m00:26:27.035 gohan.db DEBUG [0m Registering schema vpn_gateway
00:26:27.035 gohan.db.sql INFO [0m Creating table: create table `vpn_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`connected_vpn_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vpn_service_id`varchar(255) not null,`vrf_name`text null,CONSTRAINT `vpn_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `vpn_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m00:26:27.138 gohan.db DEBUG [0m Registering schema vpn_interface
00:26:27.138 gohan.db.sql INFO [0m Creating table: create table `vpn_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,`vpn_gw_id`varchar(255) not null,CONSTRAINT `vpn_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m00:26:27.174 gohan.db DEBUG [0m Registering schema aws_gateway
00:26:27.174 gohan.db.sql INFO [0m Creating table: create table `aws_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`aws_service_id`varchar(255) not null,`connected_aws_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `aws_gateway_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `aws_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `aws_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `aws_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m00:26:27.291 gohan.db DEBUG [0m Registering schema aws_interface
00:26:27.291 gohan.db.sql INFO [0m Creating table: create table `aws_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`aws_gw_id`varchar(255) not null,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,CONSTRAINT `aws_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) );
[36m00:26:27.336 gohan.db DEBUG [0m Registering schema azure_gateway
00:26:27.336 gohan.db.sql INFO [0m Creating table: create table `azure_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`azure_service_id`varchar(255) not null,`connected_azure_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `azure_gateway_azure_service_id_fk` FOREIGN KEY (`azure_service_id`) REFERENCES `azure_services`(id) ,CONSTRAINT `azure_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `azure_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `azure_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m00:26:27.388 gohan.db DEBUG [0m Registering schema azure_interface
00:26:27.388 gohan.db.sql INFO [0m Creating table: create table `azure_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`azure_gw_id`varchar(255) not null,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,CONSTRAINT `azure_interface_azure_gw_id_fk` FOREIGN KEY (`azure_gw_id`) REFERENCES `azure_gateways`(id) );
[36m00:26:27.427 gohan.db DEBUG [0m Registering schema gcp_gateway
00:26:27.427 gohan.db.sql INFO [0m Creating table: create table `gcp_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`connected_gcp_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`gcp_service_id`varchar(255) not null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `gcp_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `gcp_gateway_gcp_service_id_fk` FOREIGN KEY (`gcp_service_id`) REFERENCES `gcp_services`(id) ,CONSTRAINT `gcp_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `gcp_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m00:26:27.517 gohan.db DEBUG [0m Registering schema gcp_interface
00:26:27.518 gohan.db.sql INFO [0m Creating table: create table `gcp_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`bgp_remote_as`text not null,`description`text not null,`gcp_gw_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`operational_state`text not null,`orchestration_state`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,CONSTRAINT `gcp_interface_gcp_gw_id_fk` FOREIGN KEY (`gcp_gw_id`) REFERENCES `gcp_gateways`(id) );
[36m00:26:27.541 gohan.db DEBUG [0m Registering schema internet_gateway
00:26:27.541 gohan.db.sql INFO [0m Creating table: create table `internet_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`associated_uplink_id`varchar(255) null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_interface_name`text null,`status`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `internet_gateway_associated_uplink_id_fk` FOREIGN KEY (`associated_uplink_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `internet_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) );
[36m00:26:27.621 gohan.db DEBUG [0m Registering schema common_function_gateway
00:26:27.621 gohan.db.sql INFO [0m Creating table: create table `common_function_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`common_function_pool_id`varchar(255) not null,`common_functions`text null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`logical_tunnel_unit_service`text null,`logical_tunnel_unit_user`text null,`name`text not null,`nat_ip`text null,`network_id`text null,`operational_state`text not null,`orchestration_state`text not null,`primary_logical_interface_name`text null,`secondary_logical_interface_name`text null,`status`text null,`subnet_id`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `common_function_gateway_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m00:26:27.694 gohan.db DEBUG [0m Registering schema public_ip
00:26:27.694 gohan.db.sql INFO [0m Creating table: create table `public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`cidr`text not null,`description`text not null,`id`varchar(255) primary key,`internet_gw_id`varchar(255) not null,`ip_pool_id`varchar(255) null,`name`text not null,`orchestration_state`text not null,`status`text not null,`submask_length`numeric not null,`suspended_public_ip_id`varchar(255) null,`tenant_id`text null,CONSTRAINT `public_ip_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) ,CONSTRAINT `public_ip_suspended_public_ip_id_fk` FOREIGN KEY (`suspended_public_ip_id`) REFERENCES `suspended_public_ips`(id) );
[36m00:26:27.779 gohan.db DEBUG [0m Registering schema interdc_gateway
00:26:27.780 gohan.db.sql INFO [0m Creating table: create table `interdc_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`interdc_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`orchestration_state`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `interdc_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `interdc_gateway_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `interdc_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `interdc_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m00:26:27.891 gohan.db DEBUG [0m Registering schema interdc_interface
00:26:27.892 gohan.db.sql INFO [0m Creating table: create table `interdc_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) not null unique,`name`text not null,`netmask`numeric not null,`operational_state`text not null,`orchestration_state`text not null,`primary_ipv4`text not null,`primary_ipv6`text null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`status`text null,`tenant_id`text null,`vrid`numeric not null,CONSTRAINT `interdc_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) );
[36m00:26:27.917 gohan.db DEBUG [0m Registering schema gw_interface
00:26:27.917 gohan.db.sql INFO [0m Creating table: create table `gw_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`aws_gw_id`varchar(255) null unique,`azure_gw_id`varchar(255) null unique,`description`text not null,`gcp_gw_id`varchar(255) null unique,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null unique,`internet_gw_id`varchar(255) null unique,`name`text not null,`netmask`numeric not null,`network_id`varchar(255) not null,`operational_state`text not null,`orchestration_state`text not null,`primary_ipv4`text not null,`primary_ipv6`text null,`public_ip_id`varchar(255) null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`service_type`text not null,`status`text null,`tenant_id`text null,`vpn_gw_id`varchar(255) null unique,`vrid`numeric not null,CONSTRAINT `gw_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `gw_interface_azure_gw_id_fk` FOREIGN KEY (`azure_gw_id`) REFERENCES `azure_gateways`(id) ,CONSTRAINT `gw_interface_gcp_gw_id_fk` FOREIGN KEY (`gcp_gw_id`) REFERENCES `gcp_gateways`(id) ,CONSTRAINT `gw_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `gw_interface_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `gw_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `gw_interface_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `gw_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m00:26:28.006 gohan.db DEBUG [0m Registering schema static_route
00:26:28.007 gohan.db.sql INFO [0m Creating table: create table `static_routes` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`aws_gw_id`varchar(255) null,`azure_gw_id`varchar(255) null,`description`text not null,`destination`text not null,`gcp_gw_id`varchar(255) null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null,`internet_gw_id`varchar(255) null,`name`text not null,`nexthop`text not null,`orchestration_state`text not null,`public_ip_id`varchar(255) null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_gw_id`varchar(255) null,CONSTRAINT `static_route_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `static_route_azure_gw_id_fk` FOREIGN KEY (`azure_gw_id`) REFERENCES `azure_gateways`(id) ,CONSTRAINT `static_route_gcp_gw_id_fk` FOREIGN KEY (`gcp_gw_id`) REFERENCES `gcp_gateways`(id) ,CONSTRAINT `static_route_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `static_route_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `static_route_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `static_route_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m00:26:28.142 gohan.db DEBUG [0m Registering schema vnf_template
00:26:28.142 gohan.db.sql INFO [0m Creating table: create table `vnf_templates` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`credentials`text not null,`description`text not null,`dummy_networks`text not null,`function`text not null,`id`varchar(255) primary key,`image`text not null,`init_config`text not null,`management_networks`text not null,`name`text not null,`security_group`text not null,`service_network_id`text null,`tenant_id`text null,`user_data_template`text not null,`vendor`text not null,`version`text not null);
[36m00:26:28.174 gohan.db DEBUG [0m Registering schema vnf_plan
00:26:28.174 gohan.db.sql INFO [0m Creating table: create table `vnf_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`default_interface_number`numeric not null,`description`text not null,`flavor`text not null,`function`text not null,`id`varchar(255) primary key,`interface_limit`numeric not null,`name`text not null,`tenant_id`text null,`vendor`text not null);
[36m00:26:28.215 gohan.db DEBUG [0m Registering schema vnf_instance
00:26:28.215 gohan.db.sql INFO [0m Creating table: create table `vnf_instances` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`availability_zone`text null,`config_drive`boolean not null,`description`text null,`id`varchar(255) primary key,`management_ip`text null,`name`text null,`networks`text null,`operational_state`text not null,`orchestration_state`text not null,`owner_tenant_id`text null,`reboot`text not null,`status`text not null,`tenant_id`text null,`user_data`text not null,`user_data_format`text not null,`user_data_parameters`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `vnf_instance_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `vnf_instance_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m00:26:28.260 gohan.db DEBUG [0m Registering schema vnf_interface
00:26:28.260 gohan.db.sql INFO [0m Creating table: create table `vnf_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`port_id`varchar(255) null,`slot_number`numeric null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_instance_id`varchar(255) not null,CONSTRAINT `vnf_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `vnf_interface_port_id_fk` FOREIGN KEY (`port_id`) REFERENCES `ports`(id) ,CONSTRAINT `vnf_interface_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m00:26:28.372 gohan.db DEBUG [0m Registering schema firewall_plan
00:26:28.372 gohan.db.sql INFO [0m Creating table: create table `firewall_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `firewall_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `firewall_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m00:26:28.419 gohan.db DEBUG [0m Registering schema firewall
00:26:28.420 gohan.db.sql INFO [0m Creating table: create table `firewalls` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`firewall_plan_id`varchar(255) not null,`id`varchar(255) primary key,`interfaces`text not null,`name`text not null,`networks`text not null,`operational_state`text not null,`orchestration_state`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `firewall_firewall_plan_id_fk` FOREIGN KEY (`firewall_plan_id`) REFERENCES `firewall_plans`(id) ,CONSTRAINT `firewall_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m00:26:28.532 gohan.db DEBUG [0m Registering schema firewall_interface
00:26:28.532 gohan.db.sql INFO [0m Creating table: create table `firewall_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text null,`firewall_id`varchar(255) not null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`operational_state`text not null,`orchestration_state`text not null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `firewall_interface_firewall_id_fk` FOREIGN KEY (`firewall_id`) REFERENCES `firewalls`(id) ,CONSTRAINT `firewall_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `firewall_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m00:26:28.612 gohan.db DEBUG [0m Registering schema load_balancer_plan
00:26:28.612 gohan.db.sql INFO [0m Creating table: create table `load_balancer_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`license_code`text not null,`maximum_syslog_servers`numeric null,`model`text not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `load_balancer_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `load_balancer_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m00:26:28.672 gohan.db DEBUG [0m Registering schema load_balancer_conf
00:26:28.672 gohan.db.sql INFO [0m Creating table: create table `load_balancer_confs` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_password`text not null,`admin_username`text not null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`internet_port`text not null,`load_balancer_plan_id`varchar(255) not null,`management_gateway`text not null,`name`text not null,`networks`text not null,`orchestration_state`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_conf_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_conf_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m00:26:28.732 gohan.db DEBUG [0m Registering schema load_balancer
00:26:28.732 gohan.db.sql INFO [0m Creating table: create table `load_balancers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`interfaces`text not null,`internet_port_id`varchar(255) null unique,`load_balancer_conf_id`varchar(255) null,`load_balancer_plan_id`varchar(255) not null,`name`text not null,`networks`text not null,`operational_state`text not null,`orchestration_state`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`syslog_servers`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_load_balancer_conf_id_fk` FOREIGN KEY (`load_balancer_conf_id`) REFERENCES `load_balancer_confs`(id) ,CONSTRAINT `load_balancer_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m00:26:28.881 gohan.db DEBUG [0m Registering schema load_balancer_interface
00:26:28.882 gohan.db.sql INFO [0m Creating table: create table `load_balancer_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`load_balancer_id`varchar(255) not null,`name`text null,`network_id`varchar(255) null,`operational_state`text not null,`orchestration_state`text not null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `load_balancer_interface_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) ,CONSTRAINT `load_balancer_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `load_balancer_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m00:26:28.982 gohan.db DEBUG [0m Registering schema load_balancer_syslog_server
00:26:28.982 gohan.db.sql INFO [0m Creating table: create table `load_balancer_syslog_servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`acl_logging`text not null,`appflow_logging`text not null,`comment`text not null,`date_format`text not null,`description`text null,`id`varchar(255) primary key,`ip_address`text not null,`load_balancer_id`varchar(255) not null,`log_facility`text not null,`log_level`text not null,`name`text not null,`orchestration_state`text not null,`port_number`numeric not null,`priority`numeric not null,`status`text not null,`tcp_logging`text not null,`tenant_id`text null,`time_zone`text not null,`transport_type`text not null,`user_configurable_log_messages`text not null,`vserver_ip_address`text not null,`vserver_port_id`text not null,CONSTRAINT `load_balancer_syslog_server_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) );
[36m00:26:29.022 gohan.db DEBUG [0m Registering schema billing_usage
00:26:29.022 gohan.db.sql INFO [0m Creating table: create table `billing_usages` (`id`varchar(255) primary key,`tenant_id`varchar(255) not null,CONSTRAINT `billing_usage_tenant_id_fk` FOREIGN KEY (`tenant_id`) REFERENCES `tenants`(id) );
[36m00:26:29.063 gohan.db DEBUG [0m Registering schema billing_resource
00:26:29.063 gohan.db.sql INFO [0m Creating table: create table `billing_resources` (`config_version`numeric null,`ended`numeric null,`id`varchar(255) primary key,`info`text not null,`parent_billing_id`varchar(255) null,`resource_id`text not null,`resource_type`text not null,`started`numeric null,`tenant_id`text not null,`unique_resource_id`varchar(255) null unique,CONSTRAINT `billing_resource_parent_billing_id_fk` FOREIGN KEY (`parent_billing_id`) REFERENCES `billing_resources`(id) );
[36m00:26:29.103 gohan.db DEBUG [0m Registering schema monitoring
00:26:29.104 gohan.db.sql INFO [0m Creating table: create table `monitorings` (`id`varchar(255) primary key);
[36m00:26:29.146 gohan.db DEBUG [0m Registering schema monitoring_history
00:26:29.146 gohan.db.sql INFO [0m Creating table: create table `monitoring_historys` (`created`numeric null,`deleted`numeric null,`id`varchar(255) primary key,`namespace`text null,`notify`boolean not null,`resource_id`varchar(255) null unique,`resource_type`text null,`tenant_id`text null,`zabbix_endpoint`text null);
[36m00:26:29.183 gohan.db DEBUG [0m Registering schema colocation_space
00:26:29.183 gohan.db.sql INFO [0m Creating table: create table `colocation_spaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`connectable_device_ids`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`tenant_id`text null);
[36m00:26:29.220 gohan.db DEBUG [0m Registering schema colocation_physical_link
00:26:29.220 gohan.db.sql INFO [0m Creating table: create table `colocation_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `colocation_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `colocation_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m00:26:29.339 gohan.db DEBUG [0m Registering schema colocation_logical_link
00:26:29.340 gohan.db.sql INFO [0m Creating table: create table `colocation_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`colocation_physical_link_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `colocation_logical_link_colocation_physical_link_id_fk` FOREIGN KEY (`colocation_physical_link_id`) REFERENCES `colocation_physical_links`(id) ,CONSTRAINT `colocation_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `colocation_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `colocation_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
[36m00:26:29.431 gohan.db DEBUG [0m Registering schema tenant_connection
00:26:29.431 gohan.db.sql INFO [0m Creating table: create table `tenant_connections` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`approval_request_id`text not null,`connected_interface`text not null,`connected_network`text not null,`description`text not null,`id`varchar(255) primary key,`interface_type`text not null,`name`text not null,`progress`text not null,`request_keystone_user_id`text null,`tenant_id`text null);
[36m00:26:29.464 gohan.db DEBUG [0m Registering schema hosting_physical_link
00:26:29.464 gohan.db.sql INFO [0m Creating table: create table `hosting_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `hosting_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `hosting_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m00:26:29.558 gohan.db DEBUG [0m Registering schema hosting_logical_link
00:26:29.558 gohan.db.sql INFO [0m Creating table: create table `hosting_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`schema_version`int not null default 0,`description`text not null,`hosting_physical_link_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `hosting_logical_link_hosting_physical_link_id_fk` FOREIGN KEY (`hosting_physical_link_id`) REFERENCES `hosting_physical_links`(id) ,CONSTRAINT `hosting_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `hosting_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `hosting_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
00:26:29.622 gohan.server.core INFO [0m Importing data from ./init/heat_templates.yaml ...
00:26:29.625 gohan.db INFO [0m Populating resources for schema schema
00:26:29.629 gohan.db INFO [0m Populating resources for schema policy
00:26:29.633 gohan.db INFO [0m Populating resources for schema extension
00:26:29.635 gohan.db INFO [0m Populating resources for schema event
00:26:29.636 gohan.db INFO [0m Populating resources for schema namespace
00:26:29.638 gohan.db INFO [0m Populating resources for schema location
00:26:29.640 gohan.db INFO [0m Populating resources for schema ese_device
00:26:29.642 gohan.db INFO [0m Populating resources for schema network
00:26:29.644 gohan.db INFO [0m Populating resources for schema subnet
00:26:29.646 gohan.db INFO [0m Populating resources for schema port
00:26:29.647 gohan.db INFO [0m Populating resources for schema security_group
00:26:29.649 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:29.651 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:29.653 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:29.655 gohan.db INFO [0m Populating resources for schema server
00:26:29.657 gohan.db INFO [0m Populating resources for schema physical_port
00:26:29.659 gohan.db INFO [0m Populating resources for schema quota
00:26:29.661 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:29.663 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:29.665 gohan.db INFO [0m Populating resources for schema heat_template
00:26:29.669 gohan.db INFO [0m Creating resource network
00:26:29.671 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,network,{"admin_state_up":"Padmin_state_up","heat_timeout":"C3","name":"Pid","uuid":"Pid"},heat_template_version: 2013-05-23

description: >
  Network template

parameters:
  uuid:
    type: string
    label: Virtual Network UUID
    description: UUID of the virtual network that will be created.
    default: ""
  name:
    type: string
    label: Virtual Network Name
    description: Name of the virtual network that will be created.
  forwarding_mode:
    type: string
    label: Forwarding Mode
    description: Forwarding Mode.
    default: 'l2_l3'
  route_targets:
    type: comma_delimited_list
    label: Route Targets list
    default: []
  shared:
    type: boolean
    label: Shared Network
    default: false
  external:
    type: boolean
    label: External Network
    default: true
  allow_transit:
    type: boolean
    label: Allow Transit
    default: false
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true

resources:
  network:
    type: OS::Contrail::VirtualNetwork
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      forwarding_mode: { get_param: forwarding_mode }
      route_targets: { get_param: route_targets }
      shared: { get_param: shared }
      admin_state_up: { get_param: admin_state_up }

outputs:
  id:
    description: A unique id for the virtual network.
    value: { get_resource: network }
  name:
    description: The name of the virtual network.
    value: { get_attr: [network, name] }
  fq_name:
    description: The FQ name of the virtual network.
    value: { get_attr: [network, fq_name] }
  route_targets:
    description: The name of the virtual network.
    value: { get_attr: [network, route_targets] }
,[])'
00:26:29.676 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"network\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"heat_timeout\":\"C3\",\"name\":\"Pid\",\"uuid\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Network template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Virtual Network UUID\\n    description: UUID of the virtual network that will be created.\\n    default: \\\"\\\"\\n  name:\\n    type: string\\n    label: Virtual Network Name\\n    description: Name of the virtual network that will be created.\\n  forwarding_mode:\\n    type: string\\n    label: Forwarding Mode\\n    description: Forwarding Mode.\\n    default: 'l2_l3'\\n  route_targets:\\n    type: comma_delimited_list\\n    label: Route Targets list\\n    default: []\\n  shared:\\n    type: boolean\\n    label: Shared Network\\n    default: false\\n  external:\\n    type: boolean\\n    label: External Network\\n    default: true\\n  allow_transit:\\n    type: boolean\\n    label: Allow Transit\\n    default: false\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n\\nresources:\\n  network:\\n    type: OS::Contrail::VirtualNetwork\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      forwarding_mode: { get_param: forwarding_mode }\\n      route_targets: { get_param: route_targets }\\n      shared: { get_param: shared }\\n      admin_state_up: { get_param: admin_state_up }\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual network.\\n    value: { get_resource: network }\\n  name:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, name] }\\n  fq_name:\\n    description: The FQ name of the virtual network.\\n    value: { get_attr: [network, fq_name] }\\n  route_targets:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, route_targets] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/network,1548980789,create,false)'
00:26:29.680 gohan.db INFO [0m Creating resource subnet
00:26:29.684 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,subnet,{"allocation_pools":"Pallocation_pools","cidr":"Pcidr","dhcp_server_address":"Pdhcp_server_address","dns_nameservers":"Pdns_nameservers","enable_dhcp":"Penable_dhcp","gateway_ip":"Pgateway_ip","heat_timeout":"C3","host_routes":"Phost_routes","ipam":"Cdefault-domain:default-project:default-network-ipam","name":"Pid","network_id":"Mnetwork:network_id:id","ntp_servers":"Pntp_servers"},heat_template_version: 2013-05-23

description: >
  Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  network_id:
    type: string
    label: Network ID
    description: ID of the network for which subnet will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  gateway_ip:
    default: "0.0.0.0"
    type: string
    label: Default Gateway
    description: Default gateway for the local subnet that will be created.
  ipam:
    type: string
    label: IP Address Management
    description: IPAM for the local subnet that will be created.
    default: ''
  enable_dhcp:
    type: boolean
    label: Enable DHCP
    description: Enable DHCP
    default: true
  dhcp_server_address:
    type: string
    label: DHCP Server address
    description: DHCP Server address
    default: "0.0.0.0"
  allocation_pools:
    type: string
    label: Allocation Pools
    description: Allocation Pools
    default: []
  dns_nameservers:
    type: comma_delimited_list
    label: DNS Nameservers List
    description: DNS Nameservers List
    default: []
  ntp_servers:
    type: comma_delimited_list
    label: NTP Nameservers List
    description: NTP Nameservers List
    default: []
  host_routes:
    type: json
    label: Host Routes
    description: Host Routes
    default: []

resources:
  subnet:
    type: OS::Contrail::VnSubnet
    properties:
      name: { get_param: name }
      network_id: { get_param: network_id }
      ip_prefix: { get_param: cidr }
      default_gateway: { get_param: gateway_ip }
      ipam: { get_param: ipam }
      enable_dhcp: { get_param: enable_dhcp }
      dns_server_address: { get_param: dhcp_server_address }
      dns_nameservers: { get_param: dns_nameservers }
      ntp_servers: { get_param: ntp_servers }
      host_routes: { get_param: host_routes }
      allocation_pools: { get_param: allocation_pools }
      gateway_is_vrouter: false

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
  network_id:
    description: A unique id for the network.
    value: { get_attr: [subnet, network_id] }
  ip_prefix:
    description: IP prefix of local subnet.
    value: { get_attr: [subnet, ip_prefix] }
  default_gateway:
    description: Default gateway of local subnet.
    value: { get_attr: [subnet, default_gateway] }
  ipam:
    description: IPAM this local subnet uses.
    value: { get_attr: [subnet, ipam] }
)'
00:26:29.692 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"subnet\",\"parameter_mappings\":{\"allocation_pools\":\"Pallocation_pools\",\"cidr\":\"Pcidr\",\"dhcp_server_address\":\"Pdhcp_server_address\",\"dns_nameservers\":\"Pdns_nameservers\",\"enable_dhcp\":\"Penable_dhcp\",\"gateway_ip\":\"Pgateway_ip\",\"heat_timeout\":\"C3\",\"host_routes\":\"Phost_routes\",\"ipam\":\"Cdefault-domain:default-project:default-network-ipam\",\"name\":\"Pid\",\"network_id\":\"Mnetwork:network_id:id\",\"ntp_servers\":\"Pntp_servers\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  network_id:\\n    type: string\\n    label: Network ID\\n    description: ID of the network for which subnet will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  gateway_ip:\\n    default: \\\"0.0.0.0\\\"\\n    type: string\\n    label: Default Gateway\\n    description: Default gateway for the local subnet that will be created.\\n  ipam:\\n    type: string\\n    label: IP Address Management\\n    description: IPAM for the local subnet that will be created.\\n    default: ''\\n  enable_dhcp:\\n    type: boolean\\n    label: Enable DHCP\\n    description: Enable DHCP\\n    default: true\\n  dhcp_server_address:\\n    type: string\\n    label: DHCP Server address\\n    description: DHCP Server address\\n    default: \\\"0.0.0.0\\\"\\n  allocation_pools:\\n    type: string\\n    label: Allocation Pools\\n    description: Allocation Pools\\n    default: []\\n  dns_nameservers:\\n    type: comma_delimited_list\\n    label: DNS Nameservers List\\n    description: DNS Nameservers List\\n    default: []\\n  ntp_servers:\\n    type: comma_delimited_list\\n    label: NTP Nameservers List\\n    description: NTP Nameservers List\\n    default: []\\n  host_routes:\\n    type: json\\n    label: Host Routes\\n    description: Host Routes\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::VnSubnet\\n    properties:\\n      name: { get_param: name }\\n      network_id: { get_param: network_id }\\n      ip_prefix: { get_param: cidr }\\n      default_gateway: { get_param: gateway_ip }\\n      ipam: { get_param: ipam }\\n      enable_dhcp: { get_param: enable_dhcp }\\n      dns_server_address: { get_param: dhcp_server_address }\\n      dns_nameservers: { get_param: dns_nameservers }\\n      ntp_servers: { get_param: ntp_servers }\\n      host_routes: { get_param: host_routes }\\n      allocation_pools: { get_param: allocation_pools }\\n      gateway_is_vrouter: false\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n  network_id:\\n    description: A unique id for the network.\\n    value: { get_attr: [subnet, network_id] }\\n  ip_prefix:\\n    description: IP prefix of local subnet.\\n    value: { get_attr: [subnet, ip_prefix] }\\n  default_gateway:\\n    description: Default gateway of local subnet.\\n    value: { get_attr: [subnet, default_gateway] }\\n  ipam:\\n    description: IPAM this local subnet uses.\\n    value: { get_attr: [subnet, ipam] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/subnet)'
00:26:29.698 gohan.db INFO [0m Creating resource port
00:26:29.705 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"admin_state_up":"Padmin_state_up","device_owner":"Pdevice_owner","heat_timeout":"C13","jinja_attached":"Pattached","jinja_device_owner":"Pdevice_owner","jinja_fixed_ips":"Pfixed_ips","jinja_force_dependency_cfg":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:common_function_gateway"}]},"then_mapping":{"field":"id","ignore_missing":true,"path":[{"id":"device_id","type":"common_function_gateway"}]}},"jinja_force_dependency_gw_interface":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:gw_interface"}]},"then_mapping":{"field":"id","path":[{"id":"device_id","type":"gw_interface"}]}},"jinja_subnets":{"for_field":"fixed_ips","for_mapping":{"output_key":"id","path":[{"id":"subnet_id","type":"subnet"}]}},"name":"Pid","security_groups":"Psecurity_groups","tenant_id":"Ptenant_id","uuid":"Pid","version":"Vauto_filled","virtual_machine":"Pdevice_id","virtual_machine_interface_allowed_address_pairs":"Pallowed_address_pairs","virtual_machine_interface_mac_address":"Pmac_address","virtual_network":"Mnetwork:network_id:id"},heat_template_version: 2013-05-23

description: >
  Virtual Machine Interface Template

parameters:
  uuid:
    type: string
    label: Backend Virtual Machine Interface UUID
    description: A unique id for the Virtual Machine Interface.
  name:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  security_groups:
    type: json
    default: []
    label: Security Groups List
    description: The IDs of security groups applied to the port.
  virtual_machine_interface_allowed_address_pairs:
    type: json
    label: Virtual machine interface allowed address pairs.
  virtual_machine_interface_mac_address:
    type: string
    default: "fe:ff:ff:ff:ff:ff"
    label: Virtual machine interface mac address.
  virtual_network:
    type: string
    label: Virtual Network.
  virtual_machine:
    type: string
    label: Virtual Machine.
    default: ""
  device_owner:
    type: string
    label: Device Owner
    default: ""
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  virtual_machine_interface:
    type: OS::Contrail::VirtualMachineInterface
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }
      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]
      virtual_networks: [ { get_param: virtual_network } ]
      virtual_machine: { get_param: virtual_machine }
      device_owner: { get_param: device_owner }
      admin_state_up: { get_param: admin_state_up }
      security_groups: { get_param: security_groups }

{% for fixed_ip in jinja_fixed_ips %}
{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}
  {{ instance_ip_id }}:
    type: OS::Contrail::InstanceIp
    properties:
      name:
        str_replace:
          template: '%name%_%zone%_%ip%'
          params:
            "%name%": { get_param: name }
            "%zone%": {{ fixed_ip.subnet_id }}
            "%ip%": {{ fixed_ip.ip_address }}
      ip_address: {{ fixed_ip.ip_address }}
      subnet_id: {{ jinja_subnets[loop.index0] }}
      network_id: { get_param: virtual_network }
      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]
{% endfor %}

{% if jinja_device_owner and jinja_attached %}
  vmi_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: virtual_machine_interface
      resource_type: ports
      resource_id: { get_param: uuid }
      field_name: vmi
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        fq_name: { get_attr: [virtual_machine_interface, fq_name] }
      syncer_properties:
        etcd:
          status:
            key: vmi
          hold_options:
            positive_status:
              - UP
              - DOWN
            time_seconds: 210
        tsdb:
          traffic.in:
            metric: traffic.bps
            tags:
              resource_id: { get_param: uuid }
              direction: in
          traffic.out:
            metric: traffic.bps
            tags:
              resource_id: { get_param: uuid }
              direction: out
    depends_on: virtual_machine_interface
{% endif %}

outputs:
  id:
    description: A unique id for the virtual machine interface.
    value: { get_resource: virtual_machine_interface }
  mac_address:
    description: Virtual machine interface mac address.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }
  virtual_network:
    description: Virtual network.
    value: { get_attr: [virtual_machine_interface, virtual_networks] }
  fq_name:
    description: Fully Qualified Name of the VMI
    value: { get_attr: [virtual_machine_interface, fq_name] }
{% if jinja_device_owner and jinja_attached %}
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vmi_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vmi_monitor, link] }
{% endif %}
,[],heat_worker,port)'
00:26:29.721 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"port\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"device_owner\":\"Pdevice_owner\",\"heat_timeout\":\"C13\",\"jinja_attached\":\"Pattached\",\"jinja_device_owner\":\"Pdevice_owner\",\"jinja_fixed_ips\":\"Pfixed_ips\",\"jinja_force_dependency_cfg\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:common_function_gateway\"}]},\"then_mapping\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"device_id\",\"type\":\"common_function_gateway\"}]}},\"jinja_force_dependency_gw_interface\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:gw_interface\"}]},\"then_mapping\":{\"field\":\"id\",\"path\":[{\"id\":\"device_id\",\"type\":\"gw_interface\"}]}},\"jinja_subnets\":{\"for_field\":\"fixed_ips\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]}},\"name\":\"Pid\",\"security_groups\":\"Psecurity_groups\",\"tenant_id\":\"Ptenant_id\",\"uuid\":\"Pid\",\"version\":\"Vauto_filled\",\"virtual_machine\":\"Pdevice_id\",\"virtual_machine_interface_allowed_address_pairs\":\"Pallowed_address_pairs\",\"virtual_machine_interface_mac_address\":\"Pmac_address\",\"virtual_network\":\"Mnetwork:network_id:id\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Virtual Machine Interface Template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Backend Virtual Machine Interface UUID\\n    description: A unique id for the Virtual Machine Interface.\\n  name:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  security_groups:\\n    type: json\\n    default: []\\n    label: Security Groups List\\n    description: The IDs of security groups applied to the port.\\n  virtual_machine_interface_allowed_address_pairs:\\n    type: json\\n    label: Virtual machine interface allowed address pairs.\\n  virtual_machine_interface_mac_address:\\n    type: string\\n    default: \\\"fe:ff:ff:ff:ff:ff\\\"\\n    label: Virtual machine interface mac address.\\n  virtual_network:\\n    type: string\\n    label: Virtual Network.\\n  virtual_machine:\\n    type: string\\n    label: Virtual Machine.\\n    default: \\\"\\\"\\n  device_owner:\\n    type: string\\n    label: Device Owner\\n    default: \\\"\\\"\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  virtual_machine_interface:\\n    type: OS::Contrail::VirtualMachineInterface\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\\n      virtual_networks: [ { get_param: virtual_network } ]\\n      virtual_machine: { get_param: virtual_machine }\\n      device_owner: { get_param: device_owner }\\n      admin_state_up: { get_param: admin_state_up }\\n      security_groups: { get_param: security_groups }\\n\\n{% for fixed_ip in jinja_fixed_ips %}\\n{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}\\n  {{ instance_ip_id }}:\\n    type: OS::Contrail::InstanceIp\\n    properties:\\n      name:\\n        str_replace:\\n          template: '%name%_%zone%_%ip%'\\n          params:\\n            \\\"%name%\\\": { get_param: name }\\n            \\\"%zone%\\\": {{ fixed_ip.subnet_id }}\\n            \\\"%ip%\\\": {{ fixed_ip.ip_address }}\\n      ip_address: {{ fixed_ip.ip_address }}\\n      subnet_id: {{ jinja_subnets[loop.index0] }}\\n      network_id: { get_param: virtual_network }\\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\\n{% endfor %}\\n\\n{% if jinja_device_owner and jinja_attached %}\\n  vmi_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: virtual_machine_interface\\n      resource_type: ports\\n      resource_id: { get_param: uuid }\\n      field_name: vmi\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        fq_name: { get_attr: [virtual_machine_interface, fq_name] }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: vmi\\n          hold_options:\\n            positive_status:\\n              - UP\\n              - DOWN\\n            time_seconds: 210\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bps\\n            tags:\\n              resource_id: { get_param: uuid }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bps\\n            tags:\\n              resource_id: { get_param: uuid }\\n              direction: out\\n    depends_on: virtual_machine_interface\\n{% endif %}\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual machine interface.\\n    value: { get_resource: virtual_machine_interface }\\n  mac_address:\\n    description: Virtual machine interface mac address.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\\n  allowed_address_pairs:\\n    description: Virtual machine allowed address pairs.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\\n  virtual_network:\\n    description: Virtual network.\\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\\n  fq_name:\\n    description: Fully Qualified Name of the VMI\\n    value: { get_attr: [virtual_machine_interface, fq_name] }\\n{% if jinja_device_owner and jinja_attached %}\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vmi_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vmi_monitor, link] }\\n{% endif %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/port)'
00:26:29.730 gohan.db INFO [0m Creating resource ese_physical_port_existing
00:26:29.733 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,ese_physical_port_existing,{"device_ip":"Fese_device+ese_device_id:management_ip_address","gohan_id":"Pid","heat_timeout":"C6","physical_device_hostname":"Fese_device+ese_device_id:hostname","physical_port_name":"Pname","tenant_id":"Ptenant_id","version":"Vauto_filled"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device_hostname:
    type: string
    label: Physical Device Hostname
    description: Hostname of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ESE Physical Port
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address.
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  physical_interface:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: physical_device_hostname }
        - { get_param: physical_port_name }
      resource_type: "physical_interface"

  interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_status
      resource_type: ese_physical_ports
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: port
      properties:
        device_ip: { get_param: device_ip }
        if_name: { get_param: physical_port_name }
        community_name: ESE_NODE_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: port
    depends_on: physical_interface

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: interface_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [interface_monitor, link] }
)'
00:26:29.740 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_existing\",\"parameter_mappings\":{\"device_ip\":\"Fese_device+ese_device_id:management_ip_address\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C6\",\"physical_device_hostname\":\"Fese_device+ese_device_id:hostname\",\"physical_port_name\":\"Pname\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device_hostname:\\n    type: string\\n    label: Physical Device Hostname\\n    description: Hostname of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ESE Physical Port\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address.\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: physical_device_hostname }\\n        - { get_param: physical_port_name }\\n      resource_type: \\\"physical_interface\\\"\\n\\n  interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_status\\n      resource_type: ese_physical_ports\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: port\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        if_name: { get_param: physical_port_name }\\n        community_name: ESE_NODE_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: port\\n    depends_on: physical_interface\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: interface_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [interface_monitor, link] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_physical_port_existing)'
00:26:29.745 gohan.db INFO [0m Creating resource ese_physical_port_new
00:26:29.747 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (ese_physical_port_new,{"device_ip":"Fese_device+ese_device_id:management_ip_address","gohan_id":"Pid","heat_timeout":"C6","physical_device":"Mese_device:ese_device_id:id","physical_port_name":"Pname","tenant_id":"Ptenant_id","version":"Vauto_filled"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device:
    type: string
    label: Physical Device Id
    description: Id of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ESE Physical Port
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address.
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  physical_interface:
    type: OS::Contrail::PhysicalInterface
    properties:
      name: { get_param: physical_port_name }
      physical_router: { get_param: physical_device }

  interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_status
      resource_type: ese_physical_ports
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: port
      properties:
        device_ip: { get_param: device_ip }
        if_name: { get_param: physical_port_name }
        community_name: ESE_NODE_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: port
    depends_on: physical_interface

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: interface_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [interface_monitor, link] }
,[],heat_worker)'
00:26:29.753 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ese_physical_port_new,1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_new\",\"parameter_mappings\":{\"device_ip\":\"Fese_device+ese_device_id:management_ip_address\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C6\",\"physical_device\":\"Mese_device:ese_device_id:id\",\"physical_port_name\":\"Pname\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device:\\n    type: string\\n    label: Physical Device Id\\n    description: Id of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ESE Physical Port\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address.\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::PhysicalInterface\\n    properties:\\n      name: { get_param: physical_port_name }\\n      physical_router: { get_param: physical_device }\\n\\n  interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_status\\n      resource_type: ese_physical_ports\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: port\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        if_name: { get_param: physical_port_name }\\n        community_name: ESE_NODE_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: port\\n    depends_on: physical_interface\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: interface_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [interface_monitor, link] }\\n\",\"watch\":[]}",1)'
00:26:29.760 gohan.db INFO [0m Creating resource ese_logical_port
00:26:29.766 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,ese_logical_port,{"device_ip":"Fese_physical_port+ese_physical_port_id:ese_device+ese_device_id:management_ip_address","gohan_id":"Pid","heat_timeout":"C6","jinja_port_ids":"Pport_ids","logical_port_name":"Pname","logical_port_type":"Ptype","logical_port_vlan_id":"Pvlan_id","physical_port_id":"Mese_physical_port:ese_physical_port_id:id","tenant_id":"Ptenant_id","version":"Vauto_filled","virtual_machine_interface_ids":{"for_field":"port_ids","for_mapping":{"output_key":"id","path":[{"id":"","type":"port"}]}}},heat_template_version: 2013-05-23

description: >
  Logical port template

parameters:
  physical_port_id:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  logical_port_name:
    type: string
    label: Logical Port Name
    description: Name of the logical port.
  logical_port_type:
    type: string
    label: Logical Port Type
    description: Type of the logical port.
  logical_port_vlan_id:
    type: number
    label: VLAN id for Logical Port
    description: VLAN id to use for logical port creation.
    default: 0
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface ID
    description: Virtual Machine Interface ID.
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ESE Physical Port
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address.
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  logical_interface:
    type: OS::Contrail::LogicalInterface
    properties:
      name: { get_param: logical_port_name }
      physical_interface: { get_param: physical_port_id }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }
      type: { get_param: logical_port_type }
      vlan: { get_param: logical_port_vlan_id }

  interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports
      resource_type: ese_logical_ports
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: logical_port
      properties:
        device_ip: { get_param: device_ip }
        if_name: { get_param: logical_port_name }
        community_name: ESE_NODE_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: logical_port
          hold_options:
            positive_status:
              - UP
              - DOWN
            time_seconds: 30
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              {% for port_id in jinja_port_ids %}
              -  resource_id: { get_param: gohan_id }
                 port_id: {{ port_id }}
                 direction: in
              {% endfor %}
          traffic.out:
            metric: traffic.bytes
            tags:
              {% for port_id in jinja_port_ids %}
              -  resource_id: { get_param: gohan_id }
                 port_id: {{ port_id }}
                 direction: out
              {% endfor %}
    depends_on: logical_interface

outputs:
  id:
    description: A unique id for the logical interface
    value: { get_resource: logical_interface }
  name:
    description: The name of the logical interface.
    value: { get_attr: [logical_interface, name] }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: interface_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [interface_monitor, link] }
,[])'
00:26:29.777 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_logical_port\",\"parameter_mappings\":{\"device_ip\":\"Fese_physical_port+ese_physical_port_id:ese_device+ese_device_id:management_ip_address\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C6\",\"jinja_port_ids\":\"Pport_ids\",\"logical_port_name\":\"Pname\",\"logical_port_type\":\"Ptype\",\"logical_port_vlan_id\":\"Pvlan_id\",\"physical_port_id\":\"Mese_physical_port:ese_physical_port_id:id\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"virtual_machine_interface_ids\":{\"for_field\":\"port_ids\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"\",\"type\":\"port\"}]}}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Logical port template\\n\\nparameters:\\n  physical_port_id:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  logical_port_name:\\n    type: string\\n    label: Logical Port Name\\n    description: Name of the logical port.\\n  logical_port_type:\\n    type: string\\n    label: Logical Port Type\\n    description: Type of the logical port.\\n  logical_port_vlan_id:\\n    type: number\\n    label: VLAN id for Logical Port\\n    description: VLAN id to use for logical port creation.\\n    default: 0\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface ID\\n    description: Virtual Machine Interface ID.\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ESE Physical Port\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address.\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  logical_interface:\\n    type: OS::Contrail::LogicalInterface\\n    properties:\\n      name: { get_param: logical_port_name }\\n      physical_interface: { get_param: physical_port_id }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n      type: { get_param: logical_port_type }\\n      vlan: { get_param: logical_port_vlan_id }\\n\\n  interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports\\n      resource_type: ese_logical_ports\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: logical_port\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        if_name: { get_param: logical_port_name }\\n        community_name: ESE_NODE_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: logical_port\\n          hold_options:\\n            positive_status:\\n              - UP\\n              - DOWN\\n            time_seconds: 30\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              {% for port_id in jinja_port_ids %}\\n              -  resource_id: { get_param: gohan_id }\\n                 port_id: {{ port_id }}\\n                 direction: in\\n              {% endfor %}\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              {% for port_id in jinja_port_ids %}\\n              -  resource_id: { get_param: gohan_id }\\n                 port_id: {{ port_id }}\\n                 direction: out\\n              {% endfor %}\\n    depends_on: logical_interface\\n\\noutputs:\\n  id:\\n    description: A unique id for the logical interface\\n    value: { get_resource: logical_interface }\\n  name:\\n    description: The name of the logical interface.\\n    value: { get_attr: [logical_interface, name] }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: interface_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [interface_monitor, link] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_logical_port)'
00:26:29.784 gohan.db INFO [0m Creating resource local_subnet
00:26:29.786 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,local_subnet,{"cidr":"Pcidr","name":"Pid"},heat_template_version: 2013-05-23

description: >
  Local Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface IDs
    description: Virtual Machine Interface IDs.
    default: []

resources:
  subnet:
    type: OS::Contrail::Subnet
    properties:
      name: { get_param: name }
      ip_prefix: { get_param: cidr }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
,[])'
00:26:29.789 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"local_subnet\",\"parameter_mappings\":{\"cidr\":\"Pcidr\",\"name\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Local Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface IDs\\n    description: Virtual Machine Interface IDs.\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::Subnet\\n    properties:\\n      name: { get_param: name }\\n      ip_prefix: { get_param: cidr }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/local_subnet)'
00:26:29.792 gohan.db INFO [0m Creating resource ese_device_existing
00:26:29.796 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,ese_device_existing,{"device_ip":"Pmanagement_ip_address","gohan_id":"Pid","heat_timeout":"C6","hostname":"Phostname","name":"Pname","tenant_id":"Ptenant_id","version":"Vauto_filled"},heat_template_version: 2013-05-23

description: >
  ESE Device (existing) template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  hostname:
    type: string
    label: Hostname
    description: Name of host (vrouter) to create router on
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ESE Device
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address.
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  physical_router:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: hostname }
      resource_type: "physical_router"

  device_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_device
      resource_type: ese_devices
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: switch
      properties:
        device_ip: { get_param: device_ip }
        community_name: ESE_NODE_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: switch
    depends_on: physical_router

outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: device_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [device_monitor, link] }
,[])'
00:26:29.802 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ese_device_existing,1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_device_existing\",\"parameter_mappings\":{\"device_ip\":\"Pmanagement_ip_address\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C6\",\"hostname\":\"Phostname\",\"name\":\"Pname\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  ESE Device (existing) template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  hostname:\\n    type: string\\n    label: Hostname\\n    description: Name of host (vrouter) to create router on\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ESE Device\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address.\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: hostname }\\n      resource_type: \\\"physical_router\\\"\\n\\n  device_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_device\\n      resource_type: ese_devices\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: switch\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        community_name: ESE_NODE_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: switch\\n    depends_on: physical_router\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: device_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [device_monitor, link] }\\n\",\"watch\":[]}")'
00:26:29.807 gohan.db INFO [0m Creating resource ese_device_new
00:26:29.813 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,ese_device_new,{"dataplane_ip":"Ppublic_ip_address","gohan_id":"Pid","heat_timeout":"C6","management_ip":"Pmanagement_ip_address","name":"Phostname","password":"***","product_name":"Pname","tenant_id":"Ptenant_id","tor_agent_names":"Ptor_agent_names","tsn_names":"Ptsn_names","username":"Pusername","vendor_name":"CJuniper","version":"Vauto_filled","vnc_managed":"CFalse"},heat_template_version: 2013-05-23

description: >
  Physical router template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  tor_agent_names:
    type: comma_delimited_list
    label: TOR Agent Names
    description: List of virtual router names of TOR agents.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  tsn_names:
    type: comma_delimited_list
    label: TOR Service Node Names
    description: List of virtual router names of TOR service nodes.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  management_ip:
    type: string
    label: Management IP Address
    description: Management IP Address.
  dataplane_ip:
    type: string
    label: Dataplane IP Address
    description: Dataplane Address.
  vendor_name:
    type: string
    default: ""
    label: Vendor Name
    description: Vendor name of the physical router.
  product_name:
    type: string
    default: ""
    label: Product Name
    description: Product name of the physical router.
  vnc_managed:
    type: boolean
    default: False
    label: VNC managed
    description: VNC managed.
  username:
    type: string
    label: Username
    description: Username used to login to the physical router.
  password:
***   type: string
    label: Password
    description: Password used to login to the physical router.
    hidden: true
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ESE Device
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  physical_router:
    type: OS::Contrail::PhysicalRouter
    properties:
      name: { get_param: name }
      virtual_routers:
        'Fn::Split':
          - ','
          - 'Fn::Join':
            - ','
            - - 'Fn::Join': [',', get_param: tor_agent_names ]
              - 'Fn::Join': [',', get_param: tsn_names ]
      management_ip: { get_param: management_ip }
      dataplane_ip: { get_param: dataplane_ip }
      vendor_name: { get_param: vendor_name }
      product_name: { get_param: product_name }
      vnc_managed: { get_param: vnc_managed }
      user_credentials:
        username: { get_param: username }
        password: *** get_param: password }

  device_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_device
      resource_type: ese_devices
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: switch
      properties:
        device_ip: { get_param: management_ip }
        community_name: ESE_NODE_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: switch
    depends_on: physical_router

outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
  vendor_name:
    description: The vendor name of the physical router.
    value: { get_attr: [physical_router, vendor_name] }
  product_name:
    description: The product name of the physical router.
    value: { get_attr: [physical_router, product_name] }
  management_ip:
    description: The managment IP of the physical router.
    value: { get_attr: [physical_router, management_ip] }
  dataplane_ip:
    description: The dataplane IP of the physical router.
    value: { get_attr: [physical_router, dataplane_ip] }
  vnc_managed:
    description: Physical rotuer vnc managed.
    value: { get_attr: [physical_router, vnc_managed] }
  virtual_routers:
    description: List of virtual routers.
    value: { get_attr: [physical_router, virtual_routers] }
  physical_interfaces:
    description: List of physical interfaces attached.
    value: { get_attr: [physical_router, physical_interfaces] }
  logical_interfaces:
    description: List of logical interfaces attached.
    value: { get_attr: [physical_router, logical_interfaces] }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: device_monitor }
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [device_monitor, link] }
,[])'
00:26:29.825 gohan.db.sql INFO [0m Executing SQL query in transaction 'd175aad6-d8a5-4f1e-9b9f-5db3b62aaac7': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ese_device_new,1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_device_new\",\"parameter_mappings\":{\"dataplane_ip\":\"Ppublic_ip_address\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C6\",\"management_ip\":\"Pmanagement_ip_address\",\"name\":\"Phostname\",\"password\":\"***\",\"product_name\":\"Pname\",\"tenant_id\":\"Ptenant_id\",\"tor_agent_names\":\"Ptor_agent_names\",\"tsn_names\":\"Ptsn_names\",\"username\":\"Pusername\",\"vendor_name\":\"CJuniper\",\"version\":\"Vauto_filled\",\"vnc_managed\":\"CFalse\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical router template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  tor_agent_names:\\n    type: comma_delimited_list\\n    label: TOR Agent Names\\n    description: List of virtual router names of TOR agents.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  tsn_names:\\n    type: comma_delimited_list\\n    label: TOR Service Node Names\\n    description: List of virtual router names of TOR service nodes.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  management_ip:\\n    type: string\\n    label: Management IP Address\\n    description: Management IP Address.\\n  dataplane_ip:\\n    type: string\\n    label: Dataplane IP Address\\n    description: Dataplane Address.\\n  vendor_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Vendor Name\\n    description: Vendor name of the physical router.\\n  product_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Product Name\\n    description: Product name of the physical router.\\n  vnc_managed:\\n    type: boolean\\n    default: False\\n    label: VNC managed\\n    description: VNC managed.\\n  username:\\n    type: string\\n    label: Username\\n    description: Username used to login to the physical router.\\n  password:***    type: string\\n    label: Password\\n    description: Password used to login to the physical router.\\n    hidden: true\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ESE Device\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::PhysicalRouter\\n    properties:\\n      name: { get_param: name }\\n      virtual_routers:\\n        'Fn::Split':\\n          - ','\\n          - 'Fn::Join':\\n            - ','\\n            - - 'Fn::Join': [',', get_param: tor_agent_names ]\\n              - 'Fn::Join': [',', get_param: tsn_names ]\\n      management_ip: { get_param: management_ip }\\n      dataplane_ip: { get_param: dataplane_ip }\\n      vendor_name: { get_param: vendor_name }\\n      product_name: { get_param: product_name }\\n      vnc_managed: { get_param: vnc_managed }\\n      user_credentials:\\n        username: { get_param: username }\\n        password: *** get_param: password }\\n\\n  device_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_device\\n      resource_type: ese_devices\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: switch\\n      properties:\\n        device_ip: { get_param: management_ip }\\n        community_name: ESE_NODE_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: switch\\n    depends_on: physical_router\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n  vendor_name:\\n    description: The vendor name of the physical router.\\n    value: { get_attr: [physical_router, vendor_name] }\\n  product_name:\\n    description: The product name of the physical router.\\n    value: { get_attr: [physical_router, product_name] }\\n  management_ip:\\n    description: The managment IP of the physical router.\\n    value: { get_attr: [physical_router, management_ip] }\\n  dataplane_ip:\\n    description: The dataplane IP of the physical router.\\n    value: { get_attr: [physical_router, dataplane_ip] }\\n  vnc_managed:\\n    description: Physical rotuer vnc managed.\\n    value: { get_attr: [physical_router, vnc_managed] }\\n  virtual_routers:\\n    description: List of virtual routers.\\n    value: { get_attr: [physical_router, virtual_routers] }\\n  physical_interfaces:\\n    description: List of physical interfaces attached.\\n    value: { get_attr: [physical_router, physical_interfaces] }\\n  logical_interfaces:\\n    description: List of logical interfaces attached.\\n    value: { get_attr: [physical_router, logical_interfaces] }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: device_monitor }\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [device_monitor, link] }\\n\",\"watch\":[]}")'
00:26:29.831 gohan.db INFO [0m Populating resources for schema worker_data
00:26:29.833 gohan.db INFO [0m Populating resources for schema tenant
00:26:29.835 gohan.db INFO [0m Populating resources for schema edge_router
00:26:29.837 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:29.839 gohan.db INFO [0m Populating resources for schema ha_router
00:26:29.841 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:29.843 gohan.db INFO [0m Populating resources for schema internet_service
00:26:29.844 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:29.847 gohan.db INFO [0m Populating resources for schema aws_service
00:26:29.849 gohan.db INFO [0m Populating resources for schema azure_service
00:26:29.850 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:29.855 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:29.856 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:29.858 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:29.860 gohan.db INFO [0m Populating resources for schema common_function
00:26:29.862 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:29.864 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:29.866 gohan.db INFO [0m Populating resources for schema qos_option
00:26:29.868 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:29.870 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:29.872 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:29.873 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:29.875 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:29.877 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:29.879 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:29.880 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:29.886 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:29.889 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:29.891 gohan.db INFO [0m Populating resources for schema public_ip
00:26:29.893 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:29.896 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:29.898 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:29.900 gohan.db INFO [0m Populating resources for schema static_route
00:26:29.902 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:29.905 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:29.907 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:29.909 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:29.911 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:29.913 gohan.db INFO [0m Populating resources for schema firewall
00:26:29.916 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:29.919 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:29.923 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:29.926 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:29.929 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:29.930 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:29.932 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:29.934 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:29.936 gohan.db INFO [0m Populating resources for schema monitoring
00:26:29.943 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:29.945 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:29.948 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:29.950 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:29.953 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:29.954 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:29.956 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:29.975 gohan.server.core INFO [0m Importing data from ./init/gateway_base_templates.yaml ...
00:26:29.976 gohan.db INFO [0m Populating resources for schema schema
00:26:29.976 gohan.db INFO [0m Populating resources for schema policy
00:26:29.977 gohan.db INFO [0m Populating resources for schema extension
00:26:29.977 gohan.db INFO [0m Populating resources for schema event
00:26:29.977 gohan.db INFO [0m Populating resources for schema namespace
00:26:29.978 gohan.db INFO [0m Populating resources for schema location
00:26:29.978 gohan.db INFO [0m Populating resources for schema ese_device
00:26:29.978 gohan.db INFO [0m Populating resources for schema network
00:26:29.979 gohan.db INFO [0m Populating resources for schema subnet
00:26:29.979 gohan.db INFO [0m Populating resources for schema port
00:26:29.980 gohan.db INFO [0m Populating resources for schema security_group
00:26:29.980 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:29.981 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:29.981 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:29.982 gohan.db INFO [0m Populating resources for schema server
00:26:29.984 gohan.db INFO [0m Populating resources for schema physical_port
00:26:29.984 gohan.db INFO [0m Populating resources for schema quota
00:26:29.985 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:29.985 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:29.986 gohan.db INFO [0m Populating resources for schema heat_template
00:26:29.988 gohan.db INFO [0m Creating resource edge_router
00:26:29.989 gohan.db.sql INFO [0m Executing SQL query in transaction '793a0112-2178-4b83-843a-0cfa4bba0cbd': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (edge_router,{"device_ip":"Pip","gohan_id":"Pid","heat_timeout":"C3","tenant_id":"Ptenant_id","version":"Vauto_filled"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the Edge Router
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  device_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_device
      resource_type: edge_routers
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: router
      properties:
        device_ip: { get_param: device_ip }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: router

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: device_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [device_monitor, link]}
,[],heat_worker)'
00:26:29.993 gohan.db.sql INFO [0m Executing SQL query in transaction '793a0112-2178-4b83-843a-0cfa4bba0cbd': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980789,create,false,"{\"handler\":\"heat_worker\",\"id\":\"edge_router\",\"parameter_mappings\":{\"device_ip\":\"Pip\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C3\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the Edge Router\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  device_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_device\\n      resource_type: edge_routers\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: router\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: router\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: device_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [device_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/edge_router)'
00:26:29.997 gohan.db INFO [0m Creating resource er_physical_interface
00:26:29.999 gohan.db.sql INFO [0m Executing SQL query in transaction '793a0112-2178-4b83-843a-0cfa4bba0cbd': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,er_physical_interface,{"device_ip":"Fedge_router+device_id:ip","gohan_id":"Pid","heat_timeout":"C3","if_name":"Pname","tenant_id":"Ptenant_id","version":"Vauto_filled"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  if_name:
    type: string
    label: Interface Name
    description: Name of the ER Physical Interface
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the ER Physical Interface
  device_ip:
    type: string
    label: Device IP Address
    description: Device IP Address
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
  interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_status
      resource_type: er_physical_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: interface
      properties:
        device_ip: { get_param: device_ip }
        if_name: { get_param: if_name }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: interface

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: interface_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [interface_monitor, link]}
)'
00:26:30.004 gohan.db.sql INFO [0m Executing SQL query in transaction '793a0112-2178-4b83-843a-0cfa4bba0cbd': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"er_physical_interface\",\"parameter_mappings\":{\"device_ip\":\"Fedge_router+device_id:ip\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C3\",\"if_name\":\"Pname\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  if_name:\\n    type: string\\n    label: Interface Name\\n    description: Name of the ER Physical Interface\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the ER Physical Interface\\n  device_ip:\\n    type: string\\n    label: Device IP Address\\n    description: Device IP Address\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n  interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_status\\n      resource_type: er_physical_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: interface\\n      properties:\\n        device_ip: { get_param: device_ip }\\n        if_name: { get_param: if_name }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: interface\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: interface_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [interface_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/er_physical_interface)'
00:26:30.006 gohan.db INFO [0m Populating resources for schema worker_data
00:26:30.006 gohan.db INFO [0m Populating resources for schema tenant
00:26:30.007 gohan.db INFO [0m Populating resources for schema edge_router
00:26:30.007 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:30.008 gohan.db INFO [0m Populating resources for schema ha_router
00:26:30.008 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:30.008 gohan.db INFO [0m Populating resources for schema internet_service
00:26:30.009 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:30.009 gohan.db INFO [0m Populating resources for schema aws_service
00:26:30.009 gohan.db INFO [0m Populating resources for schema azure_service
00:26:30.010 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:30.010 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:30.010 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:30.011 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:30.011 gohan.db INFO [0m Populating resources for schema common_function
00:26:30.011 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:30.012 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:30.012 gohan.db INFO [0m Populating resources for schema qos_option
00:26:30.013 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:30.013 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:30.014 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:30.014 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:30.014 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:30.015 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:30.015 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:30.015 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:30.016 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:30.016 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:30.016 gohan.db INFO [0m Populating resources for schema public_ip
00:26:30.017 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:30.017 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:30.017 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:30.018 gohan.db INFO [0m Populating resources for schema static_route
00:26:30.018 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:30.018 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:30.019 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:30.019 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:30.020 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:30.020 gohan.db INFO [0m Populating resources for schema firewall
00:26:30.020 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:30.021 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:30.021 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:30.021 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:30.022 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:30.022 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:30.022 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:30.023 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:30.023 gohan.db INFO [0m Populating resources for schema monitoring
00:26:30.023 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:30.024 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:30.024 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:30.024 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:30.025 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:30.025 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:30.026 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:30.035 gohan.server.core INFO [0m Importing data from ./init/igs_templates.yaml ...
00:26:30.038 gohan.db INFO [0m Populating resources for schema schema
00:26:30.040 gohan.db INFO [0m Populating resources for schema policy
00:26:30.044 gohan.db INFO [0m Populating resources for schema extension
00:26:30.046 gohan.db INFO [0m Populating resources for schema event
00:26:30.048 gohan.db INFO [0m Populating resources for schema namespace
00:26:30.050 gohan.db INFO [0m Populating resources for schema location
00:26:30.053 gohan.db INFO [0m Populating resources for schema ese_device
00:26:30.055 gohan.db INFO [0m Populating resources for schema network
00:26:30.057 gohan.db INFO [0m Populating resources for schema subnet
00:26:30.060 gohan.db INFO [0m Populating resources for schema port
00:26:30.062 gohan.db INFO [0m Populating resources for schema security_group
00:26:30.065 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:30.067 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:30.069 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:30.073 gohan.db INFO [0m Populating resources for schema server
00:26:30.080 gohan.db INFO [0m Populating resources for schema physical_port
00:26:30.082 gohan.db INFO [0m Populating resources for schema quota
00:26:30.085 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:30.088 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:30.091 gohan.db INFO [0m Populating resources for schema heat_template
00:26:30.095 gohan.db INFO [0m Creating resource internet_gateway
00:26:30.119 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"counter_name_in":"APvrf_name\u0026C_IN","counter_name_out":"APvrf_name\u0026C_OUT","filter_term_name":"APvrf_name\u0026C_filter","gohan_id":"Pid","heat_timeout":"C60","inet_in_filter":"Finternet_service+internet_service_id:inet_in_filter","inet_out_filter":"Finternet_service+internet_service_id:inet_out_filter","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","jinja_vrf_config":"Finternet_service+internet_service_id:vrf_config","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","prefix_list_name":"APvrf_name\u0026C_prefix","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Pprimary_logical_interface_name","primary_device_password":"***","primary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_vrrp_config_group":"Finternet_service+internet_service_id:primary_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Psecondary_logical_interface_name","secondary_device_password":"***","secondary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_vrrp_config_group":"Finternet_service+internet_service_id:secondary_vrrp_config_group","tenant_id":"Ptenant_id","uplink_import_policy":"Finternet_service+internet_service_id:uplink_import_policy","version":"Vauto_filled","vlan":"Pvlan_id","vrf_export_policy":"Finternet_service+internet_service_id:vrf_export_policy","vrf_import_policy":"Finternet_service+internet_service_id:vrf_import_policy","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  Internet GW Instance

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: Physical port on the Primary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_physical_interface:
    description: Physical port on the Secondary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical interface on the Secondary device
    label: Logical Interface name
    type: string
  vlan:
    description: vlan tag used by logical interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interface
    label: VRF name
    type: string
  vrf_import_policy:
    description: Import Policy for IGS
    label: Import Policy
    type: string
  vrf_export_policy:
    description: Export Policy for IGS
    label: Export Policy
    type: string
  uplink_import_policy:
    description: Uplink Import Policy for IGS
    label: Uplink Import Policy
    type: string
  input_filter_name:
    description: Policer name to use as input policer
    label: Input policer name
    type: string
  output_filter_name:
    description: Policer name to use as output policer
    label: Output policer name
    type: string
  primary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  secondary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  inet_in_filter:
    label: Internet Input Filter
    type: string
  inet_out_filter:
    label: Internet Output Filter
    type: string
  prefix_list_name:
    label: Prefix list name
    type: string
  filter_term_name:
    label: Filter term name
    type: string
  counter_name_in:
    type: string
    label: Input counter name
  counter_name_out:
    type: string
    label: Output counter name
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      on_update: merge
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_vrrp_config_group
              $VLAN:
                get_param: vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description inet_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
      - config:
          str_replace:
            params:
              $LIF:
                get_param: {{ device }}_device_logical_interface
              $IMPORT_POLICY:
                get_param: vrf_import_policy
              $EXPORT_POLICY:
                get_param: vrf_export_policy
            template: |
                instance-type virtual-router;
                interface $LIF;
                routing-options instance-import $IMPORT_POLICY;
                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}
                {{ jinja_vrf_config }}{% endif %}
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VRF_NAME:
                get_param: vrf_name
            template: |
              from instance $VRF_NAME;
              then accept;
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: policy-statement
            name: { get_param: uplink_import_policy }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: vrf_name }
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  destination-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_IN;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_in_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_IN:
                get_param: inet_in_filter
            template: |
              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  source-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_OUT;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_out_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_OUT:
                get_param: inet_out_filter
            template: |
              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}

{% for device in ["primary", "secondary"] %}
  {{ device }}_igs_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: igs_counter
      resource_type: internet_gateways
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_counter
      properties:
        counter_name_in: { get_param: counter_name_in }
        counter_name_out: { get_param: counter_name_out }
        host: { get_param: {{ device }}_device_ip }
        port: { get_param: {{ device }}_device_port }
        login: { get_param: {{ device }}_device_username }
        password: *** get_param: {{ device }}_device_password }
        primary_device_ip: { get_param: primary_device_ip }
        secondary_device_ip: { get_param: secondary_device_ip }
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: netconf_configure_secondary
{% endfor %}

outputs:
{% for device in ["primary", "secondary"] %}
  {{ device }}_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_igs_metric_monitor}
  {{ device }}_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_igs_metric_monitor, link]}
{% endfor %}
,[],heat_worker,internet_gateway)'
00:26:30.156 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"internet_gateway\",\"parameter_mappings\":{\"counter_name_in\":\"APvrf_name\\u0026C_IN\",\"counter_name_out\":\"APvrf_name\\u0026C_OUT\",\"filter_term_name\":\"APvrf_name\\u0026C_filter\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C60\",\"inet_in_filter\":\"Finternet_service+internet_service_id:inet_in_filter\",\"inet_out_filter\":\"Finternet_service+internet_service_id:inet_out_filter\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"jinja_vrf_config\":\"Finternet_service+internet_service_id:vrf_config\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"prefix_list_name\":\"APvrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Pprimary_logical_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_vrrp_config_group\":\"Finternet_service+internet_service_id:primary_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Psecondary_logical_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_vrrp_config_group\":\"Finternet_service+internet_service_id:secondary_vrrp_config_group\",\"tenant_id\":\"Ptenant_id\",\"uplink_import_policy\":\"Finternet_service+internet_service_id:uplink_import_policy\",\"version\":\"Vauto_filled\",\"vlan\":\"Pvlan_id\",\"vrf_export_policy\":\"Finternet_service+internet_service_id:vrf_export_policy\",\"vrf_import_policy\":\"Finternet_service+internet_service_id:vrf_import_policy\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet GW Instance\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: Physical port on the Primary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_interface:\\n    description: Physical port on the Secondary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vlan:\\n    description: vlan tag used by logical interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interface\\n    label: VRF name\\n    type: string\\n  vrf_import_policy:\\n    description: Import Policy for IGS\\n    label: Import Policy\\n    type: string\\n  vrf_export_policy:\\n    description: Export Policy for IGS\\n    label: Export Policy\\n    type: string\\n  uplink_import_policy:\\n    description: Uplink Import Policy for IGS\\n    label: Uplink Import Policy\\n    type: string\\n  input_filter_name:\\n    description: Policer name to use as input policer\\n    label: Input policer name\\n    type: string\\n  output_filter_name:\\n    description: Policer name to use as output policer\\n    label: Output policer name\\n    type: string\\n  primary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  inet_in_filter:\\n    label: Internet Input Filter\\n    type: string\\n  inet_out_filter:\\n    label: Internet Output Filter\\n    type: string\\n  prefix_list_name:\\n    label: Prefix list name\\n    type: string\\n  filter_term_name:\\n    label: Filter term name\\n    type: string\\n  counter_name_in:\\n    type: string\\n    label: Input counter name\\n  counter_name_out:\\n    type: string\\n    label: Output counter name\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      on_update: merge\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_vrrp_config_group\\n              $VLAN:\\n                get_param: vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description inet_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIF:\\n                get_param: {{ device }}_device_logical_interface\\n              $IMPORT_POLICY:\\n                get_param: vrf_import_policy\\n              $EXPORT_POLICY:\\n                get_param: vrf_export_policy\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIF;\\n                routing-options instance-import $IMPORT_POLICY;\\n                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}\\n                {{ jinja_vrf_config }}{% endif %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n              from instance $VRF_NAME;\\n              then accept;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policy-statement\\n            name: { get_param: uplink_import_policy }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: vrf_name }\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  destination-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_IN;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_in_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_IN:\\n                get_param: inet_in_filter\\n            template: |\\n              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  source-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_OUT;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_out_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_OUT:\\n                get_param: inet_out_filter\\n            template: |\\n              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_igs_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: igs_counter\\n      resource_type: internet_gateways\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_counter\\n      properties:\\n        counter_name_in: { get_param: counter_name_in }\\n        counter_name_out: { get_param: counter_name_out }\\n        host: { get_param: {{ device }}_device_ip }\\n        port: { get_param: {{ device }}_device_port }\\n        login: { get_param: {{ device }}_device_username }\\n        password: *** get_param: {{ device }}_device_password }\\n        primary_device_ip: { get_param: primary_device_ip }\\n        secondary_device_ip: { get_param: secondary_device_ip }\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: netconf_configure_secondary\\n{% endfor %}\\n\\noutputs:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_igs_metric_monitor}\\n  {{ device }}_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_igs_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/internet_gateway)'
00:26:30.181 gohan.db INFO [0m Creating resource static_route_internet
00:26:30.186 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_internet,{"heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"next_hop":"Pnexthop","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Internet Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
00:26:30.196 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_internet,1548980790,create)'
00:26:30.203 gohan.db INFO [0m Creating resource gw_interface_internet
00:26:30.216 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (gw_interface_internet,{"bgp_group_name":"Cinet-gw-group","gohan_id":"Pid","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"jinja_force_dependency":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group","primary_logical_interface_name":"Finternet_gateway+internet_gw_id:primary_logical_interface_name","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group","secondary_logical_interface_name":"Finternet_gateway+internet_gw_id:secondary_logical_interface_name","tenant_id":"Ptenant_id","version":"Vauto_filled","vlan":"Finternet_gateway+internet_gw_id:vlan_id","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vlan:
    description: Vlan tag for mx logical interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP
              local-address $DEVICE_GW_IP;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
,[],heat_worker)'
00:26:30.244 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_internet\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"gohan_id\":\"Pid\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"jinja_force_dependency\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group\",\"primary_logical_interface_name\":\"Finternet_gateway+internet_gw_id:primary_logical_interface_name\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group\",\"secondary_logical_interface_name\":\"Finternet_gateway+internet_gw_id:secondary_logical_interface_name\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"vlan\":\"Finternet_gateway+internet_gw_id:vlan_id\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vlan:\\n    description: Vlan tag for mx logical interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              local-address $DEVICE_GW_IP;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_internet)'
00:26:30.261 gohan.db INFO [0m Creating resource qos_option_internet
00:26:30.270 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_internet,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Finternet_service+internet_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Finternet_service+internet_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Finternet_service+internet_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
00:26:30.305 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Finternet_service+internet_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Finternet_service+internet_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Finternet_service+internet_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_internet)'
00:26:30.318 gohan.db INFO [0m Creating resource public_ip
00:26:30.323 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  prefix_list_name:
    label: Prefix List name.
    type: string
  ip_cidr:
    label: Public IP CIDR
    type: string
  ip_mask:
    label: Public IP CIDR
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
          - config_type: name
            xml_type: named_tag
            tag: prefix-list-item
            name:
              str_replace:
                params:
                  $CIDR:
                    { get_param: ip_cidr }
                  $MASK:
                    { get_param: ip_mask }
                template: |
                  $CIDR/$MASK
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,public_ip,{"heat_timeout":"C60","ip_cidr":"Pcidr","ip_mask":"Psubmask_length","prefix_list_name":"AFinternet_gateway+internet_gw_id:vrf_name\u0026C_prefix","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login"})'
00:26:30.333 gohan.db.sql INFO [0m Executing SQL query in transaction 'a909f7bf-4597-4ba3-89c2-2cce871cb215': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"public_ip\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"ip_cidr\":\"Pcidr\",\"ip_mask\":\"Psubmask_length\",\"prefix_list_name\":\"AFinternet_gateway+internet_gw_id:vrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  prefix_list_name:\\n    label: Prefix List name.\\n    type: string\\n  ip_cidr:\\n    label: Public IP CIDR\\n    type: string\\n  ip_mask:\\n    label: Public IP CIDR\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: prefix-list-item\\n            name:\\n              str_replace:\\n                params:\\n                  $CIDR:\\n                    { get_param: ip_cidr }\\n                  $MASK:\\n                    { get_param: ip_mask }\\n                template: |\\n                  $CIDR/$MASK\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/public_ip,1548980790)'
00:26:30.338 gohan.db INFO [0m Populating resources for schema worker_data
00:26:30.341 gohan.db INFO [0m Populating resources for schema tenant
00:26:30.346 gohan.db INFO [0m Populating resources for schema edge_router
00:26:30.348 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:30.351 gohan.db INFO [0m Populating resources for schema ha_router
00:26:30.353 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:30.355 gohan.db INFO [0m Populating resources for schema internet_service
00:26:30.358 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:30.360 gohan.db INFO [0m Populating resources for schema aws_service
00:26:30.363 gohan.db INFO [0m Populating resources for schema azure_service
00:26:30.365 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:30.367 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:30.369 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:30.374 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:30.377 gohan.db INFO [0m Populating resources for schema common_function
00:26:30.379 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:30.381 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:30.384 gohan.db INFO [0m Populating resources for schema qos_option
00:26:30.386 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:30.388 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:30.390 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:30.393 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:30.395 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:30.397 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:30.400 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:30.403 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:30.406 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:30.409 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:30.411 gohan.db INFO [0m Populating resources for schema public_ip
00:26:30.414 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:30.417 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:30.419 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:30.421 gohan.db INFO [0m Populating resources for schema static_route
00:26:30.424 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:30.427 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:30.429 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:30.432 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:30.435 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:30.440 gohan.db INFO [0m Populating resources for schema firewall
00:26:30.442 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:30.444 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:30.446 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:30.449 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:30.451 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:30.453 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:30.456 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:30.459 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:30.461 gohan.db INFO [0m Populating resources for schema monitoring
00:26:30.463 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:30.465 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:30.470 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:30.472 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:30.474 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:30.476 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:30.479 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:30.496 gohan.server.core INFO [0m Importing data from ./init/vpn_templates.yaml ...
00:26:30.499 gohan.db INFO [0m Populating resources for schema schema
00:26:30.501 gohan.db INFO [0m Populating resources for schema policy
00:26:30.504 gohan.db INFO [0m Populating resources for schema extension
00:26:30.506 gohan.db INFO [0m Populating resources for schema event
00:26:30.508 gohan.db INFO [0m Populating resources for schema namespace
00:26:30.511 gohan.db INFO [0m Populating resources for schema location
00:26:30.515 gohan.db INFO [0m Populating resources for schema ese_device
00:26:30.517 gohan.db INFO [0m Populating resources for schema network
00:26:30.522 gohan.db INFO [0m Populating resources for schema subnet
00:26:30.524 gohan.db INFO [0m Populating resources for schema port
00:26:30.527 gohan.db INFO [0m Populating resources for schema security_group
00:26:30.530 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:30.532 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:30.534 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:30.537 gohan.db INFO [0m Populating resources for schema server
00:26:30.539 gohan.db INFO [0m Populating resources for schema physical_port
00:26:30.542 gohan.db INFO [0m Populating resources for schema quota
00:26:30.547 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:30.550 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:30.552 gohan.db INFO [0m Populating resources for schema heat_template
00:26:30.557 gohan.db INFO [0m Creating resource qos_option_vpn
00:26:30.566 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_vpn,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Fvpn_service+vpn_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Fvpn_service+vpn_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Fvpn_service+vpn_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
00:26:30.586 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Fvpn_service+vpn_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Fvpn_service+vpn_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Fvpn_service+vpn_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_vpn,1548980790,create)'
00:26:30.600 gohan.db INFO [0m Creating resource vpn_gateway
00:26:30.610 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,vpn_gateway,{"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  VPN Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description vpn_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description CloudGW_vpn;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
00:26:30.642 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/vpn_gateway,1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"vpn_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description vpn_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description CloudGW_vpn;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:30.660 gohan.db INFO [0m Creating resource gw_interface_vpn
00:26:30.676 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gw_interface_vpn,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Fvpn_gateway+vpn_gw_id:downlink_vlan_id","gohan_id":"Pid","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group","primary_logical_interface_name":"Fvpn_gateway+vpn_gw_id:primary_logical_downlink_interface_name","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group","secondary_logical_interface_name":"Fvpn_gateway+vpn_gw_id:secondary_logical_downlink_interface_name","tenant_id":"Ptenant_id","version":"Vauto_filled","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
,[])'
00:26:30.704 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_vpn\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Fvpn_gateway+vpn_gw_id:downlink_vlan_id\",\"gohan_id\":\"Pid\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group\",\"primary_logical_interface_name\":\"Fvpn_gateway+vpn_gw_id:primary_logical_downlink_interface_name\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group\",\"secondary_logical_interface_name\":\"Fvpn_gateway+vpn_gw_id:secondary_logical_downlink_interface_name\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_vpn,1548980790,create)'
00:26:30.721 gohan.db INFO [0m Creating resource static_route_vpn
00:26:30.725 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_vpn,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  VPN Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
00:26:30.735 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/static_route_vpn,1548980790,create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:30.743 gohan.db INFO [0m Creating resource vpn_interface
00:26:30.760 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (vpn_interface,{"bgp_group_name":"CCloudGW1","gohan_id":"Pid","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Fvpn_gateway+vpn_gw_id:primary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Fvpn_gateway+vpn_gw_id:secondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","tenant_id":"Ptenant_id","uplink_vlan":"Fvpn_gateway+vpn_gw_id:uplink_vlan_id","version":"Vauto_filled","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VPN Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}

  bgp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: bgp_pool
      resource_type: vpn_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        instance: { get_param: vrf_name }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          peer_address: { get_param: primary_peer_ip }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          peer_address: { get_param: secondary_peer_ip }
      syncer_properties:
        etcd:
          status:
            key: status
    depends_on: netconf_configure_secondary

{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_metric
      resource_type: vpn_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_router
      properties:
        device_ip: { get_param: {{ device }}_device_ip }
        if_name: { get_param: {{ device }}_device_logical_interface }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: bgp_monitor
{% endfor %}

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: bgp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [bgp_monitor, link]}
{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_interface_metric_monitor}
  {{ device }}_interface_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}
{% endfor %}
,[],heat_worker)'
00:26:30.793 gohan.db.sql INFO [0m Executing SQL query in transaction 'dc43219b-0d5c-4825-820f-5ad9a2f81be9': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"vpn_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CCloudGW1\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Fvpn_gateway+vpn_gw_id:primary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Fvpn_gateway+vpn_gw_id:secondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"tenant_id\":\"Ptenant_id\",\"uplink_vlan\":\"Fvpn_gateway+vpn_gw_id:uplink_vlan_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VPN Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\\n  bgp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: bgp_pool\\n      resource_type: vpn_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        instance: { get_param: vrf_name }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          peer_address: { get_param: primary_peer_ip }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          peer_address: { get_param: secondary_peer_ip }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n    depends_on: netconf_configure_secondary\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_metric\\n      resource_type: vpn_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_router\\n      properties:\\n        device_ip: { get_param: {{ device }}_device_ip }\\n        if_name: { get_param: {{ device }}_device_logical_interface }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: bgp_monitor\\n{% endfor %}\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: bgp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [bgp_monitor, link]}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_interface_metric_monitor}\\n  {{ device }}_interface_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_interface,1548980790)'
00:26:30.810 gohan.db INFO [0m Populating resources for schema worker_data
00:26:30.813 gohan.db INFO [0m Populating resources for schema tenant
00:26:30.824 gohan.db INFO [0m Populating resources for schema edge_router
00:26:30.826 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:30.828 gohan.db INFO [0m Populating resources for schema ha_router
00:26:30.831 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:30.833 gohan.db INFO [0m Populating resources for schema internet_service
00:26:30.848 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:30.850 gohan.db INFO [0m Populating resources for schema aws_service
00:26:30.853 gohan.db INFO [0m Populating resources for schema azure_service
00:26:30.857 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:30.861 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:30.865 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:30.870 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:30.873 gohan.db INFO [0m Populating resources for schema common_function
00:26:30.877 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:30.881 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:30.884 gohan.db INFO [0m Populating resources for schema qos_option
00:26:30.888 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:30.890 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:30.893 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:30.895 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:30.897 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:30.899 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:30.902 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:30.904 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:30.906 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:30.909 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:30.911 gohan.db INFO [0m Populating resources for schema public_ip
00:26:30.913 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:30.920 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:30.922 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:30.924 gohan.db INFO [0m Populating resources for schema static_route
00:26:30.927 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:30.929 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:30.931 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:30.934 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:30.936 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:30.939 gohan.db INFO [0m Populating resources for schema firewall
00:26:30.941 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:30.946 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:30.949 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:30.951 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:30.953 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:30.956 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:30.958 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:30.960 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:30.963 gohan.db INFO [0m Populating resources for schema monitoring
00:26:30.965 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:30.967 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:30.969 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:30.977 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:30.980 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:30.984 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:30.988 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:31.001 gohan.server.core INFO [0m Importing data from ./init/aws_templates.yaml ...
00:26:31.005 gohan.db INFO [0m Populating resources for schema schema
00:26:31.010 gohan.db INFO [0m Populating resources for schema policy
00:26:31.014 gohan.db INFO [0m Populating resources for schema extension
00:26:31.018 gohan.db INFO [0m Populating resources for schema event
00:26:31.022 gohan.db INFO [0m Populating resources for schema namespace
00:26:31.032 gohan.db INFO [0m Populating resources for schema location
00:26:31.036 gohan.db INFO [0m Populating resources for schema ese_device
00:26:31.040 gohan.db INFO [0m Populating resources for schema network
00:26:31.044 gohan.db INFO [0m Populating resources for schema subnet
00:26:31.048 gohan.db INFO [0m Populating resources for schema port
00:26:31.052 gohan.db INFO [0m Populating resources for schema security_group
00:26:31.056 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:31.058 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:31.061 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:31.065 gohan.db INFO [0m Populating resources for schema server
00:26:31.067 gohan.db INFO [0m Populating resources for schema physical_port
00:26:31.072 gohan.db INFO [0m Populating resources for schema quota
00:26:31.074 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:31.077 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:31.079 gohan.db INFO [0m Populating resources for schema heat_template
00:26:31.084 gohan.db INFO [0m Creating resource qos_option_aws
00:26:31.094 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,qos_option_aws,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Faws_service+aws_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Faws_service+aws_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Faws_service+aws_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% set forewarding_class = be_forwarding_class if qos_type == "besteffort" else ga_forwarding_class %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
{% endfor %}
)'
00:26:31.119 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/qos_option_aws,1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Faws_service+aws_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Faws_service+aws_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Faws_service+aws_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% set forewarding_class = be_forwarding_class if qos_type == \\\"besteffort\\\" else ga_forwarding_class %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}")'
00:26:31.131 gohan.db INFO [0m Creating resource aws_gateway
00:26:31.149 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Faws_service+aws_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              vlan-id $VLAN;
              description AWS_Downlink;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description AWS_Uplink;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
{% endfor %}
,[],heat_worker,aws_gateway)'
00:26:31.180 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"aws_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              vlan-id $VLAN;\\n              description AWS_Downlink;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description AWS_Uplink;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_gateway,1548980791,create)'
00:26:31.194 gohan.db INFO [0m Creating resource gw_interface_aws
00:26:31.214 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gw_interface_aws,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Faws_gateway+aws_gw_id:downlink_vlan_id","gohan_id":"Pid","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Faws_gateway+aws_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group","primary_logical_interface_name":"Faws_gateway+aws_gw_id:primary_logical_downlink_interface_name","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group","secondary_logical_interface_name":"Faws_gateway+aws_gw_id:secondary_logical_downlink_interface_name","tenant_id":"Ptenant_id","version":"Vauto_filled","vrf_name":"Faws_gateway+aws_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
,[])'
00:26:31.263 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_aws\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Faws_gateway+aws_gw_id:downlink_vlan_id\",\"gohan_id\":\"Pid\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group\",\"primary_logical_interface_name\":\"Faws_gateway+aws_gw_id:primary_logical_downlink_interface_name\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group\",\"secondary_logical_interface_name\":\"Faws_gateway+aws_gw_id:secondary_logical_downlink_interface_name\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_aws,1548980791)'
00:26:31.284 gohan.db INFO [0m Creating resource static_route_aws
00:26:31.288 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[],heat_worker,static_route_aws)'
00:26:31.298 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/static_route_aws,1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:31.305 gohan.db INFO [0m Creating resource aws_interface
00:26:31.320 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (aws_interface,{"bgp_group_name":"CAWS-PE","gohan_id":"Pid","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Faws_gateway+aws_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Faws_gateway+aws_gw_id:primary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Faws_gateway+aws_gw_id:secondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","tenant_id":"Ptenant_id","uplink_vlan":"Faws_gateway+aws_gw_id:uplink_vlan_id","version":"Vauto_filled","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the AWS Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
{% endfor %}

  bgp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: bgp_pool
      resource_type: aws_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        instance: { get_param: vrf_name }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          peer_address: { get_param: primary_peer_ip }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          peer_address: { get_param: secondary_peer_ip }
      syncer_properties:
        etcd:
          status:
            key: status
    depends_on: netconf_configure_secondary

{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_metric
      resource_type: aws_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_router
      properties:
        device_ip: { get_param: {{ device }}_device_ip }
        if_name: { get_param: {{ device }}_device_logical_interface }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: bgp_monitor
{% endfor %}

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: bgp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [bgp_monitor, link]}
{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_interface_metric_monitor}
  {{ device }}_interface_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}
{% endfor %}
,[],heat_worker)'
00:26:31.353 gohan.db.sql INFO [0m Executing SQL query in transaction 'c958ab4d-c27f-4d5a-81c4-6f564aabe15d': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/aws_interface,1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"aws_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CAWS-PE\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Faws_gateway+aws_gw_id:primary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Faws_gateway+aws_gw_id:secondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"tenant_id\":\"Ptenant_id\",\"uplink_vlan\":\"Faws_gateway+aws_gw_id:uplink_vlan_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the AWS Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n{% endfor %}\\n\\n  bgp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: bgp_pool\\n      resource_type: aws_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        instance: { get_param: vrf_name }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          peer_address: { get_param: primary_peer_ip }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          peer_address: { get_param: secondary_peer_ip }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n    depends_on: netconf_configure_secondary\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_metric\\n      resource_type: aws_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_router\\n      properties:\\n        device_ip: { get_param: {{ device }}_device_ip }\\n        if_name: { get_param: {{ device }}_device_logical_interface }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: bgp_monitor\\n{% endfor %}\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: bgp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [bgp_monitor, link]}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_interface_metric_monitor}\\n  {{ device }}_interface_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:31.370 gohan.db INFO [0m Populating resources for schema worker_data
00:26:31.376 gohan.db INFO [0m Populating resources for schema tenant
00:26:31.378 gohan.db INFO [0m Populating resources for schema edge_router
00:26:31.381 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:31.383 gohan.db INFO [0m Populating resources for schema ha_router
00:26:31.385 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:31.388 gohan.db INFO [0m Populating resources for schema internet_service
00:26:31.390 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:31.392 gohan.db INFO [0m Populating resources for schema aws_service
00:26:31.395 gohan.db INFO [0m Populating resources for schema azure_service
00:26:31.397 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:31.400 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:31.407 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:31.411 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:31.415 gohan.db INFO [0m Populating resources for schema common_function
00:26:31.419 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:31.423 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:31.428 gohan.db INFO [0m Populating resources for schema qos_option
00:26:31.432 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:31.435 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:31.440 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:31.444 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:31.448 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:31.455 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:31.458 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:31.460 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:31.462 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:31.465 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:31.467 gohan.db INFO [0m Populating resources for schema public_ip
00:26:31.470 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:31.475 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:31.477 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:31.480 gohan.db INFO [0m Populating resources for schema static_route
00:26:31.486 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:31.489 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:31.491 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:31.493 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:31.496 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:31.498 gohan.db INFO [0m Populating resources for schema firewall
00:26:31.501 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:31.503 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:31.505 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:31.508 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:31.510 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:31.517 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:31.521 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:31.524 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:31.528 gohan.db INFO [0m Populating resources for schema monitoring
00:26:31.531 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:31.533 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:31.536 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:31.539 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:31.541 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:31.543 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:31.546 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:31.559 gohan.server.core INFO [0m Importing data from ./init/azure_templates.yaml ...
00:26:31.562 gohan.db INFO [0m Populating resources for schema schema
00:26:31.568 gohan.db INFO [0m Populating resources for schema policy
00:26:31.572 gohan.db INFO [0m Populating resources for schema extension
00:26:31.576 gohan.db INFO [0m Populating resources for schema event
00:26:31.580 gohan.db INFO [0m Populating resources for schema namespace
00:26:31.584 gohan.db INFO [0m Populating resources for schema location
00:26:31.588 gohan.db INFO [0m Populating resources for schema ese_device
00:26:31.592 gohan.db INFO [0m Populating resources for schema network
00:26:31.596 gohan.db INFO [0m Populating resources for schema subnet
00:26:31.598 gohan.db INFO [0m Populating resources for schema port
00:26:31.601 gohan.db INFO [0m Populating resources for schema security_group
00:26:31.603 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:31.612 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:31.618 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:31.620 gohan.db INFO [0m Populating resources for schema server
00:26:31.622 gohan.db INFO [0m Populating resources for schema physical_port
00:26:31.626 gohan.db INFO [0m Populating resources for schema quota
00:26:31.630 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:31.633 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:31.637 gohan.db INFO [0m Populating resources for schema heat_template
00:26:31.643 gohan.db INFO [0m Creating resource qos_option_azure
00:26:31.652 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_azure,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Fazure_service+azure_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Fazure_service+azure_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Fazure_service+azure_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
    hidden: true
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% set forewarding_class = be_forwarding_class if qos_type == "besteffort" else ga_forwarding_class %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
{% endfor %}
,[])'
00:26:31.677 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_azure\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Fazure_service+azure_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Fazure_service+azure_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Fazure_service+azure_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n    hidden: true\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% set forewarding_class = be_forwarding_class if qos_type == \\\"besteffort\\\" else ga_forwarding_class %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_azure)'
00:26:31.695 gohan.db INFO [0m Creating resource azure_gateway
00:26:31.706 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,azure_gateway,{"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Fazure_service+azure_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Fazure_service+azure_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  AZURE Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              vlan-id $VLAN;
              description AZURE_Downlink;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description AZURE_Uplink;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
{% endfor %}
,[])'
00:26:31.737 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"azure_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Fazure_service+azure_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Fazure_service+azure_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AZURE Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              vlan-id $VLAN;\\n              description AZURE_Downlink;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description AZURE_Uplink;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/azure_gateway,1548980791,create,false)'
00:26:31.758 gohan.db INFO [0m Creating resource gw_interface_azure
00:26:31.771 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
,[],heat_worker,gw_interface_azure,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Fazure_gateway+azure_gw_id:downlink_vlan_id","gohan_id":"Pid","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Fazure_gateway+azure_gw_id:azure_interface+connected_azure_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Fazure_gateway+azure_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_physical_interface":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:primary_ibgp_config_group","primary_logical_interface_name":"Fazure_gateway+azure_gw_id:primary_logical_downlink_interface_name","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_physical_interface":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:secondary_ibgp_config_group","secondary_logical_interface_name":"Fazure_gateway+azure_gw_id:secondary_logical_downlink_interface_name","tenant_id":"Ptenant_id","version":"Vauto_filled","vrf_name":"Fazure_gateway+azure_gw_id:vrf_name","vrrp_group":"Pvrid"})'
00:26:31.807 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/gw_interface_azure,1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_azure\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Fazure_gateway+azure_gw_id:downlink_vlan_id\",\"gohan_id\":\"Pid\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Fazure_gateway+azure_gw_id:azure_interface+connected_azure_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Fazure_gateway+azure_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:primary_ibgp_config_group\",\"primary_logical_interface_name\":\"Fazure_gateway+azure_gw_id:primary_logical_downlink_interface_name\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:secondary_ibgp_config_group\",\"secondary_logical_interface_name\":\"Fazure_gateway+azure_gw_id:secondary_logical_downlink_interface_name\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fazure_gateway+azure_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1)'
00:26:31.824 gohan.db INFO [0m Creating resource static_route_azure
00:26:31.828 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (static_route_azure,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Fazure_gateway+azure_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  AZURE Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[],heat_worker)'
00:26:31.838 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"static_route_azure\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Fazure_gateway+azure_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AZURE Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_azure,1548980791,create,false)'
00:26:31.846 gohan.db INFO [0m Creating resource azure_interface
00:26:31.861 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"bgp_group_name":"CAZURE-PE","gohan_id":"Pid","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Fazure_gateway+azure_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Fazure_gateway+azure_gw_id:primary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_interface":"Fazure_gateway+azure_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Fazure_gateway+azure_gw_id:secondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_interface":"Fazure_gateway+azure_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","tenant_id":"Ptenant_id","uplink_vlan":"Fazure_gateway+azure_gw_id:uplink_vlan_id","version":"Vauto_filled","vrf_name":"Fazure_gateway+azure_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the Azure Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
{% endfor %}

  bgp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: bgp_pool
      resource_type: azure_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        instance: { get_param: vrf_name }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          peer_address: { get_param: primary_peer_ip }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          peer_address: { get_param: secondary_peer_ip }
      syncer_properties:
        etcd:
          status:
            key: status
    depends_on: netconf_configure_secondary

{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_metric
      resource_type: azure_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_router
      properties:
        device_ip: { get_param: {{ device }}_device_ip }
        if_name: { get_param: {{ device }}_device_logical_interface }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: bgp_monitor
{% endfor %}

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: bgp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [bgp_monitor, link]}
{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_interface_metric_monitor}
  {{ device }}_interface_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}
{% endfor %}
,[],heat_worker,azure_interface)'
00:26:31.895 gohan.db.sql INFO [0m Executing SQL query in transaction 'a35b8ea9-39be-4de9-a233-bcbeeae25a70': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/azure_interface,1548980791,create,false,"{\"handler\":\"heat_worker\",\"id\":\"azure_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CAZURE-PE\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Fazure_gateway+azure_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Fazure_gateway+azure_gw_id:primary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fazure_gateway+azure_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Fazure_gateway+azure_gw_id:secondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fazure_gateway+azure_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fazure_gateway+azure_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Fazure_gateway+azure_gw_id:azure_service+azure_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"tenant_id\":\"Ptenant_id\",\"uplink_vlan\":\"Fazure_gateway+azure_gw_id:uplink_vlan_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fazure_gateway+azure_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the Azure Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n{% endfor %}\\n\\n  bgp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: bgp_pool\\n      resource_type: azure_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        instance: { get_param: vrf_name }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          peer_address: { get_param: primary_peer_ip }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          peer_address: { get_param: secondary_peer_ip }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n    depends_on: netconf_configure_secondary\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_metric\\n      resource_type: azure_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_router\\n      properties:\\n        device_ip: { get_param: {{ device }}_device_ip }\\n        if_name: { get_param: {{ device }}_device_logical_interface }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: bgp_monitor\\n{% endfor %}\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: bgp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [bgp_monitor, link]}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_interface_metric_monitor}\\n  {{ device }}_interface_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:31.912 gohan.db INFO [0m Populating resources for schema worker_data
00:26:31.915 gohan.db INFO [0m Populating resources for schema tenant
00:26:31.917 gohan.db INFO [0m Populating resources for schema edge_router
00:26:31.920 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:31.922 gohan.db INFO [0m Populating resources for schema ha_router
00:26:31.924 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:31.927 gohan.db INFO [0m Populating resources for schema internet_service
00:26:31.929 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:31.931 gohan.db INFO [0m Populating resources for schema aws_service
00:26:31.935 gohan.db INFO [0m Populating resources for schema azure_service
00:26:31.938 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:31.940 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:31.942 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:31.945 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:31.947 gohan.db INFO [0m Populating resources for schema common_function
00:26:31.949 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:31.952 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:31.954 gohan.db INFO [0m Populating resources for schema qos_option
00:26:31.956 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:31.959 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:31.961 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:31.964 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:31.967 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:31.969 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:31.971 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:31.974 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:31.976 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:31.978 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:31.980 gohan.db INFO [0m Populating resources for schema public_ip
00:26:31.983 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:31.985 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:31.988 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:31.991 gohan.db INFO [0m Populating resources for schema static_route
00:26:31.993 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:31.995 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:31.998 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:32.000 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:32.002 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:32.005 gohan.db INFO [0m Populating resources for schema firewall
00:26:32.007 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:32.009 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:32.012 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:32.015 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:32.017 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:32.021 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:32.023 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:32.026 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:32.028 gohan.db INFO [0m Populating resources for schema monitoring
00:26:32.030 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:32.033 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:32.035 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:32.037 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:32.040 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:32.042 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:32.045 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:32.124 gohan.server.core INFO [0m Importing data from ./init/gcp_templates.yaml ...
00:26:32.127 gohan.db INFO [0m Populating resources for schema schema
00:26:32.130 gohan.db INFO [0m Populating resources for schema policy
00:26:32.133 gohan.db INFO [0m Populating resources for schema extension
00:26:32.135 gohan.db INFO [0m Populating resources for schema event
00:26:32.138 gohan.db INFO [0m Populating resources for schema namespace
00:26:32.140 gohan.db INFO [0m Populating resources for schema location
00:26:32.142 gohan.db INFO [0m Populating resources for schema ese_device
00:26:32.144 gohan.db INFO [0m Populating resources for schema network
00:26:32.147 gohan.db INFO [0m Populating resources for schema subnet
00:26:32.149 gohan.db INFO [0m Populating resources for schema port
00:26:32.152 gohan.db INFO [0m Populating resources for schema security_group
00:26:32.154 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:32.156 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:32.159 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:32.161 gohan.db INFO [0m Populating resources for schema server
00:26:32.163 gohan.db INFO [0m Populating resources for schema physical_port
00:26:32.166 gohan.db INFO [0m Populating resources for schema quota
00:26:32.168 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:32.170 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:32.173 gohan.db INFO [0m Populating resources for schema heat_template
00:26:32.177 gohan.db INFO [0m Creating resource qos_option_gcp
00:26:32.186 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
    hidden: true
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% set forewarding_class = be_forwarding_class if qos_type == "besteffort" else ga_forwarding_class %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
{% endfor %}
,[],heat_worker,qos_option_gcp,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Fgcp_service+gcp_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Fgcp_service+gcp_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Fgcp_service+gcp_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"})'
00:26:32.204 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_gcp\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Fgcp_service+gcp_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Fgcp_service+gcp_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Fgcp_service+gcp_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n    hidden: true\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% set forewarding_class = be_forwarding_class if qos_type == \\\"besteffort\\\" else ga_forwarding_class %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_gcp,1548980792,create)'
00:26:32.216 gohan.db INFO [0m Creating resource gcp_gateway
00:26:32.227 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gcp_gateway,{"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Fgcp_service+gcp_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Fgcp_service+gcp_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  GCP Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              vlan-id $VLAN;
              description GCP_Downlink;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description GCP_Uplink;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
{% endfor %}
,[])'
00:26:32.249 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980792,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gcp_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Fgcp_service+gcp_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Fgcp_service+gcp_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  GCP Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              vlan-id $VLAN;\\n              description GCP_Downlink;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description GCP_Uplink;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gcp_gateway)'
00:26:32.273 gohan.db INFO [0m Creating resource gw_interface_gcp
00:26:32.285 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,gw_interface_gcp,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Fgcp_gateway+gcp_gw_id:downlink_vlan_id","gohan_id":"Pid","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Fgcp_gateway+gcp_gw_id:gcp_interface+connected_gcp_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Fgcp_gateway+gcp_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_physical_interface":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:primary_ibgp_config_group","primary_logical_interface_name":"Fgcp_gateway+gcp_gw_id:primary_logical_downlink_interface_name","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_physical_interface":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:secondary_ibgp_config_group","secondary_logical_interface_name":"Fgcp_gateway+gcp_gw_id:secondary_logical_downlink_interface_name","tenant_id":"Ptenant_id","version":"Vauto_filled","vrf_name":"Fgcp_gateway+gcp_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
)'
00:26:32.313 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/gw_interface_gcp,1548980792,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_gcp\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Fgcp_gateway+gcp_gw_id:downlink_vlan_id\",\"gohan_id\":\"Pid\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Fgcp_gateway+gcp_gw_id:gcp_interface+connected_gcp_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Fgcp_gateway+gcp_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:primary_ibgp_config_group\",\"primary_logical_interface_name\":\"Fgcp_gateway+gcp_gw_id:primary_logical_downlink_interface_name\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:secondary_ibgp_config_group\",\"secondary_logical_interface_name\":\"Fgcp_gateway+gcp_gw_id:secondary_logical_downlink_interface_name\",\"tenant_id\":\"Ptenant_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fgcp_gateway+gcp_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1)'
00:26:32.330 gohan.db INFO [0m Creating resource static_route_gcp
00:26:32.335 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_gcp,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"***","primary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"***","secondary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Fgcp_gateway+gcp_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  GCP Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[])'
00:26:32.345 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/static_route_gcp,1548980792,create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_gcp\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"***\",\"primary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"***\",\"secondary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Fgcp_gateway+gcp_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  GCP Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}")'
00:26:32.391 gohan.db INFO [0m Creating resource gcp_interface
00:26:32.409 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gcp_interface,{"bgp_group_name":"CGCP-PE","gohan_id":"Pid","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Fgcp_gateway+gcp_gw_id:local_as_number","primary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Fgcp_gateway+gcp_gw_id:primary_logical_uplink_interface_name","primary_device_password":"***","primary_device_physical_interface":"Fgcp_gateway+gcp_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Fgcp_gateway+gcp_gw_id:secondary_logical_uplink_interface_name","secondary_device_password":"***","secondary_device_physical_interface":"Fgcp_gateway+gcp_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","tenant_id":"Ptenant_id","uplink_vlan":"Fgcp_gateway+gcp_gw_id:uplink_vlan_id","version":"Vauto_filled","vrf_name":"Fgcp_gateway+gcp_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the AWS Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
{% endfor %}

  bgp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: bgp_pool
      resource_type: gcp_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        instance: { get_param: vrf_name }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          peer_address: { get_param: primary_peer_ip }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          peer_address: { get_param: secondary_peer_ip }
      syncer_properties:
        etcd:
          status:
            key: status
    depends_on: netconf_configure_secondary

{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_metric
      resource_type: gcp_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_router
      properties:
        device_ip: { get_param: {{ device }}_device_ip }
        if_name: { get_param: {{ device }}_device_logical_interface }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: bgp_monitor
{% endfor %}

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: bgp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [bgp_monitor, link]}
{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_interface_metric_monitor}
  {{ device }}_interface_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}
{% endfor %}
,[])'
00:26:32.440 gohan.db.sql INFO [0m Executing SQL query in transaction 'f74e0bd8-957f-4047-8a41-0995883bc0a3': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/gcp_interface,1548980792,create,false,"{\"handler\":\"heat_worker\",\"id\":\"gcp_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CGCP-PE\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Fgcp_gateway+gcp_gw_id:local_as_number\",\"primary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Fgcp_gateway+gcp_gw_id:primary_logical_uplink_interface_name\",\"primary_device_password\":\"***\",\"primary_device_physical_interface\":\"Fgcp_gateway+gcp_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Fgcp_gateway+gcp_gw_id:secondary_logical_uplink_interface_name\",\"secondary_device_password\":\"***\",\"secondary_device_physical_interface\":\"Fgcp_gateway+gcp_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fgcp_gateway+gcp_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Fgcp_gateway+gcp_gw_id:gcp_service+gcp_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"tenant_id\":\"Ptenant_id\",\"uplink_vlan\":\"Fgcp_gateway+gcp_gw_id:uplink_vlan_id\",\"version\":\"Vauto_filled\",\"vrf_name\":\"Fgcp_gateway+gcp_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the AWS Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n{% endfor %}\\n\\n  bgp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: bgp_pool\\n      resource_type: gcp_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        instance: { get_param: vrf_name }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          peer_address: { get_param: primary_peer_ip }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          peer_address: { get_param: secondary_peer_ip }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n    depends_on: netconf_configure_secondary\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_metric\\n      resource_type: gcp_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_router\\n      properties:\\n        device_ip: { get_param: {{ device }}_device_ip }\\n        if_name: { get_param: {{ device }}_device_logical_interface }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: bgp_monitor\\n{% endfor %}\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: bgp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [bgp_monitor, link]}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_interface_metric_monitor}\\n  {{ device }}_interface_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1)'
00:26:32.457 gohan.db INFO [0m Populating resources for schema worker_data
00:26:32.459 gohan.db INFO [0m Populating resources for schema tenant
00:26:32.461 gohan.db INFO [0m Populating resources for schema edge_router
00:26:32.464 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:32.466 gohan.db INFO [0m Populating resources for schema ha_router
00:26:32.469 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:32.472 gohan.db INFO [0m Populating resources for schema internet_service
00:26:32.474 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:32.477 gohan.db INFO [0m Populating resources for schema aws_service
00:26:32.479 gohan.db INFO [0m Populating resources for schema azure_service
00:26:32.481 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:32.483 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:32.486 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:32.488 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:32.490 gohan.db INFO [0m Populating resources for schema common_function
00:26:32.493 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:32.495 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:32.498 gohan.db INFO [0m Populating resources for schema qos_option
00:26:32.501 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:32.503 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:32.505 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:32.508 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:32.510 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:32.512 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:32.514 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:32.517 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:32.519 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:32.521 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:32.524 gohan.db INFO [0m Populating resources for schema public_ip
00:26:32.528 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:32.530 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:32.533 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:32.535 gohan.db INFO [0m Populating resources for schema static_route
00:26:32.537 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:32.539 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:32.542 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:32.544 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:32.546 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:32.549 gohan.db INFO [0m Populating resources for schema firewall
00:26:32.551 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:32.554 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:32.556 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:32.559 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:32.561 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:32.563 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:32.565 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:32.568 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:32.570 gohan.db INFO [0m Populating resources for schema monitoring
00:26:32.573 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:32.575 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:32.577 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:32.582 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:32.584 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:32.587 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:32.589 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:32.605 gohan.server.core INFO [0m Importing data from ./init/common_function_templates.yaml ...
00:26:32.608 gohan.db INFO [0m Populating resources for schema schema
00:26:32.610 gohan.db INFO [0m Populating resources for schema policy
00:26:32.612 gohan.db INFO [0m Populating resources for schema extension
00:26:32.614 gohan.db INFO [0m Populating resources for schema event
00:26:32.616 gohan.db INFO [0m Populating resources for schema namespace
00:26:32.618 gohan.db INFO [0m Populating resources for schema location
00:26:32.620 gohan.db INFO [0m Populating resources for schema ese_device
00:26:32.622 gohan.db INFO [0m Populating resources for schema network
00:26:32.624 gohan.db INFO [0m Populating resources for schema subnet
00:26:32.627 gohan.db INFO [0m Populating resources for schema port
00:26:32.630 gohan.db INFO [0m Populating resources for schema security_group
00:26:32.632 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:32.634 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:32.636 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:32.638 gohan.db INFO [0m Populating resources for schema server
00:26:32.640 gohan.db INFO [0m Populating resources for schema physical_port
00:26:32.641 gohan.db INFO [0m Populating resources for schema quota
00:26:32.643 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:32.645 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:32.647 gohan.db INFO [0m Populating resources for schema heat_template
00:26:32.651 gohan.db INFO [0m Creating resource common_function_gateway
00:26:32.673 gohan.db.sql INFO [0m Executing SQL query in transaction '24930b09-2e48-4f56-9f2e-cc5166b57b3b': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,common_function_gateway,{"gohan_id":{"field":"id"},"heat_timeout":"C60","jinja_common_service_numbers":{"for_field":"common_functions","for_mapping":{"field":"common_function_number","path":[{"id":"common_function_id","type":"common_function"}]}},"jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"subnet_id","type":"subnet"}]},"jinja_logical_tunnel_interface_name":{"field":"logical_tunnel_interface_name","path":["common_function_pool_id"]},"jinja_logical_tunnel_unit_service":{"field":"logical_tunnel_unit_service"},"jinja_logical_tunnel_unit_user":{"field":"logical_tunnel_unit_user"},"jinja_nat_ip":{"field":"nat_ip"},"jinja_service_interface_name":{"field":"service_interface_name","path":["common_function_pool_id"]},"jinja_service_vrf_name":{"field":"service_vrf_name","path":["common_function_pool_id"]},"jinja_snapt_group_name":{"field":"snapt_group_name","path":["common_function_pool_id"]},"jinja_snapt_pool_group_name":{"field":"snapt_pool_group_name","path":["common_function_pool_id"]},"jinja_vlan_id":{"field":"vlan_id"},"jinja_vrf_name":{"field":"vrf_name"},"jinja_vrids":{"for_field":{"field":"vrrp_config","path":["common_function_pool_id"]},"for_mapping":{"field":"vrid"}},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"tenant_id":{"field":"tenant_id"},"version":{"version":"auto_filled"}},heat_template_version: 2013-05-23

description: >
  Common Function Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the Common Function Gateway
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: |
          nat-rules {{ jinja_vrf_name }}-SNAPT;
          nat-rules {{ jinja_vrf_name }}-DNAT;
          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: named_tag
            xml_type: named_tag
            tag: service-set
            name: {{ jinja_vrf_name }}
      - config: |
          apply-groups {{ jinja_snapt_pool_group_name }};
          address {{ jinja_nat_ip }}/32;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-SNAPT-POOL
      - config: |
          apply-groups {{ jinja_snapt_group_name }};
          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-SNAPT
      {% for service_number in jinja_common_service_numbers %}
      - config: |
          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}
      {% endfor %}
      - config: |
          apply-groups {{ jinja_dnat_group_name }};
          {% for service_number in jinja_common_service_numbers %}
          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};
          {% endfor %}
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-DNAT
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_service }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_user }}
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_service }}
      - config: |
          family inet;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_service_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: |
          apply-groups {{ jinja_vrrp_group_name }};
          description {{ jinja_vrf_name }};
          vlan-id {{ jinja_vlan_id }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}
      - config:
          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: {{ jinja_nat_ip }}/32
      - config:
          str_replace:
            params:
              $DOWNLINK_INTERFACE:
                get_param: {{ device }}_device_logical_downlink_interface
            template: |
              instance-type virtual-router;
              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};
              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};
              interface $DOWNLINK_INTERFACE;
              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_vrf_name }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: common_function_gateways
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
        {% for vrid in jinja_vrids %}
          - {{ vrid }}
        {% endfor %}
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_device_logical_downlink_interface }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_device_logical_downlink_interface }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary_vrid1: MASTER
                secondary_vrid1: BACKUP
                primary_vrid2: MASTER
                secondary_vrid2: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
)'
00:26:32.720 gohan.db.sql INFO [0m Executing SQL query in transaction '24930b09-2e48-4f56-9f2e-cc5166b57b3b': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"common_function_gateway\",\"parameter_mappings\":{\"gohan_id\":{\"field\":\"id\"},\"heat_timeout\":\"C60\",\"jinja_common_service_numbers\":{\"for_field\":\"common_functions\",\"for_mapping\":{\"field\":\"common_function_number\",\"path\":[{\"id\":\"common_function_id\",\"type\":\"common_function\"}]}},\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]},\"jinja_logical_tunnel_interface_name\":{\"field\":\"logical_tunnel_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_logical_tunnel_unit_service\":{\"field\":\"logical_tunnel_unit_service\"},\"jinja_logical_tunnel_unit_user\":{\"field\":\"logical_tunnel_unit_user\"},\"jinja_nat_ip\":{\"field\":\"nat_ip\"},\"jinja_service_interface_name\":{\"field\":\"service_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_service_vrf_name\":{\"field\":\"service_vrf_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_group_name\":{\"field\":\"snapt_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_pool_group_name\":{\"field\":\"snapt_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_vlan_id\":{\"field\":\"vlan_id\"},\"jinja_vrf_name\":{\"field\":\"vrf_name\"},\"jinja_vrids\":{\"for_field\":{\"field\":\"vrrp_config\",\"path\":[\"common_function_pool_id\"]},\"for_mapping\":{\"field\":\"vrid\"}},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"version\":{\"version\":\"auto_filled\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the Common Function Gateway\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: |\\n          nat-rules {{ jinja_vrf_name }}-SNAPT;\\n          nat-rules {{ jinja_vrf_name }}-DNAT;\\n          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: service-set\\n            name: {{ jinja_vrf_name }}\\n      - config: |\\n          apply-groups {{ jinja_snapt_pool_group_name }};\\n          address {{ jinja_nat_ip }}/32;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-SNAPT-POOL\\n      - config: |\\n          apply-groups {{ jinja_snapt_group_name }};\\n          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-SNAPT\\n      {% for service_number in jinja_common_service_numbers %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}\\n      {% endfor %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_group_name }};\\n          {% for service_number in jinja_common_service_numbers %}\\n          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n          {% endfor %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-DNAT\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_service }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_user }}\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_service }}\\n      - config: |\\n          family inet;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_service_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: |\\n          apply-groups {{ jinja_vrrp_group_name }};\\n          description {{ jinja_vrf_name }};\\n          vlan-id {{ jinja_vlan_id }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}\\n      - config:\\n          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: {{ jinja_nat_ip }}/32\\n      - config:\\n          str_replace:\\n            params:\\n              $DOWNLINK_INTERFACE:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n            template: |\\n              instance-type virtual-router;\\n              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};\\n              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};\\n              interface $DOWNLINK_INTERFACE;\\n              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_vrf_name }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: common_function_gateways\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n        {% for vrid in jinja_vrids %}\\n          - {{ vrid }}\\n        {% endfor %}\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_device_logical_downlink_interface }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_device_logical_downlink_interface }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary_vrid1: MASTER\\n                secondary_vrid1: BACKUP\\n                primary_vrid2: MASTER\\n                secondary_vrid2: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function_gateway,1548980792,create)'
00:26:32.745 gohan.db INFO [0m Creating resource common_function
00:26:32.752 gohan.db.sql INFO [0m Executing SQL query in transaction '24930b09-2e48-4f56-9f2e-cc5166b57b3b': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"heat_timeout":"C60","jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_link_local_ip_address":{"field":"link_local_ip_address"},"jinja_service_number":{"field":"common_function_number"},"jinja_shared_ip_address":{"field":"shared_ip_address"},"jinja_vrid":{"field":"vrid"},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"netmask":{"field":"link_local_netmask","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"primary_vrrp_ip":{"field":"primary_vrrp_ip"},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]},"secondary_vrrp_ip":{"field":"secondary_vrrp_ip"}},heat_template_version: 2013-05-23

description: >
  Common Function

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_vrrp_ip:
    description: Local ip in VRRP group on primary device.
    label: Primary VRRP ip.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_vrrp_ip:
    description: Local ip in VRRP group on secondary device.
    label: Secondary VRRP ip.
    type: string
  netmask:
    description: Netmask used in link local network.
    label: Link-local netmask.
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_vrrp_group_name }}
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: <*>
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $VIP:
                    get_param: {{ device }}_vrrp_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $VIP/$NETMASK
          - config_type: named_tag
            xml_type: named_tag
            tag: vrrp-group
            name: {{ jinja_vrid }}
          - config_type: named_tag
            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(
            tag: virtual-address
            name: {{ jinja_link_local_ip_address }}
      - config: |
          from {
            destination-address {
              {{ jinja_link_local_ip_address }}/32;
            }
          }
          then {
            translated {
              translation-type {
                dnat-44;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_group_name }}
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: {{ jinja_service_number }}
      - config: |
          services {
            nat {
              pool <*> {
                address {{ jinja_shared_ip_address }}/32;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,common_function)'
00:26:32.768 gohan.db.sql INFO [0m Executing SQL query in transaction '24930b09-2e48-4f56-9f2e-cc5166b57b3b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"common_function\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_link_local_ip_address\":{\"field\":\"link_local_ip_address\"},\"jinja_service_number\":{\"field\":\"common_function_number\"},\"jinja_shared_ip_address\":{\"field\":\"shared_ip_address\"},\"jinja_vrid\":{\"field\":\"vrid\"},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"netmask\":{\"field\":\"link_local_netmask\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_vrrp_ip\":{\"field\":\"primary_vrrp_ip\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_vrrp_ip\":{\"field\":\"secondary_vrrp_ip\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_vrrp_ip:\\n    description: Local ip in VRRP group on primary device.\\n    label: Primary VRRP ip.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_vrrp_ip:\\n    description: Local ip in VRRP group on secondary device.\\n    label: Secondary VRRP ip.\\n    type: string\\n  netmask:\\n    description: Netmask used in link local network.\\n    label: Link-local netmask.\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_vrrp_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: \\u003c*\\u003e\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $VIP:\\n                    get_param: {{ device }}_vrrp_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $VIP/$NETMASK\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: vrrp-group\\n            name: {{ jinja_vrid }}\\n          - config_type: named_tag\\n            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(\\n            tag: virtual-address\\n            name: {{ jinja_link_local_ip_address }}\\n      - config: |\\n          from {\\n            destination-address {\\n              {{ jinja_link_local_ip_address }}/32;\\n            }\\n          }\\n          then {\\n            translated {\\n              translation-type {\\n                dnat-44;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: {{ jinja_service_number }}\\n      - config: |\\n          services {\\n            nat {\\n              pool \\u003c*\\u003e {\\n                address {{ jinja_shared_ip_address }}/32;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function,1548980792)'
00:26:32.776 gohan.db INFO [0m Populating resources for schema worker_data
00:26:32.778 gohan.db INFO [0m Populating resources for schema tenant
00:26:32.780 gohan.db INFO [0m Populating resources for schema edge_router
00:26:32.781 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:32.783 gohan.db INFO [0m Populating resources for schema ha_router
00:26:32.785 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:32.787 gohan.db INFO [0m Populating resources for schema internet_service
00:26:32.789 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:32.790 gohan.db INFO [0m Populating resources for schema aws_service
00:26:32.792 gohan.db INFO [0m Populating resources for schema azure_service
00:26:32.795 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:32.796 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:32.798 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:32.799 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:32.801 gohan.db INFO [0m Populating resources for schema common_function
00:26:32.802 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:32.804 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:32.805 gohan.db INFO [0m Populating resources for schema qos_option
00:26:32.807 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:32.809 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:32.810 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:32.812 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:32.813 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:32.815 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:32.816 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:32.818 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:32.820 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:32.822 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:32.823 gohan.db INFO [0m Populating resources for schema public_ip
00:26:32.825 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:32.826 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:32.828 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:32.829 gohan.db INFO [0m Populating resources for schema static_route
00:26:32.831 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:32.832 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:32.834 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:32.836 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:32.837 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:32.839 gohan.db INFO [0m Populating resources for schema firewall
00:26:32.840 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:32.842 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:32.843 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:32.845 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:32.848 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:32.850 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:32.853 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:32.855 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:32.857 gohan.db INFO [0m Populating resources for schema monitoring
00:26:32.858 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:32.860 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:32.861 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:32.863 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:32.864 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:32.866 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:32.867 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:32.881 gohan.server.core INFO [0m Importing data from ./init/interdc_templates.yaml ...
00:26:32.884 gohan.db INFO [0m Populating resources for schema schema
00:26:32.888 gohan.db INFO [0m Populating resources for schema policy
00:26:32.891 gohan.db INFO [0m Populating resources for schema extension
00:26:32.894 gohan.db INFO [0m Populating resources for schema event
00:26:32.898 gohan.db INFO [0m Populating resources for schema namespace
00:26:32.901 gohan.db INFO [0m Populating resources for schema location
00:26:32.904 gohan.db INFO [0m Populating resources for schema ese_device
00:26:32.907 gohan.db INFO [0m Populating resources for schema network
00:26:32.910 gohan.db INFO [0m Populating resources for schema subnet
00:26:32.913 gohan.db INFO [0m Populating resources for schema port
00:26:32.917 gohan.db INFO [0m Populating resources for schema security_group
00:26:32.920 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:32.924 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:32.927 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:32.930 gohan.db INFO [0m Populating resources for schema server
00:26:32.933 gohan.db INFO [0m Populating resources for schema physical_port
00:26:32.937 gohan.db INFO [0m Populating resources for schema quota
00:26:32.940 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:32.943 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:32.946 gohan.db INFO [0m Populating resources for schema heat_template
00:26:32.952 gohan.db INFO [0m Creating resource qos_option_interdc
00:26:32.959 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_interdc,{"heat_timeout":{"constant":60},"incoming_policer_config":{"field":"incoming_policer_config"},"incoming_policer_name":{"field":"incoming_policer_name"},"jinja_be_forwarding_class":{"field":"be_forwarding_class","path":["interdc_service_id"]},"jinja_ga_forwarding_class":{"field":"ga_forwarding_class","path":["interdc_service_id"]},"jinja_type":{"field":"qos_type"},"outgoing_policer_config":{"field":"outgoing_policer_config"},"outgoing_policer_name":{"field":"outgoing_policer_name"},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]}},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: three-color-policer
          name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: policer
          name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $CLASS:
              {% if jinja_type == "besteffort" %}
                {{ jinja_be_forwarding_class }}
              {% else %}
                {{ jinja_ga_forwarding_class }}
              {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then policer 10K-RE;
                then accept;
              }
              term qos {
                then {
                  three-color-policer {
                    two-rate $POLICER_NAME;
                  }
                  forwarding-class $CLASS;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: incoming_policer_name
              template: |
                FILTER_$NAME
      - config:
          str_replace:
            params:
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then accept;
              }
              term policer {
                then {
                  policer $POLICER_NAME;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: outgoing_policer_name
              template: |
                FILTER_$NAME
{% endfor %}
,[])'
00:26:32.974 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980792,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_interdc\",\"parameter_mappings\":{\"heat_timeout\":{\"constant\":60},\"incoming_policer_config\":{\"field\":\"incoming_policer_config\"},\"incoming_policer_name\":{\"field\":\"incoming_policer_name\"},\"jinja_be_forwarding_class\":{\"field\":\"be_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_ga_forwarding_class\":{\"field\":\"ga_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_type\":{\"field\":\"qos_type\"},\"outgoing_policer_config\":{\"field\":\"outgoing_policer_config\"},\"outgoing_policer_name\":{\"field\":\"outgoing_policer_name\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: three-color-policer\\n          name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: policer\\n          name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $CLASS:\\n              {% if jinja_type == \\\"besteffort\\\" %}\\n                {{ jinja_be_forwarding_class }}\\n              {% else %}\\n                {{ jinja_ga_forwarding_class }}\\n              {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then policer 10K-RE;\\n                then accept;\\n              }\\n              term qos {\\n                then {\\n                  three-color-policer {\\n                    two-rate $POLICER_NAME;\\n                  }\\n                  forwarding-class $CLASS;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: incoming_policer_name\\n              template: |\\n                FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then accept;\\n              }\\n              term policer {\\n                then {\\n                  policer $POLICER_NAME;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: outgoing_policer_name\\n              template: |\\n                FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_interdc)'
00:26:32.984 gohan.db INFO [0m Creating resource interdc_gateway
00:26:32.996 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (interdc_gateway,{"downlink_vlan":{"field":"downlink_vlan_id"},"heat_timeout":{"constant":60},"input_filter_name":{"field":"incoming_policer_name","path":["qos_option_id"]},"output_filter_name":{"field":"outgoing_policer_name","path":["qos_option_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_downlink_interface_name"},"primary_device_logical_uplink_interface":{"field":"primary_logical_uplink_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_downlink_vrrp_config_group":{"field":"primary_downlink_vrrp_config_group","path":["interdc_service_id"]},"primary_uplink_vrrp_config_group":{"field":"primary_uplink_vrrp_config_group","path":["interdc_service_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_downlink_interface_name"},"secondary_device_logical_uplink_interface":{"field":"secondary_logical_uplink_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_downlink_vrrp_config_group":{"field":"secondary_downlink_vrrp_config_group","path":["interdc_service_id"]},"secondary_uplink_vrrp_config_group":{"field":"secondary_uplink_vrrp_config_group","path":["interdc_service_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id"},"vrf_name":{"field":"vrf_name"}},heat_template_version: 2013-05-23

description: >
  Inter DC Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan_id:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  primary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      on_update: merge
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP;
              description interdc_gw;
              vlan-id $VLAN;
              family inet {
                filter {
                  input FILTER_$INPUT_FILTER;
                  output FILTER_$OUTPUT_FILTER;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
        - config_type: tag
          xml_type: tag
          tag: routing-instances
        - config_type: name
          xml_type: named_tag
          tag: instance
          name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_uplink_vrrp_config_group
              $VLAN:
                get_param: uplink_vlan_id
            template: |
              apply-groups $APPLY_GROUP;
              description DC10GVDX;
              vlan-id $VLAN;
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_uplink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
{% endfor %}
,[],heat_worker)'
00:26:33.021 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"interdc_gateway\",\"parameter_mappings\":{\"downlink_vlan\":{\"field\":\"downlink_vlan_id\"},\"heat_timeout\":{\"constant\":60},\"input_filter_name\":{\"field\":\"incoming_policer_name\",\"path\":[\"qos_option_id\"]},\"output_filter_name\":{\"field\":\"outgoing_policer_name\",\"path\":[\"qos_option_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_downlink_interface_name\"},\"primary_device_logical_uplink_interface\":{\"field\":\"primary_logical_uplink_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_downlink_vrrp_config_group\":{\"field\":\"primary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"primary_uplink_vrrp_config_group\":{\"field\":\"primary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_downlink_interface_name\"},\"secondary_device_logical_uplink_interface\":{\"field\":\"secondary_logical_uplink_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_downlink_vrrp_config_group\":{\"field\":\"secondary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_uplink_vrrp_config_group\":{\"field\":\"secondary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\"},\"vrf_name\":{\"field\":\"vrf_name\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan_id:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  primary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description interdc_gw;\\n              vlan-id $VLAN;\\n              family inet {\\n                filter {\\n                  input FILTER_$INPUT_FILTER;\\n                  output FILTER_$OUTPUT_FILTER;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: routing-instances\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: instance\\n          name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_uplink_vrrp_config_group\\n              $VLAN:\\n                get_param: uplink_vlan_id\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description DC10GVDX;\\n              vlan-id $VLAN;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_uplink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_gateway,1548980793)'
00:26:33.037 gohan.db INFO [0m Creating resource interdc_interface
00:26:33.052 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Interdc Interface

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_downlink_physical_interface:
    description: MX physical port on which logical downlink interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_downlink_physical_interface:
    description: MX physical port on which downlink logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  uplink_vlan_id:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  downlink_vlan_id:
    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)
    label: Downlink VLAN ID
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  vrrp_group:
    type: string
    label: VRRP Group
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the InterDC Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $VIP:
                get_param: gw_vip
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $DOWNLINK_IF:
                get_param: secondary_device_downlink_physical_interface
              $DOWNLINK_VLAN_ID:
                get_param: downlink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: interdc_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_metric_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports_metric
      resource_type: interdc_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: {{ device }}_router
      properties:
        device_ip: { get_param: {{ device }}_device_ip }
        if_name: { get_param: {{ device }}_device_logical_interface }
        community_name: EDGE_ROUTER_COMMUNITY
      syncer_properties:
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              device_index: {{ device }}
              resource_id: { get_param: gohan_id }
              direction: out
    depends_on: vrrp_monitor
{% endfor %}

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
{% for device in ["primary", "secondary"] %}
  {{ device }}_interface_monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: {{ device }}_interface_metric_monitor}
  {{ device }}_interface_monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}
{% endfor %}
,[],heat_worker,interdc_interface,{"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gohan_id":{"field":"id"},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"netmask":{"field":"netmask"},"primary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_interface":{"field":"primary_logical_uplink_interface_name","path":["interdc_gw_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_uplink_interface_name","path":["interdc_gw_id"]},"secondary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_interface":{"field":"secondary_logical_uplink_interface_name","path":["interdc_gw_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_uplink_interface_name","path":["interdc_gw_id"]},"tenant_id":{"field":"tenant_id"},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"version":{"version":"auto_filled"},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}})'
00:26:33.085 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"interdc_interface\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gohan_id\":{\"field\":\"id\"},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"netmask\":{\"field\":\"netmask\"},\"primary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_interface\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"secondary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_interface\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"version\":{\"version\":\"auto_filled\"},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Interdc Interface\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_downlink_physical_interface:\\n    description: MX physical port on which logical downlink interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_downlink_physical_interface:\\n    description: MX physical port on which downlink logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  uplink_vlan_id:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  downlink_vlan_id:\\n    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)\\n    label: Downlink VLAN ID\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the InterDC Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $VIP:\\n                get_param: gw_vip\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $DOWNLINK_IF:\\n                get_param: secondary_device_downlink_physical_interface\\n              $DOWNLINK_VLAN_ID:\\n                get_param: downlink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: interdc_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_metric_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports_metric\\n      resource_type: interdc_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: {{ device }}_router\\n      properties:\\n        device_ip: { get_param: {{ device }}_device_ip }\\n        if_name: { get_param: {{ device }}_device_logical_interface }\\n        community_name: EDGE_ROUTER_COMMUNITY\\n      syncer_properties:\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              device_index: {{ device }}\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\n    depends_on: vrrp_monitor\\n{% endfor %}\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  {{ device }}_interface_monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: {{ device }}_interface_metric_monitor}\\n  {{ device }}_interface_monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [{{ device }}_interface_metric_monitor, link]}\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_interface,1548980793,create,false)'
00:26:33.106 gohan.db INFO [0m Creating resource gw_interface_interdc
00:26:33.118 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,gw_interface_interdc,{"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gohan_id":{"field":"id"},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"jinja_force_dependency1":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":{"field":"netmask"},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_downlink_interface_name","path":["interdc_gw_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_downlink_interface_name","path":["interdc_gw_id"]},"tenant_id":{"field":"tenant_id"},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"version":{"version":"auto_filled"},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}},heat_template_version: 2013-05-23

description: >
  Gateway Interface Inter DC

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  primary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  uplink_vlan_id:
    description: Vlan tag for mx logical uplink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  primary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  secondary_logical_interface_name:
    description: MX logical port
    label: Underlying logical interface
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the GW Interface
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $VIP:
                get_param: gw_vip
              $UPLINK_IF:
                get_param: {{device}}_device_physical_uplink_interface
              $UPLINK_VLAN_ID:
                get_param: uplink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $UPLINK_IF.$UPLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}

  vrrp_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: vrrp_pool
      resource_type: gw_interfaces
      resource_id: { get_param: gohan_id }
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      field_name: status
      properties:
        vrid:
          - { get_param: vrrp_group }
        primary:
          host: { get_param: primary_device_ip }
          port: { get_param: primary_device_port }
          login: { get_param: primary_device_username }
          password: *** get_param: primary_device_password }
          interface: { get_param: primary_logical_interface_name }
        secondary:
          host: { get_param: secondary_device_ip }
          port: { get_param: secondary_device_port }
          login: { get_param: secondary_device_username }
          password: *** get_param: secondary_device_password }
          interface: { get_param: secondary_logical_interface_name }
      syncer_properties:
        etcd:
          status:
            key: status
          hold_options:
            positive_status:
              - primary: MASTER
                secondary: BACKUP
            time_seconds: 360
    depends_on: netconf_configure_secondary

outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: vrrp_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [vrrp_monitor, link]}
)'
00:26:33.144 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"gw_interface_interdc\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gohan_id\":{\"field\":\"id\"},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"jinja_force_dependency1\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":{\"field\":\"netmask\"},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_downlink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_downlink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"version\":{\"version\":\"auto_filled\"},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Gateway Interface Inter DC\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  primary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  uplink_vlan_id:\\n    description: Vlan tag for mx logical uplink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  primary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  secondary_logical_interface_name:\\n    description: MX logical port\\n    label: Underlying logical interface\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the GW Interface\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $VIP:\\n                get_param: gw_vip\\n              $UPLINK_IF:\\n                get_param: {{device}}_device_physical_uplink_interface\\n              $UPLINK_VLAN_ID:\\n                get_param: uplink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $UPLINK_IF.$UPLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\\n  vrrp_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: vrrp_pool\\n      resource_type: gw_interfaces\\n      resource_id: { get_param: gohan_id }\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      field_name: status\\n      properties:\\n        vrid:\\n          - { get_param: vrrp_group }\\n        primary:\\n          host: { get_param: primary_device_ip }\\n          port: { get_param: primary_device_port }\\n          login: { get_param: primary_device_username }\\n          password: *** get_param: primary_device_password }\\n          interface: { get_param: primary_logical_interface_name }\\n        secondary:\\n          host: { get_param: secondary_device_ip }\\n          port: { get_param: secondary_device_port }\\n          login: { get_param: secondary_device_username }\\n          password: *** get_param: secondary_device_password }\\n          interface: { get_param: secondary_logical_interface_name }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: status\\n          hold_options:\\n            positive_status:\\n              - primary: MASTER\\n                secondary: BACKUP\\n            time_seconds: 360\\n    depends_on: netconf_configure_secondary\\n\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: vrrp_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [vrrp_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_interdc,1548980793,create,false)'
00:26:33.159 gohan.db INFO [0m Creating resource static_route_interdc
00:26:33.164 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_interdc,{"heat_timeout":{"constant":60},"next_hop":{"field":"nexthop"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"route":{"field":"destination"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]}},heat_template_version: 2013-05-23

description: >
  Inter DC Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
***   description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
    hidden: true
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
***   description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
    hidden: true
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    {% if device == "secondary" %}depends_on: netconf_configure_primary{% endif %}
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
***       get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[])'
00:26:33.175 gohan.db.sql INFO [0m Executing SQL query in transaction '1a63625c-dd3c-47c9-9d5e-2f5b3ec7c475': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"static_route_interdc\",\"parameter_mappings\":{\"heat_timeout\":{\"constant\":60},\"next_hop\":{\"field\":\"nexthop\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"route\":{\"field\":\"destination\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:***    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:***    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n    hidden: true\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    {% if device == \\\"secondary\\\" %}depends_on: netconf_configure_primary{% endif %}\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:***        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_interdc,1548980793,create,false)'
00:26:33.181 gohan.db INFO [0m Populating resources for schema worker_data
00:26:33.185 gohan.db INFO [0m Populating resources for schema tenant
00:26:33.188 gohan.db INFO [0m Populating resources for schema edge_router
00:26:33.191 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:33.194 gohan.db INFO [0m Populating resources for schema ha_router
00:26:33.198 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:33.202 gohan.db INFO [0m Populating resources for schema internet_service
00:26:33.205 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:33.208 gohan.db INFO [0m Populating resources for schema aws_service
00:26:33.211 gohan.db INFO [0m Populating resources for schema azure_service
00:26:33.214 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:33.217 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:33.221 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:33.225 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:33.229 gohan.db INFO [0m Populating resources for schema common_function
00:26:33.232 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:33.235 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:33.238 gohan.db INFO [0m Populating resources for schema qos_option
00:26:33.241 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:33.244 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:33.247 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:33.252 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:33.255 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:33.258 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:33.261 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:33.265 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:33.268 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:33.271 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:33.274 gohan.db INFO [0m Populating resources for schema public_ip
00:26:33.279 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:33.282 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:33.285 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:33.289 gohan.db INFO [0m Populating resources for schema static_route
00:26:33.292 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:33.295 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:33.298 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:33.301 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:33.305 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:33.309 gohan.db INFO [0m Populating resources for schema firewall
00:26:33.312 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:33.315 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:33.318 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:33.321 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:33.325 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:33.328 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:33.333 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:33.337 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:33.341 gohan.db INFO [0m Populating resources for schema monitoring
00:26:33.344 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:33.347 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:33.350 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:33.353 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:33.356 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:33.359 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:33.363 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:33.373 gohan.server.core INFO [0m Importing data from ./init/quotas.yaml ...
00:26:33.374 gohan.db INFO [0m Populating resources for schema schema
00:26:33.374 gohan.db INFO [0m Populating resources for schema policy
00:26:33.375 gohan.db INFO [0m Populating resources for schema extension
00:26:33.375 gohan.db INFO [0m Populating resources for schema event
00:26:33.375 gohan.db INFO [0m Populating resources for schema namespace
00:26:33.376 gohan.db INFO [0m Populating resources for schema location
00:26:33.376 gohan.db INFO [0m Populating resources for schema ese_device
00:26:33.376 gohan.db INFO [0m Populating resources for schema network
00:26:33.377 gohan.db INFO [0m Populating resources for schema subnet
00:26:33.377 gohan.db INFO [0m Populating resources for schema port
00:26:33.377 gohan.db INFO [0m Populating resources for schema security_group
00:26:33.378 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:33.378 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:33.378 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:33.379 gohan.db INFO [0m Populating resources for schema server
00:26:33.379 gohan.db INFO [0m Populating resources for schema physical_port
00:26:33.379 gohan.db INFO [0m Populating resources for schema quota
00:26:33.382 gohan.db INFO [0m Creating resource default
00:26:33.383 gohan.db.sql INFO [0m Executing SQL query in transaction '6cfdb804-c3f1-45ee-a14d-1b5639d6a4e2': 'INSERT INTO `quotas` (`interdc_gateway`,`network`,`hosting_logical_link`,`gcp_gateway`,`subnet`,`firewall`,`colocation_logical_link`,`public_ip`,`port`,`load_balancer`,`tenant_id`,`internet_gateway`,`common_function_gateway`,`id`,`vpn_gateway`,`aws_gateway`,`azure_gateway`,`hosting_physical_link_plane_storage`) VALUES (10000,10000,10000,10000,10000,10000,10000,10000,30000,10000,default,10000,10000,default,10000,10000,10000,10000)'
00:26:33.385 gohan.db.sql INFO [0m Executing SQL query in transaction '6cfdb804-c3f1-45ee-a14d-1b5639d6a4e2': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/quotas/default,1548980793,create,false,"{\"aws_gateway\":10000,\"azure_gateway\":10000,\"colocation_logical_link\":10000,\"common_function_gateway\":10000,\"firewall\":10000,\"gcp_gateway\":10000,\"hosting_logical_link\":10000,\"hosting_physical_link_plane_storage\":10000,\"id\":\"default\",\"interdc_gateway\":10000,\"internet_gateway\":10000,\"load_balancer\":10000,\"network\":10000,\"port\":30000,\"public_ip\":10000,\"subnet\":10000,\"tenant_id\":\"default\",\"vpn_gateway\":10000}",1)'
00:26:33.386 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:33.387 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:33.387 gohan.db INFO [0m Populating resources for schema heat_template
00:26:33.387 gohan.db INFO [0m Populating resources for schema worker_data
00:26:33.388 gohan.db INFO [0m Populating resources for schema tenant
00:26:33.388 gohan.db INFO [0m Populating resources for schema edge_router
00:26:33.388 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:33.388 gohan.db INFO [0m Populating resources for schema ha_router
00:26:33.388 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:33.389 gohan.db INFO [0m Populating resources for schema internet_service
00:26:33.389 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:33.389 gohan.db INFO [0m Populating resources for schema aws_service
00:26:33.390 gohan.db INFO [0m Populating resources for schema azure_service
00:26:33.390 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:33.390 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:33.390 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:33.391 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:33.391 gohan.db INFO [0m Populating resources for schema common_function
00:26:33.391 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:33.391 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:33.392 gohan.db INFO [0m Populating resources for schema qos_option
00:26:33.392 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:33.392 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:33.392 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:33.393 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:33.393 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:33.393 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:33.393 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:33.394 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:33.394 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:33.394 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:33.394 gohan.db INFO [0m Populating resources for schema public_ip
00:26:33.394 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:33.395 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:33.395 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:33.395 gohan.db INFO [0m Populating resources for schema static_route
00:26:33.396 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:33.396 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:33.396 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:33.396 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:33.397 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:33.397 gohan.db INFO [0m Populating resources for schema firewall
00:26:33.397 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:33.397 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:33.397 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:33.398 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:33.398 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:33.398 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:33.398 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:33.399 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:33.399 gohan.db INFO [0m Populating resources for schema monitoring
00:26:33.399 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:33.400 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:33.400 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:33.400 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:33.400 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:33.401 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:33.401 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:33.409 gohan.server.core INFO [0m Importing data from ./init/reserve_addresses.yaml ...
00:26:33.410 gohan.db INFO [0m Populating resources for schema schema
00:26:33.410 gohan.db INFO [0m Populating resources for schema policy
00:26:33.410 gohan.db INFO [0m Populating resources for schema extension
00:26:33.410 gohan.db INFO [0m Populating resources for schema event
00:26:33.410 gohan.db INFO [0m Populating resources for schema namespace
00:26:33.411 gohan.db INFO [0m Populating resources for schema location
00:26:33.411 gohan.db INFO [0m Populating resources for schema ese_device
00:26:33.411 gohan.db INFO [0m Populating resources for schema network
00:26:33.411 gohan.db INFO [0m Populating resources for schema subnet
00:26:33.411 gohan.db INFO [0m Populating resources for schema port
00:26:33.412 gohan.db INFO [0m Populating resources for schema security_group
00:26:33.412 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:33.412 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:33.412 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:33.412 gohan.db INFO [0m Populating resources for schema server
00:26:33.413 gohan.db INFO [0m Populating resources for schema physical_port
00:26:33.413 gohan.db INFO [0m Populating resources for schema quota
00:26:33.413 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:33.415 gohan.db INFO [0m Creating resource default
00:26:33.415 gohan.db.sql INFO [0m Executing SQL query in transaction '385ecc8e-5f9d-44f7-b2eb-ed20ccb9047b': 'INSERT INTO `reserve_addresss` (`subnets`,`id`,`tenant_id`) VALUES (["169.254.0.0/16","100.64.0.0/10"],default,default)'
00:26:33.416 gohan.db.sql INFO [0m Executing SQL query in transaction '385ecc8e-5f9d-44f7-b2eb-ed20ccb9047b': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/reserve_addresses/default,1548980793,create,false,"{\"id\":\"default\",\"subnets\":[\"169.254.0.0/16\",\"100.64.0.0/10\"],\"tenant_id\":\"default\"}",1)'
00:26:33.417 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:33.417 gohan.db INFO [0m Populating resources for schema heat_template
00:26:33.417 gohan.db INFO [0m Populating resources for schema worker_data
00:26:33.417 gohan.db INFO [0m Populating resources for schema tenant
00:26:33.417 gohan.db INFO [0m Populating resources for schema edge_router
00:26:33.418 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:33.418 gohan.db INFO [0m Populating resources for schema ha_router
00:26:33.418 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:33.418 gohan.db INFO [0m Populating resources for schema internet_service
00:26:33.418 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:33.419 gohan.db INFO [0m Populating resources for schema aws_service
00:26:33.419 gohan.db INFO [0m Populating resources for schema azure_service
00:26:33.419 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:33.419 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:33.419 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:33.419 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:33.420 gohan.db INFO [0m Populating resources for schema common_function
00:26:33.420 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:33.420 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:33.420 gohan.db INFO [0m Populating resources for schema qos_option
00:26:33.420 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:33.421 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:33.421 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:33.421 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:33.421 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:33.421 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:33.421 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:33.422 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:33.422 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:33.422 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:33.422 gohan.db INFO [0m Populating resources for schema public_ip
00:26:33.422 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:33.423 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:33.423 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:33.423 gohan.db INFO [0m Populating resources for schema static_route
00:26:33.423 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:33.423 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:33.423 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:33.424 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:33.424 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:33.424 gohan.db INFO [0m Populating resources for schema firewall
00:26:33.424 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:33.424 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:33.425 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:33.425 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:33.425 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:33.425 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:33.425 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:33.425 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:33.426 gohan.db INFO [0m Populating resources for schema monitoring
00:26:33.426 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:33.426 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:33.426 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:33.426 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:33.427 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:33.427 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:33.427 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:33.437 gohan.server.core INFO [0m Importing data from ./init/vnf_templates.yaml ...
00:26:33.440 gohan.db INFO [0m Populating resources for schema schema
00:26:33.442 gohan.db INFO [0m Populating resources for schema policy
00:26:33.444 gohan.db INFO [0m Populating resources for schema extension
00:26:33.444 gohan.db INFO [0m Populating resources for schema event
00:26:33.445 gohan.db INFO [0m Populating resources for schema namespace
00:26:33.446 gohan.db INFO [0m Populating resources for schema location
00:26:33.446 gohan.db INFO [0m Populating resources for schema ese_device
00:26:33.447 gohan.db INFO [0m Populating resources for schema network
00:26:33.448 gohan.db INFO [0m Populating resources for schema subnet
00:26:33.449 gohan.db INFO [0m Populating resources for schema port
00:26:33.449 gohan.db INFO [0m Populating resources for schema security_group
00:26:33.450 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:33.451 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:33.452 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:33.452 gohan.db INFO [0m Populating resources for schema server
00:26:33.453 gohan.db INFO [0m Populating resources for schema physical_port
00:26:33.454 gohan.db INFO [0m Populating resources for schema quota
00:26:33.455 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:33.455 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:33.456 gohan.db INFO [0m Populating resources for schema heat_template
00:26:33.458 gohan.db INFO [0m Creating resource vnf_instance
00:26:33.461 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23
description: VNF Instance
parameters:
  name:
    default: ""
    type: string
  image:
    type: string
    constraints:
    - custom_constraint: glance.image
  flavor:
    type: string
    constraints:
    - custom_constraint: nova.flavor
  availability_zone:
    type: string
    default: ""
  networks:
    type: json
  reboot:
    type: string
    default: ""
  user_data:
    type: string
    default: ""
  user_data_format:
    type: string
  config_drive:
    type: boolean
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VNF Instance
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
  server:
    type: ESI::VNF::Instance
    properties:
      name: { get_param: name }
      flavor: { get_param: flavor }
      image: { get_param: image }
      networks: { get_param: networks }
      availability_zone: { get_param: availability_zone }
      reboot: { get_param: reboot }
      user_data: { get_param: user_data }
      user_data_format: { get_param: user_data_format }
      config_drive: { get_param: config_drive }
  server_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: compute
      resource_type: vnf_instances
      resource_id: { get_param: gohan_id }
      field_name: server
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        server_id: { get_resource: server }
      syncer_properties:
        etcd:
          status:
            key: server
    depends_on: server
outputs:
  server_id:
    description: A unique id for the nova server.
    value: { get_resource: server }
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: server_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [server_monitor, link]}
,[],heat_worker,vnf_instance,{"availability_zone":"Pavailability_zone","config_drive":"Pconfig_drive","flavor":"Fvnf_plan+vnf_plan_id:flavor","gohan_id":"Pid","heat_timeout":"C30","image":"Fvnf_template+vnf_template_id:image","name":"Pname","networks":"Pnetworks","reboot":"Preboot","tenant_id":"Ptenant_id","user_data":"Puser_data","user_data_format":"Puser_data_format","version":"Vauto_filled"})'
00:26:33.467 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/vnf_instance,1548980793,create,false,"{\"handler\":\"heat_worker\",\"id\":\"vnf_instance\",\"parameter_mappings\":{\"availability_zone\":\"Pavailability_zone\",\"config_drive\":\"Pconfig_drive\",\"flavor\":\"Fvnf_plan+vnf_plan_id:flavor\",\"gohan_id\":\"Pid\",\"heat_timeout\":\"C30\",\"image\":\"Fvnf_template+vnf_template_id:image\",\"name\":\"Pname\",\"networks\":\"Pnetworks\",\"reboot\":\"Preboot\",\"tenant_id\":\"Ptenant_id\",\"user_data\":\"Puser_data\",\"user_data_format\":\"Puser_data_format\",\"version\":\"Vauto_filled\"},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: VNF Instance\\nparameters:\\n  name:\\n    default: \\\"\\\"\\n    type: string\\n  image:\\n    type: string\\n    constraints:\\n    - custom_constraint: glance.image\\n  flavor:\\n    type: string\\n    constraints:\\n    - custom_constraint: nova.flavor\\n  availability_zone:\\n    type: string\\n    default: \\\"\\\"\\n  networks:\\n    type: json\\n  reboot:\\n    type: string\\n    default: \\\"\\\"\\n  user_data:\\n    type: string\\n    default: \\\"\\\"\\n  user_data_format:\\n    type: string\\n  config_drive:\\n    type: boolean\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VNF Instance\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n  server:\\n    type: ESI::VNF::Instance\\n    properties:\\n      name: { get_param: name }\\n      flavor: { get_param: flavor }\\n      image: { get_param: image }\\n      networks: { get_param: networks }\\n      availability_zone: { get_param: availability_zone }\\n      reboot: { get_param: reboot }\\n      user_data: { get_param: user_data }\\n      user_data_format: { get_param: user_data_format }\\n      config_drive: { get_param: config_drive }\\n  server_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: compute\\n      resource_type: vnf_instances\\n      resource_id: { get_param: gohan_id }\\n      field_name: server\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        server_id: { get_resource: server }\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: server\\n    depends_on: server\\noutputs:\\n  server_id:\\n    description: A unique id for the nova server.\\n    value: { get_resource: server }\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: server_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [server_monitor, link]}\\n\",\"watch\":[]}",1)'
00:26:33.472 gohan.db INFO [0m Creating resource firewall_config
00:26:33.476 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23
description: Vyatta Firewall Configuration
parameters:
  management_ip:
    type: string
  credentials:
    type: json
  default_gateway:
    type: string
    default: ""
  user_username:
    type: string
  user_password:
***   type: string
    default: ""
    hidden: true
  admin_username:
    type: string
  admin_password:
***   type: string
    default: ""
    hidden: true
  other_username:
    type: string
    default: ""
  other_password:
***   type: string
    default: ""
    hidden: true
  networks:
    type: json
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VNF Instance
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
  server:
    type: ESI::VNF::VyattaConfig
    properties:
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      default_gateway: { get_param: default_gateway }
      user_username: { get_param: user_username }
      user_password: *** get_param: user_password }
      admin_username: { get_param: admin_username }
      admin_password: *** get_param: admin_password }
      other_username: { get_param: other_username }
      other_password: *** get_param: other_password }
      networks: { get_param: networks }
  fw_device_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_device_fw
      resource_type: firewalls
      resource_id: { get_param: gohan_id }
      field_name: firewall
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        device_ip: { get_param: management_ip }
        community_name: FIREWALL_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: firewall
        tsdb:
          cpu.user:
            metric: cpu.percents
            tags:
              resource_id: { get_param: gohan_id }
              type: user
          cpu.system:
            metric: cpu.percents
            tags:
              resource_id: { get_param: gohan_id }
              type: system
          cpu.idle:
            metric: cpu.percents
            tags:
              resource_id: { get_param: gohan_id }
              type: idle
          memory.total:
            metric: memory.kbytes
            tags:
              resource_id: { get_param: gohan_id }
              type: total
          memory.available:
            metric: memory.kbytes
            tags:
              resource_id: { get_param: gohan_id }
              type: available
          tcp.active:
            metric: tcp.connections
            tags:
              resource_id: { get_param: gohan_id }
              open: active
          tcp.passive:
            metric: tcp.connections
            tags:
              resource_id: { get_param: gohan_id }
              open: passive
    depends_on: server
outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: fw_device_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [fw_device_monitor, link]}
,[],heat_worker,firewall_config,{"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["vnf_instance_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"gohan_id":{"field":"id"},"heat_timeout":{"constant":13},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"tenant_id":{"field":"tenant_id"},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"},"version":{"version":"auto_filled"}})'
00:26:33.486 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/firewall_config,1548980793,create,false,"{\"handler\":\"heat_worker\",\"id\":\"firewall_config\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"vnf_instance_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"gohan_id\":{\"field\":\"id\"},\"heat_timeout\":{\"constant\":13},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"tenant_id\":{\"field\":\"tenant_id\"},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"},\"version\":{\"version\":\"auto_filled\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Vyatta Firewall Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: json\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  user_username:\\n    type: string\\n  user_password:***    type: string\\n    default: \\\"\\\"\\n    hidden: true\\n  admin_username:\\n    type: string\\n  admin_password:***    type: string\\n    default: \\\"\\\"\\n    hidden: true\\n  other_username:\\n    type: string\\n    default: \\\"\\\"\\n  other_password:***    type: string\\n    default: \\\"\\\"\\n    hidden: true\\n  networks:\\n    type: json\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VNF Instance\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n  server:\\n    type: ESI::VNF::VyattaConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      default_gateway: { get_param: default_gateway }\\n      user_username: { get_param: user_username }\\n      user_password: *** get_param: user_password }\\n      admin_username: { get_param: admin_username }\\n      admin_password: *** get_param: admin_password }\\n      other_username: { get_param: other_username }\\n      other_password: *** get_param: other_password }\\n      networks: { get_param: networks }\\n  fw_device_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_device_fw\\n      resource_type: firewalls\\n      resource_id: { get_param: gohan_id }\\n      field_name: firewall\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        device_ip: { get_param: management_ip }\\n        community_name: FIREWALL_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: firewall\\n        tsdb:\\n          cpu.user:\\n            metric: cpu.percents\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: user\\n          cpu.system:\\n            metric: cpu.percents\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: system\\n          cpu.idle:\\n            metric: cpu.percents\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: idle\\n          memory.total:\\n            metric: memory.kbytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: total\\n          memory.available:\\n            metric: memory.kbytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: available\\n          tcp.active:\\n            metric: tcp.connections\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              open: active\\n          tcp.passive:\\n            metric: tcp.connections\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              open: passive\\n    depends_on: server\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: fw_device_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [fw_device_monitor, link]}\\n\",\"watch\":[]}")'
00:26:33.492 gohan.db INFO [0m Creating resource firewall_interface
00:26:33.494 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,firewall_interface,{"gohan_id":{"field":"id"},"heat_timeout":{"constant":3},"jinja_slot_number":{"field":"slot_number"},"management_ip":{"field":"management_ip","path":["firewall_id","vnf_instance_id"]},"tenant_id":{"field":"tenant_id"},"version":{"version":"auto_filled"}},heat_template_version: 2013-05-23
description: Vyatta Firewall Interface
parameters:
  management_ip:
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VNF Instance
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
  fw_interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports
      resource_type: firewall_interfaces
      resource_id: { get_param: gohan_id }
      field_name: interface
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        device_ip: { get_param: management_ip }
        if_name: dp0s{{ jinja_slot_number + 3 }}
        community_name: FIREWALL_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              resource_id: { get_param: gohan_id }
              direction: out
outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: fw_interface_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [fw_interface_monitor, link]}
,[])'
00:26:33.499 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8537c34-a6b2-42a3-b453-f9ec71cd1a61': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"firewall_interface\",\"parameter_mappings\":{\"gohan_id\":{\"field\":\"id\"},\"heat_timeout\":{\"constant\":3},\"jinja_slot_number\":{\"field\":\"slot_number\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"firewall_id\",\"vnf_instance_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"version\":{\"version\":\"auto_filled\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Vyatta Firewall Interface\\nparameters:\\n  management_ip:\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VNF Instance\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n  fw_interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports\\n      resource_type: firewall_interfaces\\n      resource_id: { get_param: gohan_id }\\n      field_name: interface\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        device_ip: { get_param: management_ip }\\n        if_name: dp0s{{ jinja_slot_number + 3 }}\\n        community_name: FIREWALL_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: interface\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: fw_interface_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [fw_interface_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/firewall_interface,1548980793)'
00:26:33.502 gohan.db INFO [0m Populating resources for schema worker_data
00:26:33.502 gohan.db INFO [0m Populating resources for schema tenant
00:26:33.503 gohan.db INFO [0m Populating resources for schema edge_router
00:26:33.504 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:33.505 gohan.db INFO [0m Populating resources for schema ha_router
00:26:33.505 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:33.506 gohan.db INFO [0m Populating resources for schema internet_service
00:26:33.508 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:33.509 gohan.db INFO [0m Populating resources for schema aws_service
00:26:33.510 gohan.db INFO [0m Populating resources for schema azure_service
00:26:33.510 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:33.511 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:33.512 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:33.512 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:33.513 gohan.db INFO [0m Populating resources for schema common_function
00:26:33.514 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:33.515 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:33.516 gohan.db INFO [0m Populating resources for schema qos_option
00:26:33.516 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:33.517 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:33.518 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:33.518 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:33.519 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:33.520 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:33.521 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:33.521 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:33.522 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:33.523 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:33.523 gohan.db INFO [0m Populating resources for schema public_ip
00:26:33.524 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:33.525 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:33.526 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:33.526 gohan.db INFO [0m Populating resources for schema static_route
00:26:33.527 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:33.528 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:33.529 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:33.529 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:33.530 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:33.531 gohan.db INFO [0m Populating resources for schema firewall
00:26:33.531 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:33.532 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:33.533 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:33.534 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:33.534 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:33.535 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:33.536 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:33.538 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:33.539 gohan.db INFO [0m Populating resources for schema monitoring
00:26:33.540 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:33.541 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:33.541 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:33.542 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:33.543 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:33.544 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:33.544 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:33.557 gohan.server.core INFO [0m Importing data from ./init/load_balancer_templates.yaml ...
00:26:33.558 gohan.db INFO [0m Populating resources for schema schema
00:26:33.561 gohan.db INFO [0m Populating resources for schema policy
00:26:33.562 gohan.db INFO [0m Populating resources for schema extension
00:26:33.564 gohan.db INFO [0m Populating resources for schema event
00:26:33.565 gohan.db INFO [0m Populating resources for schema namespace
00:26:33.566 gohan.db INFO [0m Populating resources for schema location
00:26:33.567 gohan.db INFO [0m Populating resources for schema ese_device
00:26:33.568 gohan.db INFO [0m Populating resources for schema network
00:26:33.569 gohan.db INFO [0m Populating resources for schema subnet
00:26:33.570 gohan.db INFO [0m Populating resources for schema port
00:26:33.571 gohan.db INFO [0m Populating resources for schema security_group
00:26:33.572 gohan.db INFO [0m Populating resources for schema ese_physical_port
00:26:33.573 gohan.db INFO [0m Populating resources for schema ese_logical_port
00:26:33.574 gohan.db INFO [0m Populating resources for schema local_subnet
00:26:33.575 gohan.db INFO [0m Populating resources for schema server
00:26:33.576 gohan.db INFO [0m Populating resources for schema physical_port
00:26:33.577 gohan.db INFO [0m Populating resources for schema quota
00:26:33.578 gohan.db INFO [0m Populating resources for schema reserve_address
00:26:33.579 gohan.db INFO [0m Populating resources for schema neutron_extension
00:26:33.581 gohan.db INFO [0m Populating resources for schema heat_template
00:26:33.584 gohan.db INFO [0m Creating resource load_balancer_conf
00:26:33.587 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["load_balancer_plan_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"heat_timeout":{"constant":10},"init_config":{"field":"init_config","path":["load_balancer_plan_id","vnf_template_id"]},"internet_port":{"field":"internet_port"},"license_code":{"field":"license_code","path":["load_balancer_plan_id"]},"management_gateway":{"field":"management_gateway"},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"model":{"field":"model","path":["load_balancer_plan_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"server_id":{"output_key":"server_id","path":["vnf_instance_id"]},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"}},heat_template_version: 2013-05-23
description: Load Balancer Configuration
parameters:
  management_ip:
    type: string
  management_gateway:
    type: string
  admin_username:
    type: string
  admin_password:
***   type: string
    hidden: true
  user_username:
    type: string
  user_password:
***   type: string
    hidden: true
  other_username:
    type: string
  other_password:
***   type: string
    hidden: true
  server_id:
    type: string
  license_code:
    type: string
  model:
    type: string
  init_config:
    type: string
  networks:
    type: string
  internet_port:
    type: string
  default_gateway:
    type: string
    default: ""
  credentials:
    type: string
resources:
  netscaler_configuration:
    type: ESI::VNF::NetscalerConfig
    properties:
      management_ip: { get_param: management_ip }
      management_gateway: { get_param: management_gateway }
      admin_username: { get_param: admin_username }
      admin_password: *** get_param: admin_password }
      user_username: { get_param: user_username }
      user_password: *** get_param: user_password }
      other_username: { get_param: other_username }
      other_password: *** get_param: other_password }
      server_id: { get_param: server_id }
      license_code: { get_param: license_code }
      model: { get_param: model }
      init_config: { get_param: init_config }
      networks: { get_param: networks }
      internet_port: { get_param: internet_port }
      default_gateway: { get_param: default_gateway }
      credentials: { get_param: credentials }
,[],heat_worker,load_balancer_conf)'
00:26:33.594 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_conf\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"heat_timeout\":{\"constant\":10},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"internet_port\":{\"field\":\"internet_port\"},\"license_code\":{\"field\":\"license_code\",\"path\":[\"load_balancer_plan_id\"]},\"management_gateway\":{\"field\":\"management_gateway\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"model\":{\"field\":\"model\",\"path\":[\"load_balancer_plan_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"server_id\":{\"output_key\":\"server_id\",\"path\":[\"vnf_instance_id\"]},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Load Balancer Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  management_gateway:\\n    type: string\\n  admin_username:\\n    type: string\\n  admin_password:***    type: string\\n    hidden: true\\n  user_username:\\n    type: string\\n  user_password:***    type: string\\n    hidden: true\\n  other_username:\\n    type: string\\n  other_password:***    type: string\\n    hidden: true\\n  server_id:\\n    type: string\\n  license_code:\\n    type: string\\n  model:\\n    type: string\\n  init_config:\\n    type: string\\n  networks:\\n    type: string\\n  internet_port:\\n    type: string\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  credentials:\\n    type: string\\nresources:\\n  netscaler_configuration:\\n    type: ESI::VNF::NetscalerConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      management_gateway: { get_param: management_gateway }\\n      admin_username: { get_param: admin_username }\\n      admin_password: *** get_param: admin_password }\\n      user_username: { get_param: user_username }\\n      user_password: *** get_param: user_password }\\n      other_username: { get_param: other_username }\\n      other_password: *** get_param: other_password }\\n      server_id: { get_param: server_id }\\n      license_code: { get_param: license_code }\\n      model: { get_param: model }\\n      init_config: { get_param: init_config }\\n      networks: { get_param: networks }\\n      internet_port: { get_param: internet_port }\\n      default_gateway: { get_param: default_gateway }\\n      credentials: { get_param: credentials }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_conf,1548980793)'
00:26:33.600 gohan.db INFO [0m Creating resource load_balancer_syslog_server
00:26:33.603 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,load_balancer_syslog_server,{"acl_logging":{"field":"acl_logging"},"appflow_logging":{"field":"appflow_logging"},"comment":{"field":"comment"},"credentials":{"field":"credentials","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"date_format":{"field":"date_format"},"heat_timeout":{"constant":10},"init_config":{"field":"init_config","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"ip_address":{"field":"ip_address"},"log_facility":{"field":"log_facility"},"log_level":{"field":"log_level"},"management_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"name":{"field":"name"},"port_number":{"field":"port_number"},"priority":{"field":"priority"},"tcp_logging":{"field":"tcp_logging"},"time_zone":{"field":"time_zone"},"transport_type":{"field":"transport_type"},"user_configurable_log_messages":{"field":"user_configurable_log_messages"},"vserver_ip_address":{"field":"vserver_ip_address"}},heat_template_version: 2013-05-23
description: Syslog server
parameters:
  name:
    type: string
  ip_address:
    type: string
  port_number:
    type: number
  log_level:
    type: string
  log_facility:
    type: string
  tcp_logging:
    type: string
  acl_logging:
    type: string
  appflow_logging:
    type: string
  date_format:
    type: string
  time_zone:
    type: string
  user_configurable_log_messages:
    type: string
  transport_type:
    type: string
  priority:
    type: number
  vserver_ip_address:
    type: string
  comment:
    type: string
  management_ip:
    type: string
  credentials:
    type: string
  init_config:
    type: string
resources:
  load_balancer_syslog_server:
    type: ESI::VNF::NetscalerSyslogServer
    properties:
      name: { get_param: name }
      ip_address: { get_param: ip_address }
      port_number: { get_param: port_number }
      log_level: { get_param: log_level }
      log_facility: { get_param: log_facility }
      tcp_logging: { get_param: tcp_logging }
      acl_logging: { get_param: acl_logging }
      appflow_logging: { get_param: appflow_logging }
      date_format: { get_param: date_format }
      time_zone: { get_param: time_zone }
      user_configurable_log_messages: { get_param: user_configurable_log_messages }
      transport_type: { get_param: transport_type }
      priority: { get_param: priority }
      vserver_ip_address: { get_param: vserver_ip_address }
      comment: { get_param: comment }
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      init_config: { get_param: init_config }
,[])'
00:26:33.610 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980793,create,false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_syslog_server\",\"parameter_mappings\":{\"acl_logging\":{\"field\":\"acl_logging\"},\"appflow_logging\":{\"field\":\"appflow_logging\"},\"comment\":{\"field\":\"comment\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"date_format\":{\"field\":\"date_format\"},\"heat_timeout\":{\"constant\":10},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"ip_address\":{\"field\":\"ip_address\"},\"log_facility\":{\"field\":\"log_facility\"},\"log_level\":{\"field\":\"log_level\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"name\":{\"field\":\"name\"},\"port_number\":{\"field\":\"port_number\"},\"priority\":{\"field\":\"priority\"},\"tcp_logging\":{\"field\":\"tcp_logging\"},\"time_zone\":{\"field\":\"time_zone\"},\"transport_type\":{\"field\":\"transport_type\"},\"user_configurable_log_messages\":{\"field\":\"user_configurable_log_messages\"},\"vserver_ip_address\":{\"field\":\"vserver_ip_address\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Syslog server\\nparameters:\\n  name:\\n    type: string\\n  ip_address:\\n    type: string\\n  port_number:\\n    type: number\\n  log_level:\\n    type: string\\n  log_facility:\\n    type: string\\n  tcp_logging:\\n    type: string\\n  acl_logging:\\n    type: string\\n  appflow_logging:\\n    type: string\\n  date_format:\\n    type: string\\n  time_zone:\\n    type: string\\n  user_configurable_log_messages:\\n    type: string\\n  transport_type:\\n    type: string\\n  priority:\\n    type: number\\n  vserver_ip_address:\\n    type: string\\n  comment:\\n    type: string\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: string\\n  init_config:\\n    type: string\\nresources:\\n  load_balancer_syslog_server:\\n    type: ESI::VNF::NetscalerSyslogServer\\n    properties:\\n      name: { get_param: name }\\n      ip_address: { get_param: ip_address }\\n      port_number: { get_param: port_number }\\n      log_level: { get_param: log_level }\\n      log_facility: { get_param: log_facility }\\n      tcp_logging: { get_param: tcp_logging }\\n      acl_logging: { get_param: acl_logging }\\n      appflow_logging: { get_param: appflow_logging }\\n      date_format: { get_param: date_format }\\n      time_zone: { get_param: time_zone }\\n      user_configurable_log_messages: { get_param: user_configurable_log_messages }\\n      transport_type: { get_param: transport_type }\\n      priority: { get_param: priority }\\n      vserver_ip_address: { get_param: vserver_ip_address }\\n      comment: { get_param: comment }\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      init_config: { get_param: init_config }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_syslog_server)'
00:26:33.616 gohan.db INFO [0m Creating resource load_balancer
00:26:33.618 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,load_balancer,{"gohan_id":{"field":"id"},"heat_timeout":{"constant":3},"jinja_force_dependency":{"field":"id","path":["load_balancer_conf_id"]},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"tenant_id":{"field":"tenant_id"},"version":{"version":"auto_filled"}},heat_template_version: 2013-05-23
description: Load Balancer
parameters:
  management_ip:
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VNF Instance
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
  lb_device_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_device_lb
      resource_type: load_balancers
      resource_id: { get_param: gohan_id }
      field_name: load_balancer
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        device_ip: { get_param: management_ip }
        community_name: LOAD_BALANCER_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: load_balancer
        tsdb:
          cpu.usage:
            metric: cpu.percents
            tags:
              resource_id: { get_param: gohan_id }
              type: usage
          memory.usage:
            metric: memory.percents
            tags:
              resource_id: { get_param: gohan_id }
              type: usage
          http.request:
            metric: http.request.connections
            tags:
              resource_id: { get_param: gohan_id }
          tcp.client:
            metric: tcp.connections
            tags:
              resource_id: { get_param: gohan_id }
              owner: client
          tcp.server:
            metric: tcp.connections
            tags:
              resource_id: { get_param: gohan_id }
              owner: server
outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: lb_device_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [lb_device_monitor, link]}
,[])'
00:26:33.624 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer\",\"parameter_mappings\":{\"gohan_id\":{\"field\":\"id\"},\"heat_timeout\":{\"constant\":3},\"jinja_force_dependency\":{\"field\":\"id\",\"path\":[\"load_balancer_conf_id\"]},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"version\":{\"version\":\"auto_filled\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Load Balancer\\nparameters:\\n  management_ip:\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VNF Instance\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n  lb_device_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_device_lb\\n      resource_type: load_balancers\\n      resource_id: { get_param: gohan_id }\\n      field_name: load_balancer\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        device_ip: { get_param: management_ip }\\n        community_name: LOAD_BALANCER_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: load_balancer\\n        tsdb:\\n          cpu.usage:\\n            metric: cpu.percents\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: usage\\n          memory.usage:\\n            metric: memory.percents\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              type: usage\\n          http.request:\\n            metric: http.request.connections\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n          tcp.client:\\n            metric: tcp.connections\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              owner: client\\n          tcp.server:\\n            metric: tcp.connections\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              owner: server\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: lb_device_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [lb_device_monitor, link]}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer,1548980793,create)'
00:26:33.674 gohan.db INFO [0m Creating resource load_balancer_interface
00:26:33.677 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,load_balancer_interface,{"gohan_id":{"field":"id"},"heat_timeout":{"constant":3},"jinja_slot_number":{"field":"slot_number"},"management_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"tenant_id":{"field":"tenant_id"},"version":{"version":"auto_filled"}},heat_template_version: 2013-05-23
description: Load Balancer Interface
parameters:
  management_ip:
    type: string
  gohan_id:
    type: string
    label: Gohan resource ID
    description: UUID of the VNF Instance
  tenant_id:
    type: string
    label: Tenant ID
  version:
    type: number
    label: Config version
resources:
  lb_interface_monitor:
    type: ESI::Monitoring::MonitoringTarget
    properties:
      type: snmp_ports
      resource_type: load_balancer_interfaces
      resource_id: { get_param: gohan_id }
      field_name: interface
      tenant_id: { get_param: tenant_id }
      version: { get_param: version }
      properties:
        device_ip: { get_param: management_ip }
        {% if jinja_slot_number == 0  %}
        if_name: 0/1
        {% else %}
        if_name: 1/{{ jinja_slot_number }}
        {% endif %}
        community_name: LOAD_BALANCER_COMMUNITY
      syncer_properties:
        etcd:
          status:
            key: interface
        tsdb:
          traffic.in:
            metric: traffic.bytes
            tags:
              resource_id: { get_param: gohan_id }
              direction: in
          traffic.out:
            metric: traffic.bytes
            tags:
              resource_id: { get_param: gohan_id }
              direction: out
outputs:
  monitoring_target_id:
    description: Monitoring Target ID
    value: { get_resource: lb_interface_monitor}
  monitoring_link:
    description: Monitoring Process Link
    value: { get_attr: [lb_interface_monitor, link]}
,[])'
00:26:33.682 gohan.db.sql INFO [0m Executing SQL query in transaction '81d78029-e313-4c60-983e-4018af87749c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/load_balancer_interface,1548980793,create,false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_interface\",\"parameter_mappings\":{\"gohan_id\":{\"field\":\"id\"},\"heat_timeout\":{\"constant\":3},\"jinja_slot_number\":{\"field\":\"slot_number\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"tenant_id\":{\"field\":\"tenant_id\"},\"version\":{\"version\":\"auto_filled\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Load Balancer Interface\\nparameters:\\n  management_ip:\\n    type: string\\n  gohan_id:\\n    type: string\\n    label: Gohan resource ID\\n    description: UUID of the VNF Instance\\n  tenant_id:\\n    type: string\\n    label: Tenant ID\\n  version:\\n    type: number\\n    label: Config version\\nresources:\\n  lb_interface_monitor:\\n    type: ESI::Monitoring::MonitoringTarget\\n    properties:\\n      type: snmp_ports\\n      resource_type: load_balancer_interfaces\\n      resource_id: { get_param: gohan_id }\\n      field_name: interface\\n      tenant_id: { get_param: tenant_id }\\n      version: { get_param: version }\\n      properties:\\n        device_ip: { get_param: management_ip }\\n        {% if jinja_slot_number == 0  %}\\n        if_name: 0/1\\n        {% else %}\\n        if_name: 1/{{ jinja_slot_number }}\\n        {% endif %}\\n        community_name: LOAD_BALANCER_COMMUNITY\\n      syncer_properties:\\n        etcd:\\n          status:\\n            key: interface\\n        tsdb:\\n          traffic.in:\\n            metric: traffic.bytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              direction: in\\n          traffic.out:\\n            metric: traffic.bytes\\n            tags:\\n              resource_id: { get_param: gohan_id }\\n              direction: out\\noutputs:\\n  monitoring_target_id:\\n    description: Monitoring Target ID\\n    value: { get_resource: lb_interface_monitor}\\n  monitoring_link:\\n    description: Monitoring Process Link\\n    value: { get_attr: [lb_interface_monitor, link]}\\n\",\"watch\":[]}",1)'
00:26:33.685 gohan.db INFO [0m Populating resources for schema worker_data
00:26:33.686 gohan.db INFO [0m Populating resources for schema tenant
00:26:33.687 gohan.db INFO [0m Populating resources for schema edge_router
00:26:33.688 gohan.db INFO [0m Populating resources for schema er_physical_interface
00:26:33.690 gohan.db INFO [0m Populating resources for schema ha_router
00:26:33.691 gohan.db INFO [0m Populating resources for schema ha_interface
00:26:33.692 gohan.db INFO [0m Populating resources for schema internet_service
00:26:33.693 gohan.db INFO [0m Populating resources for schema vpn_service
00:26:33.694 gohan.db INFO [0m Populating resources for schema aws_service
00:26:33.695 gohan.db INFO [0m Populating resources for schema azure_service
00:26:33.696 gohan.db INFO [0m Populating resources for schema gcp_service
00:26:33.697 gohan.db INFO [0m Populating resources for schema interdc_service
00:26:33.698 gohan.db INFO [0m Populating resources for schema common_function_pool
00:26:33.699 gohan.db INFO [0m Populating resources for schema nat_ip_pool
00:26:33.700 gohan.db INFO [0m Populating resources for schema common_function
00:26:33.701 gohan.db INFO [0m Populating resources for schema public_ip_pool
00:26:33.702 gohan.db INFO [0m Populating resources for schema suspended_public_ip
00:26:33.705 gohan.db INFO [0m Populating resources for schema qos_option
00:26:33.706 gohan.db INFO [0m Populating resources for schema vpn_gateway
00:26:33.707 gohan.db INFO [0m Populating resources for schema vpn_interface
00:26:33.708 gohan.db INFO [0m Populating resources for schema aws_gateway
00:26:33.709 gohan.db INFO [0m Populating resources for schema aws_interface
00:26:33.710 gohan.db INFO [0m Populating resources for schema azure_gateway
00:26:33.711 gohan.db INFO [0m Populating resources for schema azure_interface
00:26:33.712 gohan.db INFO [0m Populating resources for schema gcp_gateway
00:26:33.713 gohan.db INFO [0m Populating resources for schema gcp_interface
00:26:33.714 gohan.db INFO [0m Populating resources for schema internet_gateway
00:26:33.715 gohan.db INFO [0m Populating resources for schema common_function_gateway
00:26:33.716 gohan.db INFO [0m Populating resources for schema public_ip
00:26:33.717 gohan.db INFO [0m Populating resources for schema interdc_gateway
00:26:33.718 gohan.db INFO [0m Populating resources for schema interdc_interface
00:26:33.719 gohan.db INFO [0m Populating resources for schema gw_interface
00:26:33.720 gohan.db INFO [0m Populating resources for schema static_route
00:26:33.721 gohan.db INFO [0m Populating resources for schema vnf_template
00:26:33.722 gohan.db INFO [0m Populating resources for schema vnf_plan
00:26:33.723 gohan.db INFO [0m Populating resources for schema vnf_instance
00:26:33.724 gohan.db INFO [0m Populating resources for schema vnf_interface
00:26:33.725 gohan.db INFO [0m Populating resources for schema firewall_plan
00:26:33.726 gohan.db INFO [0m Populating resources for schema firewall
00:26:33.727 gohan.db INFO [0m Populating resources for schema firewall_interface
00:26:33.728 gohan.db INFO [0m Populating resources for schema load_balancer_plan
00:26:33.729 gohan.db INFO [0m Populating resources for schema load_balancer_conf
00:26:33.730 gohan.db INFO [0m Populating resources for schema load_balancer
00:26:33.731 gohan.db INFO [0m Populating resources for schema load_balancer_interface
00:26:33.734 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
00:26:33.735 gohan.db INFO [0m Populating resources for schema billing_usage
00:26:33.737 gohan.db INFO [0m Populating resources for schema billing_resource
00:26:33.738 gohan.db INFO [0m Populating resources for schema monitoring
00:26:33.739 gohan.db INFO [0m Populating resources for schema monitoring_history
00:26:33.740 gohan.db INFO [0m Populating resources for schema colocation_space
00:26:33.741 gohan.db INFO [0m Populating resources for schema colocation_physical_link
00:26:33.742 gohan.db INFO [0m Populating resources for schema colocation_logical_link
00:26:33.743 gohan.db INFO [0m Populating resources for schema tenant_connection
00:26:33.744 gohan.db INFO [0m Populating resources for schema hosting_physical_link
00:26:33.745 gohan.db INFO [0m Populating resources for schema hosting_logical_link
00:26:33.761 gohan.server.core INFO [0m Keystone backend server configured
00:26:34.083 gohan.server.core INFO [0m Loading extensions for schema 'local_subnet'
00:26:34.372 gohan.server.core INFO [0m Loading extensions for schema 'quota'
00:26:34.408 gohan.server.core INFO [0m Loading extensions for schema 'interdc_interface'
00:26:34.437 gohan.server.core INFO [0m Loading extensions for schema 'static_route'
00:26:34.484 gohan.server.core INFO [0m Loading extensions for schema 'vnf_plan'
00:26:34.517 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_conf'
00:26:34.549 gohan.server.core INFO [0m Loading extensions for schema 'monitoring'
00:26:34.593 gohan.server.core INFO [0m Loading extensions for schema 'ese_logical_port'
00:26:34.638 gohan.server.core INFO [0m Loading extensions for schema 'vpn_service'
00:26:34.673 gohan.server.core INFO [0m Loading extensions for schema 'vnf_template'
00:26:34.701 gohan.server.core INFO [0m Loading extensions for schema 'firewall_plan'
00:26:34.727 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer'
00:26:34.759 gohan.server.core INFO [0m Loading extensions for schema 'colocation_space'
00:26:34.790 gohan.server.core INFO [0m Loading extensions for schema 'tenant_connection'
00:26:34.868 gohan.server.core INFO [0m Loading extensions for schema 'ese_device'
00:26:34.912 gohan.server.core INFO [0m Loading extensions for schema 'port'
00:26:34.946 gohan.server.core INFO [0m Loading extensions for schema 'ha_router'
00:26:34.972 gohan.server.core INFO [0m Loading extensions for schema 'security_group'
00:26:35.000 gohan.server.core INFO [0m Loading extensions for schema 'vpn_interface'
00:26:35.038 gohan.server.core INFO [0m Loading extensions for schema 'vnf_instance'
00:26:35.069 gohan.server.core INFO [0m Loading extensions for schema 'billing_usage'
00:26:35.101 gohan.server.core INFO [0m Loading extensions for schema 'neutron_extension'
00:26:35.161 gohan.server.core INFO [0m Loading extensions for schema 'aws_interface'
00:26:35.188 gohan.server.core INFO [0m Loading extensions for schema 'azure_interface'
00:26:35.215 gohan.server.core INFO [0m Loading extensions for schema 'interdc_gateway'
00:26:35.243 gohan.server.core INFO [0m Loading extensions for schema 'vnf_interface'
00:26:35.270 gohan.server.core INFO [0m Loading extensions for schema 'colocation_physical_link'
00:26:35.299 gohan.server.core INFO [0m Loading extensions for schema 'hosting_physical_link'
00:26:35.330 gohan.server.core INFO [0m Loading extensions for schema 'namespace'
00:26:35.359 gohan.server.core INFO [0m Loading extensions for schema 'subnet'
00:26:35.394 gohan.server.core INFO [0m Loading extensions for schema 'reserve_address'
00:26:35.428 gohan.server.core INFO [0m Loading extensions for schema 'tenant'
00:26:35.482 gohan.server.core INFO [0m Loading extensions for schema 'aws_gateway'
00:26:35.540 gohan.server.core INFO [0m Loading extensions for schema 'gw_interface'
00:26:35.594 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_plan'
00:26:35.631 gohan.server.core INFO [0m Loading extensions for schema 'edge_router'
00:26:35.659 gohan.server.core INFO [0m Loading extensions for schema 'internet_service'
00:26:35.688 gohan.server.core INFO [0m Loading extensions for schema 'location'
00:26:35.714 gohan.server.core INFO [0m Loading extensions for schema 'interdc_service'
00:26:35.740 gohan.server.core INFO [0m Loading extensions for schema 'gcp_gateway'
00:26:35.767 gohan.server.core INFO [0m Loading extensions for schema 'public_ip'
00:26:35.798 gohan.server.core INFO [0m Loading extensions for schema 'ha_interface'
00:26:35.829 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_interface'
00:26:35.860 gohan.server.core INFO [0m Loading extensions for schema 'vpn_gateway'
00:26:35.890 gohan.server.core INFO [0m Loading extensions for schema 'network'
00:26:35.920 gohan.server.core INFO [0m Loading extensions for schema 'ese_physical_port'
00:26:35.950 gohan.server.core INFO [0m Loading extensions for schema 'er_physical_interface'
00:26:36.005 gohan.server.core INFO [0m Loading extensions for schema 'aws_service'
00:26:36.067 gohan.server.core INFO [0m Loading extensions for schema 'azure_service'
00:26:36.105 gohan.server.core INFO [0m Loading extensions for schema 'common_function_pool'
00:26:36.132 gohan.server.core INFO [0m Loading extensions for schema 'qos_option'
00:26:36.160 gohan.server.core INFO [0m Loading extensions for schema 'common_function_gateway'
00:26:36.188 gohan.server.core INFO [0m Loading extensions for schema 'colocation_logical_link'
00:26:36.216 gohan.server.core INFO [0m Loading extensions for schema 'hosting_logical_link'
00:26:36.244 gohan.server.core INFO [0m Loading extensions for schema 'event'
00:26:36.270 gohan.server.core INFO [0m Loading extensions for schema 'public_ip_pool'
00:26:36.297 gohan.server.core INFO [0m Loading extensions for schema 'suspended_public_ip'
00:26:36.322 gohan.server.core INFO [0m Loading extensions for schema 'azure_gateway'
00:26:36.350 gohan.server.core INFO [0m Loading extensions for schema 'gcp_interface'
00:26:36.380 gohan.server.core INFO [0m Loading extensions for schema 'internet_gateway'
00:26:36.411 gohan.server.core INFO [0m Loading extensions for schema 'monitoring_history'
00:26:36.441 gohan.server.core INFO [0m Loading extensions for schema 'schema'
00:26:36.475 gohan.server.core INFO [0m Loading extensions for schema 'heat_template'
00:26:36.508 gohan.server.core INFO [0m Loading extensions for schema 'nat_ip_pool'
00:26:36.541 gohan.server.core INFO [0m Loading extensions for schema 'physical_port'
00:26:36.574 gohan.server.core INFO [0m Loading extensions for schema 'common_function'
00:26:36.604 gohan.server.core INFO [0m Loading extensions for schema 'firewall'
00:26:36.654 gohan.server.core INFO [0m Loading extensions for schema 'extension'
00:26:36.781 gohan.server.core INFO [0m Loading extensions for schema 'server'
00:26:36.808 gohan.server.core INFO [0m Loading extensions for schema 'gcp_service'
00:26:36.836 gohan.server.core INFO [0m Loading extensions for schema 'billing_resource'
00:26:36.864 gohan.server.core INFO [0m Loading extensions for schema 'policy'
00:26:36.890 gohan.server.core INFO [0m Loading extensions for schema 'worker_data'
00:26:36.918 gohan.server.core INFO [0m Loading extensions for schema 'firewall_interface'
00:26:36.948 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_syslog_server'
00:26:36.976 gohan.server INFO [0m Gohan timeout value: 45s
00:26:36.976 gohan.server INFO [0m etcd servers: [http://etcd-server:2379]
00:26:36.976 gohan.server INFO [0m Static file serving from /etc/gohan/
[36m00:26:36.976 gohan.server DEBUG [0m [Initializing Routes]
[36m00:26:36.977 gohan.server DEBUG [0m [Plural Path] /v2.0/physical_ports
[36m00:26:36.977 gohan.server DEBUG [0m [Singular Path] /v2.0/physical_ports/:id
[36m00:26:36.977 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/physical_ports
[36m00:26:36.977 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/physical_ports/:id
[36m00:26:36.977 gohan.server DEBUG [0m [Plural Path] /v2.0/common_functions
[36m00:26:36.977 gohan.server DEBUG [0m [Singular Path] /v2.0/common_functions/:id
[36m00:26:36.977 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_functions
[36m00:26:36.977 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_functions/:id
[36m00:26:36.978 gohan.server DEBUG [0m [Plural Path] /v2.0/firewalls
[36m00:26:36.978 gohan.server DEBUG [0m [Singular Path] /v2.0/firewalls/:id
[36m00:26:36.978 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls
[36m00:26:36.978 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:id
[36m00:26:36.978 gohan.server DEBUG [0m [Plural Path] /v2.0/billing_resources
[36m00:26:36.978 gohan.server DEBUG [0m [Singular Path] /v2.0/billing_resources/:id
[36m00:26:36.978 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/billing_resources
[36m00:26:36.978 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/billing_resources/:id
[36m00:26:36.979 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/extensions
[36m00:26:36.979 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/extensions/:id
[36m00:26:36.979 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/extensions
[36m00:26:36.979 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/extensions/:id
[36m00:26:36.980 gohan.server DEBUG [0m [Plural Path] /v2.0/servers
[36m00:26:36.980 gohan.server DEBUG [0m [Singular Path] /v2.0/servers/:id
[36m00:26:36.980 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/servers
[36m00:26:36.980 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/servers/:id
[36m00:26:36.980 gohan.server DEBUG [0m [Plural Path] /v2.0/gcp_services
[36m00:26:36.980 gohan.server DEBUG [0m [Singular Path] /v2.0/gcp_services/:id
[36m00:26:36.980 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gcp_services
[36m00:26:36.980 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gcp_services/:id
[36m00:26:36.981 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_syslog_servers
[36m00:26:36.981 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_syslog_servers/:id
[36m00:26:36.981 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers
[36m00:26:36.981 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers/:id
[36m00:26:36.981 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/policies
[36m00:26:36.981 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/policies/:id
[36m00:26:36.981 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/policies
[36m00:26:36.982 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/policies/:id
[36m00:26:36.982 gohan.server DEBUG [0m [Plural Path] /v2.0/worker_datas
[36m00:26:36.982 gohan.server DEBUG [0m [Singular Path] /v2.0/worker_datas/:id
[36m00:26:36.982 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/worker_datas
[36m00:26:36.982 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/worker_datas/:id
[36m00:26:36.982 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_interfaces
[36m00:26:36.982 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_interfaces/:id
[36m00:26:36.982 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces
[36m00:26:36.983 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces/:id
[36m00:26:36.983 gohan.server DEBUG [0m [Plural Path] /v2.0/static_routes
[36m00:26:36.983 gohan.server DEBUG [0m [Singular Path] /v2.0/static_routes/:id
[36m00:26:36.983 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/static_routes
[36m00:26:36.983 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/static_routes/:id
[36m00:26:36.984 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_plans
[36m00:26:36.984 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_plans/:id
[36m00:26:36.984 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_plans
[36m00:26:36.984 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_plans/:id
[36m00:26:36.984 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_confs
[36m00:26:36.984 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_confs/:id
[36m00:26:36.984 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_confs
[36m00:26:36.984 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_confs/:id
[36m00:26:36.985 gohan.server DEBUG [0m [Plural Path] /v1.0/monitoring
[36m00:26:36.985 gohan.server DEBUG [0m [Singular Path] /v1.0/monitoring/:id
[36m00:26:36.985 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/monitoring
[36m00:26:36.985 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/monitoring/:id
[36m00:26:36.985 gohan.server DEBUG [0m [Plural Path] /v2.0/local_subnets
[36m00:26:36.985 gohan.server DEBUG [0m [Singular Path] /v2.0/local_subnets/:id
[36m00:26:36.985 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets
[36m00:26:36.985 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets/:id
[36m00:26:36.986 gohan.server DEBUG [0m [Plural Path] /v2.0/quotas
[36m00:26:36.986 gohan.server DEBUG [0m [Singular Path] /v2.0/quotas/:id
[36m00:26:36.986 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/quotas
[36m00:26:36.986 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/quotas/:id
[36m00:26:36.987 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_interfaces
[36m00:26:36.987 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_interfaces/:id
[36m00:26:36.987 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_interfaces
[36m00:26:36.987 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_interfaces/:id
[36m00:26:36.987 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_plans
[36m00:26:36.987 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_plans/:id
[36m00:26:36.987 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewall_plans
[36m00:26:36.987 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewall_plans/:id
[36m00:26:36.988 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancers
[36m00:26:36.988 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancers/:id
[36m00:26:36.988 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers
[36m00:26:36.988 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:id
[36m00:26:36.988 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_spaces
[36m00:26:36.988 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_spaces/:id
[36m00:26:36.988 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_spaces
[36m00:26:36.988 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_spaces/:id
[36m00:26:36.989 gohan.server DEBUG [0m [Plural Path] /v2.0/tenant_connections
[36m00:26:36.989 gohan.server DEBUG [0m [Singular Path] /v2.0/tenant_connections/:id
[36m00:26:36.989 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/tenant_connections
[36m00:26:36.989 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/tenant_connections/:id
[36m00:26:36.989 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_logical_ports
[36m00:26:36.989 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_logical_ports/:id
[36m00:26:36.989 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports
[36m00:26:36.990 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:id
[36m00:26:36.990 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_services
[36m00:26:36.990 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_services/:id
[36m00:26:36.990 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_services
[36m00:26:36.990 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_services/:id
[36m00:26:36.990 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_templates
[36m00:26:36.991 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_templates/:id
[36m00:26:36.991 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_templates
[36m00:26:36.991 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_templates/:id
[36m00:26:36.991 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_devices
[36m00:26:36.991 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_devices/:id
[36m00:26:36.991 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices
[36m00:26:36.991 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:id
[36m00:26:36.991 gohan.server DEBUG [0m [Plural Path] /v2.0/ports
[36m00:26:36.991 gohan.server DEBUG [0m [Singular Path] /v2.0/ports/:id
[36m00:26:36.992 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ports
[36m00:26:36.992 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ports/:id
[36m00:26:36.992 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_routers
[36m00:26:36.992 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_routers/:id
[36m00:26:36.992 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_routers
[36m00:26:36.992 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_routers/:id
[36m00:26:36.992 gohan.server DEBUG [0m [Plural Path] /common/v1.0/usage
[36m00:26:36.992 gohan.server DEBUG [0m [Singular Path] /common/v1.0/usage/:id
[36m00:26:36.993 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants/:tenant/usage
[36m00:26:36.993 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:tenant/usage/:id
[36m00:26:36.993 gohan.server DEBUG [0m [Plural Path] /v2.0/security-groups
[36m00:26:36.993 gohan.server DEBUG [0m [Singular Path] /v2.0/security-groups/:id
[36m00:26:36.993 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/security-groups
[36m00:26:36.993 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/security-groups/:id
[36m00:26:36.994 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_interfaces
[36m00:26:36.994 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_interfaces/:id
[36m00:26:36.994 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_interfaces
[36m00:26:36.994 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_interfaces/:id
[36m00:26:36.994 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_instances
[36m00:26:36.994 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_instances/:id
[36m00:26:36.994 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances
[36m00:26:36.994 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:id
[36m00:26:36.995 gohan.server DEBUG [0m [Plural Path] /v2.0/extensions
[36m00:26:36.995 gohan.server DEBUG [0m [Singular Path] /v2.0/extensions/:id
[36m00:26:36.995 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/extensions
[36m00:26:36.995 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/extensions/:id
[36m00:26:36.995 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_interfaces
[36m00:26:36.995 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_interfaces/:id
[36m00:26:36.995 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_interfaces
[36m00:26:36.995 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_interfaces/:id
[36m00:26:36.996 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_physical_links
[36m00:26:36.996 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_physical_links/:id
[36m00:26:36.996 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_physical_links
[36m00:26:36.996 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_physical_links/:id
[36m00:26:36.996 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_physical_links
[36m00:26:36.996 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_physical_links/:id
[36m00:26:36.996 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_physical_links
[36m00:26:36.997 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_physical_links/:id
[36m00:26:36.997 gohan.server DEBUG [0m [Plural Path] /v2.0/azure_interfaces
[36m00:26:36.997 gohan.server DEBUG [0m [Singular Path] /v2.0/azure_interfaces/:id
[36m00:26:36.997 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/azure_interfaces
[36m00:26:36.997 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/azure_interfaces/:id
[36m00:26:36.997 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_gateways
[36m00:26:36.998 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_gateways/:id
[36m00:26:36.998 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_gateways
[36m00:26:36.998 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_gateways/:id
[36m00:26:36.998 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_interfaces
[36m00:26:36.998 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_interfaces/:id
[36m00:26:36.998 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces
[36m00:26:36.998 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces/:id
[36m00:26:36.999 gohan.server DEBUG [0m [Plural Path] /common/v1.0/tenants
[36m00:26:36.999 gohan.server DEBUG [0m [Singular Path] /common/v1.0/tenants/:id
[36m00:26:36.999 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants
[36m00:26:36.999 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:id
[36m00:26:36.999 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_gateways
[36m00:26:36.999 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_gateways/:id
[36m00:26:36.999 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_gateways
[36m00:26:36.999 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_gateways/:id
[36m00:26:36.999 gohan.server DEBUG [0m [Plural Path] /v2.0/gw_interfaces
[36m00:26:37.000 gohan.server DEBUG [0m [Singular Path] /v2.0/gw_interfaces/:id
[36m00:26:37.000 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gw_interfaces
[36m00:26:37.000 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gw_interfaces/:id
[36m00:26:37.000 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_plans
[36m00:26:37.000 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_plans/:id
[36m00:26:37.000 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_plans
[36m00:26:37.000 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_plans/:id
[36m00:26:37.000 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/namespaces
[36m00:26:37.001 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/namespaces/:id
[36m00:26:37.001 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/namespaces
[36m00:26:37.001 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/namespaces/:id
[36m00:26:37.001 gohan.server DEBUG [0m [Plural Path] /v2.0/subnets
[36m00:26:37.001 gohan.server DEBUG [0m [Singular Path] /v2.0/subnets/:id
[36m00:26:37.001 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/subnets
[36m00:26:37.001 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/subnets/:id
[36m00:26:37.001 gohan.server DEBUG [0m [Plural Path] /v2.0/reserve_addresses
[36m00:26:37.002 gohan.server DEBUG [0m [Singular Path] /v2.0/reserve_addresses/:id
[36m00:26:37.002 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/reserve_addresses
[36m00:26:37.002 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/reserve_addresses/:id
[36m00:26:37.002 gohan.server DEBUG [0m [Plural Path] /v2.0/edge_routers
[36m00:26:37.002 gohan.server DEBUG [0m [Singular Path] /v2.0/edge_routers/:id
[36m00:26:37.002 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/edge_routers
[36m00:26:37.002 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/edge_routers/:id
[36m00:26:37.002 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_services
[36m00:26:37.003 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_services/:id
[36m00:26:37.003 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_services
[36m00:26:37.003 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_services/:id
[36m00:26:37.003 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ips
[36m00:26:37.003 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ips/:id
[36m00:26:37.003 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ips
[36m00:26:37.003 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ips/:id
[36m00:26:37.004 gohan.server DEBUG [0m [Plural Path] /v2.0/locations
[36m00:26:37.004 gohan.server DEBUG [0m [Singular Path] /v2.0/locations/:id
[36m00:26:37.004 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/locations
[36m00:26:37.004 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/locations/:id
[36m00:26:37.004 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_services
[36m00:26:37.004 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_services/:id
[36m00:26:37.004 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_services
[36m00:26:37.004 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_services/:id
[36m00:26:37.005 gohan.server DEBUG [0m [Plural Path] /v2.0/gcp_gateways
[36m00:26:37.005 gohan.server DEBUG [0m [Singular Path] /v2.0/gcp_gateways/:id
[36m00:26:37.005 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gcp_gateways
[36m00:26:37.005 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gcp_gateways/:id
[36m00:26:37.005 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_interfaces
[36m00:26:37.005 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_interfaces/:id
[36m00:26:37.005 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_interfaces
[36m00:26:37.005 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_interfaces/:id
[36m00:26:37.006 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_interfaces
[36m00:26:37.006 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_interfaces/:id
[36m00:26:37.006 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces
[36m00:26:37.006 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces/:id
[36m00:26:37.006 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_services
[36m00:26:37.006 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_services/:id
[36m00:26:37.006 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_services
[36m00:26:37.007 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_services/:id
[36m00:26:37.007 gohan.server DEBUG [0m [Plural Path] /v2.0/azure_services
[36m00:26:37.007 gohan.server DEBUG [0m [Singular Path] /v2.0/azure_services/:id
[36m00:26:37.007 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/azure_services
[36m00:26:37.007 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/azure_services/:id
[36m00:26:37.007 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_pools
[36m00:26:37.007 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_pools/:id
[36m00:26:37.008 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_pools
[36m00:26:37.008 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_pools/:id
[36m00:26:37.008 gohan.server DEBUG [0m [Plural Path] /v2.0/qos_options
[36m00:26:37.008 gohan.server DEBUG [0m [Singular Path] /v2.0/qos_options/:id
[36m00:26:37.008 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/qos_options
[36m00:26:37.008 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/qos_options/:id
[36m00:26:37.009 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_gateways
[36m00:26:37.009 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_gateways/:id
[36m00:26:37.009 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_gateways
[36m00:26:37.009 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_gateways/:id
[36m00:26:37.009 gohan.server DEBUG [0m [Plural Path] /v2.0/networks
[36m00:26:37.009 gohan.server DEBUG [0m [Singular Path] /v2.0/networks/:id
[36m00:26:37.009 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/networks
[36m00:26:37.009 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/networks/:id
[36m00:26:37.009 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_physical_ports
[36m00:26:37.010 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_physical_ports/:id
[36m00:26:37.010 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports
[36m00:26:37.010 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:id
[36m00:26:37.010 gohan.server DEBUG [0m [Plural Path] /v2.0/er_physical_interfaces
[36m00:26:37.010 gohan.server DEBUG [0m [Singular Path] /v2.0/er_physical_interfaces/:id
[36m00:26:37.010 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/er_physical_interfaces
[36m00:26:37.010 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/er_physical_interfaces/:id
[36m00:26:37.011 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_gateways
[36m00:26:37.011 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_gateways/:id
[36m00:26:37.011 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_gateways
[36m00:26:37.011 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_gateways/:id
[36m00:26:37.011 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_logical_links
[36m00:26:37.011 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_logical_links/:id
[36m00:26:37.011 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_logical_links
[36m00:26:37.011 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_logical_links/:id
[36m00:26:37.012 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_logical_links
[36m00:26:37.012 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_logical_links/:id
[36m00:26:37.012 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_logical_links
[36m00:26:37.012 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_logical_links/:id
[36m00:26:37.012 gohan.server DEBUG [0m [Plural Path] /v2.0/azure_gateways
[36m00:26:37.012 gohan.server DEBUG [0m [Singular Path] /v2.0/azure_gateways/:id
[36m00:26:37.012 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/azure_gateways
[36m00:26:37.013 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/azure_gateways/:id
[36m00:26:37.013 gohan.server DEBUG [0m [Plural Path] /v2.0/gcp_interfaces
[36m00:26:37.013 gohan.server DEBUG [0m [Singular Path] /v2.0/gcp_interfaces/:id
[36m00:26:37.013 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gcp_interfaces
[36m00:26:37.013 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gcp_interfaces/:id
[36m00:26:37.013 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_gateways
[36m00:26:37.013 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_gateways/:id
[36m00:26:37.013 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_gateways
[36m00:26:37.013 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_gateways/:id
[36m00:26:37.014 gohan.server DEBUG [0m [Plural Path] /v1.0/monitoring_histories
[36m00:26:37.014 gohan.server DEBUG [0m [Singular Path] /v1.0/monitoring_histories/:id
[36m00:26:37.014 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/monitoring_histories
[36m00:26:37.014 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/monitoring_histories/:id
[36m00:26:37.014 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/events
[36m00:26:37.014 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/events/:id
[36m00:26:37.015 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/events
[36m00:26:37.015 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/events/:id
[36m00:26:37.015 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ip_pools
[36m00:26:37.015 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ip_pools/:id
[36m00:26:37.015 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ip_pools
[36m00:26:37.015 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ip_pools/:id
[36m00:26:37.015 gohan.server DEBUG [0m [Plural Path] /v2.0/suspended_public_ips
[36m00:26:37.016 gohan.server DEBUG [0m [Singular Path] /v2.0/suspended_public_ips/:id
[36m00:26:37.016 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/suspended_public_ips
[36m00:26:37.016 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/suspended_public_ips/:id
[36m00:26:37.016 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/schemas
[36m00:26:37.016 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/schemas/:id
[36m00:26:37.016 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/schemas
[36m00:26:37.016 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/schemas/:id
[36m00:26:37.016 gohan.server DEBUG [0m [Plural Path] /v2.0/heat_templates
[36m00:26:37.017 gohan.server DEBUG [0m [Singular Path] /v2.0/heat_templates/:id
[36m00:26:37.017 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/heat_templates
[36m00:26:37.017 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/heat_templates/:id
[36m00:26:37.017 gohan.server DEBUG [0m [Plural Path] /v2.0/nat_ip_pools
[36m00:26:37.017 gohan.server DEBUG [0m [Singular Path] /v2.0/nat_ip_pools/:id
[36m00:26:37.017 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/nat_ip_pools
[36m00:26:37.017 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/nat_ip_pools/:id
00:26:37.022 gohan.server INFO [0m Gohan no jikan desuyo (It's time for dinner!) 
00:26:37.022 gohan.server INFO [0m Starting Gohan Server...
00:26:37.026 gohan.sync INFO [0m Locked gohan/cluster/sync with index 0
[33m00:26:37.029 gohan.server WARNING [0m Error getting last seen index for path /state/ (try #1): 100: Key not found (/gohan/watch) [9]
00:26:37.033 gohan.server INFO [0m Started CRON process
[33m00:26:37.034 gohan.server WARNING [0m Error getting last seen index for path /monitoring/ (try #1): 100: Key not found (/gohan/watch) [9]
[36m00:26:37.040 gohan.server.sync DEBUG [0m Processing event 1 - create
00:26:37.040 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/network
[36m00:26:37.051 gohan.server.sync DEBUG [0m Deleting event 1
00:26:37.055 gohan.db.sql INFO [0m Executing SQL query in transaction 'd47d4f07-757c-47f6-9b71-5482e9b2420a': 'DELETE FROM `events` WHERE id = 1'
[36m00:26:37.055 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.075 gohan.server.sync DEBUG [0m Processing event 2 - create
00:26:37.075 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/subnet
[36m00:26:37.078 gohan.server.sync DEBUG [0m Deleting event 2
00:26:37.081 gohan.db.sql INFO [0m Executing SQL query in transaction '9a46cc4c-eeb5-4a0a-be1e-f413fced8a74': 'DELETE FROM `events` WHERE id = 2'
[36m00:26:37.082 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:26:37.093 gohan.server INFO [0m New job for cron://cron_purge_billing_resources / 00 02 * * * *
[36m00:26:37.093 gohan.server.sync DEBUG [0m Processing event 3 - create
00:26:37.093 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/port
[36m00:26:37.097 gohan.server.sync DEBUG [0m Deleting event 3
00:26:37.103 gohan.db.sql INFO [0m Executing SQL query in transaction '094af378-bd9a-4b3f-90b4-ed60d3368919': 'DELETE FROM `events` WHERE id = 3'
[36m00:26:37.104 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.115 gohan.server.sync DEBUG [0m Processing event 4 - create
00:26:37.116 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_existing
[36m00:26:37.118 gohan.server.sync DEBUG [0m Deleting event 4
00:26:37.138 gohan.db.sql INFO [0m Executing SQL query in transaction '46e541a5-0087-4996-93b7-bc143e216209': 'DELETE FROM `events` WHERE id = 4'
[36m00:26:37.139 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:26:37.146 gohan.server INFO [0m New job for cron://cron_purge_resource_mappings / 00 03 * * * *
[36m00:26:37.151 gohan.server.sync DEBUG [0m Processing event 5 - create
00:26:37.151 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_new
[36m00:26:37.153 gohan.server.sync DEBUG [0m Deleting event 5
00:26:37.157 gohan.db.sql INFO [0m Executing SQL query in transaction '19e03fbd-7bc6-40bf-b98b-fca3ba401431': 'DELETE FROM `events` WHERE id = 5'
[36m00:26:37.157 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.181 gohan.server.sync DEBUG [0m Processing event 6 - create
00:26:37.181 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_logical_port
[36m00:26:37.183 gohan.server.sync DEBUG [0m Deleting event 6
00:26:37.186 gohan.db.sql INFO [0m Executing SQL query in transaction 'e8089102-fb5a-4862-b869-398af57062d3': 'DELETE FROM `events` WHERE id = 6'
[36m00:26:37.187 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:26:37.191 gohan.server INFO [0m New job for cron://cron_delete_tenant / 0 */10 * * * *
[36m00:26:37.205 gohan.server.sync DEBUG [0m Processing event 7 - create
00:26:37.205 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/local_subnet
[36m00:26:37.207 gohan.server.sync DEBUG [0m Deleting event 7
00:26:37.209 gohan.db.sql INFO [0m Executing SQL query in transaction 'e892d4f3-fa53-4b71-b321-3a499676e6ee': 'DELETE FROM `events` WHERE id = 7'
[36m00:26:37.210 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.224 gohan.server.sync DEBUG [0m Processing event 8 - create
00:26:37.224 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_existing
[36m00:26:37.226 gohan.server.sync DEBUG [0m Deleting event 8
00:26:37.228 gohan.db.sql INFO [0m Executing SQL query in transaction '5004cf7c-1abf-4912-8224-297497eab375': 'DELETE FROM `events` WHERE id = 8'
[36m00:26:37.228 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:26:37.233 gohan.server INFO [0m New job for cron://tenant_connection_create_cron / */30 * * * * *
[36m00:26:37.255 gohan.server.sync DEBUG [0m Processing event 9 - create
00:26:37.255 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_new
[36m00:26:37.258 gohan.server.sync DEBUG [0m Deleting event 9
00:26:37.260 gohan.db.sql INFO [0m Executing SQL query in transaction 'c8cd2c1f-0b7a-44cd-bcec-0d5847639aac': 'DELETE FROM `events` WHERE id = 9'
[36m00:26:37.261 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:26:37.267 gohan.server INFO [0m New job for cron://tenant_connection_delete_cron / */30 * * * * *
[36m00:26:37.278 gohan.server.sync DEBUG [0m Processing event 10 - create
00:26:37.278 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/edge_router
[36m00:26:37.280 gohan.server.sync DEBUG [0m Deleting event 10
00:26:37.282 gohan.db.sql INFO [0m Executing SQL query in transaction 'a3f27075-de4b-48cf-86ad-0a3f305052b7': 'DELETE FROM `events` WHERE id = 10'
[36m00:26:37.283 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.300 gohan.server.sync DEBUG [0m Processing event 11 - create
00:26:37.300 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/er_physical_interface
[36m00:26:37.310 gohan.server.sync DEBUG [0m Deleting event 11
00:26:37.317 gohan.db.sql INFO [0m Executing SQL query in transaction '40f19a55-bfac-4115-afde-5ada11d08bf7': 'DELETE FROM `events` WHERE id = 11'
00:26:37.318 gohan.server INFO [0m New job for cron://syncdb_cron / 00 04 * * * *
[36m00:26:37.318 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.334 gohan.server.sync DEBUG [0m Processing event 12 - create
00:26:37.334 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/internet_gateway
[36m00:26:37.345 gohan.server.sync DEBUG [0m Deleting event 12
00:26:37.349 gohan.db.sql INFO [0m Executing SQL query in transaction 'ba6470ad-6d3e-48a9-90db-e773ba07a9d2': 'DELETE FROM `events` WHERE id = 12'
[36m00:26:37.350 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.366 gohan.server.sync DEBUG [0m Processing event 13 - create
00:26:37.366 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_internet
[36m00:26:37.368 gohan.server.sync DEBUG [0m Deleting event 13
00:26:37.372 gohan.db.sql INFO [0m Executing SQL query in transaction 'ad85a57e-9dd3-436d-af38-d4bdd451a812': 'DELETE FROM `events` WHERE id = 13'
[36m00:26:37.372 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.380 gohan.server.sync DEBUG [0m Processing event 14 - create
00:26:37.380 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_internet
[36m00:26:37.384 gohan.server.sync DEBUG [0m Deleting event 14
00:26:37.387 gohan.db.sql INFO [0m Executing SQL query in transaction '9494ef21-fdab-47a5-a3fc-b2e5c982bf67': 'DELETE FROM `events` WHERE id = 14'
[36m00:26:37.387 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.400 gohan.server.sync DEBUG [0m Processing event 15 - create
00:26:37.400 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_internet
[36m00:26:37.404 gohan.server.sync DEBUG [0m Deleting event 15
00:26:37.406 gohan.db.sql INFO [0m Executing SQL query in transaction '482f6152-df71-45d3-8e71-a72e6e19a9ac': 'DELETE FROM `events` WHERE id = 15'
[36m00:26:37.407 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.432 gohan.server.sync DEBUG [0m Processing event 16 - create
00:26:37.432 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/public_ip
[36m00:26:37.434 gohan.server.sync DEBUG [0m Deleting event 16
00:26:37.436 gohan.db.sql INFO [0m Executing SQL query in transaction 'ee964c84-2ff2-4af9-84b8-61bb993a7b3e': 'DELETE FROM `events` WHERE id = 16'
[36m00:26:37.437 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.450 gohan.server.sync DEBUG [0m Processing event 17 - create
00:26:37.450 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_vpn
[36m00:26:37.453 gohan.server.sync DEBUG [0m Deleting event 17
00:26:37.455 gohan.db.sql INFO [0m Executing SQL query in transaction 'ce1c34eb-1616-4dde-99fd-43537967d685': 'DELETE FROM `events` WHERE id = 17'
[36m00:26:37.456 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.476 gohan.server.sync DEBUG [0m Processing event 18 - create
00:26:37.476 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_gateway
[36m00:26:37.479 gohan.server.sync DEBUG [0m Deleting event 18
00:26:37.484 gohan.db.sql INFO [0m Executing SQL query in transaction '76fe2268-6d32-45af-aa23-8a29f713db30': 'DELETE FROM `events` WHERE id = 18'
[36m00:26:37.485 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.507 gohan.server.sync DEBUG [0m Processing event 19 - create
00:26:37.507 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_vpn
[36m00:26:37.510 gohan.server.sync DEBUG [0m Deleting event 19
00:26:37.512 gohan.db.sql INFO [0m Executing SQL query in transaction '6cbab291-9063-4560-b470-b8015d606da8': 'DELETE FROM `events` WHERE id = 19'
[36m00:26:37.513 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.527 gohan.server.sync DEBUG [0m Processing event 20 - create
00:26:37.527 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_vpn
[36m00:26:37.529 gohan.server.sync DEBUG [0m Deleting event 20
00:26:37.531 gohan.db.sql INFO [0m Executing SQL query in transaction 'b897c2da-9bfe-4cc1-b8fd-07d4b6d1c69b': 'DELETE FROM `events` WHERE id = 20'
[36m00:26:37.532 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.545 gohan.server.sync DEBUG [0m Processing event 21 - create
00:26:37.545 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_interface
[36m00:26:37.548 gohan.server.sync DEBUG [0m Deleting event 21
00:26:37.550 gohan.db.sql INFO [0m Executing SQL query in transaction 'f0615187-08e0-470d-9601-fa7cefcd22e3': 'DELETE FROM `events` WHERE id = 21'
[36m00:26:37.551 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.569 gohan.server.sync DEBUG [0m Processing event 22 - create
00:26:37.569 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_aws
[36m00:26:37.575 gohan.server.sync DEBUG [0m Deleting event 22
00:26:37.578 gohan.db.sql INFO [0m Executing SQL query in transaction 'cb547989-03d7-4888-9dea-9ac77e0fa8dd': 'DELETE FROM `events` WHERE id = 22'
[36m00:26:37.578 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.593 gohan.server.sync DEBUG [0m Processing event 23 - create
00:26:37.593 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_gateway
[36m00:26:37.599 gohan.server.sync DEBUG [0m Deleting event 23
00:26:37.602 gohan.db.sql INFO [0m Executing SQL query in transaction '08ffde89-3a7b-4b8f-b2e2-28c49956c91b': 'DELETE FROM `events` WHERE id = 23'
[36m00:26:37.603 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.615 gohan.server.sync DEBUG [0m Processing event 24 - create
00:26:37.615 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_aws
[36m00:26:37.622 gohan.server.sync DEBUG [0m Deleting event 24
00:26:37.625 gohan.db.sql INFO [0m Executing SQL query in transaction '8f5911a6-d4bb-4845-bc10-70f3850ee1eb': 'DELETE FROM `events` WHERE id = 24'
[36m00:26:37.625 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.637 gohan.server.sync DEBUG [0m Processing event 25 - create
00:26:37.637 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_aws
[36m00:26:37.642 gohan.server.sync DEBUG [0m Deleting event 25
00:26:37.645 gohan.db.sql INFO [0m Executing SQL query in transaction '79c6b1fc-b894-4b09-a768-24a680708709': 'DELETE FROM `events` WHERE id = 25'
[36m00:26:37.645 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.657 gohan.server.sync DEBUG [0m Processing event 26 - create
00:26:37.657 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_interface
[36m00:26:37.667 gohan.server.sync DEBUG [0m Deleting event 26
00:26:37.669 gohan.db.sql INFO [0m Executing SQL query in transaction '86440e0f-467f-412c-a06b-abfd7cb1b517': 'DELETE FROM `events` WHERE id = 26'
[36m00:26:37.670 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.679 gohan.server.sync DEBUG [0m Processing event 27 - create
00:26:37.679 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_azure
[36m00:26:37.692 gohan.server.sync DEBUG [0m Deleting event 27
00:26:37.696 gohan.db.sql INFO [0m Executing SQL query in transaction '6f760f91-4d5b-45bf-b2be-97b7c1a6416b': 'DELETE FROM `events` WHERE id = 27'
[36m00:26:37.697 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.707 gohan.server.sync DEBUG [0m Processing event 28 - create
00:26:37.707 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/azure_gateway
[36m00:26:37.714 gohan.server.sync DEBUG [0m Deleting event 28
00:26:37.717 gohan.db.sql INFO [0m Executing SQL query in transaction '959199e1-d14d-44cd-8e06-e72c117fa8bf': 'DELETE FROM `events` WHERE id = 28'
[36m00:26:37.717 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.725 gohan.server.sync DEBUG [0m Processing event 29 - create
00:26:37.726 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_azure
[36m00:26:37.734 gohan.server.sync DEBUG [0m Deleting event 29
00:26:37.737 gohan.db.sql INFO [0m Executing SQL query in transaction '0b9451d8-07d1-46d3-a9f3-597d98348b5c': 'DELETE FROM `events` WHERE id = 29'
[36m00:26:37.738 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.749 gohan.server.sync DEBUG [0m Processing event 30 - create
00:26:37.749 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_azure
[36m00:26:37.755 gohan.server.sync DEBUG [0m Deleting event 30
00:26:37.758 gohan.db.sql INFO [0m Executing SQL query in transaction 'cc57a768-5a30-43ac-8b7e-01f2960dbaee': 'DELETE FROM `events` WHERE id = 30'
[36m00:26:37.759 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.776 gohan.server.sync DEBUG [0m Processing event 31 - create
00:26:37.776 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/azure_interface
[36m00:26:37.781 gohan.server.sync DEBUG [0m Deleting event 31
00:26:37.784 gohan.db.sql INFO [0m Executing SQL query in transaction '29f103d7-5e65-4586-bc74-112725cee2d9': 'DELETE FROM `events` WHERE id = 31'
[36m00:26:37.786 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.802 gohan.server.sync DEBUG [0m Processing event 32 - create
00:26:37.802 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_gcp
[36m00:26:37.804 gohan.server.sync DEBUG [0m Deleting event 32
00:26:37.806 gohan.db.sql INFO [0m Executing SQL query in transaction 'd6f4a7ad-ebbc-4ea7-b84a-69f6bccf5529': 'DELETE FROM `events` WHERE id = 32'
[36m00:26:37.807 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.828 gohan.server.sync DEBUG [0m Processing event 33 - create
00:26:37.828 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gcp_gateway
[36m00:26:37.831 gohan.server.sync DEBUG [0m Deleting event 33
00:26:37.833 gohan.db.sql INFO [0m Executing SQL query in transaction 'b0c09de7-9d0c-4b1f-94a3-38a63a5e9470': 'DELETE FROM `events` WHERE id = 33'
[36m00:26:37.834 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.850 gohan.server.sync DEBUG [0m Processing event 34 - create
00:26:37.850 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_gcp
[36m00:26:37.853 gohan.server.sync DEBUG [0m Deleting event 34
00:26:37.857 gohan.db.sql INFO [0m Executing SQL query in transaction 'fdc806dc-8ef1-4866-92d1-c066c692e929': 'DELETE FROM `events` WHERE id = 34'
[36m00:26:37.857 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.870 gohan.server.sync DEBUG [0m Processing event 35 - create
00:26:37.870 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_gcp
[36m00:26:37.873 gohan.server.sync DEBUG [0m Deleting event 35
00:26:37.875 gohan.db.sql INFO [0m Executing SQL query in transaction '8ed11050-948a-4df4-893b-adbff6ac2ad6': 'DELETE FROM `events` WHERE id = 35'
[36m00:26:37.876 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.888 gohan.server.sync DEBUG [0m Processing event 36 - create
00:26:37.888 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gcp_interface
[36m00:26:37.892 gohan.server.sync DEBUG [0m Deleting event 36
00:26:37.895 gohan.db.sql INFO [0m Executing SQL query in transaction 'b95a0c8d-8487-4007-9709-a5f85571183e': 'DELETE FROM `events` WHERE id = 36'
[36m00:26:37.896 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.906 gohan.server.sync DEBUG [0m Processing event 37 - create
00:26:37.906 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function_gateway
[36m00:26:37.910 gohan.server.sync DEBUG [0m Deleting event 37
00:26:37.914 gohan.db.sql INFO [0m Executing SQL query in transaction '50841ec3-8e1f-47b7-a162-8a239c04a049': 'DELETE FROM `events` WHERE id = 37'
[36m00:26:37.914 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.930 gohan.server.sync DEBUG [0m Processing event 38 - create
00:26:37.931 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function
[36m00:26:37.938 gohan.server.sync DEBUG [0m Deleting event 38
00:26:37.941 gohan.db.sql INFO [0m Executing SQL query in transaction '25b75150-dfed-4948-bc46-d5654ac88171': 'DELETE FROM `events` WHERE id = 38'
[36m00:26:37.941 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.950 gohan.server.sync DEBUG [0m Processing event 39 - create
00:26:37.950 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_interdc
[36m00:26:37.953 gohan.server.sync DEBUG [0m Deleting event 39
00:26:37.956 gohan.db.sql INFO [0m Executing SQL query in transaction '448605ad-1d68-4500-bde0-6070266b3f4c': 'DELETE FROM `events` WHERE id = 39'
[36m00:26:37.956 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.972 gohan.server.sync DEBUG [0m Processing event 40 - create
00:26:37.972 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_gateway
[36m00:26:37.976 gohan.server.sync DEBUG [0m Deleting event 40
00:26:37.979 gohan.db.sql INFO [0m Executing SQL query in transaction '869c3b67-3dcf-4134-be61-c9c77b2e8237': 'DELETE FROM `events` WHERE id = 40'
[36m00:26:37.979 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:37.995 gohan.server.sync DEBUG [0m Processing event 41 - create
00:26:37.995 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_interface
[36m00:26:37.998 gohan.server.sync DEBUG [0m Deleting event 41
00:26:38.000 gohan.db.sql INFO [0m Executing SQL query in transaction 'e5c68be7-0584-460a-9b50-7e56c378fb3b': 'DELETE FROM `events` WHERE id = 41'
[36m00:26:38.001 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.010 gohan.server.sync DEBUG [0m Processing event 42 - create
00:26:38.010 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_interdc
[36m00:26:38.014 gohan.server.sync DEBUG [0m Deleting event 42
00:26:38.017 gohan.db.sql INFO [0m Executing SQL query in transaction '40687f1d-6513-4f15-b430-0665b49b5802': 'DELETE FROM `events` WHERE id = 42'
[36m00:26:38.017 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.026 gohan.server.sync DEBUG [0m Processing event 43 - create
00:26:38.027 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_interdc
[36m00:26:38.030 gohan.server.sync DEBUG [0m Deleting event 43
[33m00:26:38.030 gohan.server WARNING [0m Error getting last seen index for path /state/ (try #2): 100: Key not found (/gohan/watch) [53]
00:26:38.032 gohan.db.sql INFO [0m Executing SQL query in transaction 'e80fef2e-d122-49c2-89a2-ed4104c14050': 'DELETE FROM `events` WHERE id = 43'
[36m00:26:38.033 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[33m00:26:38.035 gohan.server WARNING [0m Error getting last seen index for path /monitoring/ (try #2): 100: Key not found (/gohan/watch) [53]
[36m00:26:38.055 gohan.server.sync DEBUG [0m Processing event 44 - create
00:26:38.055 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/quotas/default
[36m00:26:38.057 gohan.server.sync DEBUG [0m Deleting event 44
00:26:38.060 gohan.db.sql INFO [0m Executing SQL query in transaction 'a1fd2fe1-dd4a-4ac7-b5f9-1f87aa3a5ffc': 'DELETE FROM `events` WHERE id = 44'
[36m00:26:38.061 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.071 gohan.server.sync DEBUG [0m Processing event 45 - create
00:26:38.071 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/reserve_addresses/default
[36m00:26:38.073 gohan.server.sync DEBUG [0m Deleting event 45
00:26:38.075 gohan.db.sql INFO [0m Executing SQL query in transaction '9ec13ce3-e0f7-43da-b097-fcde510bf99d': 'DELETE FROM `events` WHERE id = 45'
[36m00:26:38.076 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.090 gohan.server.sync DEBUG [0m Processing event 46 - create
00:26:38.091 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vnf_instance
[36m00:26:38.093 gohan.server.sync DEBUG [0m Deleting event 46
00:26:38.095 gohan.db.sql INFO [0m Executing SQL query in transaction 'aef024f5-1958-4807-b48a-1b58df4e067c': 'DELETE FROM `events` WHERE id = 46'
[36m00:26:38.095 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.109 gohan.server.sync DEBUG [0m Processing event 47 - create
00:26:38.109 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_config
[36m00:26:38.111 gohan.server.sync DEBUG [0m Deleting event 47
00:26:38.113 gohan.db.sql INFO [0m Executing SQL query in transaction '80fb16dd-c2de-4676-ab3d-ca26e173858a': 'DELETE FROM `events` WHERE id = 47'
[36m00:26:38.114 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.129 gohan.server.sync DEBUG [0m Processing event 48 - create
00:26:38.129 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_interface
[36m00:26:38.131 gohan.server.sync DEBUG [0m Deleting event 48
00:26:38.133 gohan.db.sql INFO [0m Executing SQL query in transaction '22e1b97b-24c1-4f8d-b393-907457fe8a76': 'DELETE FROM `events` WHERE id = 48'
[36m00:26:38.134 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.147 gohan.server.sync DEBUG [0m Processing event 49 - create
00:26:38.147 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_conf
[36m00:26:38.149 gohan.server.sync DEBUG [0m Deleting event 49
00:26:38.152 gohan.db.sql INFO [0m Executing SQL query in transaction '9a8b7927-7043-486c-a3ff-d0b7b47d9458': 'DELETE FROM `events` WHERE id = 49'
[36m00:26:38.152 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.167 gohan.server.sync DEBUG [0m Processing event 50 - create
00:26:38.167 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_syslog_server
[36m00:26:38.169 gohan.server.sync DEBUG [0m Deleting event 50
00:26:38.172 gohan.db.sql INFO [0m Executing SQL query in transaction 'b63bd5e4-9926-4dc3-adeb-d837197c800f': 'DELETE FROM `events` WHERE id = 50'
[36m00:26:38.173 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.185 gohan.server.sync DEBUG [0m Processing event 51 - create
00:26:38.185 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer
[36m00:26:38.187 gohan.server.sync DEBUG [0m Deleting event 51
00:26:38.190 gohan.db.sql INFO [0m Executing SQL query in transaction '5c072e0c-fe3f-4744-9652-0a747c83e322': 'DELETE FROM `events` WHERE id = 51'
[36m00:26:38.191 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:26:38.207 gohan.server.sync DEBUG [0m Processing event 52 - create
00:26:38.207 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_interface
[36m00:26:38.209 gohan.server.sync DEBUG [0m Deleting event 52
00:26:38.212 gohan.db.sql INFO [0m Executing SQL query in transaction '8c203ca4-94d0-4364-be2b-aec1e54b3cf9': 'DELETE FROM `events` WHERE id = 52'
[36m00:26:38.212 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[33m00:26:39.031 gohan.server WARNING [0m Error getting last seen index for path /state/ (try #3): 100: Key not found (/gohan/watch) [62]
[33m00:26:39.036 gohan.server WARNING [0m Error getting last seen index for path /monitoring/ (try #3): 100: Key not found (/gohan/watch) [62]
[33m00:26:40.032 gohan.server WARNING [0m Error getting last seen index for path /state/ (try #4): 100: Key not found (/gohan/watch) [62]
[33m00:26:40.037 gohan.server WARNING [0m Error getting last seen index for path /monitoring/ (try #4): 100: Key not found (/gohan/watch) [62]
[33m00:26:41.033 gohan.server WARNING [0m Error getting last seen index for path /state/ (try #5): 100: Key not found (/gohan/watch) [62]
[33m00:26:41.038 gohan.server WARNING [0m Error getting last seen index for path /monitoring/ (try #5): 100: Key not found (/gohan/watch) [62]
00:26:41.342 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.20.0.5:54120 (Request-Id: -) data: 
[36m00:26:41.343 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json]]
[36m00:26:41.343 gohan.server.middleware DEBUG [0m Request body: 
[36m00:26:41.398 gohan.server.resources DEBUG [0m List schema query: map[] started (Request-Id: -)
00:26:41.399 gohan.server.resources INFO [0m Created transaction efbd0675-d521-429d-a9ae-936343bdb53f for listing schema (Request-Id: -)
00:26:41.403 gohan.server.resources INFO [0m Commited transaction efbd0675-d521-429d-a9ae-936343bdb53f for listing schema (Request-Id: -)
00:26:41.410 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.20.0.5:54124 (Request-Id: -) data: 
[36m00:26:41.410 gohan.server.resources DEBUG [0m List schema query: map[] completed (Request-Id: -)
[36m00:26:41.410 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***]]
[36m00:26:41.410 gohan.server.middleware DEBUG [0m Request body: 
[36m00:26:41.430 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[75] Content-Length:[397882]]
[36m00:26:41.440 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 389882 bytes]
00:26:41.450 gohan.server.middleware INFO [0m Completed 200 OK in 107.117474ms (Request-Id: -)
[36m00:26:41.455 gohan.server.resources DEBUG [0m List schema query: map[] started (Request-Id: -)
00:26:41.456 gohan.server.resources INFO [0m Created transaction 43201134-6bb9-47f3-8bfe-caf26cdac101 for listing schema (Request-Id: -)
00:26:41.460 gohan.server.resources INFO [0m Commited transaction 43201134-6bb9-47f3-8bfe-caf26cdac101 for listing schema (Request-Id: -)
[36m00:26:41.465 gohan.server.resources DEBUG [0m List schema query: map[] completed (Request-Id: -)
[36m00:26:41.491 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[75] Content-Length:[397882]]
[36m00:26:41.501 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 389882 bytes]
00:26:41.512 gohan.server.middleware INFO [0m Completed 200 OK in 102.076365ms (Request-Id: -)
00:26:41.615 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.20.0.5:54128 (Request-Id: -) data: 
[36m00:26:41.615 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1]]
[36m00:26:41.615 gohan.server.middleware DEBUG [0m Request body: 
[36m00:26:41.665 gohan.server.resources DEBUG [0m List schema query: map[] started (Request-Id: -)
00:26:41.666 gohan.server.resources INFO [0m Created transaction 33c4085b-19cf-413e-9d10-d28417f29efd for listing schema (Request-Id: -)
00:26:41.669 gohan.server.resources INFO [0m Commited transaction 33c4085b-19cf-413e-9d10-d28417f29efd for listing schema (Request-Id: -)
[36m00:26:41.674 gohan.server.resources DEBUG [0m List schema query: map[] completed (Request-Id: -)
[36m00:26:41.694 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[75] Content-Length:[397882]]
[36m00:26:41.714 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 389882 bytes]
00:26:41.733 gohan.server.middleware INFO [0m Completed 200 OK in 118.809293ms (Request-Id: -)
00:26:42.033 gohan.server INFO [0m State Watcher starts watch from index 1
00:26:42.033 gohan.sync.etcd INFO [0m Start resync on /state/ with index 1
00:26:42.035 gohan.sync.etcd INFO [0m Stop loading events whose index range from 1 to 67 in resync on /state/
[36m00:26:42.035 gohan.server DEBUG [0m State event update received: get /state map[]
00:26:42.035 gohan.sync.etcd INFO [0m Start watching on /state/ with index 67
[36m00:26:42.035 gohan.server DEBUG [0m State event update received: get /state/v2.0 map[]
[36m00:26:42.035 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas map[]
[33m00:26:42.035 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '//state'
[33m00:26:42.035 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0'
[36m00:26:42.035 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas/default map[version:1 error: state:map[worker_state:READ_COMPLETE]]
[33m00:26:42.036 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas'
[36m00:26:42.036 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses map[]
[36m00:26:42.036 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses/default map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m00:26:42.036 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas/default'
[33m00:26:42.036 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses/default'
[33m00:26:42.037 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses'
00:26:42.038 gohan.server INFO [0m Monitoring Watcher starts watch from index 1
00:26:42.039 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 1
[31m00:26:42.041 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [74]
[31m00:26:42.041 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [74]
00:26:47.042 gohan.server INFO [0m Monitoring Watcher starts watch from index 2
00:26:47.042 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 2
[31m00:26:47.043 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [75]
[31m00:26:47.043 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [75]
00:26:52.043 gohan.server INFO [0m Monitoring Watcher starts watch from index 3
00:26:52.044 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 3
[31m00:26:52.044 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [76]
[31m00:26:52.045 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [76]
00:26:57.045 gohan.server INFO [0m Monitoring Watcher starts watch from index 4
00:26:57.045 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 4
[31m00:26:57.046 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [77]
[31m00:26:57.046 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [77]
00:27:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:27:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:27:00.064 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:27:00.068 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:27:00.069 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:27:00.072 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:27:00.077 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:27:00.079 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:27:02.047 gohan.server INFO [0m Monitoring Watcher starts watch from index 5
00:27:02.047 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 5
[31m00:27:02.048 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [84]
[31m00:27:02.048 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [84]
00:27:07.049 gohan.server INFO [0m Monitoring Watcher starts watch from index 6
00:27:07.049 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 6
[31m00:27:07.050 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [85]
[31m00:27:07.050 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [85]
00:27:12.050 gohan.server INFO [0m Monitoring Watcher starts watch from index 7
00:27:12.051 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 7
[31m00:27:12.051 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [87]
[31m00:27:12.052 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [87]
00:27:15.290 gohan.server.middleware INFO [0m Started POST /v2.0/ese_devices for client 172.20.0.23:54598 (Request-Id: -) data: 
        {
            "ese_device": {
                "username": "esi",
                "password": "***",
                "public_ip_address": "10.161.0.33",
                "hostname": "QFX-NW01",
                "name": "sample-ese_device",
                "management_ip_address": "10.161.0.33",
                "type": "tor",
                "existing": "existing",
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
[36m00:27:15.292 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[465]]
[36m00:27:15.293 gohan.server.middleware DEBUG [0m Request body: 
        {
            "ese_device": {
                "username": "esi",
                "password": "***",
                "public_ip_address": "10.161.0.33",
                "hostname": "QFX-NW01",
                "name": "sample-ese_device",
                "management_ip_address": "10.161.0.33",
                "type": "tor",
                "existing": "existing",
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
00:27:15.380 gohan.server.resources INFO [0m Create ese_device with data map[username:esi hostname:QFX-NW01 type:tor tenant_id:4b4cb858859842a389d0b0c8eb567d59 password:*** public_ip_address:10.161.0.33 name:sample-ese_device management_ip_address:10.161.0.33 existing:existing] started (Request-Id: -)
[36m00:27:15.381 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:27:15.385 gohan.server.resources INFO [0m Tenant with id 4b4cb858859842a389d0b0c8eb567d59 not found in db. (DB error: Failed to fetch 4b4cb858859842a389d0b0c8eb567d59). Checking Keystone
00:27:15.405 gohan.server.resources INFO [0m Created transaction 885e12cb-789a-4879-9c2b-22fe4c59488c for creating ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:15.410 gohan.db.sql INFO [0m Executing SQL query in transaction '885e12cb-789a-4879-9c2b-22fe4c59488c': 'INSERT INTO `tenants` (`delete_retries`,`id`,`status`,`end_time`) VALUES (0,4b4cb858859842a389d0b0c8eb567d59,active,)'
00:27:15.411 gohan.db.sql INFO [0m Executing SQL query in transaction '885e12cb-789a-4879-9c2b-22fe4c59488c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/common/v1.0/tenants/4b4cb858859842a389d0b0c8eb567d59,1548980835,create,false,"{\"delete_retries\":0,\"end_time\":\"\",\"id\":\"4b4cb858859842a389d0b0c8eb567d59\",\"status\":\"active\"}",1)'
00:27:15.412 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:27:15.413 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.pre_create_in_transaction DEBUG [0m <ese_device_state_machine>: calculating ese_device (61a05e50-71f9-495d-b1cc-74382dfaec83) status with orchestration_state CREATE_IN_PROGRESS and operational_state NO_STATE
00:27:15.414 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.pre_create_in_transaction INFO [0m <update_resource_status>: ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 status changed from NO_STATE to PENDING_CREATE.
00:27:15.415 gohan.db.sql INFO [0m Executing SQL query in transaction '885e12cb-789a-4879-9c2b-22fe4c59488c': 'INSERT INTO `ese_devices` (`hostname`,`existing`,`tenant_id`,`orchestration_state`,`description`,`name`,`password`,`operational_state`,`id`,`status`,`public_ip_address`,`tags`,`management_ip_address`,`username`,`type`,`schema_version`) VALUES (QFX-NW01,existing,4b4cb858859842a389d0b0c8eb567d59,CREATE_IN_PROGRESS,,sample-ese_device,***,NO_STATE,61a05e50-71f9-495d-b1cc-74382dfaec83,PENDING_CREATE,10.161.0.33,{},10.161.0.33,esi,tor,1)'
00:27:15.429 gohan.db.sql INFO [0m Executing SQL query in transaction '885e12cb-789a-4879-9c2b-22fe4c59488c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83,1548980835,create,false,"{\"description\":\"\",\"existing\":\"existing\",\"hostname\":\"QFX-NW01\",\"id\":\"61a05e50-71f9-495d-b1cc-74382dfaec83\",\"management_ip_address\":\"10.161.0.33\",\"name\":\"sample-ese_device\",\"operational_state\":\"NO_STATE\",\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"password\":\"***\",\"public_ip_address\":\"10.161.0.33\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\",\"type\":\"tor\",\"username\":\"esi\"}",1)'
00:27:15.450 gohan.server.resources INFO [0m Commited transaction 885e12cb-789a-4879-9c2b-22fe4c59488c for creating ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:15.451 gohan.server.resources INFO [0m Create ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi hostname:QFX-NW01 type:tor tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 description: orchestration_state:CREATE_IN_PROGRESS status:PENDING_CREATE password:*** public_ip_address:10.161.0.33 existing:existing tags:map[] operational_state:NO_STATE name:sample-ese_device management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:15.451 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[527]]
[36m00:27:15.452 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "type": "tor",
    "username": "esi"
  }
}
00:27:15.453 gohan.server.middleware INFO [0m Completed 201 Created in 164.040407ms (Request-Id: -)
[36m00:27:15.455 gohan.server.sync DEBUG [0m Processing event 53 - create
00:27:15.456 gohan.server.sync INFO [0m Setting config with version 1 to /config//common/v1.0/tenants/4b4cb858859842a389d0b0c8eb567d59
[36m00:27:15.458 gohan.server.sync DEBUG [0m Deleting event 53
00:27:15.461 gohan.db.sql INFO [0m Executing SQL query in transaction '462d7a11-e25c-4377-b3b7-b326750a6517': 'DELETE FROM `events` WHERE id = 53'
[36m00:27:15.461 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:27:15.466 gohan.server DEBUG [0m State event update received: set /state/common/v1.0/tenants/4b4cb858859842a389d0b0c8eb567d59 map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m00:27:15.466 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/common/v1.0/tenants/4b4cb858859842a389d0b0c8eb567d59'
[36m00:27:15.473 gohan.server.sync DEBUG [0m Processing event 54 - create
00:27:15.473 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83
[36m00:27:15.481 gohan.server.sync DEBUG [0m Deleting event 54
00:27:15.484 gohan.db.sql INFO [0m Executing SQL query in transaction '5b58138e-4d39-46c3-ac08-7159db459c9b': 'DELETE FROM `events` WHERE id = 54'
[36m00:27:15.485 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:27:15.488 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54608 (Request-Id: -) data: 
[36m00:27:15.489 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:15.489 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:15.543 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:15.544 gohan.server.resources INFO [0m Created transaction 3508709f-873a-4579-9f34-045036857957 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:15.549 gohan.server.resources INFO [0m Commited transaction 3508709f-873a-4579-9f34-045036857957 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:15.550 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[hostname:QFX-NW01 tenant_id:4b4cb858859842a389d0b0c8eb567d59 location:<nil> tags:map[] existing:existing orchestration_state:CREATE_IN_PROGRESS management_ip_address:10.161.0.33 flavor:<nil> password:*** operational_state:NO_STATE description: tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi type:tor tor_agent_names:<nil> name:sample-ese_device status:PENDING_CREATE public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:15.551 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[621]]
[36m00:27:15.553 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:15.554 gohan.server.middleware INFO [0m Completed 200 OK in 65.769623ms (Request-Id: -)
00:27:16.574 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54630 (Request-Id: -) data: 
[36m00:27:16.574 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:16.575 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:16.597 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:16.599 gohan.server.resources INFO [0m Created transaction 7362ffe7-80c4-46ad-be2d-9fc0cdb62d88 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:16.605 gohan.server.resources INFO [0m Commited transaction 7362ffe7-80c4-46ad-be2d-9fc0cdb62d88 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:16.606 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[flavor:<nil> existing:existing description: name:sample-ese_device status:PENDING_CREATE public_ip_address:10.161.0.33 location:<nil> tags:map[] orchestration_state:CREATE_IN_PROGRESS password:*** tsn_names:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 hostname:QFX-NW01 username:esi management_ip_address:10.161.0.33 type:tor tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:16.608 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[621]]
[36m00:27:16.609 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:16.611 gohan.server.middleware INFO [0m Completed 200 OK in 37.232932ms (Request-Id: -)
00:27:17.052 gohan.server INFO [0m Monitoring Watcher starts watch from index 8
00:27:17.052 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 8
[31m00:27:17.053 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [101]
[31m00:27:17.053 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [101]
00:27:17.632 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54650 (Request-Id: -) data: 
[36m00:27:17.632 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:17.633 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:17.651 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:17.651 gohan.server.resources INFO [0m Created transaction 6d62d752-57cd-419f-88bc-8e5105adc736 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:17.656 gohan.server.resources INFO [0m Commited transaction 6d62d752-57cd-419f-88bc-8e5105adc736 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:17.656 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[id:61a05e50-71f9-495d-b1cc-74382dfaec83 type:tor tags:map[] management_ip_address:10.161.0.33 name:sample-ese_device hostname:QFX-NW01 flavor:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE tsn_names:<nil> existing:existing password:*** orchestration_state:CREATE_IN_PROGRESS public_ip_address:10.161.0.33 operational_state:NO_STATE username:esi location:<nil> tor_agent_names:<nil> description:]] (Request-Id: -)
[36m00:27:17.657 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[621]]
[36m00:27:17.658 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:17.659 gohan.server.middleware INFO [0m Completed 200 OK in 26.521438ms (Request-Id: -)
00:27:18.680 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54656 (Request-Id: -) data: 
[36m00:27:18.681 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:18.681 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:18.707 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:18.708 gohan.server.resources INFO [0m Created transaction b5567e1e-3f85-4d83-8d48-250961e137d6 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:18.714 gohan.server.resources INFO [0m Commited transaction b5567e1e-3f85-4d83-8d48-250961e137d6 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:18.715 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[management_ip_address:10.161.0.33 description: password:*** name:sample-ese_device status:PENDING_CREATE username:esi location:<nil> existing:existing tor_agent_names:<nil> orchestration_state:CREATE_IN_PROGRESS tsn_names:<nil> type:tor hostname:QFX-NW01 flavor:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:18.718 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[621]]
[36m00:27:18.720 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:18.722 gohan.server.middleware INFO [0m Completed 200 OK in 41.6005ms (Request-Id: -)
00:27:19.743 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54664 (Request-Id: -) data: 
[36m00:27:19.743 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:19.743 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:19.767 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:19.768 gohan.server.resources INFO [0m Created transaction 6db19d68-b1e6-43ff-a6e7-8a3d42f08a81 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:19.776 gohan.server.resources INFO [0m Commited transaction 6db19d68-b1e6-43ff-a6e7-8a3d42f08a81 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:19.777 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] flavor:<nil> existing:existing name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33 type:tor hostname:QFX-NW01 tor_agent_names:<nil> description: location:<nil> password:*** orchestration_state:CREATE_IN_PROGRESS status:PENDING_CREATE tsn_names:<nil> username:esi management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:19.778 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[621]]
[36m00:27:19.782 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:19.783 gohan.server.middleware INFO [0m Completed 200 OK in 39.984219ms (Request-Id: -)
[36m00:27:20.524 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 map[error: state:map[heat_outputs:[{"output_value": "259db18a-5c51-45d5-847e-9a05da626f80", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": ["default-global-system-config", "NWSDP-JNPR-02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "7e5c78fa-71c0-427e-947f-586b1fc3c470", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/259db18a-5c51-45d5-847e-9a05da626f80", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "NWSDP-JNPR-02", "description": "The name of the physical router.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1]
00:27:20.526 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 map[error: state:map[heat_outputs:[{"output_value": "259db18a-5c51-45d5-847e-9a05da626f80", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": ["default-global-system-config", "NWSDP-JNPR-02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "7e5c78fa-71c0-427e-947f-586b1fc3c470", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/259db18a-5c51-45d5-847e-9a05da626f80", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "NWSDP-JNPR-02", "description": "The name of the physical router.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:27:20.539 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 with index 106
00:27:20.570 gohan.db.sql INFO [0m Executing SQL query in transaction 'cf3060db-90b6-4dfc-83f2-aaff106b46ce': 'UPDATE `ese_devices` SET `type` = tor, `location` = <nil>, `tags` = {}, `management_ip_address` = 10.161.0.33, `username` = esi, `flavor` = <nil>, `existing` = existing, `tor_agent_names` = null, `hostname` = QFX-NW01, `name` = sample-ese_device, `password` = ***, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `orchestration_state` = CREATE_IN_PROGRESS, `description` = , `public_ip_address` = 10.161.0.33, `tsn_names` = null, `operational_state` = NO_STATE, `id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `status` = PENDING_CREATE, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"259db18a-5c51-45d5-847e-9a05da626f80\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"default-global-system-config\", \"NWSDP-JNPR-02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"7e5c78fa-71c0-427e-947f-586b1fc3c470\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/259db18a-5c51-45d5-847e-9a05da626f80\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"NWSDP-JNPR-02\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 61a05e50-71f9-495d-b1cc-74382dfaec83'
00:27:20.574 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:27:20.575 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_state_update_in_transaction DEBUG [0m <ese_device_state_machine>: calculating ese_device (61a05e50-71f9-495d-b1cc-74382dfaec83) status with orchestration_state CREATE_COMPLETE and operational_state NO_STATE
00:27:20.577 gohan.db.sql INFO [0m Executing SQL query in transaction 'cf3060db-90b6-4dfc-83f2-aaff106b46ce': 'UPDATE `ese_devices` SET `id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `status` = PENDING_CREATE, `public_ip_address` = 10.161.0.33, `tsn_names` = null, `operational_state` = NO_STATE, `management_ip_address` = 10.161.0.33, `username` = esi, `type` = tor, `location` = <nil>, `tags` = {}, `hostname` = QFX-NW01, `flavor` = <nil>, `existing` = existing, `tor_agent_names` = null, `orchestration_state` = CREATE_COMPLETE, `description` = , `name` = sample-ese_device, `password` = ***, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59 WHERE id = 61a05e50-71f9-495d-b1cc-74382dfaec83'
00:27:20.588 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 with index 106
00:27:20.805 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54690 (Request-Id: -) data: 
[36m00:27:20.805 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:20.806 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:20.828 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:20.829 gohan.server.resources INFO [0m Created transaction 81b3d091-e70a-43a1-a4eb-20e6a20f0a4f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:20.834 gohan.server.resources INFO [0m Commited transaction 81b3d091-e70a-43a1-a4eb-20e6a20f0a4f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:20.835 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[hostname:QFX-NW01 flavor:<nil> existing:existing orchestration_state:CREATE_COMPLETE operational_state:NO_STATE type:tor tags:map[] description: status:PENDING_CREATE location:<nil> name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 tsn_names:<nil> tor_agent_names:<nil> password:*** public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:20.835 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:20.836 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:20.837 gohan.server.middleware INFO [0m Completed 200 OK in 32.034707ms (Request-Id: -)
00:27:21.864 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54692 (Request-Id: -) data: 
[36m00:27:21.865 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:21.865 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:21.884 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:21.885 gohan.server.resources INFO [0m Created transaction 041eb125-c02b-4337-bf37-c9601050b803 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:21.889 gohan.server.resources INFO [0m Commited transaction 041eb125-c02b-4337-bf37-c9601050b803 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:21.890 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 tor_agent_names:<nil> public_ip_address:10.161.0.33 management_ip_address:10.161.0.33 username:esi location:<nil> tags:map[] existing:existing description: operational_state:NO_STATE type:tor hostname:QFX-NW01 flavor:<nil> orchestration_state:CREATE_COMPLETE name:sample-ese_device status:PENDING_CREATE tsn_names:<nil>]] (Request-Id: -)
[36m00:27:21.891 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:21.892 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:21.893 gohan.server.middleware INFO [0m Completed 200 OK in 28.340044ms (Request-Id: -)
00:27:22.053 gohan.server INFO [0m Monitoring Watcher starts watch from index 9
00:27:22.053 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 9
[31m00:27:22.054 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [115]
[31m00:27:22.054 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [115]
00:27:22.916 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54694 (Request-Id: -) data: 
[36m00:27:22.916 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:22.917 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:22.940 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:22.941 gohan.server.resources INFO [0m Created transaction 5506bcef-a5e7-4bbf-841f-f9bac60e9ce1 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:22.946 gohan.server.resources INFO [0m Commited transaction 5506bcef-a5e7-4bbf-841f-f9bac60e9ce1 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:22.947 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tags:map[] hostname:QFX-NW01 flavor:<nil> existing:existing tsn_names:<nil> username:esi password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 type:tor management_ip_address:10.161.0.33 description: orchestration_state:CREATE_COMPLETE location:<nil> tor_agent_names:<nil> name:sample-ese_device public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:22.948 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:27:22.948 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:22.949 gohan.server.middleware INFO [0m Completed 200 OK in 33.295375ms (Request-Id: -)
00:27:23.970 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54696 (Request-Id: -) data: 
[36m00:27:23.971 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:23.971 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:24.011 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:24.012 gohan.server.resources INFO [0m Created transaction 5aeda020-952b-48fc-a416-056e230fbab7 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:24.018 gohan.server.resources INFO [0m Commited transaction 5aeda020-952b-48fc-a416-056e230fbab7 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:24.019 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE management_ip_address:10.161.0.33 username:esi type:tor password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE name:sample-ese_device public_ip_address:10.161.0.33 location:<nil> tor_agent_names:<nil> hostname:QFX-NW01 flavor:<nil> description: existing:existing tsn_names:<nil> operational_state:NO_STATE tags:map[]]] (Request-Id: -)
[36m00:27:24.020 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:24.021 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:24.021 gohan.server.middleware INFO [0m Completed 200 OK in 51.207347ms (Request-Id: -)
00:27:25.043 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54698 (Request-Id: -) data: 
[36m00:27:25.044 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:27:25.044 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:25.062 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:25.062 gohan.server.resources INFO [0m Created transaction 6bda8899-61e4-426b-bf45-f6b248e569c4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:25.067 gohan.server.resources INFO [0m Commited transaction 6bda8899-61e4-426b-bf45-f6b248e569c4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:25.068 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[status:PENDING_CREATE type:tor tor_agent_names:<nil> name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33 location:<nil> management_ip_address:10.161.0.33 flavor:<nil> password:*** description: tags:map[] username:esi existing:existing orchestration_state:CREATE_COMPLETE tsn_names:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 hostname:QFX-NW01]] (Request-Id: -)
[36m00:27:25.068 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:25.069 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:25.070 gohan.server.middleware INFO [0m Completed 200 OK in 26.481943ms (Request-Id: -)
00:27:26.091 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54700 (Request-Id: -) data: 
[36m00:27:26.091 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:26.091 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:26.127 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:26.128 gohan.server.resources INFO [0m Created transaction d3d8b294-0d09-4464-80e2-f401056b0e14 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:26.143 gohan.server.resources INFO [0m Commited transaction d3d8b294-0d09-4464-80e2-f401056b0e14 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:26.144 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE public_ip_address:10.161.0.33 tags:map[] flavor:<nil> hostname:QFX-NW01 password:*** orchestration_state:CREATE_COMPLETE description: existing:existing tor_agent_names:<nil> name:sample-ese_device management_ip_address:10.161.0.33 tsn_names:<nil> operational_state:NO_STATE type:tor location:<nil> username:esi]] (Request-Id: -)
[36m00:27:26.145 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:26.145 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:26.146 gohan.server.middleware INFO [0m Completed 200 OK in 55.661953ms (Request-Id: -)
00:27:27.055 gohan.server INFO [0m Monitoring Watcher starts watch from index 10
00:27:27.055 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 10
[31m00:27:27.055 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [116]
[31m00:27:27.056 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [116]
00:27:27.169 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54702 (Request-Id: -) data: 
[36m00:27:27.169 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:27:27.170 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:27.189 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:27.190 gohan.server.resources INFO [0m Created transaction b2a92559-5cee-489d-b489-cd08bf675b59 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:27.195 gohan.server.resources INFO [0m Commited transaction b2a92559-5cee-489d-b489-cd08bf675b59 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:27.196 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tor_agent_names:<nil> name:sample-ese_device tags:map[] username:esi management_ip_address:10.161.0.33 hostname:QFX-NW01 flavor:<nil> orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59 tsn_names:<nil> type:tor location:<nil> existing:existing description: password:*** public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:27.197 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:27.198 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:27.199 gohan.server.middleware INFO [0m Completed 200 OK in 29.816661ms (Request-Id: -)
00:27:28.221 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54704 (Request-Id: -) data: 
[36m00:27:28.221 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:28.222 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:28.265 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:28.266 gohan.server.resources INFO [0m Created transaction e0a1059d-d8d4-429a-8c51-d9f9ac643091 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:28.272 gohan.server.resources INFO [0m Commited transaction e0a1059d-d8d4-429a-8c51-d9f9ac643091 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:28.273 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi existing:existing description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 tsn_names:<nil> operational_state:NO_STATE type:tor location:<nil> tor_agent_names:<nil> password:*** status:PENDING_CREATE hostname:QFX-NW01 tags:map[] public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 flavor:<nil> name:sample-ese_device orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:27:28.274 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:28.275 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:28.276 gohan.server.middleware INFO [0m Completed 200 OK in 54.776298ms (Request-Id: -)
00:27:29.301 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54706 (Request-Id: -) data: 
[36m00:27:29.302 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:27:29.302 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:29.364 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:29.365 gohan.server.resources INFO [0m Created transaction bea3bd7c-feec-468a-8248-561ec0abab2a for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:29.370 gohan.server.resources INFO [0m Commited transaction bea3bd7c-feec-468a-8248-561ec0abab2a for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:29.371 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[public_ip_address:10.161.0.33 operational_state:NO_STATE username:esi location:<nil> hostname:QFX-NW01 tsn_names:<nil> type:tor tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 tor_agent_names:<nil> description: orchestration_state:CREATE_COMPLETE status:PENDING_CREATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 flavor:<nil> name:sample-ese_device password:*** management_ip_address:10.161.0.33 existing:existing]] (Request-Id: -)
[36m00:27:29.372 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:29.372 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:29.373 gohan.server.middleware INFO [0m Completed 200 OK in 72.331354ms (Request-Id: -)
00:27:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:27:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:27:30.102 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:27:30.107 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:27:30.110 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:27:30.143 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:27:30.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:27:30.148 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:27:30.396 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54712 (Request-Id: -) data: 
[36m00:27:30.396 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:30.396 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:30.439 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:30.439 gohan.server.resources INFO [0m Created transaction ed712d48-6e30-4fd6-a7a1-6568d5245da1 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:30.445 gohan.server.resources INFO [0m Commited transaction ed712d48-6e30-4fd6-a7a1-6568d5245da1 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:30.446 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[status:PENDING_CREATE tsn_names:<nil> username:esi type:tor hostname:QFX-NW01 tor_agent_names:<nil> description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 location:<nil> tags:map[] flavor:<nil> name:sample-ese_device password:*** orchestration_state:CREATE_COMPLETE operational_state:NO_STATE management_ip_address:10.161.0.33 existing:existing public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:27:30.447 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:30.448 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:30.449 gohan.server.middleware INFO [0m Completed 200 OK in 53.185208ms (Request-Id: -)
00:27:31.472 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54714 (Request-Id: -) data: 
[36m00:27:31.473 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:31.473 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:31.510 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:31.511 gohan.server.resources INFO [0m Created transaction ca462de2-622f-4e56-9e6e-6e4a196463bd for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:31.516 gohan.server.resources INFO [0m Commited transaction ca462de2-622f-4e56-9e6e-6e4a196463bd for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:31.518 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[operational_state:NO_STATE type:tor flavor:<nil> tor_agent_names:<nil> description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 tsn_names:<nil> orchestration_state:CREATE_COMPLETE username:esi existing:existing management_ip_address:10.161.0.33 location:<nil> hostname:QFX-NW01 name:sample-ese_device password:*** status:PENDING_CREATE public_ip_address:10.161.0.33 tags:map[]]] (Request-Id: -)
[36m00:27:31.519 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:31.520 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:31.520 gohan.server.middleware INFO [0m Completed 200 OK in 48.46086ms (Request-Id: -)
00:27:32.056 gohan.server INFO [0m Monitoring Watcher starts watch from index 11
00:27:32.056 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 11
[31m00:27:32.057 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [123]
[31m00:27:32.057 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [123]
00:27:32.556 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54720 (Request-Id: -) data: 
[36m00:27:32.556 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:32.556 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:32.610 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:32.611 gohan.server.resources INFO [0m Created transaction a18eaaef-2024-4131-b604-cee43adeff36 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:32.616 gohan.server.resources INFO [0m Commited transaction a18eaaef-2024-4131-b604-cee43adeff36 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:32.617 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing password:*** location:<nil> tags:map[] tor_agent_names:<nil> name:sample-ese_device id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE operational_state:NO_STATE public_ip_address:10.161.0.33 tsn_names:<nil> username:esi type:tor hostname:QFX-NW01 flavor:<nil> description: orchestration_state:CREATE_COMPLETE management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:32.618 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:32.619 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:32.619 gohan.server.middleware INFO [0m Completed 200 OK in 63.864572ms (Request-Id: -)
00:27:33.640 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54722 (Request-Id: -) data: 
[36m00:27:33.640 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:33.640 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:33.680 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:33.681 gohan.server.resources INFO [0m Created transaction 632d12de-6179-4b2f-a4c1-1d57d2746582 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:33.686 gohan.server.resources INFO [0m Commited transaction 632d12de-6179-4b2f-a4c1-1d57d2746582 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:33.687 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[location:<nil> name:sample-ese_device tsn_names:<nil> username:esi tor_agent_names:<nil> existing:existing password:*** public_ip_address:10.161.0.33 tags:map[] management_ip_address:10.161.0.33 description: operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE type:tor hostname:QFX-NW01 flavor:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:27:33.688 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:33.689 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:33.690 gohan.server.middleware INFO [0m Completed 200 OK in 50.037345ms (Request-Id: -)
00:27:34.711 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54724 (Request-Id: -) data: 
[36m00:27:34.711 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:34.712 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:34.754 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:34.754 gohan.server.resources INFO [0m Created transaction 904bb97a-bdf6-4ece-b25e-91988631e022 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:34.759 gohan.server.resources INFO [0m Commited transaction 904bb97a-bdf6-4ece-b25e-91988631e022 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:34.760 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE tsn_names:<nil> location:<nil> management_ip_address:10.161.0.33 existing:existing tags:map[] description: password:*** orchestration_state:CREATE_COMPLETE id:61a05e50-71f9-495d-b1cc-74382dfaec83 type:tor hostname:QFX-NW01 name:sample-ese_device public_ip_address:10.161.0.33 operational_state:NO_STATE username:esi flavor:<nil> tor_agent_names:<nil>]] (Request-Id: -)
[36m00:27:34.761 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:34.762 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:34.763 gohan.server.middleware INFO [0m Completed 200 OK in 51.806642ms (Request-Id: -)
00:27:35.785 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54730 (Request-Id: -) data: 
[36m00:27:35.786 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:35.787 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:35.827 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:35.827 gohan.server.resources INFO [0m Created transaction 61bd01c0-8901-452b-b1f9-33a4174a1682 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:35.833 gohan.server.resources INFO [0m Commited transaction 61bd01c0-8901-452b-b1f9-33a4174a1682 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:35.833 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[description: name:sample-ese_device id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi existing:existing password:*** status:PENDING_CREATE tsn_names:<nil> location:<nil> tags:map[] management_ip_address:10.161.0.33 hostname:QFX-NW01 orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 operational_state:NO_STATE flavor:<nil> tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 type:tor]] (Request-Id: -)
[36m00:27:35.834 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:35.835 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:35.836 gohan.server.middleware INFO [0m Completed 200 OK in 50.550721ms (Request-Id: -)
00:27:36.857 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54732 (Request-Id: -) data: 
[36m00:27:36.857 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:36.857 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:36.898 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:36.899 gohan.server.resources INFO [0m Created transaction 6da6cb9a-14ad-4b14-ac71-e5a209707dad for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:36.904 gohan.server.resources INFO [0m Commited transaction 6da6cb9a-14ad-4b14-ac71-e5a209707dad for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:36.905 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[hostname:QFX-NW01 name:sample-ese_device type:tor management_ip_address:10.161.0.33 flavor:<nil> username:esi description: tsn_names:<nil> orchestration_state:CREATE_COMPLETE operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE location:<nil> tags:map[] tor_agent_names:<nil> public_ip_address:10.161.0.33 existing:existing password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:36.906 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:36.907 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:36.907 gohan.server.middleware INFO [0m Completed 200 OK in 50.825512ms (Request-Id: -)
00:27:37.058 gohan.server INFO [0m Monitoring Watcher starts watch from index 12
00:27:37.058 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 12
[31m00:27:37.059 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [124]
[31m00:27:37.059 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [124]
00:27:37.930 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54734 (Request-Id: -) data: 
[36m00:27:37.931 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:37.931 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:37.970 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:37.970 gohan.server.resources INFO [0m Created transaction e606317e-eb52-4600-82e8-c7d50eff07d8 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:37.975 gohan.server.resources INFO [0m Commited transaction e606317e-eb52-4600-82e8-c7d50eff07d8 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:37.976 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi description: name:sample-ese_device password:*** type:tor management_ip_address:10.161.0.33 public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tsn_names:<nil> tags:map[] hostname:QFX-NW01 flavor:<nil> existing:existing tor_agent_names:<nil> operational_state:NO_STATE location:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:37.977 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:37.978 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:37.979 gohan.server.middleware INFO [0m Completed 200 OK in 49.439733ms (Request-Id: -)
00:27:38.999 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54736 (Request-Id: -) data: 
[36m00:27:39.000 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:27:39.000 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:39.047 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:39.048 gohan.server.resources INFO [0m Created transaction 67fc6dbe-3554-410f-a2f6-3f8684bc9776 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:39.052 gohan.server.resources INFO [0m Commited transaction 67fc6dbe-3554-410f-a2f6-3f8684bc9776 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:39.053 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing tor_agent_names:<nil> type:tor management_ip_address:10.161.0.33 hostname:QFX-NW01 flavor:<nil> password:*** username:esi status:PENDING_CREATE tags:map[] description: orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 tsn_names:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:39.054 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:39.055 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:39.056 gohan.server.middleware INFO [0m Completed 200 OK in 56.308441ms (Request-Id: -)
00:27:40.077 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54738 (Request-Id: -) data: 
[36m00:27:40.077 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:40.077 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:40.114 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:40.115 gohan.server.resources INFO [0m Created transaction 4225ffac-f552-4686-abb9-21aa5bed649b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:40.120 gohan.server.resources INFO [0m Commited transaction 4225ffac-f552-4686-abb9-21aa5bed649b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:40.121 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tags:map[] hostname:QFX-NW01 name:sample-ese_device public_ip_address:10.161.0.33 tsn_names:<nil> orchestration_state:CREATE_COMPLETE password:*** username:esi type:tor flavor:<nil> existing:existing tor_agent_names:<nil> description: id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE operational_state:NO_STATE management_ip_address:10.161.0.33 location:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:40.122 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:40.123 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:40.124 gohan.server.middleware INFO [0m Completed 200 OK in 47.299618ms (Request-Id: -)
00:27:41.146 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54752 (Request-Id: -) data: 
[36m00:27:41.146 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:27:41.147 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:41.190 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:41.191 gohan.server.resources INFO [0m Created transaction 251de44b-c607-425e-bb76-98e0b5a9b8cc for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:41.196 gohan.server.resources INFO [0m Commited transaction 251de44b-c607-425e-bb76-98e0b5a9b8cc for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:41.197 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[orchestration_state:CREATE_COMPLETE description: public_ip_address:10.161.0.33 management_ip_address:10.161.0.33 username:esi flavor:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tsn_names:<nil> tags:map[] status:PENDING_CREATE location:<nil> tor_agent_names:<nil> hostname:QFX-NW01 existing:existing name:sample-ese_device password:*** type:tor]] (Request-Id: -)
[36m00:27:41.198 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:41.199 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:41.200 gohan.server.middleware INFO [0m Completed 200 OK in 54.140663ms (Request-Id: -)
00:27:42.059 gohan.server INFO [0m Monitoring Watcher starts watch from index 13
00:27:42.060 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 13
[31m00:27:42.060 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [126]
[31m00:27:42.061 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [126]
00:27:42.221 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54758 (Request-Id: -) data: 
[36m00:27:42.221 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:42.221 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:42.267 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:42.268 gohan.server.resources INFO [0m Created transaction 2cf607ea-ad97-48a3-bdbe-ae50ab9f3b5f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:42.273 gohan.server.resources INFO [0m Commited transaction 2cf607ea-ad97-48a3-bdbe-ae50ab9f3b5f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:42.274 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[name:sample-ese_device public_ip_address:10.161.0.33 password:*** status:PENDING_CREATE tsn_names:<nil> hostname:QFX-NW01 operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi type:tor management_ip_address:10.161.0.33 existing:existing description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE location:<nil> tags:map[] flavor:<nil> tor_agent_names:<nil>]] (Request-Id: -)
[36m00:27:42.275 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:42.276 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:42.276 gohan.server.middleware INFO [0m Completed 200 OK in 55.849372ms (Request-Id: -)
00:27:43.297 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54760 (Request-Id: -) data: 
[36m00:27:43.297 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:43.298 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:43.339 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:43.340 gohan.server.resources INFO [0m Created transaction 8b97cb79-0468-4824-9877-0b0aab646a8d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:43.348 gohan.server.resources INFO [0m Commited transaction 8b97cb79-0468-4824-9877-0b0aab646a8d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:43.350 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tor_agent_names:<nil> operational_state:NO_STATE location:<nil> password:*** status:PENDING_CREATE flavor:<nil> description: name:sample-ese_device orchestration_state:CREATE_COMPLETE id:61a05e50-71f9-495d-b1cc-74382dfaec83 public_ip_address:10.161.0.33 tsn_names:<nil> management_ip_address:10.161.0.33 username:esi type:tor tags:map[] hostname:QFX-NW01 existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:27:43.352 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:43.353 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:43.355 gohan.server.middleware INFO [0m Completed 200 OK in 58.186832ms (Request-Id: -)
00:27:44.376 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54762 (Request-Id: -) data: 
[36m00:27:44.377 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:44.377 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:44.444 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:44.445 gohan.server.resources INFO [0m Created transaction 86255877-41be-4251-af77-7512183430ab for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:44.450 gohan.server.resources INFO [0m Commited transaction 86255877-41be-4251-af77-7512183430ab for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:44.450 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tags:map[] hostname:QFX-NW01 tor_agent_names:<nil> password:*** orchestration_state:CREATE_COMPLETE location:<nil> flavor:<nil> existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi name:sample-ese_device tsn_names:<nil> operational_state:NO_STATE management_ip_address:10.161.0.33 description: public_ip_address:10.161.0.33 type:tor]] (Request-Id: -)
[36m00:27:44.451 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:44.452 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:44.453 gohan.server.middleware INFO [0m Completed 200 OK in 76.749159ms (Request-Id: -)
00:27:45.474 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54764 (Request-Id: -) data: 
[36m00:27:45.474 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:45.475 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:45.531 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:45.531 gohan.server.resources INFO [0m Created transaction bfbe6786-74de-4169-b6b8-72cfb888be78 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:45.537 gohan.server.resources INFO [0m Commited transaction bfbe6786-74de-4169-b6b8-72cfb888be78 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:45.538 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[password:*** status:PENDING_CREATE existing:existing type:tor location:<nil> name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi tags:map[] flavor:<nil> tor_agent_names:<nil> description: tsn_names:<nil> operational_state:NO_STATE management_ip_address:10.161.0.33 hostname:QFX-NW01]] (Request-Id: -)
[36m00:27:45.539 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:45.540 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:45.541 gohan.server.middleware INFO [0m Completed 200 OK in 67.25107ms (Request-Id: -)
00:27:46.562 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54768 (Request-Id: -) data: 
[36m00:27:46.562 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:46.562 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:46.599 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:46.600 gohan.server.resources INFO [0m Created transaction 471cb131-8130-470c-920d-85a4fa2a00e4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:46.605 gohan.server.resources INFO [0m Commited transaction 471cb131-8130-470c-920d-85a4fa2a00e4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:46.607 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[flavor:<nil> orchestration_state:CREATE_COMPLETE id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> tor_agent_names:<nil> hostname:QFX-NW01 tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE management_ip_address:10.161.0.33 type:tor tags:map[] existing:existing name:sample-ese_device password:*** description: status:PENDING_CREATE public_ip_address:10.161.0.33 tsn_names:<nil> username:esi]] (Request-Id: -)
[36m00:27:46.608 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:46.609 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:46.609 gohan.server.middleware INFO [0m Completed 200 OK in 47.699018ms (Request-Id: -)
00:27:47.061 gohan.server INFO [0m Monitoring Watcher starts watch from index 14
00:27:47.061 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 14
[31m00:27:47.062 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [127]
[31m00:27:47.062 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [127]
00:27:47.630 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54770 (Request-Id: -) data: 
[36m00:27:47.630 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:47.631 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:47.668 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:47.668 gohan.server.resources INFO [0m Created transaction 910095b4-f5c6-4548-918c-67de507a7682 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:47.678 gohan.server.resources INFO [0m Commited transaction 910095b4-f5c6-4548-918c-67de507a7682 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:47.679 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 tor_agent_names:<nil> hostname:QFX-NW01 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE type:tor flavor:<nil> existing:existing password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 management_ip_address:10.161.0.33 username:esi name:sample-ese_device tsn_names:<nil> operational_state:NO_STATE location:<nil> tags:map[] description:]] (Request-Id: -)
[36m00:27:47.679 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:47.680 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:47.681 gohan.server.middleware INFO [0m Completed 200 OK in 51.309714ms (Request-Id: -)
00:27:48.703 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54772 (Request-Id: -) data: 
[36m00:27:48.704 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:48.704 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:48.798 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:48.816 gohan.server.resources INFO [0m Created transaction c36a049c-cec1-43d3-9541-93a02488f44f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:48.822 gohan.server.resources INFO [0m Commited transaction c36a049c-cec1-43d3-9541-93a02488f44f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:48.823 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[password:*** public_ip_address:10.161.0.33 location:<nil> hostname:QFX-NW01 tor_agent_names:<nil> description: name:sample-ese_device flavor:<nil> existing:existing type:tor username:esi orchestration_state:CREATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 operational_state:NO_STATE management_ip_address:10.161.0.33 tags:map[]]] (Request-Id: -)
[36m00:27:48.824 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:48.825 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:48.826 gohan.server.middleware INFO [0m Completed 200 OK in 123.118533ms (Request-Id: -)
00:27:49.849 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54774 (Request-Id: -) data: 
[36m00:27:49.849 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:49.849 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:49.869 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:49.870 gohan.server.resources INFO [0m Created transaction 61d63261-1b1f-4fd2-9aba-e77dae6505d4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:49.874 gohan.server.resources INFO [0m Commited transaction 61d63261-1b1f-4fd2-9aba-e77dae6505d4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:49.875 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE tags:map[] hostname:QFX-NW01 flavor:<nil> tor_agent_names:<nil> description: password:*** id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi type:tor location:<nil> status:PENDING_CREATE tsn_names:<nil> management_ip_address:10.161.0.33 existing:existing orchestration_state:CREATE_COMPLETE name:sample-ese_device public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:49.875 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:49.876 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:49.877 gohan.server.middleware INFO [0m Completed 200 OK in 28.453351ms (Request-Id: -)
00:27:50.898 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54776 (Request-Id: -) data: 
[36m00:27:50.898 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:50.899 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:50.919 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:50.919 gohan.server.resources INFO [0m Created transaction d4ab36ec-251b-4d2b-9212-73b0457e2279 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:50.925 gohan.server.resources INFO [0m Commited transaction d4ab36ec-251b-4d2b-9212-73b0457e2279 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:50.926 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tsn_names:<nil> type:tor location:<nil> tags:map[] hostname:QFX-NW01 existing:existing name:sample-ese_device status:PENDING_CREATE username:esi tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 flavor:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 description: password:***]] (Request-Id: -)
[36m00:27:50.926 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:50.927 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:50.928 gohan.server.middleware INFO [0m Completed 200 OK in 30.058581ms (Request-Id: -)
00:27:51.949 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54780 (Request-Id: -) data: 
[36m00:27:51.949 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:51.950 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:51.973 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:51.974 gohan.server.resources INFO [0m Created transaction 94f86287-433e-433e-8fc5-8893ac136afd for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:51.979 gohan.server.resources INFO [0m Commited transaction 94f86287-433e-433e-8fc5-8893ac136afd for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:51.980 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tsn_names:<nil> status:PENDING_CREATE location:<nil> description: public_ip_address:10.161.0.33 tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 name:sample-ese_device orchestration_state:CREATE_COMPLETE existing:existing tor_agent_names:<nil> hostname:QFX-NW01 password:*** type:tor username:esi flavor:<nil>]] (Request-Id: -)
[36m00:27:51.981 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:51.982 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:51.982 gohan.server.middleware INFO [0m Completed 200 OK in 33.411583ms (Request-Id: -)
00:27:52.062 gohan.server INFO [0m Monitoring Watcher starts watch from index 15
00:27:52.063 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 15
[31m00:27:52.063 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [128]
[31m00:27:52.064 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [128]
00:27:53.003 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54782 (Request-Id: -) data: 
[36m00:27:53.004 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:53.004 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:53.029 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:53.030 gohan.server.resources INFO [0m Created transaction 92bb9687-cf71-4226-ba5c-48299802959a for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:53.035 gohan.server.resources INFO [0m Commited transaction 92bb9687-cf71-4226-ba5c-48299802959a for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:53.035 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[public_ip_address:10.161.0.33 operational_state:NO_STATE location:<nil> hostname:QFX-NW01 username:esi tags:map[] existing:existing management_ip_address:10.161.0.33 tsn_names:<nil> tor_agent_names:<nil> description: name:sample-ese_device password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE flavor:<nil> type:tor id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:27:53.036 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:53.037 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:53.038 gohan.server.middleware INFO [0m Completed 200 OK in 34.39861ms (Request-Id: -)
00:27:54.058 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54784 (Request-Id: -) data: 
[36m00:27:54.059 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:54.059 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:54.092 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:54.092 gohan.server.resources INFO [0m Created transaction f70fd5b5-07e1-4a16-9ffc-35777d37dae4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:54.100 gohan.server.resources INFO [0m Commited transaction f70fd5b5-07e1-4a16-9ffc-35777d37dae4 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:54.101 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[type:tor description: tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 public_ip_address:10.161.0.33 management_ip_address:10.161.0.33 operational_state:NO_STATE existing:existing flavor:<nil> location:<nil> tor_agent_names:<nil> tags:map[] username:esi hostname:QFX-NW01 password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE name:sample-ese_device status:PENDING_CREATE]] (Request-Id: -)
[36m00:27:54.102 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:27:54.104 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:54.105 gohan.server.middleware INFO [0m Completed 200 OK in 47.041087ms (Request-Id: -)
00:27:55.126 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54786 (Request-Id: -) data: 
[36m00:27:55.126 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:55.126 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:55.146 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:55.146 gohan.server.resources INFO [0m Created transaction 1c4470b4-2e5d-48c8-83bf-8ae192543f2f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:55.151 gohan.server.resources INFO [0m Commited transaction 1c4470b4-2e5d-48c8-83bf-8ae192543f2f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:55.152 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing tor_agent_names:<nil> password:*** operational_state:NO_STATE location:<nil> username:esi type:tor orchestration_state:CREATE_COMPLETE name:sample-ese_device tsn_names:<nil> tags:map[] flavor:<nil> description: hostname:QFX-NW01 tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE public_ip_address:10.161.0.33 management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:27:55.152 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:55.153 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:55.154 gohan.server.middleware INFO [0m Completed 200 OK in 27.962091ms (Request-Id: -)
00:27:56.175 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54792 (Request-Id: -) data: 
[36m00:27:56.175 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:27:56.175 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:56.195 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:56.196 gohan.server.resources INFO [0m Created transaction f737b993-34ae-4730-aa87-4432403ed8bb for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:56.201 gohan.server.resources INFO [0m Commited transaction f737b993-34ae-4730-aa87-4432403ed8bb for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:56.202 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[management_ip_address:10.161.0.33 existing:existing description: id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> hostname:QFX-NW01 flavor:<nil> operational_state:NO_STATE type:tor tags:map[] tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE public_ip_address:10.161.0.33 username:esi name:sample-ese_device password:*** orchestration_state:CREATE_COMPLETE tsn_names:<nil>]] (Request-Id: -)
[36m00:27:56.203 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:27:56.204 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:56.205 gohan.server.middleware INFO [0m Completed 200 OK in 29.807958ms (Request-Id: -)
00:27:57.064 gohan.server INFO [0m Monitoring Watcher starts watch from index 16
00:27:57.064 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 16
[31m00:27:57.065 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [129]
[31m00:27:57.065 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [129]
00:27:57.225 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54794 (Request-Id: -) data: 
[36m00:27:57.225 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:57.226 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:57.247 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:57.247 gohan.server.resources INFO [0m Created transaction 4344f36d-647a-4cc6-82b4-b80869d52b88 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:57.252 gohan.server.resources INFO [0m Commited transaction 4344f36d-647a-4cc6-82b4-b80869d52b88 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:57.253 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing name:sample-ese_device password:*** tsn_names:<nil> status:PENDING_CREATE type:tor management_ip_address:10.161.0.33 hostname:QFX-NW01 description: id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] username:esi tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33 operational_state:NO_STATE flavor:<nil> tor_agent_names:<nil> location:<nil> orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:27:57.254 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:57.255 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:57.256 gohan.server.middleware INFO [0m Completed 200 OK in 30.643654ms (Request-Id: -)
00:27:58.278 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54796 (Request-Id: -) data: 
[36m00:27:58.278 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:27:58.279 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:58.302 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:58.302 gohan.server.resources INFO [0m Created transaction 84388fdc-0386-4d32-b1e1-f522ba6b3846 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:58.307 gohan.server.resources INFO [0m Commited transaction 84388fdc-0386-4d32-b1e1-f522ba6b3846 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:58.308 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[flavor:<nil> existing:existing tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 password:*** orchestration_state:CREATE_COMPLETE description: status:PENDING_CREATE username:esi hostname:QFX-NW01 name:sample-ese_device public_ip_address:10.161.0.33 tsn_names:<nil> operational_state:NO_STATE location:<nil> management_ip_address:10.161.0.33 type:tor tags:map[]]] (Request-Id: -)
[36m00:27:58.309 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:58.310 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:58.311 gohan.server.middleware INFO [0m Completed 200 OK in 32.634687ms (Request-Id: -)
00:27:59.331 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54798 (Request-Id: -) data: 
[36m00:27:59.332 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:27:59.332 gohan.server.middleware DEBUG [0m Request body: 
[36m00:27:59.351 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:27:59.352 gohan.server.resources INFO [0m Created transaction 05f16e1b-bb23-4dfc-814d-af749a882285 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:27:59.357 gohan.server.resources INFO [0m Commited transaction 05f16e1b-bb23-4dfc-814d-af749a882285 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:27:59.358 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tags:map[] id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE type:tor flavor:<nil> existing:existing name:sample-ese_device orchestration_state:CREATE_COMPLETE management_ip_address:10.161.0.33 username:esi tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33 operational_state:NO_STATE location:<nil> hostname:QFX-NW01 password:*** description: tsn_names:<nil>]] (Request-Id: -)
[36m00:27:59.359 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:27:59.359 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:27:59.360 gohan.server.middleware INFO [0m Completed 200 OK in 29.067277ms (Request-Id: -)
00:28:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:28:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:28:00.042 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:28:00.046 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:28:00.048 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:28:00.054 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:28:00.058 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:28:00.059 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:28:00.381 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54800 (Request-Id: -) data: 
[36m00:28:00.381 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:00.381 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:00.400 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:00.400 gohan.server.resources INFO [0m Created transaction 38dfb8f3-4164-472b-ae9e-0a552e642f1f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:00.405 gohan.server.resources INFO [0m Commited transaction 38dfb8f3-4164-472b-ae9e-0a552e642f1f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:00.406 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[status:PENDING_CREATE name:sample-ese_device orchestration_state:CREATE_COMPLETE description: id:61a05e50-71f9-495d-b1cc-74382dfaec83 type:tor username:esi tor_agent_names:<nil> public_ip_address:10.161.0.33 hostname:QFX-NW01 password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 flavor:<nil> existing:existing tsn_names:<nil> operational_state:NO_STATE location:<nil> tags:map[] management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:28:00.407 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:00.407 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:00.408 gohan.server.middleware INFO [0m Completed 200 OK in 27.655112ms (Request-Id: -)
00:28:01.429 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54814 (Request-Id: -) data: 
[36m00:28:01.429 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:01.429 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:01.449 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:01.449 gohan.server.resources INFO [0m Created transaction 5eb75335-c35d-4a2e-b935-3e5c6299b71b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:01.453 gohan.server.resources INFO [0m Commited transaction 5eb75335-c35d-4a2e-b935-3e5c6299b71b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:01.454 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 hostname:QFX-NW01 existing:existing description: name:sample-ese_device password:*** location:<nil> management_ip_address:10.161.0.33 public_ip_address:10.161.0.33 tor_agent_names:<nil> operational_state:NO_STATE type:tor tags:map[] flavor:<nil>]] (Request-Id: -)
[36m00:28:01.455 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:01.456 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:01.457 gohan.server.middleware INFO [0m Completed 200 OK in 28.120261ms (Request-Id: -)
00:28:02.066 gohan.server INFO [0m Monitoring Watcher starts watch from index 17
00:28:02.066 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 17
[31m00:28:02.066 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [136]
[31m00:28:02.067 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [136]
00:28:02.478 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54818 (Request-Id: -) data: 
[36m00:28:02.478 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:02.478 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:02.499 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:02.500 gohan.server.resources INFO [0m Created transaction 3de11b39-468e-4bd0-944e-b547db204dbe for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:02.504 gohan.server.resources INFO [0m Commited transaction 3de11b39-468e-4bd0-944e-b547db204dbe for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:02.505 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 tsn_names:<nil> tags:map[] hostname:QFX-NW01 description: public_ip_address:10.161.0.33 operational_state:NO_STATE location:<nil> password:*** status:PENDING_CREATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 flavor:<nil> tor_agent_names:<nil> name:sample-ese_device orchestration_state:CREATE_COMPLETE username:esi type:tor]] (Request-Id: -)
[36m00:28:02.506 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:02.507 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:02.508 gohan.server.middleware INFO [0m Completed 200 OK in 30.097749ms (Request-Id: -)
00:28:03.529 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54820 (Request-Id: -) data: 
[36m00:28:03.529 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:03.529 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:03.547 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:03.548 gohan.server.resources INFO [0m Created transaction 6df1f526-e42a-4a9e-8410-d1554b770341 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:03.553 gohan.server.resources INFO [0m Commited transaction 6df1f526-e42a-4a9e-8410-d1554b770341 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:03.553 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[public_ip_address:10.161.0.33 type:tor flavor:<nil> name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 location:<nil> existing:existing tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE tsn_names:<nil> username:esi tags:map[] description: status:PENDING_CREATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 hostname:QFX-NW01 password:*** operational_state:NO_STATE]] (Request-Id: -)
[36m00:28:03.554 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:03.555 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:03.556 gohan.server.middleware INFO [0m Completed 200 OK in 27.033003ms (Request-Id: -)
00:28:04.577 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54822 (Request-Id: -) data: 
[36m00:28:04.578 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:04.578 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:04.597 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:04.598 gohan.server.resources INFO [0m Created transaction 207184f1-78a4-454d-930e-5e4437725ba5 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:04.602 gohan.server.resources INFO [0m Commited transaction 207184f1-78a4-454d-930e-5e4437725ba5 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:04.603 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[existing:existing tor_agent_names:<nil> hostname:QFX-NW01 password:*** orchestration_state:CREATE_COMPLETE tsn_names:<nil> location:<nil> flavor:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 public_ip_address:10.161.0.33 operational_state:NO_STATE status:PENDING_CREATE tags:map[] username:esi name:sample-ese_device description: id:61a05e50-71f9-495d-b1cc-74382dfaec83 type:tor management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:28:04.604 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:28:04.605 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:04.605 gohan.server.middleware INFO [0m Completed 200 OK in 28.062021ms (Request-Id: -)
00:28:05.626 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54824 (Request-Id: -) data: 
[36m00:28:05.627 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:05.627 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:05.644 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:05.645 gohan.server.resources INFO [0m Created transaction d525c3ec-01b2-468a-ac6b-981a369c6b1b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:05.650 gohan.server.resources INFO [0m Commited transaction d525c3ec-01b2-468a-ac6b-981a369c6b1b for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:05.651 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[description: public_ip_address:10.161.0.33 tsn_names:<nil> operational_state:NO_STATE type:tor existing:existing name:sample-ese_device tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> flavor:<nil> status:PENDING_CREATE tags:map[] management_ip_address:10.161.0.33 hostname:QFX-NW01 tor_agent_names:<nil> password:*** orchestration_state:CREATE_COMPLETE username:esi]] (Request-Id: -)
[36m00:28:05.652 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:28:05.653 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:05.654 gohan.server.middleware INFO [0m Completed 200 OK in 27.227517ms (Request-Id: -)
00:28:06.677 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54826 (Request-Id: -) data: 
[36m00:28:06.677 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:06.677 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:06.698 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:06.699 gohan.server.resources INFO [0m Created transaction 82039fa1-6631-4231-8e9f-1b50e704b940 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:06.703 gohan.server.resources INFO [0m Commited transaction 82039fa1-6631-4231-8e9f-1b50e704b940 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:06.704 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[location:<nil> tags:map[] flavor:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 public_ip_address:10.161.0.33 existing:existing tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE tsn_names:<nil> management_ip_address:10.161.0.33 username:esi description: name:sample-ese_device status:PENDING_CREATE operational_state:NO_STATE type:tor hostname:QFX-NW01 password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:06.705 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:06.706 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:06.706 gohan.server.middleware INFO [0m Completed 200 OK in 29.780196ms (Request-Id: -)
00:28:07.067 gohan.server INFO [0m Monitoring Watcher starts watch from index 18
00:28:07.067 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 18
[31m00:28:07.068 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [137]
[31m00:28:07.068 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [137]
00:28:07.727 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54828 (Request-Id: -) data: 
[36m00:28:07.727 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:07.727 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:07.745 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:07.746 gohan.server.resources INFO [0m Created transaction 68adc3ed-0918-4451-bc7c-db9ce4c92e6f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:07.751 gohan.server.resources INFO [0m Commited transaction 68adc3ed-0918-4451-bc7c-db9ce4c92e6f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:07.751 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 type:tor location:<nil> hostname:QFX-NW01 status:PENDING_CREATE operational_state:NO_STATE username:esi existing:existing password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 tor_agent_names:<nil> description: name:sample-ese_device tsn_names:<nil> tags:map[] flavor:<nil>]] (Request-Id: -)
[36m00:28:07.752 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:07.753 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:07.754 gohan.server.middleware INFO [0m Completed 200 OK in 26.971114ms (Request-Id: -)
00:28:08.774 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54830 (Request-Id: -) data: 
[36m00:28:08.775 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:08.775 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:08.792 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:08.793 gohan.server.resources INFO [0m Created transaction 5a2c039a-b710-43d0-bebd-9d9958dd9b6d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:08.797 gohan.server.resources INFO [0m Commited transaction 5a2c039a-b710-43d0-bebd-9d9958dd9b6d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:08.798 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[status:PENDING_CREATE type:tor hostname:QFX-NW01 password:*** public_ip_address:10.161.0.33 flavor:<nil> name:sample-ese_device description: existing:existing tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] username:esi tsn_names:<nil> location:<nil> management_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:28:08.799 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:08.800 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:08.801 gohan.server.middleware INFO [0m Completed 200 OK in 26.295988ms (Request-Id: -)
00:28:09.821 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54832 (Request-Id: -) data: 
[36m00:28:09.821 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:09.821 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:09.838 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:09.839 gohan.server.resources INFO [0m Created transaction 2d5da876-f9b2-4dc9-ad0f-a1ed6bfc97c9 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:09.843 gohan.server.resources INFO [0m Commited transaction 2d5da876-f9b2-4dc9-ad0f-a1ed6bfc97c9 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:09.844 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[type:tor tor_agent_names:<nil> location:<nil> tags:map[] management_ip_address:10.161.0.33 operational_state:NO_STATE description: name:sample-ese_device existing:existing hostname:QFX-NW01 flavor:<nil> password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE public_ip_address:10.161.0.33 username:esi]] (Request-Id: -)
[36m00:28:09.845 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:09.846 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:09.846 gohan.server.middleware INFO [0m Completed 200 OK in 25.296063ms (Request-Id: -)
00:28:10.866 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54834 (Request-Id: -) data: 
[36m00:28:10.867 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:10.867 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:10.884 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:10.885 gohan.server.resources INFO [0m Created transaction a2521305-1190-4160-8124-5e7adb7d7fed for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:10.889 gohan.server.resources INFO [0m Commited transaction a2521305-1190-4160-8124-5e7adb7d7fed for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:10.890 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[location:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-ese_device public_ip_address:10.161.0.33 tags:map[] flavor:<nil> orchestration_state:CREATE_COMPLETE id:61a05e50-71f9-495d-b1cc-74382dfaec83 description: tsn_names:<nil> management_ip_address:10.161.0.33 username:esi type:tor existing:existing tor_agent_names:<nil> password:*** operational_state:NO_STATE status:PENDING_CREATE hostname:QFX-NW01]] (Request-Id: -)
[36m00:28:10.891 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:10.892 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:10.893 gohan.server.middleware INFO [0m Completed 200 OK in 26.502391ms (Request-Id: -)
00:28:11.913 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54840 (Request-Id: -) data: 
[36m00:28:11.913 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:11.913 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:11.932 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:11.932 gohan.server.resources INFO [0m Created transaction e08ab21d-77af-41f9-85f0-3eac7d60294d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:11.938 gohan.server.resources INFO [0m Commited transaction e08ab21d-77af-41f9-85f0-3eac7d60294d for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:11.939 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[operational_state:NO_STATE tags:map[] management_ip_address:10.161.0.33 status:PENDING_CREATE public_ip_address:10.161.0.33 tsn_names:<nil> tor_agent_names:<nil> description: password:*** id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi flavor:<nil> name:sample-ese_device orchestration_state:CREATE_COMPLETE location:<nil> hostname:QFX-NW01 existing:existing type:tor tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:11.939 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:11.940 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:11.941 gohan.server.middleware INFO [0m Completed 200 OK in 27.936746ms (Request-Id: -)
00:28:12.068 gohan.server INFO [0m Monitoring Watcher starts watch from index 19
00:28:12.069 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 19
[31m00:28:12.069 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [139]
[31m00:28:12.069 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [139]
00:28:12.962 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54842 (Request-Id: -) data: 
[36m00:28:12.962 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:12.962 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:12.981 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:12.982 gohan.server.resources INFO [0m Created transaction 34b71d59-b801-4e9f-9962-5cd679e8ad98 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:12.986 gohan.server.resources INFO [0m Commited transaction 34b71d59-b801-4e9f-9962-5cd679e8ad98 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:12.987 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[type:tor flavor:<nil> existing:existing tor_agent_names:<nil> description: orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 tsn_names:<nil> location:<nil> management_ip_address:10.161.0.33 hostname:QFX-NW01 name:sample-ese_device password:*** operational_state:NO_STATE username:esi tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:28:12.988 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:12.989 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:12.990 gohan.server.middleware INFO [0m Completed 200 OK in 28.202304ms (Request-Id: -)
00:28:14.011 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54844 (Request-Id: -) data: 
[36m00:28:14.011 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:14.012 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:14.031 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:14.031 gohan.server.resources INFO [0m Created transaction e741fd4f-7705-47a2-bf48-b88130e08571 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:14.036 gohan.server.resources INFO [0m Commited transaction e741fd4f-7705-47a2-bf48-b88130e08571 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:14.037 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[name:sample-ese_device password:*** description: public_ip_address:10.161.0.33 operational_state:NO_STATE existing:existing tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE management_ip_address:10.161.0.33 tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE username:esi flavor:<nil> hostname:QFX-NW01 tenant_id:4b4cb858859842a389d0b0c8eb567d59 type:tor location:<nil> tags:map[]]] (Request-Id: -)
[36m00:28:14.038 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:14.039 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:14.039 gohan.server.middleware INFO [0m Completed 200 OK in 28.449183ms (Request-Id: -)
00:28:15.062 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54846 (Request-Id: -) data: 
[36m00:28:15.063 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:15.063 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:15.082 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:15.083 gohan.server.resources INFO [0m Created transaction d9ef5dc3-57f8-438a-ad3e-ca426aff7a8f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:15.088 gohan.server.resources INFO [0m Commited transaction d9ef5dc3-57f8-438a-ad3e-ca426aff7a8f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:15.089 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tsn_names:<nil> type:tor orchestration_state:CREATE_COMPLETE description: name:sample-ese_device password:*** status:PENDING_CREATE public_ip_address:10.161.0.33 tags:map[] management_ip_address:10.161.0.33 tenant_id:4b4cb858859842a389d0b0c8eb567d59 username:esi hostname:QFX-NW01 existing:existing tor_agent_names:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> flavor:<nil>]] (Request-Id: -)
[36m00:28:15.089 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:15.090 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:15.091 gohan.server.middleware INFO [0m Completed 200 OK in 28.660373ms (Request-Id: -)
00:28:16.112 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54854 (Request-Id: -) data: 
[36m00:28:16.112 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:16.112 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:16.131 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:16.132 gohan.server.resources INFO [0m Created transaction c382ae43-57a4-4c2d-a846-93588a834856 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:16.136 gohan.server.resources INFO [0m Commited transaction c382ae43-57a4-4c2d-a846-93588a834856 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:16.137 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi management_ip_address:10.161.0.33 description: orchestration_state:CREATE_COMPLETE existing:existing tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 type:tor status:PENDING_CREATE tsn_names:<nil> operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] hostname:QFX-NW01 name:sample-ese_device password:*** flavor:<nil> public_ip_address:10.161.0.33 location:<nil>]] (Request-Id: -)
[36m00:28:16.138 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:16.139 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:16.140 gohan.server.middleware INFO [0m Completed 200 OK in 27.951587ms (Request-Id: -)
00:28:17.070 gohan.server INFO [0m Monitoring Watcher starts watch from index 20
00:28:17.070 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 20
[31m00:28:17.071 gohan.sync.etcd ERROR [0m Resync failed with 100: Key not found (/monitoring) [140]
[31m00:28:17.071 gohan.server ERROR [0m Monitoring Watcher stops with 100: Key not found (/monitoring) [140]
00:28:17.160 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54856 (Request-Id: -) data: 
[36m00:28:17.160 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:17.160 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:17.178 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:17.179 gohan.server.resources INFO [0m Created transaction d93be924-9e98-4dae-b13a-d6365bfa544f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:17.183 gohan.server.resources INFO [0m Commited transaction d93be924-9e98-4dae-b13a-d6365bfa544f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:17.184 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[status:PENDING_CREATE type:tor tags:map[] flavor:<nil> existing:existing tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 id:61a05e50-71f9-495d-b1cc-74382dfaec83 username:esi management_ip_address:10.161.0.33 operational_state:NO_STATE location:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: tsn_names:<nil> hostname:QFX-NW01 name:sample-ese_device password:***]] (Request-Id: -)
[36m00:28:17.185 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:17.186 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:17.187 gohan.server.middleware INFO [0m Completed 200 OK in 27.198214ms (Request-Id: -)
00:28:18.209 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54860 (Request-Id: -) data: 
[36m00:28:18.209 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:18.209 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:18.230 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:18.231 gohan.server.resources INFO [0m Created transaction c31c6192-996f-4d38-aa35-3e387fc389e3 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:18.236 gohan.server.resources INFO [0m Commited transaction c31c6192-996f-4d38-aa35-3e387fc389e3 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:18.237 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[hostname:QFX-NW01 public_ip_address:10.161.0.33 tags:map[] operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 location:<nil> management_ip_address:10.161.0.33 name:sample-ese_device tsn_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 existing:existing description: password:*** username:esi type:tor flavor:<nil> tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE status:PENDING_CREATE]] (Request-Id: -)
[36m00:28:18.238 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:18.239 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:18.240 gohan.server.middleware INFO [0m Completed 200 OK in 31.116315ms (Request-Id: -)
00:28:19.260 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54862 (Request-Id: -) data: 
[36m00:28:19.260 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:19.260 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:19.278 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:19.278 gohan.server.resources INFO [0m Created transaction 59fdff0e-689b-49e9-83fc-3f2fa9c0466f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:19.283 gohan.server.resources INFO [0m Commited transaction 59fdff0e-689b-49e9-83fc-3f2fa9c0466f for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:19.284 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[type:tor location:<nil> orchestration_state:CREATE_COMPLETE description: username:esi flavor:<nil> existing:existing hostname:QFX-NW01 operational_state:NO_STATE id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE tags:map[] password:*** public_ip_address:10.161.0.33 management_ip_address:10.161.0.33 tor_agent_names:<nil> name:sample-ese_device tsn_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:19.285 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:19.286 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:19.287 gohan.server.middleware INFO [0m Completed 200 OK in 26.945676ms (Request-Id: -)
00:28:20.308 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54864 (Request-Id: -) data: 
[36m00:28:20.308 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:20.308 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:20.335 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:20.336 gohan.server.resources INFO [0m Created transaction 83a231ca-9921-4a06-b733-6812f707e4d2 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:20.341 gohan.server.resources INFO [0m Commited transaction 83a231ca-9921-4a06-b733-6812f707e4d2 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:20.342 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[password:*** tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE tsn_names:<nil> location:<nil> flavor:<nil> name:sample-ese_device public_ip_address:10.161.0.33 operational_state:NO_STATE tor_agent_names:<nil> description: orchestration_state:CREATE_COMPLETE id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] username:esi type:tor management_ip_address:10.161.0.33 hostname:QFX-NW01 existing:existing]] (Request-Id: -)
[36m00:28:20.343 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[618] Content-Type:[application/json]]
[36m00:28:20.344 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:20.344 gohan.server.middleware INFO [0m Completed 200 OK in 36.736732ms (Request-Id: -)
00:28:21.365 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54878 (Request-Id: -) data: 
[36m00:28:21.365 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:21.365 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:21.382 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:21.383 gohan.server.resources INFO [0m Created transaction f346cffc-008e-42c3-8c77-38a056a52edc for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:21.388 gohan.server.resources INFO [0m Commited transaction f346cffc-008e-42c3-8c77-38a056a52edc for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:21.389 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[username:esi type:tor status:PENDING_CREATE public_ip_address:10.161.0.33 operational_state:NO_STATE description: password:*** tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] flavor:<nil> name:sample-ese_device orchestration_state:CREATE_COMPLETE management_ip_address:10.161.0.33 hostname:QFX-NW01 existing:existing tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 location:<nil>]] (Request-Id: -)
[36m00:28:21.389 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[618]]
[36m00:28:21.390 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:21.391 gohan.server.middleware INFO [0m Completed 200 OK in 26.422272ms (Request-Id: -)
00:28:22.071 gohan.server INFO [0m Monitoring Watcher starts watch from index 21
00:28:22.071 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 21
[36m00:28:22.072 gohan.server DEBUG [0m Monitoring event update received: get /monitoring map[]
[33m00:28:22.077 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '//monitoring'
[36m00:28:22.080 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0 map[]
[33m00:28:22.081 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '/v2.0'
[36m00:28:22.081 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices map[]
[36m00:28:22.081 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 map[version:1 switch:UP]
00:28:22.082 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 map[switch:UP version:1] started
00:28:22.082 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices map[] started
[33m00:28:22.084 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: No resource found
00:28:22.081 gohan.sync.etcd INFO [0m Stop loading events whose index range from 21 to 142 in resync on /monitoring/
00:28:22.088 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 with index 142
00:28:22.090 gohan.sync.etcd INFO [0m Start watching on /monitoring/ with index 142
00:28:22.112 gohan.db.sql INFO [0m Executing SQL query in transaction '2423f4b7-83b1-4e44-b313-d23e19446c76': 'UPDATE `ese_devices` SET `hostname` = QFX-NW01, `flavor` = <nil>, `existing` = existing, `tor_agent_names` = null, `orchestration_state` = CREATE_COMPLETE, `description` = , `name` = sample-ese_device, `password` = ***, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `status` = PENDING_CREATE, `public_ip_address` = 10.161.0.33, `tsn_names` = null, `operational_state` = NO_STATE, `management_ip_address` = 10.161.0.33, `username` = esi, `type` = tor, `location` = <nil>, `tags` = {}, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"259db18a-5c51-45d5-847e-9a05da626f80\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"default-global-system-config\", \"NWSDP-JNPR-02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"7e5c78fa-71c0-427e-947f-586b1fc3c470\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/259db18a-5c51-45d5-847e-9a05da626f80\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"NWSDP-JNPR-02\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"switch":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 61a05e50-71f9-495d-b1cc-74382dfaec83'
00:28:22.119 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"switch": "UP"
} for ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83
00:28:22.119 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_monitoring_update_in_transaction INFO [0m <change_state>: Operational state changed from NO_STATE to UP.
[36m00:28:22.121 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_monitoring_update_in_transaction DEBUG [0m <ese_device_state_machine>: calculating ese_device (61a05e50-71f9-495d-b1cc-74382dfaec83) status with orchestration_state CREATE_COMPLETE and operational_state UP
00:28:22.123 gohan.extension.ese_device.<61a05e50-71f9-495d-b1cc-74382dfaec83>.post_monitoring_update_in_transaction INFO [0m <update_resource_status>: ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 status changed from PENDING_CREATE to ACTIVE.
00:28:22.125 gohan.db.sql INFO [0m Executing SQL query in transaction '2423f4b7-83b1-4e44-b313-d23e19446c76': 'UPDATE `ese_devices` SET `status` = ACTIVE, `public_ip_address` = 10.161.0.33, `tsn_names` = null, `operational_state` = UP, `id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `username` = esi, `type` = tor, `location` = <nil>, `tags` = {}, `management_ip_address` = 10.161.0.33, `hostname` = QFX-NW01, `flavor` = <nil>, `existing` = existing, `tor_agent_names` = null, `description` = , `name` = sample-ese_device, `password` = ***, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `orchestration_state` = CREATE_COMPLETE WHERE id = 61a05e50-71f9-495d-b1cc-74382dfaec83'
00:28:22.136 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 with index 142
00:28:22.137 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 completed
00:28:22.415 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54884 (Request-Id: -) data: 
[36m00:28:22.415 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:22.416 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:22.433 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:22.434 gohan.server.resources INFO [0m Created transaction a5981e3d-c580-49a0-88b8-aab4c958ffd0 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:22.438 gohan.server.resources INFO [0m Commited transaction a5981e3d-c580-49a0-88b8-aab4c958ffd0 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:22.439 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:61a05e50-71f9-495d-b1cc-74382dfaec83 tsn_names:<nil> management_ip_address:10.161.0.33 location:<nil> tor_agent_names:<nil> orchestration_state:CREATE_COMPLETE name:sample-ese_device hostname:QFX-NW01 flavor:<nil> description: password:*** operational_state:UP status:ACTIVE username:esi type:tor tags:map[] existing:existing public_ip_address:10.161.0.33]] (Request-Id: -)
[36m00:28:22.440 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[604]]
[36m00:28:22.441 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:22.441 gohan.server.middleware INFO [0m Completed 200 OK in 26.208323ms (Request-Id: -)
00:28:22.710 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.20.0.23:54888 (Request-Id: -) data: 
[36m00:28:22.710 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m00:28:22.711 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:22.781 gohan.server.resources DEBUG [0m List schema query: map[] started (Request-Id: -)
00:28:22.781 gohan.server.resources INFO [0m Created transaction 8f5a1c55-3758-4943-8dfb-1d41166db59f for listing schema (Request-Id: -)
00:28:22.785 gohan.server.resources INFO [0m Commited transaction 8f5a1c55-3758-4943-8dfb-1d41166db59f for listing schema (Request-Id: -)
[36m00:28:22.789 gohan.server.resources DEBUG [0m List schema query: map[] completed (Request-Id: -)
[36m00:28:22.804 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[75] Content-Length:[397882]]
[36m00:28:22.813 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 389882 bytes]
00:28:22.822 gohan.server.middleware INFO [0m Completed 200 OK in 112.045257ms (Request-Id: -)
00:28:22.873 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54892 (Request-Id: -) data: 
[36m00:28:22.874 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m00:28:22.874 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:22.892 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:22.892 gohan.server.resources INFO [0m Created transaction 5bbd34d7-5e85-4a37-aafb-cfcfb036292c for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:22.897 gohan.server.resources INFO [0m Commited transaction 5bbd34d7-5e85-4a37-aafb-cfcfb036292c for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:22.897 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[operational_state:UP description: name:sample-ese_device status:ACTIVE tor_agent_names:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 type:tor tags:map[] flavor:<nil> tsn_names:<nil> id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 hostname:QFX-NW01 existing:existing orchestration_state:CREATE_COMPLETE public_ip_address:10.161.0.33 username:esi location:<nil> password:***]] (Request-Id: -)
[36m00:28:22.898 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[604]]
[36m00:28:22.899 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:22.900 gohan.server.middleware INFO [0m Completed 200 OK in 26.459259ms (Request-Id: -)
00:28:22.901 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/61a05e50-71f9-495d-b1cc-74382dfaec83 for client 172.20.0.23:54894 (Request-Id: -) data: {}
[36m00:28:22.902 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m00:28:22.902 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:28:22.918 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 started (Request-Id: -)
00:28:22.918 gohan.server.resources INFO [0m Created transaction c2ffa3e7-a832-47ed-ae4f-5f54c3b5f7e7 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
00:28:22.923 gohan.server.resources INFO [0m Commited transaction c2ffa3e7-a832-47ed-ae4f-5f54c3b5f7e7 for fetching ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 (Request-Id: -)
[36m00:28:22.924 gohan.server.resources DEBUG [0m Show ese_device 61a05e50-71f9-495d-b1cc-74382dfaec83 completed: map[ese_device:map[id:61a05e50-71f9-495d-b1cc-74382dfaec83 management_ip_address:10.161.0.33 username:esi hostname:QFX-NW01 orchestration_state:CREATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:ACTIVE tsn_names:<nil> type:tor tags:map[] name:sample-ese_device flavor:<nil> existing:existing tor_agent_names:<nil> public_ip_address:10.161.0.33 operational_state:UP location:<nil> description: password:***]] (Request-Id: -)
[36m00:28:22.925 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[604] Content-Type:[application/json]]
[36m00:28:22.926 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW01",
    "id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "location": null,
    "management_ip_address": "10.161.0.33",
    "name": "sample-ese_device",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "password": "***",
    "public_ip_address": "10.161.0.33",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
00:28:22.926 gohan.server.middleware INFO [0m Completed 200 OK in 25.024726ms (Request-Id: -)
00:28:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:28:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:28:30.120 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:28:30.126 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:28:30.129 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:28:30.186 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:28:30.190 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:28:30.192 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:28:30.193 gohan.server.middleware INFO [0m Started POST /v2.0/physical_ports for client 172.20.0.23:54918 (Request-Id: -) data: 
        {
            "physical_port": {
                "name": "qfx-nw01-xe001",
                "plane": "data",
                "service_id": "server",
                "service_owner": "server",
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
[36m00:28:30.193 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[287] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:30.194 gohan.server.middleware DEBUG [0m Request body: 
        {
            "physical_port": {
                "name": "qfx-nw01-xe001",
                "plane": "data",
                "service_id": "server",
                "service_owner": "server",
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
00:28:30.221 gohan.server.resources INFO [0m Create physical_port with data map[name:qfx-nw01-xe001 plane:data service_id:server service_owner:server tenant_id:4b4cb858859842a389d0b0c8eb567d59] started (Request-Id: -)
[36m00:28:30.221 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:28:30.225 gohan.server.resources INFO [0m Created transaction 73e0ab72-8f68-4501-b68f-66eb8699c0cd for creating physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:30.232 gohan.extension.physical_port.<c13acfa3-6780-4f53-90da-492dfd697e69>.pre_create_in_transaction INFO [0m <update_resource_status>: physical_port c13acfa3-6780-4f53-90da-492dfd697e69 status changed from NO_STATE to PENDING_CREATE.
00:28:30.233 gohan.db.sql INFO [0m Executing SQL query in transaction '73e0ab72-8f68-4501-b68f-66eb8699c0cd': 'INSERT INTO `physical_ports` (`tags`,`id`,`status`,`plane`,`tenant_id`,`service_owner`,`service_id`,`name`,`segmentation_ranges`,`description`,`schema_version`) VALUES ({},c13acfa3-6780-4f53-90da-492dfd697e69,PENDING_CREATE,data,4b4cb858859842a389d0b0c8eb567d59,server,server,qfx-nw01-xe001,[{"end":4093,"start":3}],,1)'
00:28:30.234 gohan.db.sql INFO [0m Executing SQL query in transaction '73e0ab72-8f68-4501-b68f-66eb8699c0cd': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980910,create,false,"{\"description\":\"\",\"id\":\"c13acfa3-6780-4f53-90da-492dfd697e69\",\"name\":\"qfx-nw01-xe001\",\"plane\":\"data\",\"segmentation_ranges\":[{\"end\":4093,\"start\":3}],\"service_id\":\"server\",\"service_owner\":\"server\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}",1,/v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69)'
00:28:30.314 gohan.server.resources INFO [0m Commited transaction 73e0ab72-8f68-4501-b68f-66eb8699c0cd for creating physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:30.316 gohan.server.resources INFO [0m Create physical_port c13acfa3-6780-4f53-90da-492dfd697e69 completed: map[physical_port:map[tags:map[] name:qfx-nw01-xe001 service_id:server service_owner:server tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: plane:data id:c13acfa3-6780-4f53-90da-492dfd697e69 status:PENDING_CREATE segmentation_ranges:[map[start:3 end:4093]]]] (Request-Id: -)
[36m00:28:30.317 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[403]]
[36m00:28:30.317 gohan.server.sync DEBUG [0m Processing event 55 - create
00:28:30.318 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69
[36m00:28:30.318 gohan.server.middleware DEBUG [0m Response body: {
  "physical_port": {
    "description": "",
    "id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "name": "qfx-nw01-xe001",
    "plane": "data",
    "segmentation_ranges": [
      {
        "end": 4093,
        "start": 3
      }
    ],
    "service_id": "server",
    "service_owner": "server",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:30.319 gohan.server.middleware INFO [0m Completed 201 Created in 127.292823ms (Request-Id: -)
[36m00:28:30.323 gohan.server.sync DEBUG [0m Deleting event 55
00:28:30.326 gohan.db.sql INFO [0m Executing SQL query in transaction 'a4aa1428-0422-4d00-b654-9bf9cc502b5f': 'DELETE FROM `events` WHERE id = 55'
[36m00:28:30.329 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:28:30.334 gohan.server DEBUG [0m State event update received: set /state/v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 map[state:map[worker_state:READ_COMPLETE] version:1 error:]
00:28:30.335 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 map[version:1 error: state:map[worker_state:READ_COMPLETE]] started
00:28:30.346 gohan.server.middleware INFO [0m Started GET /v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 for client 172.20.0.23:54922 (Request-Id: -) data: 
[36m00:28:30.346 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:30.347 gohan.server.middleware DEBUG [0m Request body: 
00:28:30.355 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 with index 159
[36m00:28:30.386 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 started (Request-Id: -)
00:28:30.387 gohan.server.resources INFO [0m Created transaction 4532d037-3c6e-4a06-a077-587c4cb6521c for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:30.389 gohan.db.sql INFO [0m Executing SQL query in transaction '31820098-b0a2-4de8-a747-420a6c6ea628': 'UPDATE `physical_ports` SET `tags` = {}, `id` = c13acfa3-6780-4f53-90da-492dfd697e69, `status` = PENDING_CREATE, `plane` = data, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `service_owner` = server, `service_id` = server, `name` = qfx-nw01-xe001, `segmentation_ranges` = [{"end":4093,"start":3}], `description` = , `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = c13acfa3-6780-4f53-90da-492dfd697e69'
[36m00:28:30.391 gohan.extension.physical_port.<c13acfa3-6780-4f53-90da-492dfd697e69>.post_state_update_in_transaction DEBUG [0m <_fetch_orchestration_state>: Non workable resource physical_port c13acfa3-6780-4f53-90da-492dfd697e69
00:28:30.395 gohan.extension.physical_port.<c13acfa3-6780-4f53-90da-492dfd697e69>.post_state_update_in_transaction INFO [0m <update_resource_status>: physical_port c13acfa3-6780-4f53-90da-492dfd697e69 status changed from PENDING_CREATE to DOWN.
00:28:30.396 gohan.db.sql INFO [0m Executing SQL query in transaction '31820098-b0a2-4de8-a747-420a6c6ea628': 'UPDATE `physical_ports` SET `name` = qfx-nw01-xe001, `segmentation_ranges` = [{"end":4093,"start":3}], `description` = , `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `service_owner` = server, `service_id` = server, `plane` = data, `tags` = {}, `id` = c13acfa3-6780-4f53-90da-492dfd697e69, `status` = DOWN WHERE id = c13acfa3-6780-4f53-90da-492dfd697e69'
00:28:30.399 gohan.server.resources INFO [0m Commited transaction 4532d037-3c6e-4a06-a077-587c4cb6521c for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
[36m00:28:30.399 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 completed: map[physical_port:map[id:c13acfa3-6780-4f53-90da-492dfd697e69 status:PENDING_CREATE description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 service_owner:server tags:map[] plane:data service_id:server name:qfx-nw01-xe001 segmentation_ranges:[map[end:4093 start:3]]]] (Request-Id: -)
[36m00:28:30.400 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[403]]
[36m00:28:30.400 gohan.server.middleware DEBUG [0m Response body: {
  "physical_port": {
    "description": "",
    "id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "name": "qfx-nw01-xe001",
    "plane": "data",
    "segmentation_ranges": [
      {
        "end": 4093,
        "start": 3
      }
    ],
    "service_id": "server",
    "service_owner": "server",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:30.401 gohan.server.middleware INFO [0m Completed 200 OK in 54.934032ms (Request-Id: -)
00:28:30.405 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 with index 159
00:28:31.424 gohan.server.middleware INFO [0m Started GET /v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 for client 172.20.0.23:54924 (Request-Id: -) data: 
[36m00:28:31.424 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:31.424 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:31.445 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 started (Request-Id: -)
00:28:31.445 gohan.server.resources INFO [0m Created transaction 1c20d7ff-9a11-4eea-bc20-ecf755851188 for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:31.450 gohan.server.resources INFO [0m Commited transaction 1c20d7ff-9a11-4eea-bc20-ecf755851188 for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
[36m00:28:31.450 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 completed: map[physical_port:map[name:qfx-nw01-xe001 description: tags:map[] plane:data service_owner:server service_id:server segmentation_ranges:[map[end:4093 start:3]] id:c13acfa3-6780-4f53-90da-492dfd697e69 status:DOWN tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:31.451 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[393]]
[36m00:28:31.451 gohan.server.middleware DEBUG [0m Response body: {
  "physical_port": {
    "description": "",
    "id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "name": "qfx-nw01-xe001",
    "plane": "data",
    "segmentation_ranges": [
      {
        "end": 4093,
        "start": 3
      }
    ],
    "service_id": "server",
    "service_owner": "server",
    "status": "DOWN",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:31.452 gohan.server.middleware INFO [0m Completed 200 OK in 28.597142ms (Request-Id: -)
00:28:31.783 gohan.server.middleware INFO [0m Started GET /v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 for client 172.20.0.23:54930 (Request-Id: -) data: 
[36m00:28:31.784 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m00:28:31.784 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:31.997 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 started (Request-Id: -)
00:28:31.997 gohan.server.resources INFO [0m Created transaction 73b94504-97cc-4136-b537-087934ad5efd for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:32.001 gohan.server.resources INFO [0m Commited transaction 73b94504-97cc-4136-b537-087934ad5efd for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
[36m00:28:32.002 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 completed: map[physical_port:map[status:DOWN plane:data description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 service_owner:server segmentation_ranges:[map[end:4093 start:3]] id:c13acfa3-6780-4f53-90da-492dfd697e69 service_id:server name:qfx-nw01-xe001 tags:map[]]] (Request-Id: -)
[36m00:28:32.002 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[393]]
[36m00:28:32.003 gohan.server.middleware DEBUG [0m Response body: {
  "physical_port": {
    "description": "",
    "id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "name": "qfx-nw01-xe001",
    "plane": "data",
    "segmentation_ranges": [
      {
        "end": 4093,
        "start": 3
      }
    ],
    "service_id": "server",
    "service_owner": "server",
    "status": "DOWN",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:32.003 gohan.server.middleware INFO [0m Completed 200 OK in 220.040949ms (Request-Id: -)
00:28:32.005 gohan.server.middleware INFO [0m Started GET /v2.0/physical_ports/c13acfa3-6780-4f53-90da-492dfd697e69 for client 172.20.0.23:54936 (Request-Id: -) data: {}
[36m00:28:32.006 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m00:28:32.006 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:28:32.024 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 started (Request-Id: -)
00:28:32.024 gohan.server.resources INFO [0m Created transaction 8ddcd143-dff0-48f2-8fce-8888a4d35303 for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
00:28:32.028 gohan.server.resources INFO [0m Commited transaction 8ddcd143-dff0-48f2-8fce-8888a4d35303 for fetching physical_port c13acfa3-6780-4f53-90da-492dfd697e69 (Request-Id: -)
[36m00:28:32.029 gohan.server.resources DEBUG [0m Show physical_port c13acfa3-6780-4f53-90da-492dfd697e69 completed: map[physical_port:map[plane:data tags:map[] name:qfx-nw01-xe001 tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: id:c13acfa3-6780-4f53-90da-492dfd697e69 status:DOWN service_owner:server service_id:server segmentation_ranges:[map[end:4093 start:3]]]] (Request-Id: -)
[36m00:28:32.029 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[393]]
[36m00:28:32.030 gohan.server.middleware DEBUG [0m Response body: {
  "physical_port": {
    "description": "",
    "id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "name": "qfx-nw01-xe001",
    "plane": "data",
    "segmentation_ranges": [
      {
        "end": 4093,
        "start": 3
      }
    ],
    "service_id": "server",
    "service_owner": "server",
    "status": "DOWN",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:32.030 gohan.server.middleware INFO [0m Completed 200 OK in 24.738612ms (Request-Id: -)
00:28:37.118 gohan.server.middleware INFO [0m Started POST /v2.0/ese_physical_ports for client 172.20.0.23:54938 (Request-Id: -) data: 
            {
                "ese_physical_port": {
                    "name": "xe-0/0/1",
                    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
                    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
                    "connected_port_owner": "physical_port",
                    "existing": "existing",
                    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
                }
            } 
[36m00:28:37.119 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[457] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:37.120 gohan.server.middleware DEBUG [0m Request body: 
            {
                "ese_physical_port": {
                    "name": "xe-0/0/1",
                    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
                    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
                    "connected_port_owner": "physical_port",
                    "existing": "existing",
                    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
                }
            } 
00:28:37.139 gohan.server.resources INFO [0m Create ese_physical_port with data map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 connected_port_owner:physical_port existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:xe-0/0/1] started (Request-Id: -)
[36m00:28:37.140 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:28:37.143 gohan.server.resources INFO [0m Created transaction fed4a33b-9f0c-4243-87db-1ff220a3f0be for creating ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:37.206 gohan.server.resources DEBUG [0m List ese_device query: map[id:[61a05e50-71f9-495d-b1cc-74382dfaec83]] started (Request-Id: -)
[36m00:28:37.211 gohan.server.resources DEBUG [0m List ese_device query: map[id:[61a05e50-71f9-495d-b1cc-74382dfaec83]] completed (Request-Id: -)
[36m00:28:37.231 gohan.server.resources DEBUG [0m List physical_port query: map[id:[c13acfa3-6780-4f53-90da-492dfd697e69]] started (Request-Id: -)
[36m00:28:37.234 gohan.server.resources DEBUG [0m List physical_port query: map[id:[c13acfa3-6780-4f53-90da-492dfd697e69]] completed (Request-Id: -)
00:28:37.244 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:28:37.245 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.pre_create_in_transaction DEBUG [0m <ese_physical_port_state_machine>: calculating ese_physical_port (0915a040-2f84-44fc-9083-1e2f719ae2eb) status with orchestration_state CREATE_IN_PROGRESS and operational_state NO_STATE
00:28:37.247 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.pre_create_in_transaction INFO [0m <update_resource_status>: ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb status changed from NO_STATE to PENDING_CREATE.
00:28:37.249 gohan.db.sql INFO [0m Executing SQL query in transaction 'fed4a33b-9f0c-4243-87db-1ff220a3f0be': 'INSERT INTO `ese_physical_ports` (`orchestration_state`,`status`,`operational_state`,`tenant_id`,`connected_port_id`,`id`,`name`,`tags`,`connected_port_owner`,`description`,`existing`,`ese_device_id`,`schema_version`) VALUES (CREATE_IN_PROGRESS,PENDING_CREATE,NO_STATE,4b4cb858859842a389d0b0c8eb567d59,c13acfa3-6780-4f53-90da-492dfd697e69,0915a040-2f84-44fc-9083-1e2f719ae2eb,xe-0/0/1,{},physical_port,,existing,61a05e50-71f9-495d-b1cc-74382dfaec83,1)'
00:28:37.251 gohan.db.sql INFO [0m Executing SQL query in transaction 'fed4a33b-9f0c-4243-87db-1ff220a3f0be': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548980917,create,false,"{\"connected_port_id\":\"c13acfa3-6780-4f53-90da-492dfd697e69\",\"connected_port_owner\":\"physical_port\",\"description\":\"\",\"ese_device_id\":\"61a05e50-71f9-495d-b1cc-74382dfaec83\",\"existing\":\"existing\",\"id\":\"0915a040-2f84-44fc-9083-1e2f719ae2eb\",\"name\":\"xe-0/0/1\",\"operational_state\":\"NO_STATE\",\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}",1,/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb)'
00:28:37.263 gohan.server.resources INFO [0m Commited transaction fed4a33b-9f0c-4243-87db-1ff220a3f0be for creating ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:37.265 gohan.server.sync DEBUG [0m Processing event 56 - create
00:28:37.266 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb
00:28:37.265 gohan.server.resources INFO [0m Create ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port existing:existing tags:map[] status:PENDING_CREATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb description: operational_state:NO_STATE orchestration_state:CREATE_IN_PROGRESS name:xe-0/0/1 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:37.268 gohan.server.sync DEBUG [0m Deleting event 56
00:28:37.270 gohan.db.sql INFO [0m Executing SQL query in transaction '3487d40d-6437-4031-b458-f96835169921': 'DELETE FROM `events` WHERE id = 56'
[36m00:28:37.270 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:28:37.266 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[514]]
[36m00:28:37.284 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:37.287 gohan.server.middleware INFO [0m Completed 201 Created in 169.79983ms (Request-Id: -)
00:28:37.319 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54944 (Request-Id: -) data: 
[36m00:28:37.319 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:37.319 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:37.341 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:37.342 gohan.server.resources INFO [0m Created transaction 5abd892c-f832-4a13-aff7-af484347aebb for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:37.351 gohan.server.resources INFO [0m Commited transaction 5abd892c-f832-4a13-aff7-af484347aebb for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:37.352 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[orchestration_state:CREATE_IN_PROGRESS operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 description: existing:existing id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 status:PENDING_CREATE tags:map[] connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:28:37.353 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[514]]
[36m00:28:37.354 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:37.355 gohan.server.middleware INFO [0m Completed 200 OK in 36.195721ms (Request-Id: -)
00:28:38.376 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54954 (Request-Id: -) data: 
[36m00:28:38.377 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:38.377 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:38.398 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:38.398 gohan.server.resources INFO [0m Created transaction 131b788d-2d51-446e-a093-9b416c382c19 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:38.403 gohan.server.resources INFO [0m Commited transaction 131b788d-2d51-446e-a093-9b416c382c19 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:38.404 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port existing:existing name:xe-0/0/1 orchestration_state:CREATE_IN_PROGRESS operational_state:NO_STATE tags:map[] description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:28:38.405 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[514] Content-Type:[application/json]]
[36m00:28:38.406 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:38.406 gohan.server.middleware INFO [0m Completed 200 OK in 29.938886ms (Request-Id: -)
00:28:39.428 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54958 (Request-Id: -) data: 
[36m00:28:39.428 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:39.428 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:39.449 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:39.450 gohan.server.resources INFO [0m Created transaction c1f3a575-3be1-4ce9-9f9d-da14d997051e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:39.455 gohan.server.resources INFO [0m Commited transaction c1f3a575-3be1-4ce9-9f9d-da14d997051e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:39.456 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 connected_port_owner:physical_port description: tags:map[] status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_IN_PROGRESS existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:39.457 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[514]]
[36m00:28:39.457 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:39.458 gohan.server.middleware INFO [0m Completed 200 OK in 30.723655ms (Request-Id: -)
00:28:40.487 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54960 (Request-Id: -) data: 
[36m00:28:40.487 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:40.487 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:40.507 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:40.508 gohan.server.resources INFO [0m Created transaction d0ffbf68-8840-41c3-9cb0-b6717725d25b for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:40.512 gohan.server.resources INFO [0m Commited transaction d0ffbf68-8840-41c3-9cb0-b6717725d25b for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:40.513 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] connected_port_owner:physical_port operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_IN_PROGRESS connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 description: existing:existing]] (Request-Id: -)
[36m00:28:40.514 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[514]]
[36m00:28:40.514 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:40.515 gohan.server.middleware INFO [0m Completed 200 OK in 28.527954ms (Request-Id: -)
00:28:41.543 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54978 (Request-Id: -) data: 
[36m00:28:41.544 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:41.544 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:41.565 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:41.566 gohan.server.resources INFO [0m Created transaction 4874b818-2334-4015-be40-74bb069858ba for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:41.570 gohan.server.resources INFO [0m Commited transaction 4874b818-2334-4015-be40-74bb069858ba for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:41.571 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 orchestration_state:CREATE_IN_PROGRESS connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 existing:existing]] (Request-Id: -)
[36m00:28:41.572 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[514]]
[36m00:28:41.573 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:41.574 gohan.server.middleware INFO [0m Completed 200 OK in 30.509345ms (Request-Id: -)
[36m00:28:41.747 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb map[error: state:map[heat_outputs:[{"output_value": "39ab4e06-ac66-4e84-81c5-93b888427955", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/39ab4e06-ac66-4e84-81c5-93b888427955", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "xe-0/0/38", "description": "The name of the physical interface.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1]
00:28:41.748 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb map[error: state:map[heat_outputs:[{"output_value": "39ab4e06-ac66-4e84-81c5-93b888427955", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/39ab4e06-ac66-4e84-81c5-93b888427955", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "xe-0/0/38", "description": "The name of the physical interface.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:28:41.758 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb with index 179
00:28:41.849 gohan.db.sql INFO [0m Executing SQL query in transaction 'd3bc8545-52c6-439f-bf90-2af0cd99f901': 'UPDATE `ese_physical_ports` SET `orchestration_state` = CREATE_IN_PROGRESS, `status` = PENDING_CREATE, `operational_state` = NO_STATE, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `connected_port_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `name` = xe-0/0/1, `tags` = {}, `connected_port_owner` = physical_port, `description` = , `existing` = existing, `ese_device_id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, ese_device_id = 61a05e50-71f9-495d-b1cc-74382dfaec83, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"39ab4e06-ac66-4e84-81c5-93b888427955\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": \"5a79909b-2bf3-4e26-8a9c-0bf6bb175457\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/39ab4e06-ac66-4e84-81c5-93b888427955\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"xe-0/0/38\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 0915a040-2f84-44fc-9083-1e2f719ae2eb'
00:28:41.853 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:28:41.853 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_state_update_in_transaction DEBUG [0m <ese_physical_port_state_machine>: calculating ese_physical_port (0915a040-2f84-44fc-9083-1e2f719ae2eb) status with orchestration_state CREATE_COMPLETE and operational_state NO_STATE
00:28:41.855 gohan.db.sql INFO [0m Executing SQL query in transaction 'd3bc8545-52c6-439f-bf90-2af0cd99f901': 'UPDATE `ese_physical_ports` SET `id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `name` = xe-0/0/1, `orchestration_state` = CREATE_COMPLETE, `status` = PENDING_CREATE, `operational_state` = NO_STATE, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `connected_port_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `tags` = {}, `connected_port_owner` = physical_port, `description` = , `existing` = existing, `ese_device_id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, ese_device_id = 61a05e50-71f9-495d-b1cc-74382dfaec83 WHERE id = 0915a040-2f84-44fc-9083-1e2f719ae2eb'
00:28:41.859 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_state_update_in_transaction INFO [0m <ese_physical_port_pre_update_in_transaction>: Chaining state transition to physical_port c13acfa3-6780-4f53-90da-492dfd697e69
00:28:41.899 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb with index 179
00:28:42.600 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54982 (Request-Id: -) data: 
[36m00:28:42.600 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:42.601 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:42.619 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:42.619 gohan.server.resources INFO [0m Created transaction 044f2d30-8178-4747-800c-1dd1e19b9138 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:42.623 gohan.server.resources INFO [0m Commited transaction 044f2d30-8178-4747-800c-1dd1e19b9138 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:42.624 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] existing:existing connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 status:PENDING_CREATE connected_port_owner:physical_port description: id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:28:42.625 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:42.626 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:42.626 gohan.server.middleware INFO [0m Completed 200 OK in 26.582865ms (Request-Id: -)
00:28:43.647 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54984 (Request-Id: -) data: 
[36m00:28:43.647 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:43.648 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:43.665 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:43.665 gohan.server.resources INFO [0m Created transaction 0f45b05d-8b35-4db1-9222-bd9e47421a8f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:43.669 gohan.server.resources INFO [0m Commited transaction 0f45b05d-8b35-4db1-9222-bd9e47421a8f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:43.670 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 tags:map[] connected_port_owner:physical_port existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:28:43.671 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:43.672 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:43.672 gohan.server.middleware INFO [0m Completed 200 OK in 25.322054ms (Request-Id: -)
00:28:44.693 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54986 (Request-Id: -) data: 
[36m00:28:44.693 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:44.693 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:44.711 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:44.712 gohan.server.resources INFO [0m Created transaction c966f323-dd9f-4a1a-8d67-34274228e69d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:44.716 gohan.server.resources INFO [0m Commited transaction c966f323-dd9f-4a1a-8d67-34274228e69d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:44.717 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[existing:existing operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE name:xe-0/0/1]] (Request-Id: -)
[36m00:28:44.718 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:44.719 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:44.719 gohan.server.middleware INFO [0m Completed 200 OK in 26.588884ms (Request-Id: -)
00:28:45.740 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54988 (Request-Id: -) data: 
[36m00:28:45.740 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:45.740 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:45.757 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:45.758 gohan.server.resources INFO [0m Created transaction f04d2c9e-12fe-4b00-9437-f2b09fa3ec1c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:45.763 gohan.server.resources INFO [0m Commited transaction f04d2c9e-12fe-4b00-9437-f2b09fa3ec1c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:45.763 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port name:xe-0/0/1 operational_state:NO_STATE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] description: existing:existing connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:28:45.764 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:45.765 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:45.765 gohan.server.middleware INFO [0m Completed 200 OK in 25.776899ms (Request-Id: -)
00:28:46.787 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54990 (Request-Id: -) data: 
[36m00:28:46.787 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:46.788 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:46.805 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:46.805 gohan.server.resources INFO [0m Created transaction 95322b2c-cad6-49d6-bbbf-a0fd0facaa5a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:46.810 gohan.server.resources INFO [0m Commited transaction 95322b2c-cad6-49d6-bbbf-a0fd0facaa5a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:46.811 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 operational_state:NO_STATE tags:map[] connected_port_owner:physical_port existing:existing orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:28:46.812 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:46.812 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:46.813 gohan.server.middleware INFO [0m Completed 200 OK in 26.037728ms (Request-Id: -)
00:28:47.834 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54992 (Request-Id: -) data: 
[36m00:28:47.834 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:47.834 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:47.850 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:47.851 gohan.server.resources INFO [0m Created transaction bb3c69f1-67b3-4fff-8dad-f997284f9aaa for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:47.855 gohan.server.resources INFO [0m Commited transaction bb3c69f1-67b3-4fff-8dad-f997284f9aaa for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:47.856 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE existing:existing tags:map[] operational_state:NO_STATE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:xe-0/0/1 connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:28:47.856 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:47.857 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:47.858 gohan.server.middleware INFO [0m Completed 200 OK in 23.961755ms (Request-Id: -)
00:28:48.879 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54994 (Request-Id: -) data: 
[36m00:28:48.879 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:48.879 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:48.895 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:48.896 gohan.server.resources INFO [0m Created transaction e8964567-dc3a-4e05-86aa-ff575b06ecb0 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:48.900 gohan.server.resources INFO [0m Commited transaction e8964567-dc3a-4e05-86aa-ff575b06ecb0 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:48.901 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port description: existing:existing status:PENDING_CREATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:28:48.902 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:48.902 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:48.903 gohan.server.middleware INFO [0m Completed 200 OK in 24.484828ms (Request-Id: -)
00:28:49.924 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54996 (Request-Id: -) data: 
[36m00:28:49.925 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:49.925 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:49.941 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:49.942 gohan.server.resources INFO [0m Created transaction 5e969a2d-e7a8-4826-bda2-199aab51b84c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:49.946 gohan.server.resources INFO [0m Commited transaction 5e969a2d-e7a8-4826-bda2-199aab51b84c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:49.947 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 tags:map[] ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port description: existing:existing operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:28:49.948 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:49.949 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:49.949 gohan.server.middleware INFO [0m Completed 200 OK in 24.780379ms (Request-Id: -)
00:28:50.972 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:54998 (Request-Id: -) data: 
[36m00:28:50.972 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:50.973 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:50.989 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:50.989 gohan.server.resources INFO [0m Created transaction 6cd528ee-00f9-4783-bf0f-7593f0d30eee for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:50.994 gohan.server.resources INFO [0m Commited transaction 6cd528ee-00f9-4783-bf0f-7593f0d30eee for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:50.995 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port description: tags:map[] name:xe-0/0/1 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:28:50.995 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:28:50.996 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:50.997 gohan.server.middleware INFO [0m Completed 200 OK in 24.506381ms (Request-Id: -)
00:28:52.018 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55000 (Request-Id: -) data: 
[36m00:28:52.018 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:52.019 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:52.036 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:52.036 gohan.server.resources INFO [0m Created transaction fdddfcd3-d97a-4088-a4eb-10c7ad43cdd3 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:52.042 gohan.server.resources INFO [0m Commited transaction fdddfcd3-d97a-4088-a4eb-10c7ad43cdd3 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:52.044 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE existing:existing connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:28:52.045 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:52.046 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:52.047 gohan.server.middleware INFO [0m Completed 200 OK in 29.4007ms (Request-Id: -)
00:28:53.070 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55002 (Request-Id: -) data: 
[36m00:28:53.071 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:53.071 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:53.087 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:53.088 gohan.server.resources INFO [0m Created transaction 501d5647-0e8c-4a0d-a6bb-127c96d825a9 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:53.092 gohan.server.resources INFO [0m Commited transaction 501d5647-0e8c-4a0d-a6bb-127c96d825a9 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:53.093 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_owner:physical_port operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb description: tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE existing:existing]] (Request-Id: -)
[36m00:28:53.093 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:53.094 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:53.095 gohan.server.middleware INFO [0m Completed 200 OK in 24.194559ms (Request-Id: -)
00:28:54.115 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55004 (Request-Id: -) data: 
[36m00:28:54.116 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:54.116 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:54.134 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:54.134 gohan.server.resources INFO [0m Created transaction 341d08fe-43a3-4af5-bc7c-32a15004db12 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:54.138 gohan.server.resources INFO [0m Commited transaction 341d08fe-43a3-4af5-bc7c-32a15004db12 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:54.139 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 connected_port_owner:physical_port id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:28:54.140 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:54.141 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:54.141 gohan.server.middleware INFO [0m Completed 200 OK in 26.003287ms (Request-Id: -)
00:28:55.162 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55006 (Request-Id: -) data: 
[36m00:28:55.162 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:55.163 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:55.181 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:55.181 gohan.server.resources INFO [0m Created transaction b7bb5734-a389-4c98-8a1d-b6238fb7cc52 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:55.185 gohan.server.resources INFO [0m Commited transaction b7bb5734-a389-4c98-8a1d-b6238fb7cc52 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:55.186 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE name:xe-0/0/1 tags:map[] connected_port_owner:physical_port existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:28:55.187 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:55.188 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:55.188 gohan.server.middleware INFO [0m Completed 200 OK in 26.247281ms (Request-Id: -)
00:28:56.209 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55008 (Request-Id: -) data: 
[36m00:28:56.209 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:28:56.210 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:56.228 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:56.229 gohan.server.resources INFO [0m Created transaction 752c3389-6617-41e7-973c-c7954e4fa76d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:56.235 gohan.server.resources INFO [0m Commited transaction 752c3389-6617-41e7-973c-c7954e4fa76d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:56.236 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] description: orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 connected_port_owner:physical_port existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 operational_state:NO_STATE]] (Request-Id: -)
[36m00:28:56.236 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:28:56.237 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:56.238 gohan.server.middleware INFO [0m Completed 200 OK in 28.610904ms (Request-Id: -)
00:28:57.259 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55010 (Request-Id: -) data: 
[36m00:28:57.260 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:28:57.260 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:57.299 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:57.299 gohan.server.resources INFO [0m Created transaction ddf3bb41-af77-4724-a6ad-ccbb74694a1a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:57.304 gohan.server.resources INFO [0m Commited transaction ddf3bb41-af77-4724-a6ad-ccbb74694a1a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:57.305 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] connected_port_owner:physical_port operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE description:]] (Request-Id: -)
[36m00:28:57.306 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:57.307 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:57.308 gohan.server.middleware INFO [0m Completed 200 OK in 48.623367ms (Request-Id: -)
00:28:58.338 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55018 (Request-Id: -) data: 
[36m00:28:58.338 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:28:58.339 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:58.363 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:58.364 gohan.server.resources INFO [0m Created transaction 6daec975-f665-42d4-a6e7-5d1b2ddb9867 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:58.374 gohan.server.resources INFO [0m Commited transaction 6daec975-f665-42d4-a6e7-5d1b2ddb9867 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:58.375 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_owner:physical_port existing:existing name:xe-0/0/1 operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] description: id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:28:58.376 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:58.376 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:58.377 gohan.server.middleware INFO [0m Completed 200 OK in 39.070526ms (Request-Id: -)
00:28:59.401 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55020 (Request-Id: -) data: 
[36m00:28:59.401 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:28:59.401 gohan.server.middleware DEBUG [0m Request body: 
[36m00:28:59.417 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:28:59.418 gohan.server.resources INFO [0m Created transaction 7e9445bc-b50f-4049-aea8-b8665bf21fba for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:28:59.422 gohan.server.resources INFO [0m Commited transaction 7e9445bc-b50f-4049-aea8-b8665bf21fba for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:28:59.423 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:xe-0/0/1 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_owner:physical_port description: existing:existing orchestration_state:CREATE_COMPLETE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[]]] (Request-Id: -)
[36m00:28:59.424 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:28:59.425 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:28:59.425 gohan.server.middleware INFO [0m Completed 200 OK in 24.562087ms (Request-Id: -)
00:29:00.007 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:29:00.018 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:29:00.078 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:29:00.078 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:29:00.082 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:29:00.084 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:29:00.085 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:29:00.099 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:29:00.447 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55026 (Request-Id: -) data: 
[36m00:29:00.447 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:00.448 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:00.466 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:00.467 gohan.server.resources INFO [0m Created transaction ebe4bdb4-6e30-4f1c-8f7b-8dd4fe1d574f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:00.471 gohan.server.resources INFO [0m Commited transaction ebe4bdb4-6e30-4f1c-8f7b-8dd4fe1d574f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:00.472 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[existing:existing status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port description: orchestration_state:CREATE_COMPLETE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 tags:map[] ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:00.473 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:00.474 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:00.474 gohan.server.middleware INFO [0m Completed 200 OK in 27.418228ms (Request-Id: -)
00:29:01.496 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55028 (Request-Id: -) data: 
[36m00:29:01.497 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:01.497 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:01.527 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:01.528 gohan.server.resources INFO [0m Created transaction e08bcd17-10f3-470e-bdd7-44ec6c818815 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:01.533 gohan.server.resources INFO [0m Commited transaction e08bcd17-10f3-470e-bdd7-44ec6c818815 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:01.534 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] existing:existing orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:01.534 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:01.535 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:01.536 gohan.server.middleware INFO [0m Completed 200 OK in 39.405656ms (Request-Id: -)
00:29:02.557 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55044 (Request-Id: -) data: 
[36m00:29:02.557 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:02.557 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:02.574 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:02.574 gohan.server.resources INFO [0m Created transaction 1c0b8c24-4a97-4029-a226-34f0e2c6542a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:02.579 gohan.server.resources INFO [0m Commited transaction 1c0b8c24-4a97-4029-a226-34f0e2c6542a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:02.580 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE description: existing:existing]] (Request-Id: -)
[36m00:29:02.581 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:02.581 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:02.582 gohan.server.middleware INFO [0m Completed 200 OK in 25.363085ms (Request-Id: -)
00:29:03.602 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55046 (Request-Id: -) data: 
[36m00:29:03.603 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:03.603 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:03.620 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:03.621 gohan.server.resources INFO [0m Created transaction cddf4fa3-18ca-42e9-a4ff-60e51e12bd17 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:03.626 gohan.server.resources INFO [0m Commited transaction cddf4fa3-18ca-42e9-a4ff-60e51e12bd17 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:03.627 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port name:xe-0/0/1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:03.627 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:03.628 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:03.628 gohan.server.middleware INFO [0m Completed 200 OK in 26.143444ms (Request-Id: -)
00:29:04.650 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55048 (Request-Id: -) data: 
[36m00:29:04.651 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:04.652 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:04.683 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:04.684 gohan.server.resources INFO [0m Created transaction ab89b47f-b681-4492-8091-48e0e45d2f02 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:04.689 gohan.server.resources INFO [0m Commited transaction ab89b47f-b681-4492-8091-48e0e45d2f02 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:04.690 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] description: existing:existing operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port name:xe-0/0/1 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:29:04.690 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:04.691 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:04.692 gohan.server.middleware INFO [0m Completed 200 OK in 41.470441ms (Request-Id: -)
00:29:05.712 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55050 (Request-Id: -) data: 
[36m00:29:05.713 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:05.713 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:05.732 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:05.733 gohan.server.resources INFO [0m Created transaction 5a9f835b-b14d-44ec-9e85-5ca269938285 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:05.737 gohan.server.resources INFO [0m Commited transaction 5a9f835b-b14d-44ec-9e85-5ca269938285 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:05.738 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 description: existing:existing status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:29:05.739 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:05.740 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:05.740 gohan.server.middleware INFO [0m Completed 200 OK in 28.110551ms (Request-Id: -)
00:29:06.762 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55052 (Request-Id: -) data: 
[36m00:29:06.763 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:06.763 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:06.787 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:06.788 gohan.server.resources INFO [0m Created transaction c0ff18c5-68fe-49f8-8dfe-54c8ff8d8a62 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:06.794 gohan.server.resources INFO [0m Commited transaction c0ff18c5-68fe-49f8-8dfe-54c8ff8d8a62 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:06.795 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[orchestration_state:CREATE_COMPLETE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 connected_port_owner:physical_port status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 tags:map[] description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:06.796 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:06.797 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:06.797 gohan.server.middleware INFO [0m Completed 200 OK in 34.753037ms (Request-Id: -)
00:29:07.821 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55056 (Request-Id: -) data: 
[36m00:29:07.822 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:07.822 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:07.897 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:07.898 gohan.server.resources INFO [0m Created transaction e17bce28-2890-4d23-9110-d4e71a911f21 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:07.903 gohan.server.resources INFO [0m Commited transaction e17bce28-2890-4d23-9110-d4e71a911f21 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:07.904 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] description: existing:existing connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 operational_state:NO_STATE]] (Request-Id: -)
[36m00:29:07.905 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:07.906 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:07.907 gohan.server.middleware INFO [0m Completed 200 OK in 85.500074ms (Request-Id: -)
00:29:08.946 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55058 (Request-Id: -) data: 
[36m00:29:08.947 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:08.947 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:08.966 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:08.966 gohan.server.resources INFO [0m Created transaction ea655653-96f1-460d-8a7e-e580df6c21bc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:08.971 gohan.server.resources INFO [0m Commited transaction ea655653-96f1-460d-8a7e-e580df6c21bc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:08.971 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE operational_state:NO_STATE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 description: tags:map[] connected_port_owner:physical_port tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 orchestration_state:CREATE_COMPLETE existing:existing]] (Request-Id: -)
[36m00:29:08.972 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:08.973 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:08.973 gohan.server.middleware INFO [0m Completed 200 OK in 27.22646ms (Request-Id: -)
00:29:09.994 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55060 (Request-Id: -) data: 
[36m00:29:09.994 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:09.994 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:10.013 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:10.014 gohan.server.resources INFO [0m Created transaction b23875d6-bcbc-4d30-919d-35d8c196def4 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:10.018 gohan.server.resources INFO [0m Commited transaction b23875d6-bcbc-4d30-919d-35d8c196def4 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:10.019 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE connected_port_owner:physical_port description: existing:existing status:PENDING_CREATE]] (Request-Id: -)
[36m00:29:10.020 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:10.021 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:10.022 gohan.server.middleware INFO [0m Completed 200 OK in 27.68865ms (Request-Id: -)
00:29:11.043 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55062 (Request-Id: -) data: 
[36m00:29:11.044 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:11.044 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:11.068 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:11.069 gohan.server.resources INFO [0m Created transaction 233e74d0-ab52-41a7-9007-dcf988dd043e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:11.076 gohan.server.resources INFO [0m Commited transaction 233e74d0-ab52-41a7-9007-dcf988dd043e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:11.077 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 id:0915a040-2f84-44fc-9083-1e2f719ae2eb tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 operational_state:NO_STATE description: existing:existing name:xe-0/0/1 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE]] (Request-Id: -)
[36m00:29:11.078 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:11.079 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:11.079 gohan.server.middleware INFO [0m Completed 200 OK in 36.170521ms (Request-Id: -)
00:29:12.100 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55066 (Request-Id: -) data: 
[36m00:29:12.100 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:12.100 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:12.125 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:12.125 gohan.server.resources INFO [0m Created transaction ec67e62d-1989-4810-a0ab-1c063d167f5e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:12.131 gohan.server.resources INFO [0m Commited transaction ec67e62d-1989-4810-a0ab-1c063d167f5e for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:12.132 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] connected_port_owner:physical_port existing:existing id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:29:12.132 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:12.133 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:12.134 gohan.server.middleware INFO [0m Completed 200 OK in 33.674005ms (Request-Id: -)
00:29:13.155 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55068 (Request-Id: -) data: 
[36m00:29:13.155 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:13.156 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:13.191 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:13.192 gohan.server.resources INFO [0m Created transaction 8711816e-d6ed-49cc-8a1a-34818aa607bb for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:13.201 gohan.server.resources INFO [0m Commited transaction 8711816e-d6ed-49cc-8a1a-34818aa607bb for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:13.203 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 tags:map[] connected_port_owner:physical_port description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:29:13.204 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:13.205 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:13.207 gohan.server.middleware INFO [0m Completed 200 OK in 51.9273ms (Request-Id: -)
00:29:14.229 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55070 (Request-Id: -) data: 
[36m00:29:14.230 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:14.231 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:14.268 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:14.269 gohan.server.resources INFO [0m Created transaction 83912348-8ad4-4165-a3c7-cbf82025906c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:14.275 gohan.server.resources INFO [0m Commited transaction 83912348-8ad4-4165-a3c7-cbf82025906c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:14.276 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 orchestration_state:CREATE_COMPLETE existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 connected_port_owner:physical_port id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 status:PENDING_CREATE operational_state:NO_STATE tags:map[]]] (Request-Id: -)
[36m00:29:14.276 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:14.277 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:14.278 gohan.server.middleware INFO [0m Completed 200 OK in 48.780248ms (Request-Id: -)
00:29:15.299 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55072 (Request-Id: -) data: 
[36m00:29:15.299 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:15.300 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:15.319 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:15.319 gohan.server.resources INFO [0m Created transaction b89da5b4-12d9-46af-96b6-b37cadaf4378 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:15.325 gohan.server.resources INFO [0m Commited transaction b89da5b4-12d9-46af-96b6-b37cadaf4378 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:15.326 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] connected_port_owner:physical_port description: connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 existing:existing id:0915a040-2f84-44fc-9083-1e2f719ae2eb status:PENDING_CREATE]] (Request-Id: -)
[36m00:29:15.327 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:15.328 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:15.329 gohan.server.middleware INFO [0m Completed 200 OK in 29.715951ms (Request-Id: -)
00:29:16.355 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55074 (Request-Id: -) data: 
[36m00:29:16.356 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:16.356 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:16.378 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:16.379 gohan.server.resources INFO [0m Created transaction 4ef76265-49ae-4ade-b88e-b9d112ae0355 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:16.390 gohan.server.resources INFO [0m Commited transaction 4ef76265-49ae-4ade-b88e-b9d112ae0355 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:16.391 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[operational_state:NO_STATE name:xe-0/0/1 tags:map[] description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port existing:existing]] (Request-Id: -)
[36m00:29:16.391 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:16.392 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:16.393 gohan.server.middleware INFO [0m Completed 200 OK in 37.38885ms (Request-Id: -)
00:29:17.413 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55080 (Request-Id: -) data: 
[36m00:29:17.413 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:17.414 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:17.435 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:17.436 gohan.server.resources INFO [0m Created transaction efb82259-364c-4248-9130-77421fa083df for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:17.441 gohan.server.resources INFO [0m Commited transaction efb82259-364c-4248-9130-77421fa083df for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:17.442 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:xe-0/0/1 tags:map[] orchestration_state:CREATE_COMPLETE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port existing:existing]] (Request-Id: -)
[36m00:29:17.443 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:17.444 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:17.444 gohan.server.middleware INFO [0m Completed 200 OK in 31.60139ms (Request-Id: -)
00:29:18.465 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55084 (Request-Id: -) data: 
[36m00:29:18.466 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:18.466 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:18.500 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:18.501 gohan.server.resources INFO [0m Created transaction 8071bb97-20ee-4808-b75d-73648862cc87 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:18.507 gohan.server.resources INFO [0m Commited transaction 8071bb97-20ee-4808-b75d-73648862cc87 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:18.509 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 tags:map[] connected_port_owner:physical_port status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: existing:existing]] (Request-Id: -)
[36m00:29:18.510 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:18.511 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:18.513 gohan.server.middleware INFO [0m Completed 200 OK in 47.587913ms (Request-Id: -)
00:29:19.533 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55086 (Request-Id: -) data: 
[36m00:29:19.534 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:19.534 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:19.552 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:19.552 gohan.server.resources INFO [0m Created transaction 8e14ddba-9b2f-4fe4-a9f3-e7265374ff7c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:19.558 gohan.server.resources INFO [0m Commited transaction 8e14ddba-9b2f-4fe4-a9f3-e7265374ff7c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:19.559 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[description: existing:existing name:xe-0/0/1 status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] connected_port_owner:physical_port connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:19.560 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:19.560 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:19.561 gohan.server.middleware INFO [0m Completed 200 OK in 27.685211ms (Request-Id: -)
00:29:20.581 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55088 (Request-Id: -) data: 
[36m00:29:20.582 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:20.582 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:20.601 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:20.601 gohan.server.resources INFO [0m Created transaction c5b734fe-5fe3-41cd-9252-f2f283f97f89 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:20.606 gohan.server.resources INFO [0m Commited transaction c5b734fe-5fe3-41cd-9252-f2f283f97f89 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:20.607 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port description: existing:existing orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1]] (Request-Id: -)
[36m00:29:20.607 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:20.608 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:20.609 gohan.server.middleware INFO [0m Completed 200 OK in 27.338249ms (Request-Id: -)
00:29:21.629 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55090 (Request-Id: -) data: 
[36m00:29:21.630 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:21.631 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:21.664 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:21.665 gohan.server.resources INFO [0m Created transaction 8354ff3f-c4fa-4628-873c-b48523379771 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:21.672 gohan.server.resources INFO [0m Commited transaction 8354ff3f-c4fa-4628-873c-b48523379771 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:21.674 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE description: existing:existing id:0915a040-2f84-44fc-9083-1e2f719ae2eb operational_state:NO_STATE]] (Request-Id: -)
[36m00:29:21.675 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:21.677 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:21.678 gohan.server.middleware INFO [0m Completed 200 OK in 48.78682ms (Request-Id: -)
00:29:22.699 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55104 (Request-Id: -) data: 
[36m00:29:22.700 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:22.700 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:22.720 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:22.721 gohan.server.resources INFO [0m Created transaction ffd90259-be30-432f-9963-6c4320f38c7c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:22.727 gohan.server.resources INFO [0m Commited transaction ffd90259-be30-432f-9963-6c4320f38c7c for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:22.729 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[orchestration_state:CREATE_COMPLETE description: existing:existing status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] id:0915a040-2f84-44fc-9083-1e2f719ae2eb connected_port_owner:physical_port]] (Request-Id: -)
[36m00:29:22.730 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:22.731 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:22.732 gohan.server.middleware INFO [0m Completed 200 OK in 32.749862ms (Request-Id: -)
00:29:23.753 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55106 (Request-Id: -) data: 
[36m00:29:23.753 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:23.754 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:23.773 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:23.774 gohan.server.resources INFO [0m Created transaction 877edd03-19a6-4584-98e2-fc655e49b6fa for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:23.781 gohan.server.resources INFO [0m Commited transaction 877edd03-19a6-4584-98e2-fc655e49b6fa for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:23.782 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 description: connected_port_owner:physical_port existing:existing status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[]]] (Request-Id: -)
[36m00:29:23.784 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:23.786 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:23.788 gohan.server.middleware INFO [0m Completed 200 OK in 34.948617ms (Request-Id: -)
00:29:24.812 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55108 (Request-Id: -) data: 
[36m00:29:24.813 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:24.813 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:24.846 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:24.846 gohan.server.resources INFO [0m Created transaction 9de609ff-26a2-45f7-9b5b-707b9a51bedc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:24.854 gohan.server.resources INFO [0m Commited transaction 9de609ff-26a2-45f7-9b5b-707b9a51bedc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:24.855 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] status:PENDING_CREATE operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:29:24.856 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:24.857 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:24.859 gohan.server.middleware INFO [0m Completed 200 OK in 46.457737ms (Request-Id: -)
00:29:25.880 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55110 (Request-Id: -) data: 
[36m00:29:25.880 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:25.880 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:25.898 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:25.898 gohan.server.resources INFO [0m Created transaction 55c5685c-3934-43fb-9f03-464bcce3b97f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:25.905 gohan.server.resources INFO [0m Commited transaction 55c5685c-3934-43fb-9f03-464bcce3b97f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:25.907 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_owner:physical_port status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 tags:map[] description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:29:25.908 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:25.910 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:25.911 gohan.server.middleware INFO [0m Completed 200 OK in 30.95973ms (Request-Id: -)
00:29:26.932 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55112 (Request-Id: -) data: 
[36m00:29:26.932 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:26.933 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:26.950 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:26.951 gohan.server.resources INFO [0m Created transaction f5b61d82-e97b-4600-b504-cf151013e74f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:26.955 gohan.server.resources INFO [0m Commited transaction f5b61d82-e97b-4600-b504-cf151013e74f for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:26.956 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] connected_port_owner:physical_port description: orchestration_state:CREATE_COMPLETE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 status:PENDING_CREATE operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:29:26.956 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:26.957 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:26.958 gohan.server.middleware INFO [0m Completed 200 OK in 26.008422ms (Request-Id: -)
00:29:27.980 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55114 (Request-Id: -) data: 
[36m00:29:27.980 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:27.980 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:27.997 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:27.998 gohan.server.resources INFO [0m Created transaction 09821ce7-215d-4637-b241-9ed091e4b00d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:28.002 gohan.server.resources INFO [0m Commited transaction 09821ce7-215d-4637-b241-9ed091e4b00d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:28.003 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] connected_port_owner:physical_port existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb description: name:xe-0/0/1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:29:28.004 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:28.004 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:28.005 gohan.server.middleware INFO [0m Completed 200 OK in 25.600494ms (Request-Id: -)
00:29:29.027 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55116 (Request-Id: -) data: 
[36m00:29:29.027 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:29.028 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:29.044 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:29.045 gohan.server.resources INFO [0m Created transaction c674e503-fe31-4b5b-aaac-8759582bbef6 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:29.049 gohan.server.resources INFO [0m Commited transaction c674e503-fe31-4b5b-aaac-8759582bbef6 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:29.050 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] connected_port_owner:physical_port description: id:0915a040-2f84-44fc-9083-1e2f719ae2eb status:PENDING_CREATE operational_state:NO_STATE existing:existing]] (Request-Id: -)
[36m00:29:29.051 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:29.051 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:29.052 gohan.server.middleware INFO [0m Completed 200 OK in 25.042348ms (Request-Id: -)
00:29:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:29:30.007 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:29:30.068 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:29:30.063 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:29:30.071 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
[36m00:29:30.072 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:29:30.073 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55118 (Request-Id: -) data: 
[36m00:29:30.073 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:30.073 gohan.server.middleware DEBUG [0m Request body: 
00:29:30.084 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:29:30.091 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:29:30.091 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:30.092 gohan.server.resources INFO [0m Created transaction eedc108e-010f-44b4-af39-46384a422516 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:30.099 gohan.server.resources INFO [0m Commited transaction eedc108e-010f-44b4-af39-46384a422516 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:30.100 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 orchestration_state:CREATE_COMPLETE operational_state:NO_STATE]] (Request-Id: -)
[36m00:29:30.102 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:30.103 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:30.105 gohan.server.middleware INFO [0m Completed 200 OK in 31.737145ms (Request-Id: -)
00:29:31.125 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55120 (Request-Id: -) data: 
[36m00:29:31.126 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:31.126 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:31.154 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:31.155 gohan.server.resources INFO [0m Created transaction bc290d87-9ace-4b9a-a8d2-eccb65470f5d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:31.162 gohan.server.resources INFO [0m Commited transaction bc290d87-9ace-4b9a-a8d2-eccb65470f5d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:31.164 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE operational_state:NO_STATE id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE description: ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 connected_port_owner:physical_port existing:existing]] (Request-Id: -)
[36m00:29:31.165 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:31.166 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:31.168 gohan.server.middleware INFO [0m Completed 200 OK in 42.682446ms (Request-Id: -)
00:29:32.205 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55124 (Request-Id: -) data: 
[36m00:29:32.205 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:32.206 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:32.230 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:32.231 gohan.server.resources INFO [0m Created transaction 1521b969-ee0c-4ea0-85c0-9614360d164d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:32.237 gohan.server.resources INFO [0m Commited transaction 1521b969-ee0c-4ea0-85c0-9614360d164d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:32.238 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:xe-0/0/1 connected_port_owner:physical_port description: existing:existing tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[]]] (Request-Id: -)
[36m00:29:32.238 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:32.239 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:32.240 gohan.server.middleware INFO [0m Completed 200 OK in 35.035602ms (Request-Id: -)
00:29:33.263 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55126 (Request-Id: -) data: 
[36m00:29:33.263 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:29:33.263 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:33.290 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:33.291 gohan.server.resources INFO [0m Created transaction dc7abb0e-9479-4710-b634-26d1787368c9 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:33.297 gohan.server.resources INFO [0m Commited transaction dc7abb0e-9479-4710-b634-26d1787368c9 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:33.298 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[name:xe-0/0/1 orchestration_state:CREATE_COMPLETE description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 operational_state:NO_STATE connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_owner:physical_port]] (Request-Id: -)
[36m00:29:33.299 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:33.300 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:33.302 gohan.server.middleware INFO [0m Completed 200 OK in 39.11532ms (Request-Id: -)
00:29:34.323 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55128 (Request-Id: -) data: 
[36m00:29:34.323 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:34.324 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:34.344 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:34.345 gohan.server.resources INFO [0m Created transaction 240428b5-4038-45f6-bab6-4cfc70f58e35 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:34.349 gohan.server.resources INFO [0m Commited transaction 240428b5-4038-45f6-bab6-4cfc70f58e35 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:34.349 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 connected_port_owner:physical_port description: name:xe-0/0/1 orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tags:map[] existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:29:34.351 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:34.351 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:34.352 gohan.server.middleware INFO [0m Completed 200 OK in 29.203372ms (Request-Id: -)
00:29:35.373 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55130 (Request-Id: -) data: 
[36m00:29:35.373 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:35.373 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:35.390 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:35.391 gohan.server.resources INFO [0m Created transaction 5f583d73-1f40-4889-aac0-baa33fc5b5fc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:35.395 gohan.server.resources INFO [0m Commited transaction 5f583d73-1f40-4889-aac0-baa33fc5b5fc for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:35.396 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[operational_state:NO_STATE orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tags:map[] connected_port_owner:physical_port tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83]] (Request-Id: -)
[36m00:29:35.396 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:35.397 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:35.398 gohan.server.middleware INFO [0m Completed 200 OK in 24.840755ms (Request-Id: -)
00:29:36.419 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55132 (Request-Id: -) data: 
[36m00:29:36.420 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:36.420 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:36.439 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:36.440 gohan.server.resources INFO [0m Created transaction a061ba7d-5c8e-43db-a671-7e6eca2fa338 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:36.444 gohan.server.resources INFO [0m Commited transaction a061ba7d-5c8e-43db-a671-7e6eca2fa338 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:36.445 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 orchestration_state:CREATE_COMPLETE ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 status:PENDING_CREATE operational_state:NO_STATE existing:existing connected_port_owner:physical_port]] (Request-Id: -)
[36m00:29:36.446 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:36.446 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:36.447 gohan.server.middleware INFO [0m Completed 200 OK in 27.830239ms (Request-Id: -)
00:29:37.468 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55140 (Request-Id: -) data: 
[36m00:29:37.468 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:37.468 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:37.486 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:37.487 gohan.server.resources INFO [0m Created transaction aa43d79b-a2fc-4b7d-841e-cb6394ae8a2d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:37.493 gohan.server.resources INFO [0m Commited transaction aa43d79b-a2fc-4b7d-841e-cb6394ae8a2d for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:37.494 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:PENDING_CREATE existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] connected_port_owner:physical_port operational_state:NO_STATE name:xe-0/0/1 id:0915a040-2f84-44fc-9083-1e2f719ae2eb orchestration_state:CREATE_COMPLETE description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:29:37.495 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[511] Content-Type:[application/json]]
[36m00:29:37.495 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:37.496 gohan.server.middleware INFO [0m Completed 200 OK in 28.327683ms (Request-Id: -)
00:29:38.518 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55144 (Request-Id: -) data: 
[36m00:29:38.518 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:38.518 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:38.536 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:38.537 gohan.server.resources INFO [0m Created transaction 7dad7b03-a29d-4403-ac8c-868585a217d7 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:38.541 gohan.server.resources INFO [0m Commited transaction 7dad7b03-a29d-4403-ac8c-868585a217d7 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:38.542 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 operational_state:NO_STATE existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 tags:map[] connected_port_owner:physical_port connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 description: orchestration_state:CREATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:29:38.543 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[511]]
[36m00:29:38.544 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:38.544 gohan.server.middleware INFO [0m Completed 200 OK in 26.764451ms (Request-Id: -)
[36m00:29:39.262 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb map[port:UP version:1]
00:29:39.262 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb map[port:UP version:1] started
00:29:39.270 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb with index 215
00:29:39.314 gohan.db.sql INFO [0m Executing SQL query in transaction '249945c5-581b-4d78-9bb1-582af0046570': 'UPDATE `ese_physical_ports` SET `status` = PENDING_CREATE, `operational_state` = NO_STATE, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `connected_port_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `name` = xe-0/0/1, `orchestration_state` = CREATE_COMPLETE, `connected_port_owner` = physical_port, `description` = , `existing` = existing, `ese_device_id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `tags` = {}, ese_device_id = 61a05e50-71f9-495d-b1cc-74382dfaec83, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"39ab4e06-ac66-4e84-81c5-93b888427955\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": \"5a79909b-2bf3-4e26-8a9c-0bf6bb175457\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/39ab4e06-ac66-4e84-81c5-93b888427955\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"xe-0/0/38\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"port":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 0915a040-2f84-44fc-9083-1e2f719ae2eb'
00:29:39.318 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"port": "UP"
} for ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb
00:29:39.319 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction INFO [0m <change_state>: Operational state changed from NO_STATE to UP.
[36m00:29:39.319 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction DEBUG [0m <ese_physical_port_state_machine>: calculating ese_physical_port (0915a040-2f84-44fc-9083-1e2f719ae2eb) status with orchestration_state CREATE_COMPLETE and operational_state UP
00:29:39.321 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction INFO [0m <update_resource_status>: ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb status changed from PENDING_CREATE to ACTIVE.
00:29:39.322 gohan.db.sql INFO [0m Executing SQL query in transaction '249945c5-581b-4d78-9bb1-582af0046570': 'UPDATE `ese_physical_ports` SET `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `connected_port_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `name` = xe-0/0/1, `orchestration_state` = CREATE_COMPLETE, `status` = ACTIVE, `operational_state` = UP, `existing` = existing, `ese_device_id` = 61a05e50-71f9-495d-b1cc-74382dfaec83, `tags` = {}, `connected_port_owner` = physical_port, `description` = , ese_device_id = 61a05e50-71f9-495d-b1cc-74382dfaec83 WHERE id = 0915a040-2f84-44fc-9083-1e2f719ae2eb'
00:29:39.325 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction INFO [0m <ese_physical_port_pre_update_in_transaction>: Chaining state transition to physical_port c13acfa3-6780-4f53-90da-492dfd697e69
00:29:39.327 gohan.extension.ese_physical_port.<0915a040-2f84-44fc-9083-1e2f719ae2eb>.post_monitoring_update_in_transaction INFO [0m <update_resource_status>: physical_port c13acfa3-6780-4f53-90da-492dfd697e69 status changed from DOWN to ACTIVE.
00:29:39.328 gohan.db.sql INFO [0m Executing SQL query in transaction '249945c5-581b-4d78-9bb1-582af0046570': 'UPDATE `physical_ports` SET `service_owner` = server, `service_id` = server, `name` = qfx-nw01-xe001, `segmentation_ranges` = [{"end":4093,"start":3}], `description` = , `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `id` = c13acfa3-6780-4f53-90da-492dfd697e69, `status` = ACTIVE, `plane` = data, `tags` = {} WHERE id = c13acfa3-6780-4f53-90da-492dfd697e69'
00:29:39.364 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb with index 215
00:29:39.365 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb completed
00:29:39.565 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55148 (Request-Id: -) data: 
[36m00:29:39.565 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:39.565 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:39.584 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:39.585 gohan.server.resources INFO [0m Created transaction dd0f7200-4002-41c4-a602-ea79fbdc3342 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:39.589 gohan.server.resources INFO [0m Commited transaction dd0f7200-4002-41c4-a602-ea79fbdc3342 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:39.590 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] connected_port_owner:physical_port description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1 orchestration_state:CREATE_COMPLETE status:ACTIVE operational_state:UP tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:29:39.591 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[497]]
[36m00:29:39.592 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:39.593 gohan.server.middleware INFO [0m Completed 200 OK in 27.740512ms (Request-Id: -)
00:29:39.939 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55152 (Request-Id: -) data: 
[36m00:29:39.940 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m00:29:39.940 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:40.021 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:40.022 gohan.server.resources INFO [0m Created transaction 64af33b1-120f-4fff-8cc7-e897b8b01d14 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:40.026 gohan.server.resources INFO [0m Commited transaction 64af33b1-120f-4fff-8cc7-e897b8b01d14 for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:40.027 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[tags:map[] id:0915a040-2f84-44fc-9083-1e2f719ae2eb status:ACTIVE operational_state:UP connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 orchestration_state:CREATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_owner:physical_port description: existing:existing ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 name:xe-0/0/1]] (Request-Id: -)
[36m00:29:40.028 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[497] Content-Type:[application/json]]
[36m00:29:40.028 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:40.029 gohan.server.middleware INFO [0m Completed 200 OK in 90.038567ms (Request-Id: -)
00:29:40.031 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/0915a040-2f84-44fc-9083-1e2f719ae2eb for client 172.20.0.23:55156 (Request-Id: -) data: {}
[36m00:29:40.032 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m00:29:40.032 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:29:40.050 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb started (Request-Id: -)
00:29:40.050 gohan.server.resources INFO [0m Created transaction 01ea1391-440a-426c-beb2-d5052bf5042a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
00:29:40.055 gohan.server.resources INFO [0m Commited transaction 01ea1391-440a-426c-beb2-d5052bf5042a for fetching ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb (Request-Id: -)
[36m00:29:40.056 gohan.server.resources DEBUG [0m Show ese_physical_port 0915a040-2f84-44fc-9083-1e2f719ae2eb completed: map[ese_physical_port:map[status:ACTIVE tags:map[] description: existing:existing operational_state:UP tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_port_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:0915a040-2f84-44fc-9083-1e2f719ae2eb name:xe-0/0/1 connected_port_owner:physical_port ese_device_id:61a05e50-71f9-495d-b1cc-74382dfaec83 orchestration_state:CREATE_COMPLETE]] (Request-Id: -)
[36m00:29:40.056 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[497]]
[36m00:29:40.057 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "connected_port_owner": "physical_port",
    "description": "",
    "ese_device_id": "61a05e50-71f9-495d-b1cc-74382dfaec83",
    "existing": "existing",
    "id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "name": "xe-0/0/1",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:40.058 gohan.server.middleware INFO [0m Completed 200 OK in 26.538257ms (Request-Id: -)
00:29:47.230 gohan.server.middleware INFO [0m Started POST /v2.0/networks for client 172.20.0.23:55196 (Request-Id: -) data: 
        {
            "network": {
                "admin_state_up": true,
                "description": "sample network",
                "name": "sample-network",
                "plane": "data",
                "tags": {},
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
[36m00:29:47.231 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[315] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:47.232 gohan.server.middleware DEBUG [0m Request body: 
        {
            "network": {
                "admin_state_up": true,
                "description": "sample network",
                "name": "sample-network",
                "plane": "data",
                "tags": {},
                "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
00:29:47.249 gohan.server.resources INFO [0m Create network with data map[admin_state_up:true description:sample network name:sample-network plane:data tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59] started (Request-Id: -)
[36m00:29:47.249 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:29:47.252 gohan.server.resources INFO [0m Created transaction a45d31eb-6a6f-481f-98f3-27ac66c72297 for creating network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
00:29:47.260 gohan.db.sql INFO [0m Executing SQL query in transaction 'a45d31eb-6a6f-481f-98f3-27ac66c72297': 'SELECT COUNT(*) AS size FROM networks WHERE `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59'
00:29:47.263 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:29:47.263 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.pre_create_in_transaction DEBUG [0m <default_state_machine>: calculating network (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1) status with orchestration_state CREATE_IN_PROGRESS
00:29:47.265 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.pre_create_in_transaction INFO [0m <update_resource_status>: network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status changed from NO_STATE to PENDING_CREATE.
00:29:47.265 gohan.db.sql INFO [0m Executing SQL query in transaction 'a45d31eb-6a6f-481f-98f3-27ac66c72297': 'INSERT INTO `networks` (`tags`,`tenant_id`,`status`,`subnets`,`admin_state_up`,`description`,`id`,`plane`,`name`,`shared`,`orchestration_state`,`schema_version`) VALUES ({},4b4cb858859842a389d0b0c8eb567d59,PENDING_CREATE,[],true,sample network,b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,data,sample-network,false,CREATE_IN_PROGRESS,1)'
00:29:47.267 gohan.db.sql INFO [0m Executing SQL query in transaction 'a45d31eb-6a6f-481f-98f3-27ac66c72297': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,1548980987,create,false,"{\"admin_state_up\":true,\"description\":\"sample network\",\"id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"name\":\"sample-network\",\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"plane\":\"data\",\"shared\":false,\"status\":\"PENDING_CREATE\",\"subnets\":[],\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}")'
00:29:47.269 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_create_in_transaction INFO [0m <create_billing_resource>: Creating a billing resource: {
	"config_version": 1,
	"ended": null,
	"id": "e78ad093-6f50-49db-99a6-8c2a5dd46d01",
	"info": {},
	"parent_billing_id": null,
	"resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_type": "network",
	"started": null,
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
	"unique_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1"
}.
00:29:47.270 gohan.db.sql INFO [0m Executing SQL query in transaction 'a45d31eb-6a6f-481f-98f3-27ac66c72297': 'INSERT INTO `billing_resources` (`config_version`,`unique_resource_id`,`tenant_id`,`resource_id`,`parent_billing_id`,`ended`,`id`,`started`,`resource_type`,`info`) VALUES (1,b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,4b4cb858859842a389d0b0c8eb567d59,b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,<nil>,<nil>,e78ad093-6f50-49db-99a6-8c2a5dd46d01,<nil>,network,{})'
[36m00:29:47.271 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
00:29:47.282 gohan.server.resources INFO [0m Commited transaction a45d31eb-6a6f-481f-98f3-27ac66c72297 for creating network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
00:29:47.283 gohan.server.resources INFO [0m Create network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[name:sample-network tags:map[] shared:false subnets:[] orchestration_state:CREATE_IN_PROGRESS status:PENDING_CREATE admin_state_up:true description:sample network plane:data tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] (Request-Id: -)
[36m00:29:47.284 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m00:29:47.285 gohan.server.sync DEBUG [0m Processing event 57 - create
00:29:47.285 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1
[36m00:29:47.285 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:47.286 gohan.server.middleware INFO [0m Completed 201 Created in 55.802061ms (Request-Id: -)
[36m00:29:47.296 gohan.server.sync DEBUG [0m Deleting event 57
00:29:47.297 gohan.db.sql INFO [0m Executing SQL query in transaction '0bbe1626-f111-4371-a5db-6c9b3128a143': 'DELETE FROM `events` WHERE id = 57'
[36m00:29:47.298 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:29:47.310 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55202 (Request-Id: -) data: 
[36m00:29:47.311 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:47.311 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:47.329 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:47.329 gohan.server.resources INFO [0m Created transaction 7a310aa5-1b65-4534-9241-41620ea0460c for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:47.356 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:47.364 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:47.365 gohan.server.resources INFO [0m Commited transaction 7a310aa5-1b65-4534-9241-41620ea0460c for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:47.365 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-network description:sample network plane:data id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 subnets:[] admin_state_up:true status:PENDING_CREATE shared:false orchestration_state:CREATE_IN_PROGRESS]] (Request-Id: -)
[36m00:29:47.366 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m00:29:47.367 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:47.375 gohan.server.middleware INFO [0m Completed 200 OK in 64.47008ms (Request-Id: -)
00:29:48.400 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55210 (Request-Id: -) data: 
[36m00:29:48.400 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:29:48.400 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:48.418 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:48.418 gohan.server.resources INFO [0m Created transaction 567858d4-8892-44fa-bbcb-fcaac8a1a76d for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:48.437 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:48.440 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:48.441 gohan.server.resources INFO [0m Commited transaction 567858d4-8892-44fa-bbcb-fcaac8a1a76d for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:48.441 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_IN_PROGRESS description:sample network plane:data name:sample-network subnets:[] status:PENDING_CREATE shared:false id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 admin_state_up:true]] (Request-Id: -)
[36m00:29:48.442 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m00:29:48.442 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:48.443 gohan.server.middleware INFO [0m Completed 200 OK in 43.047883ms (Request-Id: -)
00:29:49.464 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55212 (Request-Id: -) data: 
[36m00:29:49.464 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:49.464 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:49.481 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:49.482 gohan.server.resources INFO [0m Created transaction 495d089c-b9fd-4c8d-b52e-57317b9f439d for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:49.553 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:49.557 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:49.557 gohan.server.resources INFO [0m Commited transaction 495d089c-b9fd-4c8d-b52e-57317b9f439d for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:49.558 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-network orchestration_state:CREATE_IN_PROGRESS id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 plane:data shared:false tags:map[] status:PENDING_CREATE subnets:[] admin_state_up:true description:sample network]] (Request-Id: -)
[36m00:29:49.559 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[377] Content-Type:[application/json]]
[36m00:29:49.559 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:49.560 gohan.server.middleware INFO [0m Completed 200 OK in 96.307047ms (Request-Id: -)
00:29:50.581 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55222 (Request-Id: -) data: 
[36m00:29:50.581 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:50.581 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:50.599 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:50.600 gohan.server.resources INFO [0m Created transaction e938258c-fba0-4e13-ac7b-ff395d14d1c7 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:50.621 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:50.624 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:50.625 gohan.server.resources INFO [0m Commited transaction e938258c-fba0-4e13-ac7b-ff395d14d1c7 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:50.625 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[plane:data name:sample-network shared:false tags:map[] status:PENDING_CREATE description:sample network orchestration_state:CREATE_IN_PROGRESS tenant_id:4b4cb858859842a389d0b0c8eb567d59 subnets:[] admin_state_up:true id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] (Request-Id: -)
[36m00:29:50.626 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m00:29:50.626 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:50.627 gohan.server.middleware INFO [0m Completed 200 OK in 46.41837ms (Request-Id: -)
[36m00:29:50.701 gohan.server DEBUG [0m State event update received: set /state/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 map[version:1 error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": [], "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:usertenant:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The name of the virtual network.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE]]
00:29:50.704 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 map[version:1 error: state:map[heat_outputs:[{"output_value": [], "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:usertenant:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The name of the virtual network.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED]] started
00:29:50.718 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 with index 235
00:29:50.756 gohan.db.sql INFO [0m Executing SQL query in transaction '104e42fa-2134-4e46-8524-9118d3285fb8': 'UPDATE `networks` SET `status` = PENDING_CREATE, `subnets` = [], `admin_state_up` = true, `tags` = {}, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `plane` = data, `name` = sample-network, `shared` = false, `orchestration_state` = CREATE_IN_PROGRESS, `description` = sample network, `id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [], \"description\": \"The name of the virtual network.\", \"output_key\": \"route_targets\"}, {\"output_value\": \"default-domain:usertenant:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\", \"description\": \"The FQ name of the virtual network.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\", \"description\": \"A unique id for the virtual network.\", \"output_key\": \"id\"}, {\"output_value\": \"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\", \"description\": \"The name of the virtual network.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1'
00:29:50.759 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:29:50.760 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update_in_transaction DEBUG [0m <default_state_machine>: calculating network (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1) status with orchestration_state CREATE_COMPLETE
00:29:50.761 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update_in_transaction INFO [0m <update_resource_status>: network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status changed from PENDING_CREATE to ACTIVE.
00:29:50.762 gohan.db.sql INFO [0m Executing SQL query in transaction '104e42fa-2134-4e46-8524-9118d3285fb8': 'UPDATE `networks` SET `subnets` = [], `admin_state_up` = true, `tags` = {}, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `status` = ACTIVE, `shared` = false, `orchestration_state` = CREATE_COMPLETE, `description` = sample network, `id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `plane` = data, `name` = sample-network WHERE id = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1'
00:29:50.768 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update_in_transaction INFO [0m <start_billing_resource>: Starting billing resource: {
	"config_version": 1,
	"id": "e78ad093-6f50-49db-99a6-8c2a5dd46d01",
	"info": {},
	"resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_type": "network",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
	"unique_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1"
} at 1548980990.
00:29:50.769 gohan.db.sql INFO [0m Executing SQL query in transaction '104e42fa-2134-4e46-8524-9118d3285fb8': 'UPDATE `billing_resources` SET `started` = 1.54898099e+09, `resource_type` = network, `info` = {}, `ended` = <nil>, `id` = e78ad093-6f50-49db-99a6-8c2a5dd46d01, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `resource_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `parent_billing_id` = <nil>, `config_version` = 1, `unique_resource_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 WHERE id = e78ad093-6f50-49db-99a6-8c2a5dd46d01'
[36m00:29:50.771 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
00:29:50.776 gohan.db.sql INFO [0m Executing SQL query in transaction '104e42fa-2134-4e46-8524-9118d3285fb8': 'INSERT INTO `monitoring_historys` (`created`,`tenant_id`,`id`,`resource_id`,`resource_type`,`namespace`,`notify`) VALUES (1.54898099e+09,4b4cb858859842a389d0b0c8eb567d59,bb51be9f-7da8-4fd8-a400-1f222d8a884d,b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,network,logical-network,false)'
[36m00:29:50.777 gohan.server.sync DEBUG [0m Skipping event logging for schema: monitoring_history
00:29:50.796 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 with index 235
00:29:50.798 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update INFO [0m <notifyApiCreate>: Calling monitoring API for network with data: {
	"namespace": "logical-network",
	"resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_name": "sample-network",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:29:50.799 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:29:50.799 gohan.extension.otto DEBUG [0m post data map[namespace:logical-network resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-network]
[36m00:29:50.799 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network","resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_name":"sample-network","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:29:50.804 gohan.extension.otto INFO [0m response code 200
00:29:50.805 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update INFO [0m <notifyApiCreate>: Received from monitoring API for network: {
	"body": "Ok",
	"headers": {
		"Content-Length": [
			"2"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:29:50 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "200"
}.
00:29:50.805 gohan.extension.network.<b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1>.post_state_update INFO [0m <notifyApiCreate>: Received 200 from monitoring API for: network. Done.
[33m00:29:50.806 gohan.server.sync WARNING [0m error during state update (try #1): post_state_update: ValidationException(Invalid response from mon sdp.)
00:29:51.650 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55226 (Request-Id: -) data: 
[36m00:29:51.651 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:29:51.651 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:51.670 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:51.671 gohan.server.resources INFO [0m Created transaction fa29357c-e31b-4415-bc68-ce70632bfaa7 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:51.692 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:51.695 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:51.696 gohan.server.resources INFO [0m Commited transaction fa29357c-e31b-4415-bc68-ce70632bfaa7 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:51.696 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[plane:data name:sample-network subnets:[] orchestration_state:CREATE_COMPLETE description:sample network id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:ACTIVE shared:false admin_state_up:true tags:map[]]] (Request-Id: -)
[36m00:29:51.697 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[366]]
[36m00:29:51.697 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_COMPLETE",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:51.698 gohan.server.middleware INFO [0m Completed 200 OK in 47.617142ms (Request-Id: -)
00:29:51.795 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:29:51.793471Z&backscan=2019-02-01T00:24:51.793516Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35302 (Request-Id: -) data: 
[36m00:29:51.796 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:51.796 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:51.872 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:29:51.873 gohan.server.resources INFO [0m Created transaction e7c558ae-4847-4273-b2ba-67b4fb6a2d37 for fetching monitoring networks (Request-Id: -)
00:29:51.874 gohan.db.sql INFO [0m Executing SQL query in transaction 'e7c558ae-4847-4273-b2ba-67b4fb6a2d37': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548980991 AND (history.deleted IS NULL OR history.deleted >= 1548980691)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:29:51.876 gohan.db.sql INFO [0m Executing SQL query in transaction 'e7c558ae-4847-4273-b2ba-67b4fb6a2d37': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:29:51.878 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:29:51.879 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:24:51.793516Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:29:51.793471Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:29:51Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:29:51.879 gohan.server.middleware INFO [0m Completed 200 OK in 83.963299ms (Request-Id: -)
00:29:52.044 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55234 (Request-Id: -) data: 
[36m00:29:52.044 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m00:29:52.045 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:52.117 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:52.118 gohan.server.resources INFO [0m Created transaction 22c60a78-4d4a-4669-8f5a-858906961213 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:52.139 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:52.142 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:52.143 gohan.server.resources INFO [0m Commited transaction 22c60a78-4d4a-4669-8f5a-858906961213 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:52.145 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[orchestration_state:CREATE_COMPLETE description:sample network plane:data tags:map[] status:ACTIVE shared:false id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 name:sample-network subnets:[] admin_state_up:true tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:29:52.145 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[366]]
[36m00:29:52.146 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_COMPLETE",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:52.146 gohan.server.middleware INFO [0m Completed 200 OK in 102.134673ms (Request-Id: -)
00:29:52.148 gohan.server.middleware INFO [0m Started GET /v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 for client 172.20.0.23:55238 (Request-Id: -) data: {}
[36m00:29:52.149 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m00:29:52.149 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:29:52.170 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 started (Request-Id: -)
00:29:52.171 gohan.server.resources INFO [0m Created transaction 63e106c9-5f3e-45fb-8834-93daadad4b61 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:52.192 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:29:52.196 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:29:52.196 gohan.server.resources INFO [0m Commited transaction 63e106c9-5f3e-45fb-8834-93daadad4b61 for fetching network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 (Request-Id: -)
[36m00:29:52.197 gohan.server.resources DEBUG [0m Show network b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 completed: map[network:map[subnets:[] admin_state_up:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:ACTIVE tags:map[] plane:data name:sample-network shared:false orchestration_state:CREATE_COMPLETE description:sample network]] (Request-Id: -)
[36m00:29:52.198 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[366]]
[36m00:29:52.198 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "sample network",
    "id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "name": "sample-network",
    "orchestration_state": "CREATE_COMPLETE",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:29:52.199 gohan.server.middleware INFO [0m Completed 200 OK in 50.295933ms (Request-Id: -)
00:29:52.560 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.20.0.23:55242 (Request-Id: -) data: {}
[36m00:29:52.561 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m00:29:52.561 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:29:52.631 gohan.server.resources DEBUG [0m List billing_resource query: map[] started (Request-Id: -)
00:29:52.632 gohan.server.resources INFO [0m Created transaction 29a84987-23ed-47c6-a355-2673eb338829 for listing billing_resource (Request-Id: -)
00:29:52.635 gohan.server.resources INFO [0m Commited transaction 29a84987-23ed-47c6-a355-2673eb338829 for listing billing_resource (Request-Id: -)
[36m00:29:52.635 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed (Request-Id: -)
[36m00:29:52.635 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[441]]
[36m00:29:52.636 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "e78ad093-6f50-49db-99a6-8c2a5dd46d01",
      "info": {},
      "parent_billing_id": null,
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "resource_type": "network",
      "started": 1548980990,
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
      "unique_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1"
    }
  ]
}
00:29:52.637 gohan.server.middleware INFO [0m Completed 200 OK in 76.135517ms (Request-Id: -)
00:29:56.883 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:29:56.881444Z&backscan=2019-02-01T00:24:56.881464Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35338 (Request-Id: -) data: 
[36m00:29:56.883 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:29:56.884 gohan.server.middleware DEBUG [0m Request body: 
[36m00:29:56.903 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:29:56.904 gohan.server.resources INFO [0m Created transaction c9fe1b84-f15a-418f-a148-c35815479842 for fetching monitoring networks (Request-Id: -)
00:29:56.905 gohan.db.sql INFO [0m Executing SQL query in transaction 'c9fe1b84-f15a-418f-a148-c35815479842': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548980996 AND (history.deleted IS NULL OR history.deleted >= 1548980696)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:29:56.907 gohan.db.sql INFO [0m Executing SQL query in transaction 'c9fe1b84-f15a-418f-a148-c35815479842': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:29:56.909 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:29:56.910 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:24:56.881464Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:29:56.881444Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:29:56Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:29:56.910 gohan.server.middleware INFO [0m Completed 200 OK in 27.457345ms (Request-Id: -)
00:29:59.977 gohan.server.middleware INFO [0m Started POST /v2.0/subnets for client 172.20.0.23:55268 (Request-Id: -) data: 
            {
                "subnet": {
                    "description": "sample subnet",
                    "name": "sample-subnet",
                    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
                    "tags": {},
                    "ip_version": 4,
                    "cidr": "192.168.200.0/24",
                    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1"
                }
            }
[36m00:29:59.977 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[430] Content-Type:[application/json]]
[36m00:29:59.978 gohan.server.middleware DEBUG [0m Request body: 
            {
                "subnet": {
                    "description": "sample subnet",
                    "name": "sample-subnet",
                    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
                    "tags": {},
                    "ip_version": 4,
                    "cidr": "192.168.200.0/24",
                    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1"
                }
            }
00:29:59.997 gohan.server.resources INFO [0m Create subnet with data map[name:sample-subnet tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] ip_version:4 cidr:192.168.200.0/24 network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description:sample subnet] started (Request-Id: -)
[36m00:29:59.998 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:30:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:30:00.015 gohan.server.resources INFO [0m Created transaction 3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f for creating subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:00.027 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:30:00.027 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m00:30:00.067 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:30:00.088 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:30:00.090 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:30:00.092 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
00:30:00.097 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m00:30:00.102 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:30:00.106 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:30:00.108 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:30:00.123 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:30:00.127 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
[36m00:30:00.127 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
00:30:00.135 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'SELECT COUNT(*) AS size FROM subnets WHERE `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59'
00:30:00.147 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:30:00.148 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.pre_create_in_transaction DEBUG [0m <default_state_machine>: calculating subnet (215cb166-b0c5-4fbb-ad5f-948cb93119fe) status with orchestration_state CREATE_IN_PROGRESS
00:30:00.149 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.pre_create_in_transaction INFO [0m <update_resource_status>: subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe status changed from NO_STATE to PENDING_CREATE.
00:30:00.151 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'INSERT INTO `subnets` (`network_id`,`description`,`gateway_ip`,`id`,`dhcp_server_address`,`cidr`,`name`,`tenant_id`,`allocation_pools`,`dns_nameservers`,`enable_dhcp`,`orchestration_state`,`status`,`ntp_servers`,`ip_version`,`tags`,`host_routes`,`schema_version`) VALUES (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,sample subnet,192.168.200.1,215cb166-b0c5-4fbb-ad5f-948cb93119fe,192.168.200.2,192.168.200.0/24,sample-subnet,4b4cb858859842a389d0b0c8eb567d59,[{"end":"192.168.200.254","start":"192.168.200.2"}],["0.0.0.0"],true,CREATE_IN_PROGRESS,PENDING_CREATE,[],4,{},[],1)'
00:30:00.154 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548981000,create,false,"{\"allocation_pools\":[{\"end\":\"192.168.200.254\",\"start\":\"192.168.200.2\"}],\"cidr\":\"192.168.200.0/24\",\"description\":\"sample subnet\",\"dhcp_server_address\":\"192.168.200.2\",\"dns_nameservers\":[\"0.0.0.0\"],\"enable_dhcp\":true,\"gateway_ip\":\"192.168.200.1\",\"host_routes\":[],\"id\":\"215cb166-b0c5-4fbb-ad5f-948cb93119fe\",\"ip_version\":4,\"name\":\"sample-subnet\",\"network_id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"ntp_servers\":[],\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}",1,/v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe)'
00:30:00.164 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'SELECT COUNT(*) AS size FROM ports WHERE `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59'
00:30:00.166 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'INSERT INTO `ports` (`fixed_ips`,`mac_address`,`tags`,`fake_delete`,`security_groups`,`orchestration_state`,`managed_by_service`,`admin_state_up`,`allowed_address_pairs`,`network_id`,`status`,`device_owner`,`description`,`binding:vif_type`,`attached`,`tenant_id`,`device_id`,`name`,`id`,`schema_version`) VALUES ([{"ip_address":"192.168.200.2","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}],00:00:5e:00:01:00,{},false,[],NO_STATE,false,true,[],b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,ACTIVE,network:dhcp,DHCP Server Port,vrouter,false,4b4cb858859842a389d0b0c8eb567d59,215cb166-b0c5-4fbb-ad5f-948cb93119fe,dhcp-server-port,e50e0cef-49cc-4231-8331-d1119e2dea5a,1)'
00:30:00.169 gohan.db.sql INFO [0m Executing SQL query in transaction '3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548981000,create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"DHCP Server Port\",\"device_id\":\"215cb166-b0c5-4fbb-ad5f-948cb93119fe\",\"device_owner\":\"network:dhcp\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"192.168.200.2\",\"subnet_id\":\"215cb166-b0c5-4fbb-ad5f-948cb93119fe\"}],\"host_routes\":[],\"id\":\"e50e0cef-49cc-4231-8331-d1119e2dea5a\",\"mac_address\":\"00:00:5e:00:01:00\",\"managed_by_service\":false,\"name\":\"dhcp-server-port\",\"network_id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"orchestration_state\":\"NO_STATE\",\"security_groups\":[],\"status\":\"ACTIVE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}",1,/v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a)'
00:30:00.186 gohan.server.resources INFO [0m Commited transaction 3db92c61-a60f-4cd3-a3e1-e6f3a5989a1f for creating subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:00.188 gohan.server.resources INFO [0m Create subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[enable_dhcp:true dhcp_server_address:192.168.200.2 name:sample-subnet network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 gateway_ip:192.168.200.1 id:215cb166-b0c5-4fbb-ad5f-948cb93119fe tenant_id:4b4cb858859842a389d0b0c8eb567d59 allocation_pools:[map[start:192.168.200.2 end:192.168.200.254]] host_routes:[] ntp_servers:[] ip_version:4 status:PENDING_CREATE orchestration_state:CREATE_IN_PROGRESS description:sample subnet tags:map[] cidr:192.168.200.0/24 dns_nameservers:[0.0.0.0]]] (Request-Id: -)
[36m00:30:00.189 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[710]]
[36m00:30:00.193 gohan.server.sync DEBUG [0m Processing event 58 - create
00:30:00.193 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe
[36m00:30:00.195 gohan.server.sync DEBUG [0m Deleting event 58
00:30:00.197 gohan.db.sql INFO [0m Executing SQL query in transaction '7679d473-c486-46a3-a11e-54a7a90c915d': 'DELETE FROM `events` WHERE id = 58'
[36m00:30:00.199 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:30:00.191 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:00.200 gohan.server.middleware INFO [0m Completed 201 Created in 224.00213ms (Request-Id: -)
[36m00:30:00.215 gohan.server.sync DEBUG [0m Processing event 59 - create
00:30:00.215 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a
00:30:00.226 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55280 (Request-Id: -) data: 
[36m00:30:00.226 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:00.226 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:00.228 gohan.server.sync DEBUG [0m Deleting event 59
00:30:00.232 gohan.db.sql INFO [0m Executing SQL query in transaction '6e1859a0-bf1f-4ba6-a0d4-7ccd68aa7899': 'DELETE FROM `events` WHERE id = 59'
[36m00:30:00.233 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:30:00.246 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a map[error: state:map[worker_state:READ_COMPLETE] version:1]
00:30:00.248 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a map[error: state:map[worker_state:READ_COMPLETE] version:1] started
[36m00:30:00.254 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:00.255 gohan.server.resources INFO [0m Created transaction 39415f36-e327-4305-9aa8-9e0e7d67e716 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:00.261 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a with index 260
00:30:00.264 gohan.server.resources INFO [0m Commited transaction 39415f36-e327-4305-9aa8-9e0e7d67e716 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:00.266 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[id:215cb166-b0c5-4fbb-ad5f-948cb93119fe dhcp_server_address:192.168.200.2 enable_dhcp:true orchestration_state:CREATE_IN_PROGRESS ip_version:4 ipv6_ra_mode:<nil> dns_nameservers:[0.0.0.0] host_routes:[] description:sample subnet gateway_ip:192.168.200.1 cidr:192.168.200.0/24 name:sample-subnet allocation_pools:[map[start:192.168.200.2 end:192.168.200.254]] ntp_servers:[] tags:map[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ipv6_address_mode:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE]] (Request-Id: -)
[36m00:30:00.269 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[767]]
[36m00:30:00.271 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:00.273 gohan.server.middleware INFO [0m Completed 200 OK in 47.01596ms (Request-Id: -)
00:30:00.306 gohan.db.sql INFO [0m Executing SQL query in transaction 'a738c649-ce22-4d3c-ba01-413348030b29': 'UPDATE `ports` SET `device_id` = 215cb166-b0c5-4fbb-ad5f-948cb93119fe, `name` = dhcp-server-port, `id` = e50e0cef-49cc-4231-8331-d1119e2dea5a, `fixed_ips` = [{"ip_address":"192.168.200.2","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = <nil>, `mac_address` = 00:00:5e:00:01:00, `allowed_address_pairs` = [], `segmentation_type` = <nil>, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = NO_STATE, `managed_by_service` = false, `admin_state_up` = true, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = network:dhcp, `ese_logical_port_id` = <nil>, `description` = DHCP Server Port, `operational_state` = , `binding:vif_type` = vrouter, `attached` = false, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = e50e0cef-49cc-4231-8331-d1119e2dea5a'
[36m00:30:00.310 gohan.extension.port.<e50e0cef-49cc-4231-8331-d1119e2dea5a>.post_state_update_in_transaction DEBUG [0m <_fetch_orchestration_state>: Non workable resource port e50e0cef-49cc-4231-8331-d1119e2dea5a
00:30:00.310 gohan.extension.port.<e50e0cef-49cc-4231-8331-d1119e2dea5a>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to SYNC_COMPLETE.
00:30:00.312 gohan.db.sql INFO [0m Executing SQL query in transaction 'a738c649-ce22-4d3c-ba01-413348030b29': 'UPDATE `ports` SET `id` = e50e0cef-49cc-4231-8331-d1119e2dea5a, `device_id` = 215cb166-b0c5-4fbb-ad5f-948cb93119fe, `name` = dhcp-server-port, `mac_address` = 00:00:5e:00:01:00, `fixed_ips` = [{"ip_address":"192.168.200.2","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = <nil>, `orchestration_state` = SYNC_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = <nil>, `tags` = {}, `fake_delete` = false, `security_groups` = [], `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `operational_state` = , `binding:vif_type` = vrouter, `attached` = false, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = network:dhcp, `ese_logical_port_id` = <nil>, `description` = DHCP Server Port WHERE id = e50e0cef-49cc-4231-8331-d1119e2dea5a'
00:30:00.363 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a with index 260
00:30:00.806 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/networks/b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 map[error: state:map[heat_outputs:[{"output_value": [], "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:usertenant:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "The name of the virtual network.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:30:01.294 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55286 (Request-Id: -) data: 
[36m00:30:01.295 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:01.295 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:01.312 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:01.313 gohan.server.resources INFO [0m Created transaction 69dde6a6-4f4d-412d-acec-d36736997b6c for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:01.317 gohan.server.resources INFO [0m Commited transaction 69dde6a6-4f4d-412d-acec-d36736997b6c for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:01.318 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[ip_version:4 gateway_ip:192.168.200.1 dhcp_server_address:192.168.200.2 ipv6_ra_mode:<nil> dns_nameservers:[0.0.0.0] orchestration_state:CREATE_IN_PROGRESS description:sample subnet name:sample-subnet enable_dhcp:true host_routes:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ipv6_address_mode:<nil> cidr:192.168.200.0/24 tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE ntp_servers:[] allocation_pools:[map[end:192.168.200.254 start:192.168.200.2]] id:215cb166-b0c5-4fbb-ad5f-948cb93119fe tags:map[]]] (Request-Id: -)
[36m00:30:01.318 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[767] Content-Type:[application/json]]
[36m00:30:01.319 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:01.320 gohan.server.middleware INFO [0m Completed 200 OK in 26.344292ms (Request-Id: -)
00:30:01.914 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:01.912255Z&backscan=2019-02-01T00:25:01.912273Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35364 (Request-Id: -) data: 
[36m00:30:01.914 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:01.915 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:01.933 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:01.933 gohan.server.resources INFO [0m Created transaction 6f3a7e4b-274a-4c29-9952-1f24fb39fcfe for fetching monitoring networks (Request-Id: -)
00:30:01.935 gohan.db.sql INFO [0m Executing SQL query in transaction '6f3a7e4b-274a-4c29-9952-1f24fb39fcfe': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981001 AND (history.deleted IS NULL OR history.deleted >= 1548980701)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:01.937 gohan.db.sql INFO [0m Executing SQL query in transaction '6f3a7e4b-274a-4c29-9952-1f24fb39fcfe': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:01.939 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:01.940 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:01.912273Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:01.912255Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:01Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:01.940 gohan.server.middleware INFO [0m Completed 200 OK in 27.067329ms (Request-Id: -)
00:30:02.344 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55292 (Request-Id: -) data: 
[36m00:30:02.344 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:02.345 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:02.362 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:02.363 gohan.server.resources INFO [0m Created transaction 8f7320a3-78ff-464e-a7a8-a816b672d0a6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:02.367 gohan.server.resources INFO [0m Commited transaction 8f7320a3-78ff-464e-a7a8-a816b672d0a6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:02.368 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[ntp_servers:[] name:sample-subnet tenant_id:4b4cb858859842a389d0b0c8eb567d59 host_routes:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ipv6_ra_mode:<nil> description:sample subnet dhcp_server_address:192.168.200.2 id:215cb166-b0c5-4fbb-ad5f-948cb93119fe orchestration_state:CREATE_IN_PROGRESS ip_version:4 tags:map[] ipv6_address_mode:<nil> dns_nameservers:[0.0.0.0] enable_dhcp:true status:PENDING_CREATE gateway_ip:192.168.200.1 cidr:192.168.200.0/24 allocation_pools:[map[end:192.168.200.254 start:192.168.200.2]]]] (Request-Id: -)
[36m00:30:02.369 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[767]]
[36m00:30:02.370 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:02.371 gohan.server.middleware INFO [0m Completed 200 OK in 26.470049ms (Request-Id: -)
00:30:03.392 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55298 (Request-Id: -) data: 
[36m00:30:03.392 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:03.392 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:03.416 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:03.418 gohan.server.resources INFO [0m Created transaction fe76b5e2-427a-4429-8e81-891e3a86530b for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:03.427 gohan.server.resources INFO [0m Commited transaction fe76b5e2-427a-4429-8e81-891e3a86530b for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:03.428 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[status:PENDING_CREATE ntp_servers:[] ipv6_address_mode:<nil> description:sample subnet ipv6_ra_mode:<nil> dns_nameservers:[0.0.0.0] cidr:192.168.200.0/24 orchestration_state:CREATE_IN_PROGRESS network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 gateway_ip:192.168.200.1 name:sample-subnet dhcp_server_address:192.168.200.2 ip_version:4 allocation_pools:[map[end:192.168.200.254 start:192.168.200.2]] id:215cb166-b0c5-4fbb-ad5f-948cb93119fe tags:map[] host_routes:[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 enable_dhcp:true]] (Request-Id: -)
[36m00:30:03.431 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[767] Content-Type:[application/json]]
[36m00:30:03.432 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_IN_PROGRESS",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:03.433 gohan.server.middleware INFO [0m Completed 200 OK in 41.506215ms (Request-Id: -)
[36m00:30:03.751 gohan.server DEBUG [0m State event update received: set /state/v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe map[error: state:map[heat_outputs:[{"output_value": "192.168.200.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "215cb166-b0c5-4fbb-ad5f-948cb93119fe", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "192.168.200.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "622495a6-b651-4033-9d30-c634e4b08851", "description": "A unique id for the local subnet.", "output_key": "id"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1]
00:30:03.752 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe map[error: state:map[heat_outputs:[{"output_value": "192.168.200.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "215cb166-b0c5-4fbb-ad5f-948cb93119fe", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "192.168.200.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "622495a6-b651-4033-9d30-c634e4b08851", "description": "A unique id for the local subnet.", "output_key": "id"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:30:03.759 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe with index 276
00:30:03.786 gohan.db.sql INFO [0m Executing SQL query in transaction '77b263ae-a872-48ef-b7d7-11dd2c4e9287': 'UPDATE `subnets` SET `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `ipv6_address_mode` = <nil>, `description` = sample subnet, `gateway_ip` = 192.168.200.1, `id` = 215cb166-b0c5-4fbb-ad5f-948cb93119fe, `dhcp_server_address` = 192.168.200.2, `cidr` = 192.168.200.0/24, `name` = sample-subnet, `ipv6_ra_mode` = <nil>, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `allocation_pools` = [{"end":"192.168.200.254","start":"192.168.200.2"}], `dns_nameservers` = ["0.0.0.0"], `enable_dhcp` = true, `orchestration_state` = CREATE_IN_PROGRESS, `status` = PENDING_CREATE, `ntp_servers` = [], `ip_version` = 4, `tags` = {}, `host_routes` = [], `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"192.168.200.0/24\", \"description\": \"IP prefix of local subnet.\", \"output_key\": \"ip_prefix\"}, {\"output_value\": \"215cb166-b0c5-4fbb-ad5f-948cb93119fe\", \"description\": \"The name of the local subnet.\", \"output_key\": \"name\"}, {\"output_value\": \"192.168.200.1\", \"description\": \"Default gateway of local subnet.\", \"output_key\": \"default_gateway\"}, {\"output_value\": \"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\", \"description\": \"A unique id for the network.\", \"output_key\": \"network_id\"}, {\"output_value\": \"5a79909b-2bf3-4e26-8a9c-0bf6bb175457\", \"description\": \"IPAM this local subnet uses.\", \"output_key\": \"ipam\"}, {\"output_value\": \"622495a6-b651-4033-9d30-c634e4b08851\", \"description\": \"A unique id for the local subnet.\", \"output_key\": \"id\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 215cb166-b0c5-4fbb-ad5f-948cb93119fe'
00:30:03.789 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:30:03.790 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.post_state_update_in_transaction DEBUG [0m <default_state_machine>: calculating subnet (215cb166-b0c5-4fbb-ad5f-948cb93119fe) status with orchestration_state CREATE_COMPLETE
00:30:03.792 gohan.extension.subnet.<215cb166-b0c5-4fbb-ad5f-948cb93119fe>.post_state_update_in_transaction INFO [0m <update_resource_status>: subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe status changed from PENDING_CREATE to ACTIVE.
00:30:03.793 gohan.db.sql INFO [0m Executing SQL query in transaction '77b263ae-a872-48ef-b7d7-11dd2c4e9287': 'UPDATE `subnets` SET `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `ipv6_address_mode` = <nil>, `description` = sample subnet, `gateway_ip` = 192.168.200.1, `name` = sample-subnet, `ipv6_ra_mode` = <nil>, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `allocation_pools` = [{"end":"192.168.200.254","start":"192.168.200.2"}], `dns_nameservers` = ["0.0.0.0"], `id` = 215cb166-b0c5-4fbb-ad5f-948cb93119fe, `dhcp_server_address` = 192.168.200.2, `cidr` = 192.168.200.0/24, `enable_dhcp` = true, `orchestration_state` = CREATE_COMPLETE, `status` = ACTIVE, `ntp_servers` = [], `ip_version` = 4, `tags` = {}, `host_routes` = [] WHERE id = 215cb166-b0c5-4fbb-ad5f-948cb93119fe'
00:30:03.821 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe with index 276
00:30:04.457 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55308 (Request-Id: -) data: 
[36m00:30:04.458 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:04.458 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:04.475 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:04.476 gohan.server.resources INFO [0m Created transaction 0591a94b-5ad7-4302-800e-5e899de702f6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:04.480 gohan.server.resources INFO [0m Commited transaction 0591a94b-5ad7-4302-800e-5e899de702f6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:04.481 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[orchestration_state:CREATE_COMPLETE status:ACTIVE ntp_servers:[] ip_version:4 tags:map[] description:sample subnet id:215cb166-b0c5-4fbb-ad5f-948cb93119fe name:sample-subnet ipv6_ra_mode:<nil> allocation_pools:[map[end:192.168.200.254 start:192.168.200.2]] host_routes:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 gateway_ip:192.168.200.1 dhcp_server_address:192.168.200.2 tenant_id:4b4cb858859842a389d0b0c8eb567d59 dns_nameservers:[0.0.0.0] enable_dhcp:true ipv6_address_mode:<nil> cidr:192.168.200.0/24]] (Request-Id: -)
[36m00:30:04.482 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[756]]
[36m00:30:04.483 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:04.484 gohan.server.middleware INFO [0m Completed 200 OK in 27.161904ms (Request-Id: -)
00:30:04.855 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55312 (Request-Id: -) data: 
[36m00:30:04.855 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m00:30:04.855 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:04.928 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:04.929 gohan.server.resources INFO [0m Created transaction 76b65422-e64b-407f-a209-b555bf1b287d for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:04.933 gohan.server.resources INFO [0m Commited transaction 76b65422-e64b-407f-a209-b555bf1b287d for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:04.934 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[enable_dhcp:true status:ACTIVE description:sample subnet ntp_servers:[] tags:map[] id:215cb166-b0c5-4fbb-ad5f-948cb93119fe name:sample-subnet allocation_pools:[map[start:192.168.200.2 end:192.168.200.254]] orchestration_state:CREATE_COMPLETE ip_version:4 host_routes:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 gateway_ip:192.168.200.1 ipv6_ra_mode:<nil> dns_nameservers:[0.0.0.0] ipv6_address_mode:<nil> dhcp_server_address:192.168.200.2 cidr:192.168.200.0/24 tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:30:04.935 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[756]]
[36m00:30:04.936 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:04.936 gohan.server.middleware INFO [0m Completed 200 OK in 82.007679ms (Request-Id: -)
00:30:04.939 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/215cb166-b0c5-4fbb-ad5f-948cb93119fe for client 172.20.0.23:55316 (Request-Id: -) data: {}
[36m00:30:04.939 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m00:30:04.939 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:30:04.956 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe started (Request-Id: -)
00:30:04.956 gohan.server.resources INFO [0m Created transaction fa0e1134-95b3-4a81-83f4-9ee7fe5111b6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
00:30:04.960 gohan.server.resources INFO [0m Commited transaction fa0e1134-95b3-4a81-83f4-9ee7fe5111b6 for fetching subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe (Request-Id: -)
[36m00:30:04.961 gohan.server.resources DEBUG [0m Show subnet 215cb166-b0c5-4fbb-ad5f-948cb93119fe completed: map[subnet:map[ipv6_address_mode:<nil> dns_nameservers:[0.0.0.0] dhcp_server_address:192.168.200.2 status:ACTIVE host_routes:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description:sample subnet name:sample-subnet orchestration_state:CREATE_COMPLETE ip_version:4 tags:map[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 cidr:192.168.200.0/24 ntp_servers:[] gateway_ip:192.168.200.1 ipv6_ra_mode:<nil> allocation_pools:[map[end:192.168.200.254 start:192.168.200.2]] id:215cb166-b0c5-4fbb-ad5f-948cb93119fe enable_dhcp:true]] (Request-Id: -)
[36m00:30:04.962 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[756]]
[36m00:30:04.963 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "192.168.200.254",
        "start": "192.168.200.2"
      }
    ],
    "cidr": "192.168.200.0/24",
    "description": "sample subnet",
    "dhcp_server_address": "192.168.200.2",
    "dns_nameservers": [
      "0.0.0.0"
    ],
    "enable_dhcp": true,
    "gateway_ip": "192.168.200.1",
    "host_routes": [],
    "id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "ntp_servers": [],
    "orchestration_state": "CREATE_COMPLETE",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:04.964 gohan.server.middleware INFO [0m Completed 200 OK in 25.380614ms (Request-Id: -)
00:30:05.304 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.20.0.23:55320 (Request-Id: -) data: {}
[36m00:30:05.304 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m00:30:05.304 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:30:05.377 gohan.server.resources DEBUG [0m List port query: map[] started (Request-Id: -)
00:30:05.378 gohan.server.resources INFO [0m Created transaction 91e8c5ad-eddb-41eb-923f-540a052dad4f for listing port (Request-Id: -)
00:30:05.381 gohan.server.resources INFO [0m Commited transaction 91e8c5ad-eddb-41eb-923f-540a052dad4f for listing port (Request-Id: -)
[36m00:30:05.382 gohan.server.resources DEBUG [0m List port query: map[] completed (Request-Id: -)
[36m00:30:05.382 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[1] Content-Length:[1004] Content-Type:[application/json]]
[36m00:30:05.383 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.2",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "e50e0cef-49cc-4231-8331-d1119e2dea5a",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "",
      "orchestration_state": "SYNC_COMPLETE",
      "security_groups": [],
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    }
  ]
}
00:30:05.384 gohan.server.middleware INFO [0m Completed 200 OK in 80.757924ms (Request-Id: -)
00:30:05.730 gohan.server.middleware INFO [0m Started GET /v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a for client 172.20.0.23:55326 (Request-Id: -) data: 
[36m00:30:05.730 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m00:30:05.730 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:05.805 gohan.server.resources DEBUG [0m Show port e50e0cef-49cc-4231-8331-d1119e2dea5a started (Request-Id: -)
00:30:05.806 gohan.server.resources INFO [0m Created transaction 8bc5dd31-9ab6-4f3f-8564-5699092bf537 for fetching port e50e0cef-49cc-4231-8331-d1119e2dea5a (Request-Id: -)
00:30:05.810 gohan.server.resources INFO [0m Commited transaction 8bc5dd31-9ab6-4f3f-8564-5699092bf537 for fetching port e50e0cef-49cc-4231-8331-d1119e2dea5a (Request-Id: -)
[36m00:30:05.811 gohan.server.resources DEBUG [0m Show port e50e0cef-49cc-4231-8331-d1119e2dea5a completed: map[port:map[attached:false ese_logical_port_id:<nil> description:DHCP Server Port binding:vif_type:vrouter admin_state_up:true orchestration_state:SYNC_COMPLETE network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:ACTIVE mac_address:00:00:5e:00:01:00 segmentation_type:<nil> tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe id:e50e0cef-49cc-4231-8331-d1119e2dea5a tags:map[] device_owner:network:dhcp operational_state: name:dhcp-server-port fixed_ips:[map[ip_address:192.168.200.2 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:<nil> allowed_address_pairs:[] fake_delete:false security_groups:[] managed_by_service:false]] (Request-Id: -)
[36m00:30:05.812 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[935]]
[36m00:30:05.814 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.2",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "e50e0cef-49cc-4231-8331-d1119e2dea5a",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "",
    "orchestration_state": "SYNC_COMPLETE",
    "security_groups": [],
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:05.815 gohan.server.middleware INFO [0m Completed 200 OK in 85.054524ms (Request-Id: -)
00:30:05.816 gohan.server.middleware INFO [0m Started GET /v2.0/ports/e50e0cef-49cc-4231-8331-d1119e2dea5a for client 172.20.0.23:55330 (Request-Id: -) data: {}
[36m00:30:05.817 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m00:30:05.817 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:30:05.834 gohan.server.resources DEBUG [0m Show port e50e0cef-49cc-4231-8331-d1119e2dea5a started (Request-Id: -)
00:30:05.834 gohan.server.resources INFO [0m Created transaction 24fdbd34-3b5b-4334-9080-25d90b1ad55e for fetching port e50e0cef-49cc-4231-8331-d1119e2dea5a (Request-Id: -)
00:30:05.839 gohan.server.resources INFO [0m Commited transaction 24fdbd34-3b5b-4334-9080-25d90b1ad55e for fetching port e50e0cef-49cc-4231-8331-d1119e2dea5a (Request-Id: -)
[36m00:30:05.840 gohan.server.resources DEBUG [0m Show port e50e0cef-49cc-4231-8331-d1119e2dea5a completed: map[port:map[name:dhcp-server-port security_groups:[] orchestration_state:SYNC_COMPLETE managed_by_service:false device_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe attached:false device_owner:network:dhcp id:e50e0cef-49cc-4231-8331-d1119e2dea5a tags:map[] allowed_address_pairs:[] segmentation_type:<nil> network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:<nil> binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 fixed_ips:[map[ip_address:192.168.200.2 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false admin_state_up:true status:ACTIVE segmentation_id:<nil> mac_address:00:00:5e:00:01:00 description:DHCP Server Port operational_state:]] (Request-Id: -)
[36m00:30:05.841 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[935]]
[36m00:30:05.842 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.2",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "e50e0cef-49cc-4231-8331-d1119e2dea5a",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "",
    "orchestration_state": "SYNC_COMPLETE",
    "security_groups": [],
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:05.843 gohan.server.middleware INFO [0m Completed 200 OK in 26.835429ms (Request-Id: -)
00:30:06.943 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:06.942676Z&backscan=2019-02-01T00:25:06.942694Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35418 (Request-Id: -) data: 
[36m00:30:06.944 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:06.944 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:06.960 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:06.960 gohan.server.resources INFO [0m Created transaction 7c382e03-3670-49a9-85fe-e18afed3cb23 for fetching monitoring networks (Request-Id: -)
00:30:06.961 gohan.db.sql INFO [0m Executing SQL query in transaction '7c382e03-3670-49a9-85fe-e18afed3cb23': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981006 AND (history.deleted IS NULL OR history.deleted >= 1548980706)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:06.964 gohan.db.sql INFO [0m Executing SQL query in transaction '7c382e03-3670-49a9-85fe-e18afed3cb23': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:06.965 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:06.966 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:06.942694Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:06.942676Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:06Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:06.967 gohan.server.middleware INFO [0m Completed 200 OK in 23.567045ms (Request-Id: -)
00:30:11.971 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:11.969265Z&backscan=2019-02-01T00:25:11.969292Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35426 (Request-Id: -) data: 
[36m00:30:11.971 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:11.971 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:11.987 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:11.987 gohan.server.resources INFO [0m Created transaction 98fe32bc-633d-4461-af6d-94cb6d90be00 for fetching monitoring networks (Request-Id: -)
00:30:11.989 gohan.db.sql INFO [0m Executing SQL query in transaction '98fe32bc-633d-4461-af6d-94cb6d90be00': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981011 AND (history.deleted IS NULL OR history.deleted >= 1548980711)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:11.991 gohan.db.sql INFO [0m Executing SQL query in transaction '98fe32bc-633d-4461-af6d-94cb6d90be00': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:11.992 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:11.993 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:11.969292Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:11.969265Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:11Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:11.994 gohan.server.middleware INFO [0m Completed 200 OK in 22.838731ms (Request-Id: -)
00:30:13.098 gohan.server.middleware INFO [0m Started POST /v2.0/ports for client 172.20.0.23:55354 (Request-Id: -) data: 
        {
            "port": {
                "name": "sample-port",
                "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
                "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
                "device_owner": "physical_port",
                "segmentation_type": "vlan",
                "segmentation_id": 1003,
                "fixed_ips": [
                    {
                        "ip_address": "192.168.200.101",
                        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
                    }
                ],
            "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
[36m00:30:13.099 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[656] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:13.100 gohan.server.middleware DEBUG [0m Request body: 
        {
            "port": {
                "name": "sample-port",
                "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
                "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
                "device_owner": "physical_port",
                "segmentation_type": "vlan",
                "segmentation_id": 1003,
                "fixed_ips": [
                    {
                        "ip_address": "192.168.200.101",
                        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
                    }
                ],
            "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
            }
        }
00:30:13.119 gohan.server.resources INFO [0m Create port with data map[device_id:c13acfa3-6780-4f53-90da-492dfd697e69 device_owner:physical_port segmentation_type:vlan segmentation_id:1003 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1] started (Request-Id: -)
[36m00:30:13.119 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
00:30:13.123 gohan.server.resources INFO [0m Created transaction 57605da2-efbb-430b-98e2-92b7bca6fa51 for creating port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:13.147 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:30:13.165 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:30:13.168 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
[36m00:30:13.169 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
[36m00:30:13.187 gohan.server.resources DEBUG [0m List physical_port query: map[id:[c13acfa3-6780-4f53-90da-492dfd697e69]] started (Request-Id: -)
[36m00:30:13.189 gohan.server.resources DEBUG [0m List physical_port query: map[id:[c13acfa3-6780-4f53-90da-492dfd697e69]] completed (Request-Id: -)
[36m00:30:13.207 gohan.server.resources DEBUG [0m List subnet query: map[id:[215cb166-b0c5-4fbb-ad5f-948cb93119fe]] started (Request-Id: -)
[36m00:30:13.210 gohan.server.resources DEBUG [0m List subnet query: map[id:[215cb166-b0c5-4fbb-ad5f-948cb93119fe]] completed (Request-Id: -)
00:30:13.217 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'SELECT COUNT(*) AS size FROM ports WHERE `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59'
00:30:13.248 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:30:13.249 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.pre_create_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state CREATE_IN_PROGRESS, operational_state NO_STATE, and ese_logical_port_status undefined
00:30:13.250 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.pre_create_in_transaction INFO [0m <update_resource_status>: port 3a04e6ed-68fb-4534-8822-d5162d19f35a status changed from NO_STATE to PENDING_CREATE.
00:30:13.252 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'INSERT INTO `ports` (`description`,`operational_state`,`binding:vif_type`,`attached`,`tenant_id`,`device_owner`,`device_id`,`name`,`id`,`fixed_ips`,`segmentation_id`,`mac_address`,`fake_delete`,`security_groups`,`orchestration_state`,`managed_by_service`,`admin_state_up`,`allowed_address_pairs`,`segmentation_type`,`tags`,`network_id`,`status`,`schema_version`) VALUES (,NO_STATE,vrouter,false,4b4cb858859842a389d0b0c8eb567d59,physical_port,c13acfa3-6780-4f53-90da-492dfd697e69,sample-port,3a04e6ed-68fb-4534-8822-d5162d19f35a,[{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}],1003,fa:16:3e:e7:7c:0f,false,[],CREATE_IN_PROGRESS,false,true,[],vlan,{},b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,PENDING_CREATE,1)'
00:30:13.254 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1548981013,create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"c13acfa3-6780-4f53-90da-492dfd697e69\",\"device_owner\":\"physical_port\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"192.168.200.101\",\"subnet_id\":\"215cb166-b0c5-4fbb-ad5f-948cb93119fe\"}],\"id\":\"3a04e6ed-68fb-4534-8822-d5162d19f35a\",\"mac_address\":\"fa:16:3e:e7:7c:0f\",\"managed_by_service\":false,\"name\":\"sample-port\",\"network_id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"operational_state\":\"NO_STATE\",\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"security_groups\":[],\"segmentation_id\":1003,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}",1,/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a)'
[36m00:30:13.259 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_create_in_transaction DEBUG [0m <findEsePhysicalPort>: Found physical port with id: c13acfa3-6780-4f53-90da-492dfd697e69.
[36m00:30:13.262 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_create_in_transaction DEBUG [0m <findEsePhysicalPort>: Found ese physical port with id: 0915a040-2f84-44fc-9083-1e2f719ae2eb.
00:30:13.283 gohan.server.resources INFO [0m Create ese_logical_port with data map[description:ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 port_ids:[3a04e6ed-68fb-4534-8822-d5162d19f35a] tenant_id:4b4cb858859842a389d0b0c8eb567d59 type:L2 vlan_id:1003 name:xe-0/0/1.1003 ese_physical_port_id:0915a040-2f84-44fc-9083-1e2f719ae2eb tags:map[] connected_resource:port] started (Request-Id: -)
00:30:13.283 gohan.server.resources INFO [0m Create of resource ese_logical_port was chained by: <port:3a04e6ed-68fb-4534-8822-d5162d19f35a> (Request-Id: -).
[36m00:30:13.284 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m00:30:13.308 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:30:13.365 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] started (Request-Id: -)
[36m00:30:13.369 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
[36m00:30:13.369 gohan.server.resources DEBUG [0m List network query: map[id:[b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] completed (Request-Id: -)
[36m00:30:13.450 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[0915a040-2f84-44fc-9083-1e2f719ae2eb]] started (Request-Id: -)
[36m00:30:13.460 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[0915a040-2f84-44fc-9083-1e2f719ae2eb]] completed (Request-Id: -)
00:30:13.473 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.pre_create_in_transaction INFO [0m <change_state>: Orchestration state changed from NO_STATE to CREATE_IN_PROGRESS.
[36m00:30:13.474 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.pre_create_in_transaction DEBUG [0m <ese_logical_port_state_machine>: calculating ese_logical_port (74522211-c8db-41b6-8a35-4fac9656713c) status with orchestration_state CREATE_IN_PROGRESS and operational_state NO_STATE
00:30:13.475 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.pre_create_in_transaction INFO [0m <update_resource_status>: ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c status changed from NO_STATE to PENDING_CREATE.
00:30:13.476 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'INSERT INTO `ese_logical_ports` (`tags`,`network_id`,`port_ids`,`orchestration_state`,`ese_physical_port_id`,`name`,`connected_resource`,`id`,`status`,`operational_state`,`vlan_id`,`description`,`type`,`tenant_id`,`schema_version`) VALUES ({},b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1,["3a04e6ed-68fb-4534-8822-d5162d19f35a"],CREATE_IN_PROGRESS,0915a040-2f84-44fc-9083-1e2f719ae2eb,xe-0/0/1.1003,port,74522211-c8db-41b6-8a35-4fac9656713c,PENDING_CREATE,NO_STATE,1003,ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a,L2,4b4cb858859842a389d0b0c8eb567d59,1)'
00:30:13.479 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"connected_resource\":\"port\",\"description\":\"ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a\",\"ese_physical_port_id\":\"0915a040-2f84-44fc-9083-1e2f719ae2eb\",\"id\":\"74522211-c8db-41b6-8a35-4fac9656713c\",\"name\":\"xe-0/0/1.1003\",\"network_id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"operational_state\":\"NO_STATE\",\"orchestration_state\":\"CREATE_IN_PROGRESS\",\"port_ids\":[\"3a04e6ed-68fb-4534-8822-d5162d19f35a\"],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\",\"type\":\"L2\",\"vlan_id\":1003}",1,/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c,1548981013,create,false)'
00:30:13.483 gohan.server.resources INFO [0m Create ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c completed: map[ese_logical_port:map[id:74522211-c8db-41b6-8a35-4fac9656713c status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 connected_resource:port name:xe-0/0/1.1003 network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 port_ids:[3a04e6ed-68fb-4534-8822-d5162d19f35a] type:L2 vlan_id:1003 description:ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] operational_state:NO_STATE orchestration_state:CREATE_IN_PROGRESS ese_physical_port_id:0915a040-2f84-44fc-9083-1e2f719ae2eb]] (Request-Id: -)
[36m00:30:13.494 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_create_in_transaction DEBUG [0m <createLogicalPort>: Created logical port with id: 74522211-c8db-41b6-8a35-4fac9656713c.
00:30:13.496 gohan.db.sql INFO [0m Executing SQL query in transaction '57605da2-efbb-430b-98e2-92b7bca6fa51': 'UPDATE `ports` SET `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = CREATE_IN_PROGRESS, `managed_by_service` = false, `admin_state_up` = true, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `attached` = false, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:13.518 gohan.server.resources INFO [0m Commited transaction 57605da2-efbb-430b-98e2-92b7bca6fa51 for creating port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:13.520 gohan.server.resources INFO [0m Create port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port segmentation_type:vlan segmentation_id:1003 tags:map[] fake_delete:false security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port admin_state_up:true status:PENDING_CREATE binding:vif_type:vrouter mac_address:fa:16:3e:e7:7c:0f tenant_id:4b4cb858859842a389d0b0c8eb567d59 orchestration_state:CREATE_IN_PROGRESS allowed_address_pairs:[] description: ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] id:3a04e6ed-68fb-4534-8822-d5162d19f35a managed_by_service:false operational_state:NO_STATE attached:false]] (Request-Id: -)
[36m00:30:13.521 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[974]]
[36m00:30:13.522 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:13.524 gohan.server.middleware INFO [0m Completed 201 Created in 426.202567ms (Request-Id: -)
[36m00:30:13.526 gohan.server.sync DEBUG [0m Processing event 60 - create
00:30:13.527 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:30:13.528 gohan.server.sync DEBUG [0m Deleting event 60
00:30:13.540 gohan.db.sql INFO [0m Executing SQL query in transaction 'b630d065-7e1b-424d-b065-ce8ef68172a8': 'DELETE FROM `events` WHERE id = 60'
[36m00:30:13.541 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:30:13.554 gohan.server.sync DEBUG [0m Processing event 61 - create
00:30:13.555 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c
00:30:13.557 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55358 (Request-Id: -) data: 
[36m00:30:13.558 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:13.558 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:13.564 gohan.server.sync DEBUG [0m Deleting event 61
00:30:13.565 gohan.db.sql INFO [0m Executing SQL query in transaction 'dd61f823-a94e-4852-8756-e296372ed114': 'DELETE FROM `events` WHERE id = 61'
[36m00:30:13.566 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m00:30:13.583 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:13.584 gohan.server.resources INFO [0m Created transaction 8e789ab8-6abb-4cfc-8417-cb9ac48e734f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:13.588 gohan.server.resources INFO [0m Commited transaction 8e789ab8-6abb-4cfc-8417-cb9ac48e734f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:13.590 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[fake_delete:false allowed_address_pairs:[] attached:false name:sample-port fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] security_groups:[] orchestration_state:CREATE_IN_PROGRESS network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 tags:map[] managed_by_service:false admin_state_up:true status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f segmentation_type:vlan description: operational_state:NO_STATE binding:vif_type:vrouter]] (Request-Id: -)
[36m00:30:13.591 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[974] Content-Type:[application/json]]
[36m00:30:13.592 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:13.594 gohan.server.middleware INFO [0m Completed 200 OK in 36.246515ms (Request-Id: -)
00:30:14.615 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55364 (Request-Id: -) data: 
[36m00:30:14.615 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:14.615 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:14.636 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:14.636 gohan.server.resources INFO [0m Created transaction 79c9280f-48c6-4eb3-8cce-2225bacc7265 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:14.641 gohan.server.resources INFO [0m Commited transaction 79c9280f-48c6-4eb3-8cce-2225bacc7265 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:14.642 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] fake_delete:false admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f orchestration_state:CREATE_IN_PROGRESS allowed_address_pairs:[] status:PENDING_CREATE operational_state:NO_STATE binding:vif_type:vrouter name:sample-port security_groups:[] managed_by_service:false segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 description: attached:false device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:30:14.643 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[974]]
[36m00:30:14.645 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:14.646 gohan.server.middleware INFO [0m Completed 200 OK in 31.191108ms (Request-Id: -)
00:30:15.668 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55366 (Request-Id: -) data: 
[36m00:30:15.668 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:15.668 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:15.699 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:15.700 gohan.server.resources INFO [0m Created transaction 0da076b0-2946-4a10-8aed-d4d84f910923 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:15.707 gohan.server.resources INFO [0m Commited transaction 0da076b0-2946-4a10-8aed-d4d84f910923 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:15.709 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[status:PENDING_CREATE operational_state:NO_STATE binding:vif_type:vrouter segmentation_id:1003 allowed_address_pairs:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c mac_address:fa:16:3e:e7:7c:0f orchestration_state:CREATE_IN_PROGRESS fake_delete:false device_id:c13acfa3-6780-4f53-90da-492dfd697e69 device_owner:physical_port description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] security_groups:[] attached:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] managed_by_service:false admin_state_up:true]] (Request-Id: -)
[36m00:30:15.710 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[974]]
[36m00:30:15.711 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:15.712 gohan.server.middleware INFO [0m Completed 200 OK in 44.696473ms (Request-Id: -)
00:30:16.733 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55368 (Request-Id: -) data: 
[36m00:30:16.733 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:16.734 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:16.754 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:16.754 gohan.server.resources INFO [0m Created transaction 3962ac46-c9a8-4dbc-8136-68ec51282e7c for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:16.759 gohan.server.resources INFO [0m Commited transaction 3962ac46-c9a8-4dbc-8136-68ec51282e7c for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:16.761 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[description: name:sample-port fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port segmentation_id:1003 admin_state_up:true allowed_address_pairs:[] mac_address:fa:16:3e:e7:7c:0f segmentation_type:vlan tags:map[] operational_state:NO_STATE binding:vif_type:vrouter attached:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a security_groups:[] status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:CREATE_IN_PROGRESS managed_by_service:false]] (Request-Id: -)
[36m00:30:16.762 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[974]]
[36m00:30:16.763 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:16.764 gohan.server.middleware INFO [0m Completed 200 OK in 30.86204ms (Request-Id: -)
00:30:16.996 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:16.995670Z&backscan=2019-02-01T00:25:16.995690Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35444 (Request-Id: -) data: 
[36m00:30:16.997 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:16.997 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:17.018 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:17.019 gohan.server.resources INFO [0m Created transaction 003f9a15-e85e-4a4f-b3ac-028f318fb5bd for fetching monitoring networks (Request-Id: -)
00:30:17.020 gohan.db.sql INFO [0m Executing SQL query in transaction '003f9a15-e85e-4a4f-b3ac-028f318fb5bd': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981016 AND (history.deleted IS NULL OR history.deleted >= 1548980716)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:17.022 gohan.db.sql INFO [0m Executing SQL query in transaction '003f9a15-e85e-4a4f-b3ac-028f318fb5bd': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:17.024 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:17.025 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:16.995690Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:16.995670Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:17Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:17.025 gohan.server.middleware INFO [0m Completed 200 OK in 28.961046ms (Request-Id: -)
00:30:17.788 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55380 (Request-Id: -) data: 
[36m00:30:17.788 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:17.788 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:17.810 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:17.812 gohan.server.resources INFO [0m Created transaction b0074d17-6fa2-4595-8724-529878ca12a1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:17.817 gohan.server.resources INFO [0m Commited transaction b0074d17-6fa2-4595-8724-529878ca12a1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:17.819 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false managed_by_service:false description: operational_state:NO_STATE binding:vif_type:vrouter segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f security_groups:[] orchestration_state:CREATE_IN_PROGRESS admin_state_up:true device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 attached:false allowed_address_pairs:[] tags:map[]]] (Request-Id: -)
[36m00:30:17.820 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[974]]
[36m00:30:17.821 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:17.822 gohan.server.middleware INFO [0m Completed 200 OK in 34.590437ms (Request-Id: -)
[36m00:30:17.960 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:1 error: state:map[heat_outputs:[{"output_value": [["default-domain", "admin", "b62eefe0-0872-478d-adfe-1a606320f0e7"]], "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": {"allowed_address_pair": []}, "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": ["fa:16:3e:f7:60:7f"], "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED]]
00:30:17.961 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[error: state:map[heat_outputs:[{"output_value": [["default-domain", "admin", "b62eefe0-0872-478d-adfe-1a606320f0e7"]], "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": {"allowed_address_pair": []}, "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": ["fa:16:3e:f7:60:7f"], "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:30:17.967 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 308
00:30:17.998 gohan.db.sql INFO [0m Executing SQL query in transaction '0150757b-8314-431c-b708-efcbc0b6c872': 'UPDATE `ports` SET `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = CREATE_IN_PROGRESS, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `attached` = false, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:18.015 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:30:18.020 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_state_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state CREATE_COMPLETE, operational_state NO_STATE, and ese_logical_port_status PENDING_CREATE
00:30:18.024 gohan.db.sql INFO [0m Executing SQL query in transaction '0150757b-8314-431c-b708-efcbc0b6c872': 'UPDATE `ports` SET `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `fake_delete` = false, `security_groups` = [], `orchestration_state` = CREATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `attached` = false, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:18.081 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 308
00:30:18.844 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55382 (Request-Id: -) data: 
[36m00:30:18.845 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:18.846 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:18.904 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:18.904 gohan.server.resources INFO [0m Created transaction affe2596-e01e-4b50-b7c6-581c9df83d40 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:18.909 gohan.server.resources INFO [0m Commited transaction affe2596-e01e-4b50-b7c6-581c9df83d40 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:18.910 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fake_delete:false attached:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port mac_address:fa:16:3e:e7:7c:0f managed_by_service:false allowed_address_pairs:[] device_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] status:PENDING_CREATE binding:vif_type:vrouter security_groups:[] orchestration_state:CREATE_COMPLETE segmentation_type:vlan description: operational_state:NO_STATE fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c]] (Request-Id: -)
[36m00:30:18.911 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[971]]
[36m00:30:18.912 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:18.914 gohan.server.middleware INFO [0m Completed 200 OK in 69.314779ms (Request-Id: -)
00:30:19.935 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55390 (Request-Id: -) data: 
[36m00:30:19.935 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:19.935 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:19.966 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:19.966 gohan.server.resources INFO [0m Created transaction 340a82a0-2dc9-4074-ab79-18b1390a751d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:19.971 gohan.server.resources INFO [0m Commited transaction 340a82a0-2dc9-4074-ab79-18b1390a751d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:19.972 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[binding:vif_type:vrouter attached:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 status:PENDING_CREATE name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a security_groups:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: mac_address:fa:16:3e:e7:7c:0f orchestration_state:CREATE_COMPLETE managed_by_service:false admin_state_up:true allowed_address_pairs:[] fake_delete:false operational_state:NO_STATE device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] tags:map[]]] (Request-Id: -)
[36m00:30:19.973 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[971]]
[36m00:30:19.974 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:19.976 gohan.server.middleware INFO [0m Completed 200 OK in 41.044559ms (Request-Id: -)
00:30:20.998 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55396 (Request-Id: -) data: 
[36m00:30:20.998 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:20.998 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:21.018 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:21.018 gohan.server.resources INFO [0m Created transaction 6c2310d6-a751-4d6e-b614-0d3a3eae0b80 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:21.023 gohan.server.resources INFO [0m Commited transaction 6c2310d6-a751-4d6e-b614-0d3a3eae0b80 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:21.024 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[mac_address:fa:16:3e:e7:7c:0f fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:CREATE_COMPLETE network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 attached:false segmentation_id:1003 admin_state_up:true security_groups:[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a managed_by_service:false allowed_address_pairs:[] fake_delete:false name:sample-port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: segmentation_type:vlan tags:map[] status:PENDING_CREATE operational_state:NO_STATE binding:vif_type:vrouter device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:30:21.025 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[971] Content-Type:[application/json]]
[36m00:30:21.026 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:21.028 gohan.server.middleware INFO [0m Completed 200 OK in 29.701878ms (Request-Id: -)
00:30:22.028 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:22.027513Z&backscan=2019-02-01T00:25:22.027534Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35474 (Request-Id: -) data: 
[36m00:30:22.029 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:22.029 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:22.047 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:22.047 gohan.server.resources INFO [0m Created transaction 1e68705c-197a-485f-b63a-46a7478848da for fetching monitoring networks (Request-Id: -)
00:30:22.049 gohan.db.sql INFO [0m Executing SQL query in transaction '1e68705c-197a-485f-b63a-46a7478848da': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981022 AND (history.deleted IS NULL OR history.deleted >= 1548980722)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:22.051 gohan.db.sql INFO [0m Executing SQL query in transaction '1e68705c-197a-485f-b63a-46a7478848da': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:22.053 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:22.053 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:22.027534Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:22.027513Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:22Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:22.054 gohan.server.middleware INFO [0m Completed 200 OK in 25.450857ms (Request-Id: -)
00:30:22.055 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55402 (Request-Id: -) data: 
[36m00:30:22.055 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:22.055 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:22.073 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:22.073 gohan.server.resources INFO [0m Created transaction c9ec6f85-d3de-4445-9cf1-4a1edb5c44a5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:22.078 gohan.server.resources INFO [0m Commited transaction c9ec6f85-d3de-4445-9cf1-4a1edb5c44a5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:22.079 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f fake_delete:false admin_state_up:true orchestration_state:CREATE_COMPLETE managed_by_service:false allowed_address_pairs:[] tags:map[] status:PENDING_CREATE fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 security_groups:[] description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:NO_STATE attached:false]] (Request-Id: -)
[36m00:30:22.080 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[971]]
[36m00:30:22.081 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "CREATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:22.083 gohan.server.middleware INFO [0m Completed 200 OK in 28.046762ms (Request-Id: -)
[36m00:30:22.510 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c map[error: state:map[heat_outputs:[{"output_value": "17a787f7-e191-48c3-adaf-692a20a3768f", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/17a787f7-e191-48c3-adaf-692a20a3768f", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "xe-0/0/38.0", "description": "The name of the logical interface.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1]
00:30:22.512 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c map[error: state:map[heat_outputs:[{"output_value": "17a787f7-e191-48c3-adaf-692a20a3768f", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/17a787f7-e191-48c3-adaf-692a20a3768f", "description": "Monitoring Process Link", "output_key": "monitoring_link"}, {"output_value": "xe-0/0/38.0", "description": "The name of the logical interface.", "output_key": "name"}] orchestration_state:CREATE_COMPLETE worker_state:CREATE_COMPLETED] version:1] started
00:30:22.520 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c with index 327
00:30:22.552 gohan.db.sql INFO [0m Executing SQL query in transaction 'dfa3d59d-5d0a-48fb-b412-baf71a3419de': 'UPDATE `ese_logical_ports` SET `name` = xe-0/0/1.1003, `common_function_gateway_id` = <nil>, `connected_resource` = port, `status` = PENDING_CREATE, `operational_state` = NO_STATE, `vlan_id` = 1003, `description` = ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a, `gw_interface_id` = <nil>, `id` = 74522211-c8db-41b6-8a35-4fac9656713c, `type` = L2, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `port_ids` = ["3a04e6ed-68fb-4534-8822-d5162d19f35a"], `orchestration_state` = CREATE_IN_PROGRESS, `ese_physical_port_id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `tags` = {}, ese_physical_port_id = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"17a787f7-e191-48c3-adaf-692a20a3768f\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": \"46b0cd68-d0fb-4d72-9def-830164f9e215\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/17a787f7-e191-48c3-adaf-692a20a3768f\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"xe-0/0/38.0\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 74522211-c8db-41b6-8a35-4fac9656713c'
00:30:22.555 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from CREATE_IN_PROGRESS to CREATE_COMPLETE.
[36m00:30:22.555 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_state_update_in_transaction DEBUG [0m <ese_logical_port_state_machine>: calculating ese_logical_port (74522211-c8db-41b6-8a35-4fac9656713c) status with orchestration_state CREATE_COMPLETE and operational_state NO_STATE
00:30:22.557 gohan.db.sql INFO [0m Executing SQL query in transaction 'dfa3d59d-5d0a-48fb-b412-baf71a3419de': 'UPDATE `ese_logical_ports` SET `orchestration_state` = CREATE_COMPLETE, `ese_physical_port_id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `tags` = {}, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `port_ids` = ["3a04e6ed-68fb-4534-8822-d5162d19f35a"], `connected_resource` = port, `name` = xe-0/0/1.1003, `common_function_gateway_id` = <nil>, `description` = ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a, `gw_interface_id` = <nil>, `id` = 74522211-c8db-41b6-8a35-4fac9656713c, `status` = PENDING_CREATE, `operational_state` = NO_STATE, `vlan_id` = 1003, `type` = L2, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, ese_physical_port_id = 0915a040-2f84-44fc-9083-1e2f719ae2eb WHERE id = 74522211-c8db-41b6-8a35-4fac9656713c'
00:30:22.562 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_state_update_in_transaction INFO [0m <ese_logical_port_state_machine_handler>: Chaining state transition to port 3a04e6ed-68fb-4534-8822-d5162d19f35a
00:30:22.563 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_state_update_in_transaction INFO [0m <_handle_baremetal_port>: Attach port for physical_port 3a04e6ed-68fb-4534-8822-d5162d19f35a
00:30:22.564 gohan.db.sql INFO [0m Executing SQL query in transaction 'dfa3d59d-5d0a-48fb-b412-baf71a3419de': 'UPDATE `ports` SET `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_IN_PROGRESS, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `config_version` = `config_version` + 1, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:22.568 gohan.db.sql INFO [0m Executing SQL query in transaction 'dfa3d59d-5d0a-48fb-b412-baf71a3419de': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (2,/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a,1548981022,update,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":true,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"c13acfa3-6780-4f53-90da-492dfd697e69\",\"device_owner\":\"physical_port\",\"ese_logical_port_id\":\"74522211-c8db-41b6-8a35-4fac9656713c\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"192.168.200.101\",\"subnet_id\":\"215cb166-b0c5-4fbb-ad5f-948cb93119fe\"}],\"id\":\"3a04e6ed-68fb-4534-8822-d5162d19f35a\",\"mac_address\":\"fa:16:3e:e7:7c:0f\",\"managed_by_service\":false,\"name\":\"sample-port\",\"network_id\":\"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1\",\"operational_state\":\"NO_STATE\",\"orchestration_state\":\"UPDATE_IN_PROGRESS\",\"security_groups\":[],\"segmentation_id\":1003,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"4b4cb858859842a389d0b0c8eb567d59\"}")'
00:30:22.579 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c with index 327
[36m00:30:22.581 gohan.server.sync DEBUG [0m Processing event 62 - update
00:30:22.581 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:30:22.586 gohan.server.sync DEBUG [0m Deleting event 62
00:30:22.591 gohan.db.sql INFO [0m Executing SQL query in transaction '13018a52-875a-4f17-80bd-25430beac1b5': 'DELETE FROM `events` WHERE id = 62'
[36m00:30:22.594 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
00:30:23.106 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55418 (Request-Id: -) data: 
[36m00:30:23.107 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:23.107 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:23.126 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:23.127 gohan.server.resources INFO [0m Created transaction 467670d8-b94f-4fa9-8830-eecd0001a480 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:23.132 gohan.server.resources INFO [0m Commited transaction 467670d8-b94f-4fa9-8830-eecd0001a480 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:23.133 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[attached:true operational_state:NO_STATE id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port tags:map[] device_owner:physical_port description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f segmentation_type:vlan orchestration_state:UPDATE_IN_PROGRESS status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 managed_by_service:false admin_state_up:true allowed_address_pairs:[] security_groups:[]]] (Request-Id: -)
[36m00:30:23.134 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:23.136 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:23.137 gohan.server.middleware INFO [0m Completed 200 OK in 30.490822ms (Request-Id: -)
00:30:24.158 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55432 (Request-Id: -) data: 
[36m00:30:24.158 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:24.159 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:24.177 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:24.177 gohan.server.resources INFO [0m Created transaction 4ccd2050-d677-4118-a5fe-19e6348e0224 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:24.182 gohan.server.resources INFO [0m Commited transaction 4ccd2050-d677-4118-a5fe-19e6348e0224 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:24.184 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[mac_address:fa:16:3e:e7:7c:0f tags:map[] fake_delete:false orchestration_state:UPDATE_IN_PROGRESS segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 allowed_address_pairs:[] status:PENDING_CREATE description: managed_by_service:false admin_state_up:true security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:NO_STATE binding:vif_type:vrouter attached:true]] (Request-Id: -)
[36m00:30:24.185 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:24.186 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:24.188 gohan.server.middleware INFO [0m Completed 200 OK in 29.575331ms (Request-Id: -)
00:30:25.210 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55434 (Request-Id: -) data: 
[36m00:30:25.211 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:25.211 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:25.231 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:25.231 gohan.server.resources INFO [0m Created transaction 5735377d-4d41-4c51-a4cc-7beea8ed249d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:25.237 gohan.server.resources INFO [0m Commited transaction 5735377d-4d41-4c51-a4cc-7beea8ed249d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:25.239 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_type:vlan security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 fake_delete:false managed_by_service:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port operational_state:NO_STATE allowed_address_pairs:[] admin_state_up:true attached:true id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f tags:map[] orchestration_state:UPDATE_IN_PROGRESS status:PENDING_CREATE description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:30:25.240 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[973] Content-Type:[application/json]]
[36m00:30:25.241 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:25.242 gohan.server.middleware INFO [0m Completed 200 OK in 31.936808ms (Request-Id: -)
00:30:26.266 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55436 (Request-Id: -) data: 
[36m00:30:26.266 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:26.267 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:26.286 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:26.286 gohan.server.resources INFO [0m Created transaction 107bd70a-80f3-44ef-896e-95b3a0458532 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:26.291 gohan.server.resources INFO [0m Commited transaction 107bd70a-80f3-44ef-896e-95b3a0458532 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:26.292 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 fake_delete:false orchestration_state:UPDATE_IN_PROGRESS allowed_address_pairs:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port tags:map[] status:PENDING_CREATE description: mac_address:fa:16:3e:e7:7c:0f security_groups:[] id:3a04e6ed-68fb-4534-8822-d5162d19f35a managed_by_service:false admin_state_up:true segmentation_type:vlan operational_state:NO_STATE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port]] (Request-Id: -)
[36m00:30:26.293 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:26.294 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:26.295 gohan.server.middleware INFO [0m Completed 200 OK in 29.430507ms (Request-Id: -)
00:30:27.057 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:27.055797Z&backscan=2019-02-01T00:25:27.055817Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35512 (Request-Id: -) data: 
[36m00:30:27.057 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:27.057 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:27.076 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:27.076 gohan.server.resources INFO [0m Created transaction 44275898-e6e5-4acb-b971-583db5023dfe for fetching monitoring networks (Request-Id: -)
00:30:27.078 gohan.db.sql INFO [0m Executing SQL query in transaction '44275898-e6e5-4acb-b971-583db5023dfe': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981027 AND (history.deleted IS NULL OR history.deleted >= 1548980727)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:27.079 gohan.db.sql INFO [0m Executing SQL query in transaction '44275898-e6e5-4acb-b971-583db5023dfe': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:27.081 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:27.082 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:27.055817Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:27.055797Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:27Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:27.082 gohan.server.middleware INFO [0m Completed 200 OK in 25.656854ms (Request-Id: -)
00:30:27.317 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55444 (Request-Id: -) data: 
[36m00:30:27.317 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:27.317 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:27.336 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:27.336 gohan.server.resources INFO [0m Created transaction c5f76ecf-0f3f-41d2-9ad8-30233e489ed6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:27.342 gohan.server.resources INFO [0m Commited transaction c5f76ecf-0f3f-41d2-9ad8-30233e489ed6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:27.343 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[admin_state_up:true id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 binding:vif_type:vrouter name:sample-port mac_address:fa:16:3e:e7:7c:0f tags:map[] security_groups:[] orchestration_state:UPDATE_IN_PROGRESS network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:NO_STATE device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 segmentation_type:vlan fake_delete:false status:PENDING_CREATE device_owner:physical_port fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] allowed_address_pairs:[] managed_by_service:false description: attached:true]] (Request-Id: -)
[36m00:30:27.344 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:27.346 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:27.347 gohan.server.middleware INFO [0m Completed 200 OK in 30.327934ms (Request-Id: -)
00:30:28.368 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55448 (Request-Id: -) data: 
[36m00:30:28.368 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:28.369 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:28.396 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:28.396 gohan.server.resources INFO [0m Created transaction aac40ea2-67aa-4497-8eb9-cca709beb491 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:28.402 gohan.server.resources INFO [0m Commited transaction aac40ea2-67aa-4497-8eb9-cca709beb491 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:28.403 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[device_id:c13acfa3-6780-4f53-90da-492dfd697e69 tags:map[] security_groups:[] orchestration_state:UPDATE_IN_PROGRESS ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:NO_STATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 segmentation_type:vlan allowed_address_pairs:[] description: attached:true name:sample-port fake_delete:false managed_by_service:false device_owner:physical_port network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f admin_state_up:true]] (Request-Id: -)
[36m00:30:28.404 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:28.406 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:28.407 gohan.server.middleware INFO [0m Completed 200 OK in 39.007447ms (Request-Id: -)
00:30:29.428 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55450 (Request-Id: -) data: 
[36m00:30:29.429 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:29.429 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:29.463 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:29.464 gohan.server.resources INFO [0m Created transaction 3bbf8040-2195-4f09-b60e-c70baa223869 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:29.469 gohan.server.resources INFO [0m Commited transaction 3bbf8040-2195-4f09-b60e-c70baa223869 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:29.471 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f tags:map[] security_groups:[] admin_state_up:true operational_state:NO_STATE attached:true segmentation_id:1003 status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:UPDATE_IN_PROGRESS allowed_address_pairs:[] segmentation_type:vlan description: binding:vif_type:vrouter name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fake_delete:false managed_by_service:false]] (Request-Id: -)
[36m00:30:29.472 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:29.473 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:29.474 gohan.server.middleware INFO [0m Completed 200 OK in 46.149064ms (Request-Id: -)
00:30:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:30:30.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:30:30.041 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:30:30.045 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:30:30.047 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:30:30.047 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:30:30.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:30:30.059 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:30:30.499 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55454 (Request-Id: -) data: 
[36m00:30:30.499 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:30.500 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:30.523 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:30.524 gohan.server.resources INFO [0m Created transaction 92d80fc9-a054-4f0f-bedf-c732135886c5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:30.529 gohan.server.resources INFO [0m Commited transaction 92d80fc9-a054-4f0f-bedf-c732135886c5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:30.531 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_type:vlan fake_delete:false status:PENDING_CREATE description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f admin_state_up:true tags:map[] orchestration_state:UPDATE_IN_PROGRESS binding:vif_type:vrouter segmentation_id:1003 allowed_address_pairs:[] security_groups:[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:NO_STATE device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port]] (Request-Id: -)
[36m00:30:30.532 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:30.533 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:30.534 gohan.server.middleware INFO [0m Completed 200 OK in 35.399499ms (Request-Id: -)
00:30:31.555 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55456 (Request-Id: -) data: 
[36m00:30:31.555 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:31.556 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:31.573 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:31.574 gohan.server.resources INFO [0m Created transaction 0144c4d6-005b-4d00-bc97-87dd807bdb6f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:31.578 gohan.server.resources INFO [0m Commited transaction 0144c4d6-005b-4d00-bc97-87dd807bdb6f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:31.580 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: name:sample-port mac_address:fa:16:3e:e7:7c:0f admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:NO_STATE attached:true orchestration_state:UPDATE_IN_PROGRESS fake_delete:false device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a allowed_address_pairs:[] tags:map[] security_groups:[] status:PENDING_CREATE segmentation_id:1003 managed_by_service:false segmentation_type:vlan]] (Request-Id: -)
[36m00:30:31.581 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:31.582 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:31.583 gohan.server.middleware INFO [0m Completed 200 OK in 28.553044ms (Request-Id: -)
00:30:32.086 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:32.084528Z&backscan=2019-02-01T00:25:32.084554Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35534 (Request-Id: -) data: 
[36m00:30:32.086 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:32.087 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:32.104 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:32.105 gohan.server.resources INFO [0m Created transaction 013c463b-05b8-402d-919b-76a38685c1d9 for fetching monitoring networks (Request-Id: -)
00:30:32.107 gohan.db.sql INFO [0m Executing SQL query in transaction '013c463b-05b8-402d-919b-76a38685c1d9': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981032 AND (history.deleted IS NULL OR history.deleted >= 1548980732)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:32.110 gohan.db.sql INFO [0m Executing SQL query in transaction '013c463b-05b8-402d-919b-76a38685c1d9': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:32.112 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:32.112 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:32.084554Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:32.084528Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:32Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:32.113 gohan.server.middleware INFO [0m Completed 200 OK in 27.132983ms (Request-Id: -)
[36m00:30:32.357 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP]
00:30:32.358 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:30:32.605 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55464 (Request-Id: -) data: 
[36m00:30:32.605 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:32.606 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:32.625 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:32.626 gohan.server.resources INFO [0m Created transaction 01b2945c-d7de-437c-ae14-5400d3796d09 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:32.633 gohan.server.resources INFO [0m Commited transaction 01b2945c-d7de-437c-ae14-5400d3796d09 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:32.634 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[description: binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_owner:physical_port segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_IN_PROGRESS managed_by_service:false name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fake_delete:false attached:true segmentation_type:vlan tags:map[] security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 operational_state:NO_STATE admin_state_up:true allowed_address_pairs:[] fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]]]] (Request-Id: -)
[36m00:30:32.635 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[973]]
[36m00:30:32.636 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "NO_STATE",
    "orchestration_state": "UPDATE_IN_PROGRESS",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:32.638 gohan.server.middleware INFO [0m Completed 200 OK in 32.817984ms (Request-Id: -)
[36m00:30:33.228 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[error: state:map[heat_outputs:[{"output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": {"allowed_address_pair": []}, "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "bb927b26-ba6b-4049-9b55-54af3e1ea997", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": ["fa:16:3e:f7:60:7f"], "description": "Virtual machine interface mac address.", "output_key": "mac_address"}, {"output_value": [["default-domain", "admin", "b62eefe0-0872-478d-adfe-1a606320f0e7"]], "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997", "description": "Monitoring Process Link", "output_key": "monitoring_link"}] orchestration_state:UPDATE_COMPLETE worker_state:MODIFY_COMPLETED] version:2]
00:30:33.230 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[error: state:map[heat_outputs:[{"output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": {"allowed_address_pair": []}, "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "bb927b26-ba6b-4049-9b55-54af3e1ea997", "description": "Monitoring Target ID", "output_key": "monitoring_target_id"}, {"output_value": ["fa:16:3e:f7:60:7f"], "description": "Virtual machine interface mac address.", "output_key": "mac_address"}, {"output_value": [["default-domain", "admin", "b62eefe0-0872-478d-adfe-1a606320f0e7"]], "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997", "description": "Monitoring Process Link", "output_key": "monitoring_link"}] orchestration_state:UPDATE_COMPLETE worker_state:MODIFY_COMPLETED] version:2] started
00:30:33.238 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 359
00:30:33.268 gohan.db.sql INFO [0m Executing SQL query in transaction 'ebc20e16-a9a5-49c5-8a65-be9ffda318b5': 'UPDATE `ports` SET `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_IN_PROGRESS, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:33.271 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_state_update_in_transaction INFO [0m <change_state>: Orchestration state changed from UPDATE_IN_PROGRESS to UPDATE_COMPLETE.
[36m00:30:33.275 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_state_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state NO_STATE, and ese_logical_port_status PENDING_CREATE
00:30:33.277 gohan.db.sql INFO [0m Executing SQL query in transaction 'ebc20e16-a9a5-49c5-8a65-be9ffda318b5': 'UPDATE `ports` SET `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:33.308 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 359
00:30:33.310 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:30:33.316 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:33.348 gohan.db.sql INFO [0m Executing SQL query in transaction '824176a1-a7a4-4279-8282-1ddd9e70ceb8': 'INSERT INTO `monitoring_historys` (`namespace`,`notify`,`resource_type`,`id`,`resource_id`,`created`,`tenant_id`) VALUES (logical-network-port,false,port,4ce18035-db9c-463b-b650-4a4dfb0a267d,3a04e6ed-68fb-4534-8822-d5162d19f35a,1.548981033e+09,4b4cb858859842a389d0b0c8eb567d59)'
[36m00:30:33.349 gohan.server.sync DEBUG [0m Skipping event logging for schema: monitoring_history
00:30:33.352 gohan.db.sql INFO [0m Executing SQL query in transaction '824176a1-a7a4-4279-8282-1ddd9e70ceb8': 'UPDATE `ports` SET `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = NO_STATE, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:33.357 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
00:30:33.358 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <change_state>: Operational state changed from NO_STATE to UP.
[36m00:30:33.361 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status PENDING_CREATE
00:30:33.363 gohan.db.sql INFO [0m Executing SQL query in transaction '824176a1-a7a4-4279-8282-1ddd9e70ceb8': 'UPDATE `ports` SET `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:33.397 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:33.399 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:30:33.400 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:30:33.400 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:30:33.401 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:30:33.405 gohan.extension.otto INFO [0m response code 200
00:30:33.406 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Ok",
	"headers": {
		"Content-Length": [
			"2"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:30:33 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "200"
}.
00:30:33.407 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 200 from monitoring API for: port. Done.
[33m00:30:33.408 gohan.server.sync WARNING [0m error during monitoring update (try #1): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:30:33.659 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55488 (Request-Id: -) data: 
[36m00:30:33.659 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:33.659 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:33.676 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:33.676 gohan.server.resources INFO [0m Created transaction 08f7c528-498b-4b5f-8bfa-303ea4552316 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:33.682 gohan.server.resources INFO [0m Commited transaction 08f7c528-498b-4b5f-8bfa-303ea4552316 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:33.683 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port allowed_address_pairs:[] attached:true segmentation_id:1003 fake_delete:false security_groups:[] orchestration_state:UPDATE_COMPLETE managed_by_service:false status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f tags:map[] binding:vif_type:vrouter name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]] (Request-Id: -)
[36m00:30:33.684 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:33.686 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:33.687 gohan.server.middleware INFO [0m Completed 200 OK in 28.133605ms (Request-Id: -)
00:30:34.708 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55490 (Request-Id: -) data: 
[36m00:30:34.708 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:34.708 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:34.725 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:34.726 gohan.server.resources INFO [0m Created transaction 45d802f0-5f78-459f-8552-b6bb39a0954e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:34.730 gohan.server.resources INFO [0m Commited transaction 45d802f0-5f78-459f-8552-b6bb39a0954e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:34.732 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] security_groups:[] allowed_address_pairs:[] operational_state:UP device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port status:PENDING_CREATE binding:vif_type:vrouter attached:true segmentation_type:vlan tags:map[] fake_delete:false segmentation_id:1003 orchestration_state:UPDATE_COMPLETE managed_by_service:false admin_state_up:true]] (Request-Id: -)
[36m00:30:34.733 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:34.734 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:34.735 gohan.server.middleware INFO [0m Completed 200 OK in 27.581925ms (Request-Id: -)
00:30:35.756 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55492 (Request-Id: -) data: 
[36m00:30:35.757 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:35.757 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:35.786 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:35.787 gohan.server.resources INFO [0m Created transaction 76edc47c-b16a-4ded-8c3d-d7352426b2a4 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:35.793 gohan.server.resources INFO [0m Commited transaction 76edc47c-b16a-4ded-8c3d-d7352426b2a4 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:35.794 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a status:PENDING_CREATE operational_state:UP admin_state_up:true tags:map[] security_groups:[] orchestration_state:UPDATE_COMPLETE network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 managed_by_service:false segmentation_type:vlan segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f allowed_address_pairs:[] attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false]] (Request-Id: -)
[36m00:30:35.795 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:35.797 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:35.798 gohan.server.middleware INFO [0m Completed 200 OK in 41.71115ms (Request-Id: -)
00:30:36.820 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55494 (Request-Id: -) data: 
[36m00:30:36.820 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:36.821 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:36.840 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:36.840 gohan.server.resources INFO [0m Created transaction 734755a5-fd2e-46bd-9458-9131912d7d7d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:36.846 gohan.server.resources INFO [0m Commited transaction 734755a5-fd2e-46bd-9458-9131912d7d7d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:36.847 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] security_groups:[] orchestration_state:UPDATE_COMPLETE segmentation_type:vlan status:PENDING_CREATE id:3a04e6ed-68fb-4534-8822-d5162d19f35a attached:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port binding:vif_type:vrouter admin_state_up:true allowed_address_pairs:[] tags:map[] fake_delete:false description:]] (Request-Id: -)
[36m00:30:36.848 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:36.849 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:36.850 gohan.server.middleware INFO [0m Completed 200 OK in 30.670092ms (Request-Id: -)
00:30:37.116 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:37.115098Z&backscan=2019-02-01T00:25:37.115117Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35570 (Request-Id: -) data: 
[36m00:30:37.116 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:37.117 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:37.134 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:37.134 gohan.server.resources INFO [0m Created transaction a441cf06-10c5-49c1-9b85-61a98d28a3ed for fetching monitoring networks (Request-Id: -)
00:30:37.136 gohan.db.sql INFO [0m Executing SQL query in transaction 'a441cf06-10c5-49c1-9b85-61a98d28a3ed': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981037 AND (history.deleted IS NULL OR history.deleted >= 1548980737)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:37.138 gohan.db.sql INFO [0m Executing SQL query in transaction 'a441cf06-10c5-49c1-9b85-61a98d28a3ed': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:37.145 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:37.146 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:37.115117Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:37.115098Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:37Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:37.146 gohan.server.middleware INFO [0m Completed 200 OK in 30.369194ms (Request-Id: -)
00:30:37.150 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:30:37.149013Z&backscan=2019-02-01T00:25:37.149025Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35572 (Request-Id: -) data: 
[36m00:30:37.150 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:37.150 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:37.166 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:30:37.166 gohan.server.resources INFO [0m Created transaction 3d4f55b9-1f2a-485d-94aa-a0894df0f3d8 for fetching monitoring ports (Request-Id: -)
00:30:37.168 gohan.db.sql INFO [0m Executing SQL query in transaction '3d4f55b9-1f2a-485d-94aa-a0894df0f3d8': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981037 AND (history.deleted IS NULL OR history.deleted >= 1548980737)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:37.171 gohan.db.sql INFO [0m Executing SQL query in transaction '3d4f55b9-1f2a-485d-94aa-a0894df0f3d8': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:30:37.173 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[238] Content-Type:[application/json]]
[36m00:30:37.173 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:37.149025Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:37.149013Z"
  },
  "resources": []
}
00:30:37.173 gohan.server.middleware INFO [0m Completed 200 OK in 23.601541ms (Request-Id: -)
00:30:37.871 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55500 (Request-Id: -) data: 
[36m00:30:37.871 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:37.872 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:37.890 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:37.890 gohan.server.resources INFO [0m Created transaction da214273-e2ea-4163-bc59-90c0140da48d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:37.895 gohan.server.resources INFO [0m Commited transaction da214273-e2ea-4163-bc59-90c0140da48d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:37.897 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[security_groups:[] admin_state_up:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 managed_by_service:false operational_state:UP name:sample-port status:PENDING_CREATE description: orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 tags:map[] fake_delete:false device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:30:37.898 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:37.899 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:37.900 gohan.server.middleware INFO [0m Completed 200 OK in 29.406968ms (Request-Id: -)
00:30:38.924 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55502 (Request-Id: -) data: 
[36m00:30:38.924 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:38.924 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:38.941 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:38.942 gohan.server.resources INFO [0m Created transaction 58cc4acb-a4f3-47c4-88f1-03390478a71e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:38.947 gohan.server.resources INFO [0m Commited transaction 58cc4acb-a4f3-47c4-88f1-03390478a71e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:38.948 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_type:vlan tags:map[] fake_delete:false admin_state_up:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c attached:true name:sample-port network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 security_groups:[] managed_by_service:false description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] status:PENDING_CREATE device_owner:physical_port operational_state:UP binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f]] (Request-Id: -)
[36m00:30:38.949 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:38.951 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:38.952 gohan.server.middleware INFO [0m Completed 200 OK in 27.861304ms (Request-Id: -)
00:30:39.973 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55504 (Request-Id: -) data: 
[36m00:30:39.973 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:39.973 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:39.990 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:39.991 gohan.server.resources INFO [0m Created transaction f23a7ae7-59b4-494f-92e9-36ebd1a1a09b for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:39.996 gohan.server.resources INFO [0m Commited transaction f23a7ae7-59b4-494f-92e9-36ebd1a1a09b for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:39.997 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 admin_state_up:true tags:map[] orchestration_state:UPDATE_COMPLETE status:PENDING_CREATE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f security_groups:[] description: operational_state:UP allowed_address_pairs:[] fake_delete:false managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter name:sample-port]] (Request-Id: -)
[36m00:30:39.998 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:39.999 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:40.000 gohan.server.middleware INFO [0m Completed 200 OK in 27.542781ms (Request-Id: -)
00:30:41.021 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55506 (Request-Id: -) data: 
[36m00:30:41.022 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:41.022 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:41.043 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:41.044 gohan.server.resources INFO [0m Created transaction 0cc2c251-45e3-403c-a52b-f7875ec2a9e3 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:41.049 gohan.server.resources INFO [0m Commited transaction 0cc2c251-45e3-403c-a52b-f7875ec2a9e3 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:41.050 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 segmentation_type:vlan status:PENDING_CREATE description: operational_state:UP attached:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter device_owner:physical_port fake_delete:false security_groups:[] orchestration_state:UPDATE_COMPLETE admin_state_up:true allowed_address_pairs:[] device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f]] (Request-Id: -)
[36m00:30:41.051 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:41.052 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:41.053 gohan.server.middleware INFO [0m Completed 200 OK in 31.91178ms (Request-Id: -)
00:30:42.075 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55508 (Request-Id: -) data: 
[36m00:30:42.075 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:42.076 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:42.096 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:42.096 gohan.server.resources INFO [0m Created transaction 37f70836-c60f-48c3-ba63-25556758d85f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:42.101 gohan.server.resources INFO [0m Commited transaction 37f70836-c60f-48c3-ba63-25556758d85f for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:42.103 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_id:1003 tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f fake_delete:false admin_state_up:true allowed_address_pairs:[] description: operational_state:UP device_owner:physical_port tags:map[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter attached:true name:sample-port security_groups:[] orchestration_state:UPDATE_COMPLETE managed_by_service:false]] (Request-Id: -)
[36m00:30:42.104 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[964] Content-Type:[application/json]]
[36m00:30:42.105 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:42.107 gohan.server.middleware INFO [0m Completed 200 OK in 31.666778ms (Request-Id: -)
00:30:42.176 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:42.175331Z&backscan=2019-02-01T00:25:42.175353Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35584 (Request-Id: -) data: 
[36m00:30:42.177 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:42.177 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:42.198 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:42.198 gohan.server.resources INFO [0m Created transaction 32e2b373-224a-42cd-81de-294053ba89cf for fetching monitoring networks (Request-Id: -)
00:30:42.200 gohan.db.sql INFO [0m Executing SQL query in transaction '32e2b373-224a-42cd-81de-294053ba89cf': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981042 AND (history.deleted IS NULL OR history.deleted >= 1548980742)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:42.202 gohan.db.sql INFO [0m Executing SQL query in transaction '32e2b373-224a-42cd-81de-294053ba89cf': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:42.203 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:42.204 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:42.175353Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:42.175331Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:42Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:42.205 gohan.server.middleware INFO [0m Completed 200 OK in 28.244095ms (Request-Id: -)
00:30:42.207 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:30:42.206564Z&backscan=2019-02-01T00:25:42.206575Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35586 (Request-Id: -) data: 
[36m00:30:42.207 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:42.208 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:42.284 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:30:42.303 gohan.server.resources INFO [0m Created transaction 5fa9df62-0b7a-4b4b-a6d8-e81fb752ac55 for fetching monitoring ports (Request-Id: -)
00:30:42.312 gohan.db.sql INFO [0m Executing SQL query in transaction '5fa9df62-0b7a-4b4b-a6d8-e81fb752ac55': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981042 AND (history.deleted IS NULL OR history.deleted >= 1548980742)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:42.314 gohan.db.sql INFO [0m Executing SQL query in transaction '5fa9df62-0b7a-4b4b-a6d8-e81fb752ac55': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:30:42.320 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[238] Content-Type:[application/json]]
[36m00:30:42.321 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:42.206575Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:42.206564Z"
  },
  "resources": []
}
00:30:42.321 gohan.server.middleware INFO [0m Completed 200 OK in 113.75325ms (Request-Id: -)
00:30:43.128 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55518 (Request-Id: -) data: 
[36m00:30:43.128 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:43.128 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:43.166 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:43.167 gohan.server.resources INFO [0m Created transaction 5c0980b4-080b-4e50-ba73-750886b81ca1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:43.175 gohan.server.resources INFO [0m Commited transaction 5c0980b4-080b-4e50-ba73-750886b81ca1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:43.176 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f allowed_address_pairs:[] tags:map[] attached:true fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] security_groups:[] orchestration_state:UPDATE_COMPLETE managed_by_service:false admin_state_up:true segmentation_type:vlan device_owner:physical_port name:sample-port]] (Request-Id: -)
[36m00:30:43.178 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:43.180 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:43.182 gohan.server.middleware INFO [0m Completed 200 OK in 54.393067ms (Request-Id: -)
00:30:43.408 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:30:43.416 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:43.449 gohan.db.sql INFO [0m Executing SQL query in transaction '93368d35-5b69-4ca7-bd63-05b707e9e1c7': 'UPDATE `ports` SET `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:43.454 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:30:43.458 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status PENDING_CREATE
00:30:43.466 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:43.468 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:30:43.469 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:30:43.469 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:30:43.469 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:30:43.473 gohan.extension.otto INFO [0m response code 409
00:30:43.474 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:30:43 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:30:43.475 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:30:43.476 gohan.server.sync WARNING [0m error during monitoring update (try #2): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:30:44.204 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55522 (Request-Id: -) data: 
[36m00:30:44.204 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:44.205 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:44.225 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:44.225 gohan.server.resources INFO [0m Created transaction 66e785ea-f4c9-421c-afd3-69bd83d887dd for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:44.230 gohan.server.resources INFO [0m Commited transaction 66e785ea-f4c9-421c-afd3-69bd83d887dd for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:44.231 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[fake_delete:false security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP binding:vif_type:vrouter name:sample-port mac_address:fa:16:3e:e7:7c:0f admin_state_up:true allowed_address_pairs:[] segmentation_type:vlan tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: orchestration_state:UPDATE_COMPLETE tags:map[] attached:true device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 managed_by_service:false status:PENDING_CREATE id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]]]] (Request-Id: -)
[36m00:30:44.232 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:44.233 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:44.234 gohan.server.middleware INFO [0m Completed 200 OK in 30.488188ms (Request-Id: -)
00:30:45.256 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55524 (Request-Id: -) data: 
[36m00:30:45.256 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:45.256 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:45.277 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:45.277 gohan.server.resources INFO [0m Created transaction 18f95d36-da6d-4664-8edd-daa36e9fc8f6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:45.282 gohan.server.resources INFO [0m Commited transaction 18f95d36-da6d-4664-8edd-daa36e9fc8f6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:45.283 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: operational_state:UP attached:true name:sample-port security_groups:[] managed_by_service:false allowed_address_pairs:[] segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f admin_state_up:true segmentation_type:vlan orchestration_state:UPDATE_COMPLETE status:PENDING_CREATE device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] tags:map[] fake_delete:false id:3a04e6ed-68fb-4534-8822-d5162d19f35a]] (Request-Id: -)
[36m00:30:45.284 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:45.286 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:45.287 gohan.server.middleware INFO [0m Completed 200 OK in 30.768504ms (Request-Id: -)
00:30:46.308 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55526 (Request-Id: -) data: 
[36m00:30:46.308 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:46.308 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:46.327 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:46.328 gohan.server.resources INFO [0m Created transaction b7deaf9b-2434-45fe-89d3-5437008e202e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:46.332 gohan.server.resources INFO [0m Commited transaction b7deaf9b-2434-45fe-89d3-5437008e202e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:46.334 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[orchestration_state:UPDATE_COMPLETE segmentation_type:vlan fake_delete:false status:PENDING_CREATE network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter attached:true device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 description: operational_state:UP fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] managed_by_service:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c name:sample-port mac_address:fa:16:3e:e7:7c:0f security_groups:[] admin_state_up:true allowed_address_pairs:[] tags:map[] device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a]] (Request-Id: -)
[36m00:30:46.335 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:46.336 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:46.337 gohan.server.middleware INFO [0m Completed 200 OK in 29.578112ms (Request-Id: -)
00:30:47.324 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:47.323031Z&backscan=2019-02-01T00:25:47.323062Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35602 (Request-Id: -) data: 
[36m00:30:47.325 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:47.325 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:47.343 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:47.344 gohan.server.resources INFO [0m Created transaction 0a5a0aed-9687-43d0-b64d-8cecd9ab64b5 for fetching monitoring networks (Request-Id: -)
00:30:47.345 gohan.db.sql INFO [0m Executing SQL query in transaction '0a5a0aed-9687-43d0-b64d-8cecd9ab64b5': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981047 AND (history.deleted IS NULL OR history.deleted >= 1548980747)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:47.347 gohan.db.sql INFO [0m Executing SQL query in transaction '0a5a0aed-9687-43d0-b64d-8cecd9ab64b5': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:47.349 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:47.350 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:47.323062Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:47.323031Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:47Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:47.350 gohan.server.middleware INFO [0m Completed 200 OK in 25.859289ms (Request-Id: -)
00:30:47.353 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:30:47.352275Z&backscan=2019-02-01T00:25:47.352284Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35604 (Request-Id: -) data: 
[36m00:30:47.353 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:47.353 gohan.server.middleware DEBUG [0m Request body: 
00:30:47.361 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55532 (Request-Id: -) data: 
[36m00:30:47.361 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:47.361 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:47.372 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:30:47.372 gohan.server.resources INFO [0m Created transaction 8fec315e-77aa-494b-a338-fc23cf7fa3c7 for fetching monitoring ports (Request-Id: -)
00:30:47.374 gohan.db.sql INFO [0m Executing SQL query in transaction '8fec315e-77aa-494b-a338-fc23cf7fa3c7': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981047 AND (history.deleted IS NULL OR history.deleted >= 1548980747)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:47.375 gohan.db.sql INFO [0m Executing SQL query in transaction '8fec315e-77aa-494b-a338-fc23cf7fa3c7': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:30:47.377 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[238] Content-Type:[application/json]]
[36m00:30:47.377 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:47.352284Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:47.352275Z"
  },
  "resources": []
}
00:30:47.378 gohan.server.middleware INFO [0m Completed 200 OK in 24.605198ms (Request-Id: -)
[36m00:30:47.383 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:47.383 gohan.server.resources INFO [0m Created transaction 97d47b26-74f2-482e-b72e-c3081ba05782 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:47.387 gohan.server.resources INFO [0m Commited transaction 97d47b26-74f2-482e-b72e-c3081ba05782 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:47.389 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan orchestration_state:UPDATE_COMPLETE status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 security_groups:[] id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f tags:map[] fake_delete:false managed_by_service:false ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP name:sample-port allowed_address_pairs:[] admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port description: binding:vif_type:vrouter attached:true]] (Request-Id: -)
[36m00:30:47.390 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:47.391 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:47.392 gohan.server.middleware INFO [0m Completed 200 OK in 31.248252ms (Request-Id: -)
00:30:48.433 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55534 (Request-Id: -) data: 
[36m00:30:48.433 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:48.433 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:48.455 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:48.456 gohan.server.resources INFO [0m Created transaction afa6f3c2-0c78-4280-80b3-900480c72142 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:48.460 gohan.server.resources INFO [0m Commited transaction afa6f3c2-0c78-4280-80b3-900480c72142 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:48.461 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false fake_delete:false binding:vif_type:vrouter operational_state:UP mac_address:fa:16:3e:e7:7c:0f segmentation_id:1003 allowed_address_pairs:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c id:3a04e6ed-68fb-4534-8822-d5162d19f35a admin_state_up:true tags:map[] security_groups:[] orchestration_state:UPDATE_COMPLETE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] device_owner:physical_port name:sample-port]] (Request-Id: -)
[36m00:30:48.462 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:48.464 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:48.465 gohan.server.middleware INFO [0m Completed 200 OK in 32.216738ms (Request-Id: -)
00:30:49.486 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55536 (Request-Id: -) data: 
[36m00:30:49.487 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:49.487 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:49.508 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:49.509 gohan.server.resources INFO [0m Created transaction de120c1a-1c5c-43ad-a0db-82f26251a1b0 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:49.514 gohan.server.resources INFO [0m Commited transaction de120c1a-1c5c-43ad-a0db-82f26251a1b0 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:49.515 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan tags:map[] fake_delete:false security_groups:[] managed_by_service:false admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: mac_address:fa:16:3e:e7:7c:0f allowed_address_pairs:[] orchestration_state:UPDATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 status:PENDING_CREATE operational_state:UP attached:true]] (Request-Id: -)
[36m00:30:49.516 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:49.517 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:49.519 gohan.server.middleware INFO [0m Completed 200 OK in 32.512301ms (Request-Id: -)
00:30:50.539 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55538 (Request-Id: -) data: 
[36m00:30:50.540 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:50.540 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:50.559 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:50.560 gohan.server.resources INFO [0m Created transaction eaddd871-aae5-4196-aab0-66f0ff720fcd for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:50.564 gohan.server.resources INFO [0m Commited transaction eaddd871-aae5-4196-aab0-66f0ff720fcd for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:50.565 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: operational_state:UP binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f status:PENDING_CREATE device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a security_groups:[] orchestration_state:UPDATE_COMPLETE admin_state_up:true allowed_address_pairs:[] segmentation_type:vlan device_owner:physical_port name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false attached:true tags:map[] managed_by_service:false]] (Request-Id: -)
[36m00:30:50.566 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:50.568 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:50.569 gohan.server.middleware INFO [0m Completed 200 OK in 29.40735ms (Request-Id: -)
00:30:51.590 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55540 (Request-Id: -) data: 
[36m00:30:51.590 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:51.591 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:51.610 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:51.611 gohan.server.resources INFO [0m Created transaction b2931e76-b71b-47e6-9c56-8062811b9de8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:51.615 gohan.server.resources INFO [0m Commited transaction b2931e76-b71b-47e6-9c56-8062811b9de8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:51.617 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] description: attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port tags:map[] status:PENDING_CREATE binding:vif_type:vrouter id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_type:vlan managed_by_service:false ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 segmentation_id:1003 fake_delete:false security_groups:[] admin_state_up:true]] (Request-Id: -)
[36m00:30:51.618 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[964] Content-Type:[application/json]]
[36m00:30:51.619 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:51.620 gohan.server.middleware INFO [0m Completed 200 OK in 30.079284ms (Request-Id: -)
00:30:52.381 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:52.379847Z&backscan=2019-02-01T00:25:52.379863Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35616 (Request-Id: -) data: 
[36m00:30:52.381 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:52.381 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:52.399 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:52.400 gohan.server.resources INFO [0m Created transaction 835b943a-7e41-470c-bca4-e5e261771924 for fetching monitoring networks (Request-Id: -)
00:30:52.401 gohan.db.sql INFO [0m Executing SQL query in transaction '835b943a-7e41-470c-bca4-e5e261771924': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981052 AND (history.deleted IS NULL OR history.deleted >= 1548980752)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:52.403 gohan.db.sql INFO [0m Executing SQL query in transaction '835b943a-7e41-470c-bca4-e5e261771924': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:52.405 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:52.406 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:52.379863Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:52.379847Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:52Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:52.407 gohan.server.middleware INFO [0m Completed 200 OK in 26.422586ms (Request-Id: -)
00:30:52.410 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:30:52.408995Z&backscan=2019-02-01T00:25:52.409005Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35620 (Request-Id: -) data: 
[36m00:30:52.410 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:52.410 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:52.428 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:30:52.429 gohan.server.resources INFO [0m Created transaction 0b72d84e-0d54-492d-9dec-095eb31a944d for fetching monitoring ports (Request-Id: -)
00:30:52.430 gohan.db.sql INFO [0m Executing SQL query in transaction '0b72d84e-0d54-492d-9dec-095eb31a944d': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981052 AND (history.deleted IS NULL OR history.deleted >= 1548980752)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:52.432 gohan.db.sql INFO [0m Executing SQL query in transaction '0b72d84e-0d54-492d-9dec-095eb31a944d': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:30:52.433 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[238]]
[36m00:30:52.434 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:52.409005Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:52.408995Z"
  },
  "resources": []
}
00:30:52.434 gohan.server.middleware INFO [0m Completed 200 OK in 24.497109ms (Request-Id: -)
00:30:52.641 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55548 (Request-Id: -) data: 
[36m00:30:52.641 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:52.641 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:52.660 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:52.661 gohan.server.resources INFO [0m Created transaction b0ba2eb5-4285-4c49-92cc-626597584eca for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:52.666 gohan.server.resources INFO [0m Commited transaction b0ba2eb5-4285-4c49-92cc-626597584eca for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:52.667 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:UPDATE_COMPLETE admin_state_up:true allowed_address_pairs:[] operational_state:UP binding:vif_type:vrouter network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f segmentation_type:vlan status:PENDING_CREATE description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 managed_by_service:false tags:map[] name:sample-port fake_delete:false security_groups:[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c attached:true]] (Request-Id: -)
[36m00:30:52.668 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:52.669 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:52.670 gohan.server.middleware INFO [0m Completed 200 OK in 29.687228ms (Request-Id: -)
00:30:53.477 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:30:53.480 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:53.514 gohan.db.sql INFO [0m Executing SQL query in transaction '5e028503-6435-4289-b458-020e8c1de38b': 'UPDATE `ports` SET `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `attached` = true, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:30:53.519 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:30:53.523 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status PENDING_CREATE
00:30:53.535 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:30:53.536 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:30:53.537 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:30:53.537 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:30:53.538 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:30:53.542 gohan.extension.otto INFO [0m response code 409
00:30:53.542 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:30:53 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:30:53.543 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:30:53.544 gohan.server.sync WARNING [0m error during monitoring update (try #3): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:30:53.691 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55566 (Request-Id: -) data: 
[36m00:30:53.691 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:30:53.691 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:53.711 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:53.711 gohan.server.resources INFO [0m Created transaction 56b4fa60-c98d-4136-9438-fe0a66674db1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:53.716 gohan.server.resources INFO [0m Commited transaction 56b4fa60-c98d-4136-9438-fe0a66674db1 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:53.718 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[admin_state_up:true security_groups:[] status:PENDING_CREATE fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 tags:map[] orchestration_state:UPDATE_COMPLETE name:sample-port allowed_address_pairs:[] fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_type:vlan managed_by_service:false binding:vif_type:vrouter attached:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f]] (Request-Id: -)
[36m00:30:53.719 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:53.720 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:53.721 gohan.server.middleware INFO [0m Completed 200 OK in 30.361747ms (Request-Id: -)
00:30:54.742 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55568 (Request-Id: -) data: 
[36m00:30:54.742 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:54.742 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:54.762 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:54.762 gohan.server.resources INFO [0m Created transaction 4da686cf-8faf-4ba8-8892-7a082ff4637c for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:54.767 gohan.server.resources INFO [0m Commited transaction 4da686cf-8faf-4ba8-8892-7a082ff4637c for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:54.769 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[binding:vif_type:vrouter id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f segmentation_id:1003 tags:map[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 fake_delete:false operational_state:UP attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port name:sample-port admin_state_up:true segmentation_type:vlan status:PENDING_CREATE fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:UPDATE_COMPLETE managed_by_service:false allowed_address_pairs:[] security_groups:[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:30:54.770 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:54.772 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:54.773 gohan.server.middleware INFO [0m Completed 200 OK in 31.245548ms (Request-Id: -)
00:30:55.794 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55570 (Request-Id: -) data: 
[36m00:30:55.794 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:30:55.794 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:55.813 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:55.814 gohan.server.resources INFO [0m Created transaction 53671dfe-79b6-4b56-b74f-75a1e836a6d9 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:55.819 gohan.server.resources INFO [0m Commited transaction 53671dfe-79b6-4b56-b74f-75a1e836a6d9 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:55.821 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_COMPLETE admin_state_up:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 allowed_address_pairs:[] fake_delete:false tenant_id:4b4cb858859842a389d0b0c8eb567d59 attached:true name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] security_groups:[] managed_by_service:false device_owner:physical_port description: binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE]] (Request-Id: -)
[36m00:30:55.822 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:55.823 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:55.825 gohan.server.middleware INFO [0m Completed 200 OK in 30.809307ms (Request-Id: -)
00:30:56.847 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55572 (Request-Id: -) data: 
[36m00:30:56.848 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:56.848 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:56.865 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:56.866 gohan.server.resources INFO [0m Created transaction c1e2c1bc-8636-44ab-a3d7-6c2a2c5d3fad for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:56.870 gohan.server.resources INFO [0m Commited transaction c1e2c1bc-8636-44ab-a3d7-6c2a2c5d3fad for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:56.871 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[tags:map[] fake_delete:false security_groups:[] status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 attached:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a allowed_address_pairs:[] segmentation_type:vlan orchestration_state:UPDATE_COMPLETE managed_by_service:false device_owner:physical_port description: binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f]] (Request-Id: -)
[36m00:30:56.872 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:56.873 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:56.875 gohan.server.middleware INFO [0m Completed 200 OK in 27.273987ms (Request-Id: -)
00:30:57.438 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:30:57.436025Z&backscan=2019-02-01T00:25:57.436050Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35648 (Request-Id: -) data: 
[36m00:30:57.438 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:57.439 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:57.470 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:30:57.471 gohan.server.resources INFO [0m Created transaction 2c3a59a5-6876-4667-b0c8-a3f24bcf35bc for fetching monitoring networks (Request-Id: -)
00:30:57.472 gohan.db.sql INFO [0m Executing SQL query in transaction '2c3a59a5-6876-4667-b0c8-a3f24bcf35bc': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981057 AND (history.deleted IS NULL OR history.deleted >= 1548980757)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:57.475 gohan.db.sql INFO [0m Executing SQL query in transaction '2c3a59a5-6876-4667-b0c8-a3f24bcf35bc': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:30:57.477 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:30:57.478 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:57.436050Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:57.436025Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:30:57Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:30:57.479 gohan.server.middleware INFO [0m Completed 200 OK in 41.784875ms (Request-Id: -)
00:30:57.484 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:30:57.482509Z&backscan=2019-02-01T00:25:57.482523Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35650 (Request-Id: -) data: 
[36m00:30:57.484 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:57.485 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:57.505 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:30:57.505 gohan.server.resources INFO [0m Created transaction 4b644595-a6a4-4111-a512-7a9697b6383f for fetching monitoring ports (Request-Id: -)
00:30:57.507 gohan.db.sql INFO [0m Executing SQL query in transaction '4b644595-a6a4-4111-a512-7a9697b6383f': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981057 AND (history.deleted IS NULL OR history.deleted >= 1548980757)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:30:57.508 gohan.db.sql INFO [0m Executing SQL query in transaction '4b644595-a6a4-4111-a512-7a9697b6383f': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:30:57.510 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[238]]
[36m00:30:57.510 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:25:57.482523Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:30:57.482509Z"
  },
  "resources": []
}
00:30:57.510 gohan.server.middleware INFO [0m Completed 200 OK in 26.735798ms (Request-Id: -)
00:30:57.896 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55578 (Request-Id: -) data: 
[36m00:30:57.896 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:30:57.897 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:57.916 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:57.917 gohan.server.resources INFO [0m Created transaction 035060d2-b7bf-4bad-8ff1-37e2d27447f8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:57.922 gohan.server.resources INFO [0m Commited transaction 035060d2-b7bf-4bad-8ff1-37e2d27447f8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:57.924 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] operational_state:UP binding:vif_type:vrouter tags:map[] security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 allowed_address_pairs:[] segmentation_type:vlan status:PENDING_CREATE tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 fake_delete:false admin_state_up:true description: attached:true name:sample-port mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_COMPLETE]] (Request-Id: -)
[36m00:30:57.925 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:57.926 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:57.927 gohan.server.middleware INFO [0m Completed 200 OK in 31.265047ms (Request-Id: -)
00:30:58.948 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55580 (Request-Id: -) data: 
[36m00:30:58.949 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:30:58.949 gohan.server.middleware DEBUG [0m Request body: 
[36m00:30:58.967 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:30:58.968 gohan.server.resources INFO [0m Created transaction 30acf590-a7e6-4cf2-a18c-a16e272ecad5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:30:58.973 gohan.server.resources INFO [0m Commited transaction 30acf590-a7e6-4cf2-a18c-a16e272ecad5 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:30:58.974 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false binding:vif_type:vrouter attached:true ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c status:PENDING_CREATE device_owner:physical_port description: id:3a04e6ed-68fb-4534-8822-d5162d19f35a orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] tags:map[] fake_delete:false device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port segmentation_type:vlan security_groups:[] tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP mac_address:fa:16:3e:e7:7c:0f]] (Request-Id: -)
[36m00:30:58.975 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:30:58.977 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:30:58.978 gohan.server.middleware INFO [0m Completed 200 OK in 29.851473ms (Request-Id: -)
00:30:59.999 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55582 (Request-Id: -) data: 
[36m00:31:00.000 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:31:00.000 gohan.server.middleware DEBUG [0m Request body: 
00:31:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:31:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:31:00.030 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:00.031 gohan.server.resources INFO [0m Created transaction 52b662cb-e51e-4abe-830b-3bc5610cb869 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:00.035 gohan.server.resources INFO [0m Commited transaction 52b662cb-e51e-4abe-830b-3bc5610cb869 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:00.036 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[binding:vif_type:vrouter mac_address:fa:16:3e:e7:7c:0f fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 orchestration_state:UPDATE_COMPLETE managed_by_service:false allowed_address_pairs:[] admin_state_up:true security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 status:PENDING_CREATE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port tags:map[] fake_delete:false]] (Request-Id: -)
[36m00:31:00.037 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:00.039 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:00.040 gohan.server.middleware INFO [0m Completed 200 OK in 40.732201ms (Request-Id: -)
[36m00:31:00.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:31:00.053 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:31:00.054 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:31:00.057 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:31:00.060 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:31:00.064 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:31:01.061 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55584 (Request-Id: -) data: 
[36m00:31:01.062 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:01.062 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:01.081 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:01.082 gohan.server.resources INFO [0m Created transaction 0b4bb7ff-ed8f-440a-a0fc-5512b28e4002 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:01.087 gohan.server.resources INFO [0m Commited transaction 0b4bb7ff-ed8f-440a-a0fc-5512b28e4002 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:01.088 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false admin_state_up:true device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 fake_delete:false security_groups:[] status:PENDING_CREATE description: tags:map[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter operational_state:UP attached:true name:sample-port mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port]] (Request-Id: -)
[36m00:31:01.089 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:01.091 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:01.092 gohan.server.middleware INFO [0m Completed 200 OK in 30.525095ms (Request-Id: -)
00:31:02.113 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55588 (Request-Id: -) data: 
[36m00:31:02.113 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:02.113 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:02.132 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:02.132 gohan.server.resources INFO [0m Created transaction c9506948-74cb-4dc8-a37c-d417455dde03 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:02.137 gohan.server.resources INFO [0m Commited transaction c9506948-74cb-4dc8-a37c-d417455dde03 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:02.138 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] mac_address:fa:16:3e:e7:7c:0f tags:map[] orchestration_state:UPDATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 binding:vif_type:vrouter security_groups:[] status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: operational_state:UP segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port attached:true segmentation_id:1003 fake_delete:false managed_by_service:false admin_state_up:true allowed_address_pairs:[] device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:31:02.139 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:02.141 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:02.142 gohan.server.middleware INFO [0m Completed 200 OK in 29.165958ms (Request-Id: -)
00:31:02.513 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:02.512463Z&backscan=2019-02-01T00:26:02.512480Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35664 (Request-Id: -) data: 
[36m00:31:02.514 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:02.514 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:02.530 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:02.530 gohan.server.resources INFO [0m Created transaction af1d3a09-7610-4400-a2aa-df856850ecce for fetching monitoring networks (Request-Id: -)
00:31:02.532 gohan.db.sql INFO [0m Executing SQL query in transaction 'af1d3a09-7610-4400-a2aa-df856850ecce': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981062 AND (history.deleted IS NULL OR history.deleted >= 1548980762)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:02.533 gohan.db.sql INFO [0m Executing SQL query in transaction 'af1d3a09-7610-4400-a2aa-df856850ecce': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:02.535 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:02.536 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:02.512480Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:02.512463Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:02Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:02.536 gohan.server.middleware INFO [0m Completed 200 OK in 23.078728ms (Request-Id: -)
00:31:02.539 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:02.538466Z&backscan=2019-02-01T00:26:02.538477Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35666 (Request-Id: -) data: 
[36m00:31:02.540 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:02.540 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:02.556 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:02.556 gohan.server.resources INFO [0m Created transaction 1df2a9ba-ac7a-4f11-8c6a-90176a0332e9 for fetching monitoring ports (Request-Id: -)
00:31:02.557 gohan.db.sql INFO [0m Executing SQL query in transaction '1df2a9ba-ac7a-4f11-8c6a-90176a0332e9': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981062 AND (history.deleted IS NULL OR history.deleted >= 1548980762)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:02.559 gohan.db.sql INFO [0m Executing SQL query in transaction '1df2a9ba-ac7a-4f11-8c6a-90176a0332e9': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:02.560 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[238]]
[36m00:31:02.561 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:02.538477Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:02.538466Z"
  },
  "resources": []
}
00:31:02.561 gohan.server.middleware INFO [0m Completed 200 OK in 21.840955ms (Request-Id: -)
00:31:03.164 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55598 (Request-Id: -) data: 
[36m00:31:03.164 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:03.164 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:03.183 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:03.184 gohan.server.resources INFO [0m Created transaction 24e5f749-d97e-4235-b663-07b4cd2e76bf for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:03.189 gohan.server.resources INFO [0m Commited transaction 24e5f749-d97e-4235-b663-07b4cd2e76bf for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:03.190 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 allowed_address_pairs:[] segmentation_type:vlan description: device_owner:physical_port name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] tags:map[] fake_delete:false admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 segmentation_id:1003 mac_address:fa:16:3e:e7:7c:0f security_groups:[] orchestration_state:UPDATE_COMPLETE managed_by_service:false attached:true id:3a04e6ed-68fb-4534-8822-d5162d19f35a]] (Request-Id: -)
[36m00:31:03.191 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:03.192 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:03.193 gohan.server.middleware INFO [0m Completed 200 OK in 29.436894ms (Request-Id: -)
00:31:03.544 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:03.548 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:03.580 gohan.db.sql INFO [0m Executing SQL query in transaction '7b19f71f-3078-4242-997d-68083855b921': 'UPDATE `ports` SET `operational_state` = UP, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `mac_address` = fa:16:3e:e7:7c:0f, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:03.585 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:03.589 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status PENDING_CREATE
00:31:03.599 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:03.601 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:03.602 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:31:03.602 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:31:03.603 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:03.608 gohan.extension.otto INFO [0m response code 409
00:31:03.609 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:03 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:03.610 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:03.610 gohan.server.sync WARNING [0m error during monitoring update (try #4): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:04.215 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55602 (Request-Id: -) data: 
[36m00:31:04.215 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:04.216 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:04.245 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:04.245 gohan.server.resources INFO [0m Created transaction ada9e467-1bed-4a78-b122-14948b577615 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:04.253 gohan.server.resources INFO [0m Commited transaction ada9e467-1bed-4a78-b122-14948b577615 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:04.256 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 status:PENDING_CREATE operational_state:UP attached:true name:sample-port segmentation_type:vlan orchestration_state:UPDATE_COMPLETE network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 mac_address:fa:16:3e:e7:7c:0f managed_by_service:false tags:map[] fake_delete:false security_groups:[] admin_state_up:true device_owner:physical_port description: fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] allowed_address_pairs:[] id:3a04e6ed-68fb-4534-8822-d5162d19f35a]] (Request-Id: -)
[36m00:31:04.257 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:04.259 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:04.261 gohan.server.middleware INFO [0m Completed 200 OK in 46.871674ms (Request-Id: -)
00:31:05.285 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55604 (Request-Id: -) data: 
[36m00:31:05.285 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:05.285 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:05.305 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:05.305 gohan.server.resources INFO [0m Created transaction c050babe-c5d1-4f73-a6d7-5072e8bcfce2 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:05.310 gohan.server.resources INFO [0m Commited transaction c050babe-c5d1-4f73-a6d7-5072e8bcfce2 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:05.312 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] allowed_address_pairs:[] orchestration_state:UPDATE_COMPLETE status:PENDING_CREATE operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 tags:map[] security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port description: binding:vif_type:vrouter attached:true managed_by_service:false admin_state_up:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 mac_address:fa:16:3e:e7:7c:0f segmentation_type:vlan fake_delete:false]] (Request-Id: -)
[36m00:31:05.313 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:05.314 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:05.315 gohan.server.middleware INFO [0m Completed 200 OK in 30.641726ms (Request-Id: -)
00:31:06.336 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55606 (Request-Id: -) data: 
[36m00:31:06.336 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:06.336 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:06.353 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:06.353 gohan.server.resources INFO [0m Created transaction 3f6a41d8-9638-40ee-87d9-5aad425ce3d9 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:06.360 gohan.server.resources INFO [0m Commited transaction 3f6a41d8-9638-40ee-87d9-5aad425ce3d9 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:06.362 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[security_groups:[] operational_state:UP fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 allowed_address_pairs:[] segmentation_type:vlan tags:map[] managed_by_service:false name:sample-port mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_COMPLETE device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 admin_state_up:true fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE]] (Request-Id: -)
[36m00:31:06.364 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:06.366 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:06.368 gohan.server.middleware INFO [0m Completed 200 OK in 32.32613ms (Request-Id: -)
00:31:07.389 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55608 (Request-Id: -) data: 
[36m00:31:07.389 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:07.389 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:07.407 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:07.408 gohan.server.resources INFO [0m Created transaction 6abe61c1-c213-42d1-8a67-07c7bab66925 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:07.414 gohan.server.resources INFO [0m Commited transaction 6abe61c1-c213-42d1-8a67-07c7bab66925 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:07.416 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port security_groups:[] segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c attached:true device_owner:physical_port status:PENDING_CREATE device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 managed_by_service:false allowed_address_pairs:[] tags:map[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: tenant_id:4b4cb858859842a389d0b0c8eb567d59 mac_address:fa:16:3e:e7:7c:0f fake_delete:false orchestration_state:UPDATE_COMPLETE operational_state:UP binding:vif_type:vrouter id:3a04e6ed-68fb-4534-8822-d5162d19f35a admin_state_up:true]] (Request-Id: -)
[36m00:31:07.417 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:07.419 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:07.421 gohan.server.middleware INFO [0m Completed 200 OK in 32.185605ms (Request-Id: -)
00:31:07.564 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:07.563254Z&backscan=2019-02-01T00:26:07.563275Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35684 (Request-Id: -) data: 
[36m00:31:07.565 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:07.565 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:07.581 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:07.581 gohan.server.resources INFO [0m Created transaction b11c937b-7881-4293-b83c-dc92ec91a5e5 for fetching monitoring networks (Request-Id: -)
00:31:07.583 gohan.db.sql INFO [0m Executing SQL query in transaction 'b11c937b-7881-4293-b83c-dc92ec91a5e5': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981067 AND (history.deleted IS NULL OR history.deleted >= 1548980767)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:07.585 gohan.db.sql INFO [0m Executing SQL query in transaction 'b11c937b-7881-4293-b83c-dc92ec91a5e5': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:07.586 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:07.587 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:07.563275Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:07.563254Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:07Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:07.588 gohan.server.middleware INFO [0m Completed 200 OK in 23.229787ms (Request-Id: -)
00:31:07.590 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:07.589715Z&backscan=2019-02-01T00:26:07.589725Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35686 (Request-Id: -) data: 
[36m00:31:07.591 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:07.591 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:07.607 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:07.608 gohan.server.resources INFO [0m Created transaction 54d637e3-323f-41ff-8869-29a2e677d304 for fetching monitoring ports (Request-Id: -)
00:31:07.609 gohan.db.sql INFO [0m Executing SQL query in transaction '54d637e3-323f-41ff-8869-29a2e677d304': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981067 AND (history.deleted IS NULL OR history.deleted >= 1548980767)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:07.611 gohan.db.sql INFO [0m Executing SQL query in transaction '54d637e3-323f-41ff-8869-29a2e677d304': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:07.612 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[238]]
[36m00:31:07.613 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:07.589725Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:07.589715Z"
  },
  "resources": []
}
00:31:07.613 gohan.server.middleware INFO [0m Completed 200 OK in 22.481778ms (Request-Id: -)
00:31:08.441 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55614 (Request-Id: -) data: 
[36m00:31:08.441 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:08.442 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:08.459 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:08.459 gohan.server.resources INFO [0m Created transaction 21ad9ff8-60c5-49d8-8d1e-992efb7f7b6a for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:08.465 gohan.server.resources INFO [0m Commited transaction 21ad9ff8-60c5-49d8-8d1e-992efb7f7b6a for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:08.467 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[attached:true device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c segmentation_id:1003 allowed_address_pairs:[] segmentation_type:vlan fake_delete:false binding:vif_type:vrouter fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:PENDING_CREATE operational_state:UP orchestration_state:UPDATE_COMPLETE tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a tags:map[] security_groups:[] managed_by_service:false]] (Request-Id: -)
[36m00:31:08.468 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:08.469 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:08.470 gohan.server.middleware INFO [0m Completed 200 OK in 29.038135ms (Request-Id: -)
00:31:09.491 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55616 (Request-Id: -) data: 
[36m00:31:09.491 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:09.492 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:09.522 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:09.523 gohan.server.resources INFO [0m Created transaction 4571ff28-6d79-4b60-bdfa-3642714933d2 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:09.528 gohan.server.resources INFO [0m Commited transaction 4571ff28-6d79-4b60-bdfa-3642714933d2 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:09.530 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_type:vlan tags:map[] security_groups:[] orchestration_state:UPDATE_COMPLETE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 binding:vif_type:vrouter mac_address:fa:16:3e:e7:7c:0f network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 tenant_id:4b4cb858859842a389d0b0c8eb567d59 description: name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a admin_state_up:true allowed_address_pairs:[] status:PENDING_CREATE attached:true device_owner:physical_port device_id:c13acfa3-6780-4f53-90da-492dfd697e69 fake_delete:false managed_by_service:false]] (Request-Id: -)
[36m00:31:09.531 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[964] Content-Type:[application/json]]
[36m00:31:09.532 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:09.533 gohan.server.middleware INFO [0m Completed 200 OK in 42.623615ms (Request-Id: -)
00:31:10.554 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55618 (Request-Id: -) data: 
[36m00:31:10.554 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:10.555 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:10.579 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:10.580 gohan.server.resources INFO [0m Created transaction 2d184e68-c403-41b0-83e3-8015ebc2d5ae for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:10.585 gohan.server.resources INFO [0m Commited transaction 2d184e68-c403-41b0-83e3-8015ebc2d5ae for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:10.586 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a status:PENDING_CREATE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003 fake_delete:false security_groups:[] orchestration_state:UPDATE_COMPLETE tags:map[] name:sample-port fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] mac_address:fa:16:3e:e7:7c:0f managed_by_service:false admin_state_up:true segmentation_type:vlan operational_state:UP device_owner:physical_port allowed_address_pairs:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:31:10.587 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:10.588 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:10.589 gohan.server.middleware INFO [0m Completed 200 OK in 35.47508ms (Request-Id: -)
00:31:11.612 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55620 (Request-Id: -) data: 
[36m00:31:11.612 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:11.612 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:11.635 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:11.636 gohan.server.resources INFO [0m Created transaction d3d3b0ff-bc6f-4f2f-807e-2d6b9effce8d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:11.642 gohan.server.resources INFO [0m Commited transaction d3d3b0ff-bc6f-4f2f-807e-2d6b9effce8d for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:11.643 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[name:sample-port security_groups:[] allowed_address_pairs:[] segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fake_delete:false orchestration_state:UPDATE_COMPLETE admin_state_up:true tags:map[] device_owner:physical_port mac_address:fa:16:3e:e7:7c:0f status:PENDING_CREATE description: attached:true fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]]]] (Request-Id: -)
[36m00:31:11.644 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:11.645 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:11.647 gohan.server.middleware INFO [0m Completed 200 OK in 35.264802ms (Request-Id: -)
00:31:12.616 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:12.614789Z&backscan=2019-02-01T00:26:12.614807Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35700 (Request-Id: -) data: 
[36m00:31:12.616 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:12.616 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:12.634 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:12.635 gohan.server.resources INFO [0m Created transaction 9a0075da-5a5e-4fbc-9c96-ca084c31c474 for fetching monitoring networks (Request-Id: -)
00:31:12.637 gohan.db.sql INFO [0m Executing SQL query in transaction '9a0075da-5a5e-4fbc-9c96-ca084c31c474': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981072 AND (history.deleted IS NULL OR history.deleted >= 1548980772)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:12.638 gohan.db.sql INFO [0m Executing SQL query in transaction '9a0075da-5a5e-4fbc-9c96-ca084c31c474': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:12.640 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:12.641 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:12.614807Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:12.614789Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:12Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:12.641 gohan.server.middleware INFO [0m Completed 200 OK in 25.698553ms (Request-Id: -)
00:31:12.644 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:12.643380Z&backscan=2019-02-01T00:26:12.643390Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35702 (Request-Id: -) data: 
[36m00:31:12.645 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:12.645 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:12.662 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:12.663 gohan.server.resources INFO [0m Created transaction cfdd460c-9642-4e23-8ba2-da17cfeccc17 for fetching monitoring ports (Request-Id: -)
00:31:12.665 gohan.db.sql INFO [0m Executing SQL query in transaction 'cfdd460c-9642-4e23-8ba2-da17cfeccc17': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981072 AND (history.deleted IS NULL OR history.deleted >= 1548980772)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:12.666 gohan.db.sql INFO [0m Executing SQL query in transaction 'cfdd460c-9642-4e23-8ba2-da17cfeccc17': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:12.668 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[238] Content-Type:[application/json]]
00:31:12.668 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55630 (Request-Id: -) data: 
[36m00:31:12.668 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:12.668 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:12.669 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:12.643390Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:12.643380Z"
  },
  "resources": []
}
00:31:12.669 gohan.server.middleware INFO [0m Completed 200 OK in 24.595336ms (Request-Id: -)
[36m00:31:12.690 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:12.690 gohan.server.resources INFO [0m Created transaction 7ef524dd-df43-44ff-935a-d12e703d3f48 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:12.695 gohan.server.resources INFO [0m Commited transaction 7ef524dd-df43-44ff-935a-d12e703d3f48 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:12.697 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[segmentation_type:vlan tags:map[] security_groups:[] orchestration_state:UPDATE_COMPLETE fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] mac_address:fa:16:3e:e7:7c:0f device_id:c13acfa3-6780-4f53-90da-492dfd697e69 managed_by_service:false fake_delete:false status:PENDING_CREATE device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: operational_state:UP allowed_address_pairs:[] attached:true name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a admin_state_up:true network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59 segmentation_id:1003]] (Request-Id: -)
[36m00:31:12.698 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:12.699 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:12.700 gohan.server.middleware INFO [0m Completed 200 OK in 31.909859ms (Request-Id: -)
00:31:13.611 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:13.614 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:13.649 gohan.db.sql INFO [0m Executing SQL query in transaction '551f1303-40df-40c5-ad1a-13d151d9edeb': 'UPDATE `ports` SET `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = PENDING_CREATE, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:13.654 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:13.657 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status PENDING_CREATE
00:31:13.669 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:13.671 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:13.672 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:31:13.672 gohan.extension.otto DEBUG [0m post data map[resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59]
[36m00:31:13.672 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:13.678 gohan.extension.otto INFO [0m response code 409
00:31:13.679 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:13 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:13.680 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:13.681 gohan.server.sync WARNING [0m error during monitoring update (try #5): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:13.723 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55646 (Request-Id: -) data: 
[36m00:31:13.723 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:13.724 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:13.745 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:13.746 gohan.server.resources INFO [0m Created transaction 48929c35-738b-4399-9264-0f282a3b6eb6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:13.751 gohan.server.resources INFO [0m Commited transaction 48929c35-738b-4399-9264-0f282a3b6eb6 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:13.752 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[mac_address:fa:16:3e:e7:7c:0f tags:map[] operational_state:UP device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 managed_by_service:false allowed_address_pairs:[] segmentation_type:vlan attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port security_groups:[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: binding:vif_type:vrouter fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 orchestration_state:UPDATE_COMPLETE admin_state_up:true status:PENDING_CREATE device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]]]] (Request-Id: -)
[36m00:31:13.753 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:13.755 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:13.756 gohan.server.middleware INFO [0m Completed 200 OK in 32.699954ms (Request-Id: -)
00:31:14.782 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55648 (Request-Id: -) data: 
[36m00:31:14.782 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:14.782 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:14.804 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:14.804 gohan.server.resources INFO [0m Created transaction b22879ba-fb55-47d3-8be1-0a29bfd0c879 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:14.809 gohan.server.resources INFO [0m Commited transaction b22879ba-fb55-47d3-8be1-0a29bfd0c879 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:14.810 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[description: mac_address:fa:16:3e:e7:7c:0f orchestration_state:UPDATE_COMPLETE status:PENDING_CREATE operational_state:UP attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] managed_by_service:false fake_delete:false security_groups:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 segmentation_id:1003 admin_state_up:true binding:vif_type:vrouter ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 name:sample-port allowed_address_pairs:[] segmentation_type:vlan tags:map[] device_owner:physical_port]] (Request-Id: -)
[36m00:31:14.811 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:14.812 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:14.814 gohan.server.middleware INFO [0m Completed 200 OK in 31.719352ms (Request-Id: -)
00:31:15.834 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55650 (Request-Id: -) data: 
[36m00:31:15.835 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:15.835 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:15.856 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:15.856 gohan.server.resources INFO [0m Created transaction b46e9456-32ff-445b-b828-34289477e3db for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:15.862 gohan.server.resources INFO [0m Commited transaction b46e9456-32ff-445b-b828-34289477e3db for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:15.863 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[admin_state_up:true segmentation_type:vlan status:PENDING_CREATE device_owner:physical_port name:sample-port managed_by_service:false attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c mac_address:fa:16:3e:e7:7c:0f fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] tags:map[] operational_state:UP id:3a04e6ed-68fb-4534-8822-d5162d19f35a device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 security_groups:[] orchestration_state:UPDATE_COMPLETE allowed_address_pairs:[] fake_delete:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 description: binding:vif_type:vrouter]] (Request-Id: -)
[36m00:31:15.864 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:15.866 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:15.867 gohan.server.middleware INFO [0m Completed 200 OK in 32.708076ms (Request-Id: -)
00:31:16.888 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55652 (Request-Id: -) data: 
[36m00:31:16.888 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:16.888 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:16.907 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:16.908 gohan.server.resources INFO [0m Created transaction ed700f7c-ad29-4da3-8ebc-419599618bb0 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:16.912 gohan.server.resources INFO [0m Commited transaction ed700f7c-ad29-4da3-8ebc-419599618bb0 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:16.914 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[mac_address:fa:16:3e:e7:7c:0f security_groups:[] segmentation_type:vlan description: device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a segmentation_id:1003 admin_state_up:true allowed_address_pairs:[] binding:vif_type:vrouter name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] fake_delete:false tags:map[] status:PENDING_CREATE attached:true orchestration_state:UPDATE_COMPLETE managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c operational_state:UP tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_id:c13acfa3-6780-4f53-90da-492dfd697e69]] (Request-Id: -)
[36m00:31:16.915 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:16.916 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:16.917 gohan.server.middleware INFO [0m Completed 200 OK in 29.311525ms (Request-Id: -)
00:31:17.672 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:17.670855Z&backscan=2019-02-01T00:26:17.670881Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35728 (Request-Id: -) data: 
[36m00:31:17.673 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:31:17.673 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:17.692 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:17.692 gohan.server.resources INFO [0m Created transaction fec3343d-fe4b-4e1a-88c8-659c63e0eabc for fetching monitoring networks (Request-Id: -)
00:31:17.694 gohan.db.sql INFO [0m Executing SQL query in transaction 'fec3343d-fe4b-4e1a-88c8-659c63e0eabc': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981077 AND (history.deleted IS NULL OR history.deleted >= 1548980777)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:17.695 gohan.db.sql INFO [0m Executing SQL query in transaction 'fec3343d-fe4b-4e1a-88c8-659c63e0eabc': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:17.697 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:17.698 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:17.670881Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:17.670855Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:17Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:17.698 gohan.server.middleware INFO [0m Completed 200 OK in 26.061833ms (Request-Id: -)
00:31:17.701 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:17.700487Z&backscan=2019-02-01T00:26:17.700498Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35730 (Request-Id: -) data: 
[36m00:31:17.701 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:17.702 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:17.719 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:17.719 gohan.server.resources INFO [0m Created transaction c2513d73-a4b9-434b-934d-df43c488f87f for fetching monitoring ports (Request-Id: -)
00:31:17.720 gohan.db.sql INFO [0m Executing SQL query in transaction 'c2513d73-a4b9-434b-934d-df43c488f87f': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981077 AND (history.deleted IS NULL OR history.deleted >= 1548980777)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:17.722 gohan.db.sql INFO [0m Executing SQL query in transaction 'c2513d73-a4b9-434b-934d-df43c488f87f': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:17.725 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[238]]
[36m00:31:17.725 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:17.700498Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:17.700487Z"
  },
  "resources": []
}
00:31:17.725 gohan.server.middleware INFO [0m Completed 200 OK in 24.26771ms (Request-Id: -)
00:31:17.941 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55658 (Request-Id: -) data: 
[36m00:31:17.941 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:31:17.942 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:17.963 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:17.963 gohan.server.resources INFO [0m Created transaction 24ac9b75-697c-4d1a-9892-65de7b1a263e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:17.969 gohan.server.resources INFO [0m Commited transaction 24ac9b75-697c-4d1a-9892-65de7b1a263e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:17.971 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a managed_by_service:false operational_state:UP binding:vif_type:vrouter allowed_address_pairs:[] device_id:c13acfa3-6780-4f53-90da-492dfd697e69 mac_address:fa:16:3e:e7:7c:0f fake_delete:false security_groups:[] segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] tags:map[] orchestration_state:UPDATE_COMPLETE description: attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port segmentation_id:1003 admin_state_up:true status:PENDING_CREATE]] (Request-Id: -)
[36m00:31:17.972 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:17.973 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:17.974 gohan.server.middleware INFO [0m Completed 200 OK in 33.396924ms (Request-Id: -)
00:31:18.996 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55660 (Request-Id: -) data: 
[36m00:31:18.996 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:18.996 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:19.017 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:19.018 gohan.server.resources INFO [0m Created transaction b35f4eb1-8b0e-4978-9973-346fe9818e7b for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:19.023 gohan.server.resources INFO [0m Commited transaction b35f4eb1-8b0e-4978-9973-346fe9818e7b for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:19.025 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f managed_by_service:false status:PENDING_CREATE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:sample-port segmentation_type:vlan network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 allowed_address_pairs:[] tags:map[] description: operational_state:UP fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_id:1003 admin_state_up:true fake_delete:false security_groups:[] orchestration_state:UPDATE_COMPLETE]] (Request-Id: -)
[36m00:31:19.026 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:19.027 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:19.028 gohan.server.middleware INFO [0m Completed 200 OK in 32.721353ms (Request-Id: -)
00:31:20.049 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55662 (Request-Id: -) data: 
[36m00:31:20.049 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:20.049 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:20.071 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:20.071 gohan.server.resources INFO [0m Created transaction 2eadfe90-eb91-4e20-a9ca-71d0fdc4fd7e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:20.077 gohan.server.resources INFO [0m Commited transaction 2eadfe90-eb91-4e20-a9ca-71d0fdc4fd7e for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:20.079 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] segmentation_type:vlan security_groups:[] managed_by_service:false description: operational_state:UP name:sample-port segmentation_id:1003 tags:map[] fake_delete:false orchestration_state:UPDATE_COMPLETE admin_state_up:true status:PENDING_CREATE attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 mac_address:fa:16:3e:e7:7c:0f allowed_address_pairs:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 device_owner:physical_port ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c]] (Request-Id: -)
[36m00:31:20.080 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[964]]
[36m00:31:20.081 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:20.082 gohan.server.middleware INFO [0m Completed 200 OK in 33.194698ms (Request-Id: -)
[36m00:31:20.251 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c map[logical_port:UP version:1]
00:31:20.252 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c map[logical_port:UP version:1] started
00:31:20.257 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c with index 400
00:31:20.285 gohan.db.sql INFO [0m Executing SQL query in transaction '8baf9ca4-5b0f-46d0-8920-33c73f1d4ad1': 'UPDATE `ese_logical_ports` SET `gw_interface_id` = <nil>, `id` = 74522211-c8db-41b6-8a35-4fac9656713c, `status` = PENDING_CREATE, `operational_state` = NO_STATE, `vlan_id` = 1003, `description` = ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a, `type` = L2, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `ese_physical_port_id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `tags` = {}, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `port_ids` = ["3a04e6ed-68fb-4534-8822-d5162d19f35a"], `orchestration_state` = CREATE_COMPLETE, `name` = xe-0/0/1.1003, `common_function_gateway_id` = <nil>, `connected_resource` = port, ese_physical_port_id = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"17a787f7-e191-48c3-adaf-692a20a3768f\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": \"46b0cd68-d0fb-4d72-9def-830164f9e215\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/17a787f7-e191-48c3-adaf-692a20a3768f\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}, {\"output_value\": \"xe-0/0/38.0\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","orchestration_state":"CREATE_COMPLETE","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"logical_port":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 74522211-c8db-41b6-8a35-4fac9656713c'
00:31:20.290 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"logical_port": "UP"
} for ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c
00:31:20.290 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction INFO [0m <change_state>: Operational state changed from NO_STATE to UP.
[36m00:31:20.291 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction DEBUG [0m <ese_logical_port_state_machine>: calculating ese_logical_port (74522211-c8db-41b6-8a35-4fac9656713c) status with orchestration_state CREATE_COMPLETE and operational_state UP
00:31:20.293 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction INFO [0m <update_resource_status>: ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c status changed from PENDING_CREATE to ACTIVE.
00:31:20.294 gohan.db.sql INFO [0m Executing SQL query in transaction '8baf9ca4-5b0f-46d0-8920-33c73f1d4ad1': 'UPDATE `ese_logical_ports` SET `name` = xe-0/0/1.1003, `common_function_gateway_id` = <nil>, `connected_resource` = port, `status` = ACTIVE, `operational_state` = UP, `vlan_id` = 1003, `description` = ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a, `gw_interface_id` = <nil>, `id` = 74522211-c8db-41b6-8a35-4fac9656713c, `type` = L2, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `port_ids` = ["3a04e6ed-68fb-4534-8822-d5162d19f35a"], `orchestration_state` = CREATE_COMPLETE, `ese_physical_port_id` = 0915a040-2f84-44fc-9083-1e2f719ae2eb, `tags` = {}, ese_physical_port_id = 0915a040-2f84-44fc-9083-1e2f719ae2eb WHERE id = 74522211-c8db-41b6-8a35-4fac9656713c'
00:31:20.298 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction INFO [0m <ese_logical_port_state_machine_handler>: Chaining state transition to port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:20.299 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status ACTIVE
00:31:20.301 gohan.extension.ese_logical_port.<74522211-c8db-41b6-8a35-4fac9656713c>.post_monitoring_update_in_transaction INFO [0m <update_resource_status>: port 3a04e6ed-68fb-4534-8822-d5162d19f35a status changed from PENDING_CREATE to ACTIVE.
00:31:20.302 gohan.db.sql INFO [0m Executing SQL query in transaction '8baf9ca4-5b0f-46d0-8920-33c73f1d4ad1': 'UPDATE `ports` SET `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:20.333 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c with index 400
00:31:20.333 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c completed
00:31:21.103 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55666 (Request-Id: -) data: 
[36m00:31:21.103 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:21.103 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:21.122 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:21.122 gohan.server.resources INFO [0m Created transaction 22a90487-8d96-4253-8552-65a66ec060c8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:21.127 gohan.server.resources INFO [0m Commited transaction 22a90487-8d96-4253-8552-65a66ec060c8 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:21.128 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[mac_address:fa:16:3e:e7:7c:0f allowed_address_pairs:[] segmentation_type:vlan description: attached:true device_owner:physical_port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] orchestration_state:UPDATE_COMPLETE admin_state_up:true tags:map[] status:ACTIVE ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c binding:vif_type:vrouter device_id:c13acfa3-6780-4f53-90da-492dfd697e69 segmentation_id:1003 fake_delete:false security_groups:[] managed_by_service:false network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 operational_state:UP name:sample-port id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:31:21.129 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[956]]
[36m00:31:21.130 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:21.132 gohan.server.middleware INFO [0m Completed 200 OK in 28.965802ms (Request-Id: -)
00:31:21.500 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports for client 172.20.0.23:55670 (Request-Id: -) data: {}
[36m00:31:21.500 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m00:31:21.500 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:31:21.573 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] started (Request-Id: -)
00:31:21.574 gohan.server.resources INFO [0m Created transaction 60c4d67a-1c79-4956-9336-d18eaf6da3d3 for listing ese_logical_port (Request-Id: -)
00:31:21.576 gohan.server.resources INFO [0m Commited transaction 60c4d67a-1c79-4956-9336-d18eaf6da3d3 for listing ese_logical_port (Request-Id: -)
[36m00:31:21.577 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] completed (Request-Id: -)
[36m00:31:21.577 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[751]]
[36m00:31:21.578 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_ports": [
    {
      "common_function_gateway_id": null,
      "connected_resource": "port",
      "description": "ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "ese_physical_port_id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
      "gw_interface_id": null,
      "id": "74522211-c8db-41b6-8a35-4fac9656713c",
      "name": "xe-0/0/1.1003",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "UP",
      "orchestration_state": "CREATE_COMPLETE",
      "port_ids": [
        "3a04e6ed-68fb-4534-8822-d5162d19f35a"
      ],
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
      "type": "L2",
      "vlan_id": 1003
    }
  ]
}
00:31:21.579 gohan.server.middleware INFO [0m Completed 200 OK in 79.114775ms (Request-Id: -)
00:31:21.915 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c for client 172.20.0.23:55676 (Request-Id: -) data: 
[36m00:31:21.915 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m00:31:21.915 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:21.991 gohan.server.resources DEBUG [0m Show ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c started (Request-Id: -)
00:31:21.992 gohan.server.resources INFO [0m Created transaction 5ba7ee3b-cd61-47d5-8118-9f55ccd4f92a for fetching ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c (Request-Id: -)
00:31:21.996 gohan.server.resources INFO [0m Commited transaction 5ba7ee3b-cd61-47d5-8118-9f55ccd4f92a for fetching ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c (Request-Id: -)
[36m00:31:21.997 gohan.server.resources DEBUG [0m Show ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c completed: map[ese_logical_port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 port_ids:[3a04e6ed-68fb-4534-8822-d5162d19f35a] orchestration_state:CREATE_COMPLETE ese_physical_port_id:0915a040-2f84-44fc-9083-1e2f719ae2eb status:ACTIVE vlan_id:1003 description:ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a gw_interface_id:<nil> network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 connected_resource:port operational_state:UP id:74522211-c8db-41b6-8a35-4fac9656713c type:L2 tags:map[] name:xe-0/0/1.1003 common_function_gateway_id:<nil>]] (Request-Id: -)
[36m00:31:21.998 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[702]]
[36m00:31:21.999 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "port",
    "description": "ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "ese_physical_port_id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "gw_interface_id": null,
    "id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "name": "xe-0/0/1.1003",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "port_ids": [
      "3a04e6ed-68fb-4534-8822-d5162d19f35a"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "type": "L2",
    "vlan_id": 1003
  }
}
00:31:22.000 gohan.server.middleware INFO [0m Completed 200 OK in 85.194828ms (Request-Id: -)
00:31:22.002 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/74522211-c8db-41b6-8a35-4fac9656713c for client 172.20.0.23:55680 (Request-Id: -) data: {}
[36m00:31:22.002 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:22.002 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:31:22.018 gohan.server.resources DEBUG [0m Show ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c started (Request-Id: -)
00:31:22.019 gohan.server.resources INFO [0m Created transaction 835f4083-7d7f-4fbc-9095-9c8f6af58ad4 for fetching ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c (Request-Id: -)
00:31:22.023 gohan.server.resources INFO [0m Commited transaction 835f4083-7d7f-4fbc-9095-9c8f6af58ad4 for fetching ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c (Request-Id: -)
[36m00:31:22.024 gohan.server.resources DEBUG [0m Show ese_logical_port 74522211-c8db-41b6-8a35-4fac9656713c completed: map[ese_logical_port:map[tenant_id:4b4cb858859842a389d0b0c8eb567d59 name:xe-0/0/1.1003 type:L2 network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 port_ids:[3a04e6ed-68fb-4534-8822-d5162d19f35a] common_function_gateway_id:<nil> operational_state:UP orchestration_state:CREATE_COMPLETE tags:map[] connected_resource:port description:ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a gw_interface_id:<nil> status:ACTIVE vlan_id:1003 ese_physical_port_id:0915a040-2f84-44fc-9083-1e2f719ae2eb id:74522211-c8db-41b6-8a35-4fac9656713c]] (Request-Id: -)
[36m00:31:22.025 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[702]]
[36m00:31:22.026 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "port",
    "description": "ESE Logical port for Port 3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "ese_physical_port_id": "0915a040-2f84-44fc-9083-1e2f719ae2eb",
    "gw_interface_id": null,
    "id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "name": "xe-0/0/1.1003",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "CREATE_COMPLETE",
    "port_ids": [
      "3a04e6ed-68fb-4534-8822-d5162d19f35a"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59",
    "type": "L2",
    "vlan_id": 1003
  }
}
00:31:22.027 gohan.server.middleware INFO [0m Completed 200 OK in 24.920625ms (Request-Id: -)
00:31:22.729 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:22.727452Z&backscan=2019-02-01T00:26:22.727470Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35762 (Request-Id: -) data: 
[36m00:31:22.729 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:31:22.729 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:22.745 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:22.746 gohan.server.resources INFO [0m Created transaction efca8d4b-ade4-46a8-8db9-aba8f3ecade8 for fetching monitoring networks (Request-Id: -)
00:31:22.747 gohan.db.sql INFO [0m Executing SQL query in transaction 'efca8d4b-ade4-46a8-8db9-aba8f3ecade8': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981082 AND (history.deleted IS NULL OR history.deleted >= 1548980782)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:22.749 gohan.db.sql INFO [0m Executing SQL query in transaction 'efca8d4b-ade4-46a8-8db9-aba8f3ecade8': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:22.750 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:22.751 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:22.727470Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:22.727452Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:22Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:22.752 gohan.server.middleware INFO [0m Completed 200 OK in 22.958815ms (Request-Id: -)
00:31:22.756 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:22.754770Z&backscan=2019-02-01T00:26:22.754780Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35766 (Request-Id: -) data: 
[36m00:31:22.756 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:22.756 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:22.773 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:22.774 gohan.server.resources INFO [0m Created transaction 5c682da8-415f-48da-a1c9-88f291503ee2 for fetching monitoring ports (Request-Id: -)
00:31:22.775 gohan.db.sql INFO [0m Executing SQL query in transaction '5c682da8-415f-48da-a1c9-88f291503ee2': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981082 AND (history.deleted IS NULL OR history.deleted >= 1548980782)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:22.777 gohan.db.sql INFO [0m Executing SQL query in transaction '5c682da8-415f-48da-a1c9-88f291503ee2': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:22.778 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:22.779 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:22.754780Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:22.754770Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:22Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:22.780 gohan.server.middleware INFO [0m Completed 200 OK in 23.814882ms (Request-Id: -)
00:31:23.682 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:23.686 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:23.734 gohan.db.sql INFO [0m Executing SQL query in transaction '017c9c68-921b-4348-b37d-3d1ad8f0899f': 'UPDATE `ports` SET `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:23.739 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:23.743 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status ACTIVE
00:31:23.753 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:23.755 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:23.756 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:31:23.756 gohan.extension.otto DEBUG [0m post data map[resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59]
[36m00:31:23.757 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:23.761 gohan.extension.otto INFO [0m response code 409
00:31:23.762 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:23 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:23.764 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:23.764 gohan.server.sync WARNING [0m error during monitoring update (try #6): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:24.525 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55718 (Request-Id: -) data: 
[36m00:31:24.525 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m00:31:24.525 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:24.596 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:24.596 gohan.server.resources INFO [0m Created transaction 687ded28-bf00-4a6e-b068-da79c973af37 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:24.601 gohan.server.resources INFO [0m Commited transaction 687ded28-bf00-4a6e-b068-da79c973af37 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:24.603 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[managed_by_service:false admin_state_up:true segmentation_type:vlan operational_state:UP tenant_id:4b4cb858859842a389d0b0c8eb567d59 device_owner:physical_port name:sample-port segmentation_id:1003 id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f fake_delete:false tags:map[] ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c attached:true fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 status:ACTIVE device_id:c13acfa3-6780-4f53-90da-492dfd697e69 allowed_address_pairs:[] orchestration_state:UPDATE_COMPLETE description: binding:vif_type:vrouter security_groups:[]]] (Request-Id: -)
[36m00:31:24.604 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[956] Content-Type:[application/json]]
[36m00:31:24.605 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:24.606 gohan.server.middleware INFO [0m Completed 200 OK in 81.237148ms (Request-Id: -)
00:31:24.608 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55722 (Request-Id: -) data: {}
[36m00:31:24.608 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m00:31:24.608 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:31:24.625 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:24.625 gohan.server.resources INFO [0m Created transaction 7fd27792-2cd1-4694-8a00-ea5ac0245715 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:24.631 gohan.server.resources INFO [0m Commited transaction 7fd27792-2cd1-4694-8a00-ea5ac0245715 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:24.632 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[admin_state_up:true attached:true tenant_id:4b4cb858859842a389d0b0c8eb567d59 mac_address:fa:16:3e:e7:7c:0f fake_delete:false managed_by_service:false status:ACTIVE operational_state:UP name:sample-port fixed_ips:[map[ip_address:192.168.200.101 subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe]] allowed_address_pairs:[] tags:map[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c description: segmentation_id:1003 device_id:c13acfa3-6780-4f53-90da-492dfd697e69 id:3a04e6ed-68fb-4534-8822-d5162d19f35a security_groups:[] orchestration_state:UPDATE_COMPLETE segmentation_type:vlan binding:vif_type:vrouter device_owner:physical_port]] (Request-Id: -)
[36m00:31:24.633 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[956]]
[36m00:31:24.634 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:24.635 gohan.server.middleware INFO [0m Completed 200 OK in 27.347716ms (Request-Id: -)
00:31:27.046 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.20.0.23:55746 (Request-Id: -) data: {}
[36m00:31:27.046 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:27.047 gohan.server.middleware DEBUG [0m Request body: {}
[36m00:31:27.118 gohan.server.resources DEBUG [0m List port query: map[] started (Request-Id: -)
00:31:27.119 gohan.server.resources INFO [0m Created transaction ef4d97f1-0e4c-45ea-88d7-ccdb8ef74ae5 for listing port (Request-Id: -)
00:31:27.122 gohan.server.resources INFO [0m Commited transaction ef4d97f1-0e4c-45ea-88d7-ccdb8ef74ae5 for listing port (Request-Id: -)
[36m00:31:27.123 gohan.server.resources DEBUG [0m List port query: map[] completed (Request-Id: -)
[36m00:31:27.123 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[2] Content-Length:[2010]]
[36m00:31:27.125 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
      "device_owner": "physical_port",
      "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.101",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "mac_address": "fa:16:3e:e7:7c:0f",
      "managed_by_service": false,
      "name": "sample-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "UP",
      "orchestration_state": "UPDATE_COMPLETE",
      "security_groups": [],
      "segmentation_id": 1003,
      "segmentation_type": "vlan",
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.2",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "e50e0cef-49cc-4231-8331-d1119e2dea5a",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "",
      "orchestration_state": "SYNC_COMPLETE",
      "security_groups": [],
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    }
  ]
}
00:31:27.128 gohan.server.middleware INFO [0m Completed 200 OK in 81.586071ms (Request-Id: -)
00:31:27.783 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:27.781717Z&backscan=2019-02-01T00:26:27.781735Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35824 (Request-Id: -) data: 
[36m00:31:27.783 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:27.783 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:27.801 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:27.802 gohan.server.resources INFO [0m Created transaction f3fc89f9-fbfe-4a20-bfde-4f0bda1893ea for fetching monitoring networks (Request-Id: -)
00:31:27.803 gohan.db.sql INFO [0m Executing SQL query in transaction 'f3fc89f9-fbfe-4a20-bfde-4f0bda1893ea': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981087 AND (history.deleted IS NULL OR history.deleted >= 1548980787)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:27.805 gohan.db.sql INFO [0m Executing SQL query in transaction 'f3fc89f9-fbfe-4a20-bfde-4f0bda1893ea': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:27.807 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:27.808 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:27.781735Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:27.781717Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:27Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:27.808 gohan.server.middleware INFO [0m Completed 200 OK in 25.67966ms (Request-Id: -)
00:31:27.811 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:27.810262Z&backscan=2019-02-01T00:26:27.810272Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35826 (Request-Id: -) data: 
[36m00:31:27.812 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:27.812 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:27.830 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:27.831 gohan.server.resources INFO [0m Created transaction 37bdb1db-1298-4564-8753-2842e23f5c8c for fetching monitoring ports (Request-Id: -)
00:31:27.832 gohan.db.sql INFO [0m Executing SQL query in transaction '37bdb1db-1298-4564-8753-2842e23f5c8c': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981087 AND (history.deleted IS NULL OR history.deleted >= 1548980787)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:27.834 gohan.db.sql INFO [0m Executing SQL query in transaction '37bdb1db-1298-4564-8753-2842e23f5c8c': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:27.836 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:27.836 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:27.810272Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:27.810262Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:27Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:27.837 gohan.server.middleware INFO [0m Completed 200 OK in 25.588613ms (Request-Id: -)
00:31:27.934 gohan.server.middleware INFO [0m Started GET /v2.0/ports.json for client 172.20.0.23:55756 (Request-Id: -) data: 
[36m00:31:27.934 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Connection:[keep-alive] Accept-Encoding:[gzip, deflate] Accept:[application/json] User-Agent:[python-neutronclient]]
[36m00:31:27.934 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:28.013 gohan.server.resources DEBUG [0m List port query: map[] started (Request-Id: -)
00:31:28.014 gohan.server.resources INFO [0m Created transaction 294827a5-5530-4065-9048-ae25fa98397b for listing port (Request-Id: -)
00:31:28.017 gohan.server.resources INFO [0m Commited transaction 294827a5-5530-4065-9048-ae25fa98397b for listing port (Request-Id: -)
[36m00:31:28.018 gohan.server.resources DEBUG [0m List port query: map[] completed (Request-Id: -)
[36m00:31:28.018 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[2] Content-Length:[2010]]
[36m00:31:28.020 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
      "device_owner": "physical_port",
      "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.101",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "mac_address": "fa:16:3e:e7:7c:0f",
      "managed_by_service": false,
      "name": "sample-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "UP",
      "orchestration_state": "UPDATE_COMPLETE",
      "security_groups": [],
      "segmentation_id": 1003,
      "segmentation_type": "vlan",
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.2",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "e50e0cef-49cc-4231-8331-d1119e2dea5a",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "",
      "orchestration_state": "SYNC_COMPLETE",
      "security_groups": [],
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    }
  ]
}
00:31:28.023 gohan.server.middleware INFO [0m Completed 200 OK in 89.565788ms (Request-Id: -)
00:31:28.819 gohan.server.middleware INFO [0m Started GET /v2.0/ports.json?fields=id&id=3a04e6ed-68fb-4534-8822-d5162d19f35a for client 172.20.0.23:55762 (Request-Id: -) data: 
[36m00:31:28.819 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Connection:[keep-alive] Accept-Encoding:[gzip, deflate] Accept:[application/json] User-Agent:[python-neutronclient]]
[36m00:31:28.819 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:28.890 gohan.server.resources DEBUG [0m List port query: map[fields:[id] id:[3a04e6ed-68fb-4534-8822-d5162d19f35a]] started (Request-Id: -)
00:31:28.890 gohan.server.resources INFO [0m Ignoring filter key: Invalid filter key: resource 'port' does not have property 'fields'
00:31:28.891 gohan.server.resources INFO [0m Created transaction 4e29dca3-6467-4408-829f-42009ab3a5a4 for listing port (Request-Id: -)
00:31:28.894 gohan.server.resources INFO [0m Commited transaction 4e29dca3-6467-4408-829f-42009ab3a5a4 for listing port (Request-Id: -)
[36m00:31:28.895 gohan.server.resources DEBUG [0m List port query: map[fields:[id] id:[3a04e6ed-68fb-4534-8822-d5162d19f35a]] completed (Request-Id: -)
[36m00:31:28.895 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[1] Content-Length:[1025] Content-Type:[application/json]]
[36m00:31:28.896 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
      "device_owner": "physical_port",
      "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "192.168.200.101",
          "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
        }
      ],
      "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "mac_address": "fa:16:3e:e7:7c:0f",
      "managed_by_service": false,
      "name": "sample-port",
      "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "operational_state": "UP",
      "orchestration_state": "UPDATE_COMPLETE",
      "security_groups": [],
      "segmentation_id": 1003,
      "segmentation_type": "vlan",
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
    }
  ]
}
00:31:28.897 gohan.server.middleware INFO [0m Completed 200 OK in 78.876694ms (Request-Id: -)
00:31:28.901 gohan.server.middleware INFO [0m Started GET /v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a.json for client 172.20.0.23:55762 (Request-Id: -) data: 
[36m00:31:28.902 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[keep-alive] Accept-Encoding:[gzip, deflate] Accept:[application/json] User-Agent:[python-neutronclient] X-Auth-Token:[***]]
[36m00:31:28.902 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:28.918 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a started (Request-Id: -)
00:31:28.919 gohan.server.resources INFO [0m Created transaction 86ef1df7-cf7c-48d6-bcd3-cda9731d5974 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
00:31:28.924 gohan.server.resources INFO [0m Commited transaction 86ef1df7-cf7c-48d6-bcd3-cda9731d5974 for fetching port 3a04e6ed-68fb-4534-8822-d5162d19f35a (Request-Id: -)
[36m00:31:28.925 gohan.server.resources DEBUG [0m Show port 3a04e6ed-68fb-4534-8822-d5162d19f35a completed: map[port:map[device_owner:physical_port id:3a04e6ed-68fb-4534-8822-d5162d19f35a mac_address:fa:16:3e:e7:7c:0f fixed_ips:[map[subnet_id:215cb166-b0c5-4fbb-ad5f-948cb93119fe ip_address:192.168.200.101]] allowed_address_pairs:[] network_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 attached:true description: operational_state:UP name:sample-port segmentation_id:1003 admin_state_up:true tags:map[] fake_delete:false segmentation_type:vlan ese_logical_port_id:74522211-c8db-41b6-8a35-4fac9656713c device_id:c13acfa3-6780-4f53-90da-492dfd697e69 security_groups:[] orchestration_state:UPDATE_COMPLETE managed_by_service:false status:ACTIVE binding:vif_type:vrouter tenant_id:4b4cb858859842a389d0b0c8eb567d59]] (Request-Id: -)
[36m00:31:28.926 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[956]]
[36m00:31:28.927 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "c13acfa3-6780-4f53-90da-492dfd697e69",
    "device_owner": "physical_port",
    "ese_logical_port_id": "74522211-c8db-41b6-8a35-4fac9656713c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "192.168.200.101",
        "subnet_id": "215cb166-b0c5-4fbb-ad5f-948cb93119fe"
      }
    ],
    "id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
    "mac_address": "fa:16:3e:e7:7c:0f",
    "managed_by_service": false,
    "name": "sample-port",
    "network_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
    "operational_state": "UP",
    "orchestration_state": "UPDATE_COMPLETE",
    "security_groups": [],
    "segmentation_id": 1003,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
  }
}
00:31:28.928 gohan.server.middleware INFO [0m Completed 200 OK in 27.190498ms (Request-Id: -)
00:31:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:31:30.009 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:31:30.042 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:31:30.045 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
[36m00:31:30.046 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
00:31:30.047 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:31:30.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:31:30.055 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:31:32.840 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:32.839041Z&backscan=2019-02-01T00:26:32.839059Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35842 (Request-Id: -) data: 
[36m00:31:32.841 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:32.841 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:32.857 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:32.858 gohan.server.resources INFO [0m Created transaction 5a0c48e0-9ec1-4246-b81a-63756dd1842c for fetching monitoring networks (Request-Id: -)
00:31:32.859 gohan.db.sql INFO [0m Executing SQL query in transaction '5a0c48e0-9ec1-4246-b81a-63756dd1842c': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981092 AND (history.deleted IS NULL OR history.deleted >= 1548980792)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:32.861 gohan.db.sql INFO [0m Executing SQL query in transaction '5a0c48e0-9ec1-4246-b81a-63756dd1842c': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:32.863 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:32.863 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:32.839059Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:32.839041Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:32Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:32.864 gohan.server.middleware INFO [0m Completed 200 OK in 23.82189ms (Request-Id: -)
00:31:32.867 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:32.865983Z&backscan=2019-02-01T00:26:32.865993Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35844 (Request-Id: -) data: 
[36m00:31:32.867 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:32.867 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:32.882 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:32.883 gohan.server.resources INFO [0m Created transaction 79d65a40-499c-4c27-8ca6-4483b42c7c0e for fetching monitoring ports (Request-Id: -)
00:31:32.884 gohan.db.sql INFO [0m Executing SQL query in transaction '79d65a40-499c-4c27-8ca6-4483b42c7c0e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981092 AND (history.deleted IS NULL OR history.deleted >= 1548980792)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:32.886 gohan.db.sql INFO [0m Executing SQL query in transaction '79d65a40-499c-4c27-8ca6-4483b42c7c0e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:32.887 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:32.888 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:32.865993Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:32.865983Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:32Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:32.889 gohan.server.middleware INFO [0m Completed 200 OK in 22.040163ms (Request-Id: -)
00:31:33.765 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:33.770 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:33.804 gohan.db.sql INFO [0m Executing SQL query in transaction '5ea60d7f-b1fe-47d8-be97-8764d5624d17': 'UPDATE `ports` SET `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `binding:vif_type` = vrouter, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:33.809 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:33.813 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status ACTIVE
00:31:33.826 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:33.828 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:33.829 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:31:33.829 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:31:33.829 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:33.833 gohan.extension.otto INFO [0m response code 409
00:31:33.834 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:33 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:33.834 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:33.835 gohan.server.sync WARNING [0m error during monitoring update (try #7): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:37.892 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:37.890707Z&backscan=2019-02-01T00:26:37.890736Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35860 (Request-Id: -) data: 
[36m00:31:37.892 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:37.892 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:37.908 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:37.908 gohan.server.resources INFO [0m Created transaction b535d7d0-10c0-452e-9311-8206a3f3c087 for fetching monitoring networks (Request-Id: -)
00:31:37.910 gohan.db.sql INFO [0m Executing SQL query in transaction 'b535d7d0-10c0-452e-9311-8206a3f3c087': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981097 AND (history.deleted IS NULL OR history.deleted >= 1548980797)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:37.912 gohan.db.sql INFO [0m Executing SQL query in transaction 'b535d7d0-10c0-452e-9311-8206a3f3c087': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:37.913 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:37.914 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:37.890736Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:37.890707Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:37Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:37.914 gohan.server.middleware INFO [0m Completed 200 OK in 22.523244ms (Request-Id: -)
00:31:37.917 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:37.916456Z&backscan=2019-02-01T00:26:37.916467Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35862 (Request-Id: -) data: 
[36m00:31:37.917 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:37.918 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:37.932 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:37.933 gohan.server.resources INFO [0m Created transaction 0bcc9841-8297-4800-97fc-8e8c387627cf for fetching monitoring ports (Request-Id: -)
00:31:37.934 gohan.db.sql INFO [0m Executing SQL query in transaction '0bcc9841-8297-4800-97fc-8e8c387627cf': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981097 AND (history.deleted IS NULL OR history.deleted >= 1548980797)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:37.936 gohan.db.sql INFO [0m Executing SQL query in transaction '0bcc9841-8297-4800-97fc-8e8c387627cf': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:37.937 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:37.938 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:37.916467Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:37.916456Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:37Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:37.939 gohan.server.middleware INFO [0m Completed 200 OK in 21.548019ms (Request-Id: -)
00:31:42.941 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:42.940658Z&backscan=2019-02-01T00:26:42.940677Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35872 (Request-Id: -) data: 
[36m00:31:42.942 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:42.942 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:42.957 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:42.958 gohan.server.resources INFO [0m Created transaction b2dbbde2-99aa-443d-b46a-e2bc98526667 for fetching monitoring networks (Request-Id: -)
00:31:42.959 gohan.db.sql INFO [0m Executing SQL query in transaction 'b2dbbde2-99aa-443d-b46a-e2bc98526667': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981102 AND (history.deleted IS NULL OR history.deleted >= 1548980802)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:42.961 gohan.db.sql INFO [0m Executing SQL query in transaction 'b2dbbde2-99aa-443d-b46a-e2bc98526667': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:42.963 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:42.963 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:42.940677Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:42.940658Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:42Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:42.964 gohan.server.middleware INFO [0m Completed 200 OK in 22.371944ms (Request-Id: -)
00:31:42.966 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:42.965729Z&backscan=2019-02-01T00:26:42.965740Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35874 (Request-Id: -) data: 
[36m00:31:42.967 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:31:42.967 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:42.984 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:42.984 gohan.server.resources INFO [0m Created transaction ce2f9718-e131-4e87-8bfd-abcfc18b219d for fetching monitoring ports (Request-Id: -)
00:31:42.985 gohan.db.sql INFO [0m Executing SQL query in transaction 'ce2f9718-e131-4e87-8bfd-abcfc18b219d': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981102 AND (history.deleted IS NULL OR history.deleted >= 1548980802)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:42.989 gohan.db.sql INFO [0m Executing SQL query in transaction 'ce2f9718-e131-4e87-8bfd-abcfc18b219d': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:42.992 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:42.993 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:42.965740Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:42.965729Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:42Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:42.994 gohan.server.middleware INFO [0m Completed 200 OK in 27.302003ms (Request-Id: -)
00:31:43.835 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:43.840 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:43.876 gohan.db.sql INFO [0m Executing SQL query in transaction '75ac080a-177e-4c9e-8bdf-d1ed9c9e24a2': 'UPDATE `ports` SET `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `orchestration_state` = UPDATE_COMPLETE, `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `operational_state` = UP, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `mac_address` = fa:16:3e:e7:7c:0f, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:43.882 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:43.886 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status ACTIVE
00:31:43.895 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:43.896 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:43.897 gohan.extension.otto INFO [0m gohan_http  [POST] map[Content-Type:application/json X-Auth-Token:***] http://monitoring-api-server:80/v2/resources false
[36m00:31:43.897 gohan.extension.otto DEBUG [0m post data map[resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59 resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1]
[36m00:31:43.897 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:43.901 gohan.extension.otto INFO [0m response code 409
00:31:43.902 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:43 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:43.903 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:43.903 gohan.server.sync WARNING [0m error during monitoring update (try #8): post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:47.997 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:47.995871Z&backscan=2019-02-01T00:26:47.995898Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35878 (Request-Id: -) data: 
[36m00:31:47.997 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:31:47.998 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:48.020 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:48.021 gohan.server.resources INFO [0m Created transaction 8f91e939-0a68-4fe1-9e05-9ac87391f5ee for fetching monitoring networks (Request-Id: -)
00:31:48.023 gohan.db.sql INFO [0m Executing SQL query in transaction '8f91e939-0a68-4fe1-9e05-9ac87391f5ee': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981107 AND (history.deleted IS NULL OR history.deleted >= 1548980807)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:48.026 gohan.db.sql INFO [0m Executing SQL query in transaction '8f91e939-0a68-4fe1-9e05-9ac87391f5ee': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:48.028 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:48.029 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:47.995898Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:47.995871Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:48Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:48.029 gohan.server.middleware INFO [0m Completed 200 OK in 32.277359ms (Request-Id: -)
00:31:48.032 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:48.031549Z&backscan=2019-02-01T00:26:48.031562Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35880 (Request-Id: -) data: 
[36m00:31:48.033 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:48.033 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:48.054 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:48.055 gohan.server.resources INFO [0m Created transaction aab06ec8-d4db-4df1-a74a-8db85be9150c for fetching monitoring ports (Request-Id: -)
00:31:48.057 gohan.db.sql INFO [0m Executing SQL query in transaction 'aab06ec8-d4db-4df1-a74a-8db85be9150c': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981108 AND (history.deleted IS NULL OR history.deleted >= 1548980808)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:48.059 gohan.db.sql INFO [0m Executing SQL query in transaction 'aab06ec8-d4db-4df1-a74a-8db85be9150c': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:48.061 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:48.062 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:48.031562Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:48.031549Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:48Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:48.062 gohan.server.middleware INFO [0m Completed 200 OK in 29.822493ms (Request-Id: -)
00:31:53.066 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:53.065034Z&backscan=2019-02-01T00:26:53.065052Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35884 (Request-Id: -) data: 
[36m00:31:53.066 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:53.066 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:53.084 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:53.085 gohan.server.resources INFO [0m Created transaction 748123b9-2a41-42a1-b5e5-d79b2e83bd72 for fetching monitoring networks (Request-Id: -)
00:31:53.087 gohan.db.sql INFO [0m Executing SQL query in transaction '748123b9-2a41-42a1-b5e5-d79b2e83bd72': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981113 AND (history.deleted IS NULL OR history.deleted >= 1548980813)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:53.089 gohan.db.sql INFO [0m Executing SQL query in transaction '748123b9-2a41-42a1-b5e5-d79b2e83bd72': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:53.090 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:53.091 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:53.065052Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:53.065034Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:53Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:53.092 gohan.server.middleware INFO [0m Completed 200 OK in 25.778583ms (Request-Id: -)
00:31:53.094 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:53.093717Z&backscan=2019-02-01T00:26:53.093728Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35886 (Request-Id: -) data: 
[36m00:31:53.095 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:53.095 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:53.113 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:53.113 gohan.server.resources INFO [0m Created transaction 6796bff7-09ed-4615-a023-2dfddebd0479 for fetching monitoring ports (Request-Id: -)
00:31:53.115 gohan.db.sql INFO [0m Executing SQL query in transaction '6796bff7-09ed-4615-a023-2dfddebd0479': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981113 AND (history.deleted IS NULL OR history.deleted >= 1548980813)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:53.116 gohan.db.sql INFO [0m Executing SQL query in transaction '6796bff7-09ed-4615-a023-2dfddebd0479': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:53.118 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:53.119 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:53.093728Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:53.093717Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:53Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:53.119 gohan.server.middleware INFO [0m Completed 200 OK in 25.002108ms (Request-Id: -)
00:31:53.904 gohan.server.sync INFO [0m MonitoringUpdate for  /monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a map[version:2 vmi:UP] started
00:31:53.908 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:53.950 gohan.db.sql INFO [0m Executing SQL query in transaction '7f885e9b-b936-4f68-bc7a-cc6d7bec6598': 'UPDATE `ports` SET `mac_address` = fa:16:3e:e7:7c:0f, `fixed_ips` = [{"ip_address":"192.168.200.101","subnet_id":"215cb166-b0c5-4fbb-ad5f-948cb93119fe"}], `segmentation_id` = 1003, `orchestration_state` = UPDATE_COMPLETE, `managed_by_service` = false, `admin_state_up` = true, `allowed_address_pairs` = [], `segmentation_type` = vlan, `tags` = {}, `fake_delete` = false, `security_groups` = [], `network_id` = b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1, `status` = ACTIVE, `operational_state` = UP, `binding:vif_type` = vrouter, `attached` = true, `tenant_id` = 4b4cb858859842a389d0b0c8eb567d59, `device_owner` = physical_port, `ese_logical_port_id` = 74522211-c8db-41b6-8a35-4fac9656713c, `description` = , `id` = 3a04e6ed-68fb-4534-8822-d5162d19f35a, `device_id` = c13acfa3-6780-4f53-90da-492dfd697e69, `name` = sample-port, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": {\"allowed_address_pair\": []}, \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Target ID\", \"output_key\": \"monitoring_target_id\"}, {\"output_value\": [\"fa:16:3e:f7:60:7f\"], \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}, {\"output_value\": [[\"default-domain\", \"admin\", \"b62eefe0-0872-478d-adfe-1a606320f0e7\"]], \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"f68d0924-ef20-4c1b-ac45-0e6b879af5e7\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"http://collector-agents-se:7070/targets/bb927b26-ba6b-4049-9b55-54af3e1ea997\", \"description\": \"Monitoring Process Link\", \"output_key\": \"monitoring_link\"}]","orchestration_state":"UPDATE_COMPLETE","worker_state":"MODIFY_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0, `schema_version` = 1 WHERE id = 3a04e6ed-68fb-4534-8822-d5162d19f35a'
00:31:53.955 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction INFO [0m <get_monitoring_data>: Get monitoring data {
	"vmi": "UP"
} for port 3a04e6ed-68fb-4534-8822-d5162d19f35a
[36m00:31:53.959 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring_update_in_transaction DEBUG [0m <baremetal_port_state_machine>: calculating baremetal port (3a04e6ed-68fb-4534-8822-d5162d19f35a) status with orchestration_state UPDATE_COMPLETE, operational_state UP, and ese_logical_port_status ACTIVE
00:31:53.972 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/3a04e6ed-68fb-4534-8822-d5162d19f35a with index 354
00:31:53.974 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Calling monitoring API for port with data: {
	"namespace": "logical-network-port",
	"parent_resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
	"resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
	"resource_name": "sample-port",
	"tenant_id": "4b4cb858859842a389d0b0c8eb567d59"
}.
00:31:53.975 gohan.extension.otto INFO [0m gohan_http  [POST] map[X-Auth-Token:*** Content-Type:application/json] http://monitoring-api-server:80/v2/resources false
[36m00:31:53.976 gohan.extension.otto DEBUG [0m post data map[resource_name:sample-port namespace:logical-network-port parent_resource_id:b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1 resource_id:3a04e6ed-68fb-4534-8822-d5162d19f35a tenant_id:4b4cb858859842a389d0b0c8eb567d59]
[36m00:31:53.976 gohan.extension.otto DEBUG [0m request data: {"namespace":"logical-network-port","parent_resource_id":"b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1","resource_id":"3a04e6ed-68fb-4534-8822-d5162d19f35a","resource_name":"sample-port","tenant_id":"4b4cb858859842a389d0b0c8eb567d59"}
00:31:53.980 gohan.extension.otto INFO [0m response code 409
00:31:53.981 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received from monitoring API for port: {
	"body": "Resource already exists",
	"headers": {
		"Content-Length": [
			"23"
		],
		"Content-Type": [
			"text/html; charset=utf-8"
		],
		"Date": [
			"Fri, 01 Feb 2019 00:31:53 GMT"
		],
		"Server": [
			"Werkzeug/0.14.1 Python/2.7.6"
		]
	},
	"status": "success",
	"status_code": "409"
}.
00:31:53.981 gohan.extension.port.<3a04e6ed-68fb-4534-8822-d5162d19f35a>.post_monitoring INFO [0m <notifyApiCreate>: Received 409 from monitoring API for: port. Done.
[33m00:31:53.982 gohan.server.sync WARNING [0m error during monitoring update (try #9): post_monitoring: ValidationException(Invalid response from mon sdp.)
[33m00:31:53.982 gohan.server.sync WARNING [0m error during state update (try #1): post_monitoring: ValidationException(Invalid response from mon sdp.)
[31m00:31:53.982 gohan.server ERROR [0m Unhandled error during state update: state update failed after 1 tries: Timeout. Last error: post_monitoring: ValidationException(Invalid response from mon sdp.)
00:31:58.122 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:31:58.121381Z&backscan=2019-02-01T00:26:58.121402Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35900 (Request-Id: -) data: 
[36m00:31:58.123 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:31:58.123 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:58.141 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:31:58.141 gohan.server.resources INFO [0m Created transaction 47ce51ed-5f37-4f5f-ba80-6e97b2bf8f7e for fetching monitoring networks (Request-Id: -)
00:31:58.143 gohan.db.sql INFO [0m Executing SQL query in transaction '47ce51ed-5f37-4f5f-ba80-6e97b2bf8f7e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981118 AND (history.deleted IS NULL OR history.deleted >= 1548980818)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:58.144 gohan.db.sql INFO [0m Executing SQL query in transaction '47ce51ed-5f37-4f5f-ba80-6e97b2bf8f7e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:31:58.146 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:31:58.147 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:58.121402Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:58.121381Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:58Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:31:58.147 gohan.server.middleware INFO [0m Completed 200 OK in 25.105995ms (Request-Id: -)
00:31:58.150 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:31:58.149429Z&backscan=2019-02-01T00:26:58.149440Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35902 (Request-Id: -) data: 
[36m00:31:58.150 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:31:58.151 gohan.server.middleware DEBUG [0m Request body: 
[36m00:31:58.169 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:31:58.169 gohan.server.resources INFO [0m Created transaction 9df0a684-fd28-46f6-a350-6f1166303885 for fetching monitoring ports (Request-Id: -)
00:31:58.171 gohan.db.sql INFO [0m Executing SQL query in transaction '9df0a684-fd28-46f6-a350-6f1166303885': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981118 AND (history.deleted IS NULL OR history.deleted >= 1548980818)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:31:58.173 gohan.db.sql INFO [0m Executing SQL query in transaction '9df0a684-fd28-46f6-a350-6f1166303885': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:31:58.175 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:31:58.175 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:26:58.149440Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:31:58.149429Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:31:58Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:31:58.176 gohan.server.middleware INFO [0m Completed 200 OK in 25.864553ms (Request-Id: -)
00:32:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:32:00.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:32:00.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:32:00.054 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:32:00.056 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:32:00.072 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:32:00.076 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:32:00.078 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:32:03.180 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:03.178238Z&backscan=2019-02-01T00:27:03.178265Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35912 (Request-Id: -) data: 
[36m00:32:03.180 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:32:03.180 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:03.200 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:03.200 gohan.server.resources INFO [0m Created transaction 00d95b02-fd18-4a46-a19c-1001608d585e for fetching monitoring networks (Request-Id: -)
00:32:03.202 gohan.db.sql INFO [0m Executing SQL query in transaction '00d95b02-fd18-4a46-a19c-1001608d585e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981123 AND (history.deleted IS NULL OR history.deleted >= 1548980823)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:03.204 gohan.db.sql INFO [0m Executing SQL query in transaction '00d95b02-fd18-4a46-a19c-1001608d585e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:03.206 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:03.206 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:03.178265Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:03.178238Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:03Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:03.207 gohan.server.middleware INFO [0m Completed 200 OK in 27.056131ms (Request-Id: -)
00:32:03.209 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:03.208857Z&backscan=2019-02-01T00:27:03.208867Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35914 (Request-Id: -) data: 
[36m00:32:03.210 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:32:03.210 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:03.227 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:03.228 gohan.server.resources INFO [0m Created transaction 5fe4fb01-2123-40b2-92df-a35963d7905f for fetching monitoring ports (Request-Id: -)
00:32:03.229 gohan.db.sql INFO [0m Executing SQL query in transaction '5fe4fb01-2123-40b2-92df-a35963d7905f': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981123 AND (history.deleted IS NULL OR history.deleted >= 1548980823)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:03.231 gohan.db.sql INFO [0m Executing SQL query in transaction '5fe4fb01-2123-40b2-92df-a35963d7905f': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:03.233 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:03.233 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:03.208867Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:03.208857Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:03Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:03.234 gohan.server.middleware INFO [0m Completed 200 OK in 24.463041ms (Request-Id: -)
00:32:08.237 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:08.236063Z&backscan=2019-02-01T00:27:08.236084Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35916 (Request-Id: -) data: 
[36m00:32:08.237 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:08.237 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:08.254 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:08.255 gohan.server.resources INFO [0m Created transaction 58b0197b-b8a6-43f0-94f3-9210ef510ac9 for fetching monitoring networks (Request-Id: -)
00:32:08.256 gohan.db.sql INFO [0m Executing SQL query in transaction '58b0197b-b8a6-43f0-94f3-9210ef510ac9': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981128 AND (history.deleted IS NULL OR history.deleted >= 1548980828)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:08.258 gohan.db.sql INFO [0m Executing SQL query in transaction '58b0197b-b8a6-43f0-94f3-9210ef510ac9': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:08.260 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:08.261 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:08.236084Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:08.236063Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:08Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:08.261 gohan.server.middleware INFO [0m Completed 200 OK in 24.485206ms (Request-Id: -)
00:32:08.264 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:08.263484Z&backscan=2019-02-01T00:27:08.263494Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35918 (Request-Id: -) data: 
[36m00:32:08.264 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:08.264 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:08.281 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:08.282 gohan.server.resources INFO [0m Created transaction 93304e6b-3f21-4cfb-98a5-e547a68e799e for fetching monitoring ports (Request-Id: -)
00:32:08.283 gohan.db.sql INFO [0m Executing SQL query in transaction '93304e6b-3f21-4cfb-98a5-e547a68e799e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981128 AND (history.deleted IS NULL OR history.deleted >= 1548980828)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:08.285 gohan.db.sql INFO [0m Executing SQL query in transaction '93304e6b-3f21-4cfb-98a5-e547a68e799e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:08.287 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:08.287 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:08.263494Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:08.263484Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:08Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:08.288 gohan.server.middleware INFO [0m Completed 200 OK in 23.950854ms (Request-Id: -)
00:32:13.291 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:13.290122Z&backscan=2019-02-01T00:27:13.290141Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35926 (Request-Id: -) data: 
[36m00:32:13.291 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:32:13.291 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:13.309 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:13.309 gohan.server.resources INFO [0m Created transaction 2f249444-1ac8-413b-a728-eb4c8f2ed900 for fetching monitoring networks (Request-Id: -)
00:32:13.310 gohan.db.sql INFO [0m Executing SQL query in transaction '2f249444-1ac8-413b-a728-eb4c8f2ed900': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981133 AND (history.deleted IS NULL OR history.deleted >= 1548980833)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:13.312 gohan.db.sql INFO [0m Executing SQL query in transaction '2f249444-1ac8-413b-a728-eb4c8f2ed900': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:13.314 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:13.315 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:13.290141Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:13.290122Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:13Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:13.315 gohan.server.middleware INFO [0m Completed 200 OK in 24.394606ms (Request-Id: -)
00:32:13.318 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:13.317305Z&backscan=2019-02-01T00:27:13.317315Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35928 (Request-Id: -) data: 
[36m00:32:13.318 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:13.319 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:13.335 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:13.335 gohan.server.resources INFO [0m Created transaction ae02ca81-b4de-495d-8698-c7a9f7f94f5b for fetching monitoring ports (Request-Id: -)
00:32:13.337 gohan.db.sql INFO [0m Executing SQL query in transaction 'ae02ca81-b4de-495d-8698-c7a9f7f94f5b': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981133 AND (history.deleted IS NULL OR history.deleted >= 1548980833)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:13.338 gohan.db.sql INFO [0m Executing SQL query in transaction 'ae02ca81-b4de-495d-8698-c7a9f7f94f5b': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:13.340 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[436] Content-Type:[application/json]]
[36m00:32:13.341 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:13.317315Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:13.317305Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:13Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:13.341 gohan.server.middleware INFO [0m Completed 200 OK in 23.339127ms (Request-Id: -)
00:32:18.344 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:18.343366Z&backscan=2019-02-01T00:27:18.343392Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35936 (Request-Id: -) data: 
[36m00:32:18.345 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:18.345 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:18.361 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:18.362 gohan.server.resources INFO [0m Created transaction 9ada3e1f-ec32-4a3a-8b24-5bb019d86a44 for fetching monitoring networks (Request-Id: -)
00:32:18.363 gohan.db.sql INFO [0m Executing SQL query in transaction '9ada3e1f-ec32-4a3a-8b24-5bb019d86a44': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981138 AND (history.deleted IS NULL OR history.deleted >= 1548980838)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:18.365 gohan.db.sql INFO [0m Executing SQL query in transaction '9ada3e1f-ec32-4a3a-8b24-5bb019d86a44': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:18.367 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:18.368 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:18.343392Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:18.343366Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:18Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:18.368 gohan.server.middleware INFO [0m Completed 200 OK in 23.853276ms (Request-Id: -)
00:32:18.371 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:18.370416Z&backscan=2019-02-01T00:27:18.370427Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35938 (Request-Id: -) data: 
[36m00:32:18.372 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:18.372 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:18.388 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:18.389 gohan.server.resources INFO [0m Created transaction f5ab3ca5-fc03-4592-9368-8adb9a18a534 for fetching monitoring ports (Request-Id: -)
00:32:18.390 gohan.db.sql INFO [0m Executing SQL query in transaction 'f5ab3ca5-fc03-4592-9368-8adb9a18a534': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981138 AND (history.deleted IS NULL OR history.deleted >= 1548980838)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:18.392 gohan.db.sql INFO [0m Executing SQL query in transaction 'f5ab3ca5-fc03-4592-9368-8adb9a18a534': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:18.395 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:18.396 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:18.370427Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:18.370416Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:18Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:18.396 gohan.server.middleware INFO [0m Completed 200 OK in 24.835733ms (Request-Id: -)
00:32:23.399 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:23.398179Z&backscan=2019-02-01T00:27:23.398199Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35948 (Request-Id: -) data: 
[36m00:32:23.399 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:32:23.400 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:23.416 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:23.416 gohan.server.resources INFO [0m Created transaction bb057ca1-c730-4f04-94a1-3de4b5fbdc97 for fetching monitoring networks (Request-Id: -)
00:32:23.418 gohan.db.sql INFO [0m Executing SQL query in transaction 'bb057ca1-c730-4f04-94a1-3de4b5fbdc97': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981143 AND (history.deleted IS NULL OR history.deleted >= 1548980843)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:23.419 gohan.db.sql INFO [0m Executing SQL query in transaction 'bb057ca1-c730-4f04-94a1-3de4b5fbdc97': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:23.421 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:23.422 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:23.398199Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:23.398179Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:23Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:23.422 gohan.server.middleware INFO [0m Completed 200 OK in 23.312266ms (Request-Id: -)
00:32:23.425 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:23.424322Z&backscan=2019-02-01T00:27:23.424333Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35950 (Request-Id: -) data: 
[36m00:32:23.425 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:32:23.425 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:23.440 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:23.441 gohan.server.resources INFO [0m Created transaction a3e8b79f-32e7-4f02-a48a-670674614e9a for fetching monitoring ports (Request-Id: -)
00:32:23.442 gohan.db.sql INFO [0m Executing SQL query in transaction 'a3e8b79f-32e7-4f02-a48a-670674614e9a': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981143 AND (history.deleted IS NULL OR history.deleted >= 1548980843)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:23.444 gohan.db.sql INFO [0m Executing SQL query in transaction 'a3e8b79f-32e7-4f02-a48a-670674614e9a': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:23.445 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:23.446 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:23.424333Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:23.424322Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:23Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:23.447 gohan.server.middleware INFO [0m Completed 200 OK in 21.551963ms (Request-Id: -)
00:32:28.450 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:28.448696Z&backscan=2019-02-01T00:27:28.448716Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35952 (Request-Id: -) data: 
[36m00:32:28.450 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:28.450 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:28.466 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:28.466 gohan.server.resources INFO [0m Created transaction 36bdd57b-6f0c-43e7-9eff-2e98ad7b110e for fetching monitoring networks (Request-Id: -)
00:32:28.468 gohan.db.sql INFO [0m Executing SQL query in transaction '36bdd57b-6f0c-43e7-9eff-2e98ad7b110e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981148 AND (history.deleted IS NULL OR history.deleted >= 1548980848)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:28.470 gohan.db.sql INFO [0m Executing SQL query in transaction '36bdd57b-6f0c-43e7-9eff-2e98ad7b110e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:28.471 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:28.472 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:28.448716Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:28.448696Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:28Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:28.473 gohan.server.middleware INFO [0m Completed 200 OK in 23.026197ms (Request-Id: -)
00:32:28.475 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:28.474662Z&backscan=2019-02-01T00:27:28.474672Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35954 (Request-Id: -) data: 
[36m00:32:28.476 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:28.476 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:28.493 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:28.494 gohan.server.resources INFO [0m Created transaction 1a00cd96-3a5d-4825-9a9e-c2e2da400e1a for fetching monitoring ports (Request-Id: -)
00:32:28.495 gohan.db.sql INFO [0m Executing SQL query in transaction '1a00cd96-3a5d-4825-9a9e-c2e2da400e1a': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981148 AND (history.deleted IS NULL OR history.deleted >= 1548980848)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:28.497 gohan.db.sql INFO [0m Executing SQL query in transaction '1a00cd96-3a5d-4825-9a9e-c2e2da400e1a': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:28.499 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:28.499 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:28.474672Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:28.474662Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:28Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:28.500 gohan.server.middleware INFO [0m Completed 200 OK in 24.779952ms (Request-Id: -)
00:32:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:32:30.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:32:30.035 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:32:30.039 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:32:30.040 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:32:30.051 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:32:30.054 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:32:30.056 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:32:33.503 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:33.502039Z&backscan=2019-02-01T00:27:33.502057Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35970 (Request-Id: -) data: 
[36m00:32:33.503 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:33.504 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:33.522 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:33.523 gohan.server.resources INFO [0m Created transaction d63f2062-a98e-407b-a637-f728d0187db0 for fetching monitoring networks (Request-Id: -)
00:32:33.524 gohan.db.sql INFO [0m Executing SQL query in transaction 'd63f2062-a98e-407b-a637-f728d0187db0': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981153 AND (history.deleted IS NULL OR history.deleted >= 1548980853)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:33.526 gohan.db.sql INFO [0m Executing SQL query in transaction 'd63f2062-a98e-407b-a637-f728d0187db0': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:33.528 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:33.528 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:33.502057Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:33.502039Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:33Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:33.529 gohan.server.middleware INFO [0m Completed 200 OK in 26.010995ms (Request-Id: -)
00:32:33.532 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:33.530905Z&backscan=2019-02-01T00:27:33.530915Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35972 (Request-Id: -) data: 
[36m00:32:33.532 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:33.532 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:33.548 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:33.549 gohan.server.resources INFO [0m Created transaction 2f0ab56a-ca72-4084-85ac-97b66fbba540 for fetching monitoring ports (Request-Id: -)
00:32:33.550 gohan.db.sql INFO [0m Executing SQL query in transaction '2f0ab56a-ca72-4084-85ac-97b66fbba540': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981153 AND (history.deleted IS NULL OR history.deleted >= 1548980853)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:33.552 gohan.db.sql INFO [0m Executing SQL query in transaction '2f0ab56a-ca72-4084-85ac-97b66fbba540': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:33.553 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:33.554 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:33.530915Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:33.530905Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:33Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:33.554 gohan.server.middleware INFO [0m Completed 200 OK in 22.689061ms (Request-Id: -)
00:32:38.557 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:38.556549Z&backscan=2019-02-01T00:27:38.556568Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35974 (Request-Id: -) data: 
[36m00:32:38.558 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:32:38.558 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:38.574 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:38.574 gohan.server.resources INFO [0m Created transaction 6b82d59e-c245-4dda-a6db-5557edf3fe05 for fetching monitoring networks (Request-Id: -)
00:32:38.576 gohan.db.sql INFO [0m Executing SQL query in transaction '6b82d59e-c245-4dda-a6db-5557edf3fe05': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981158 AND (history.deleted IS NULL OR history.deleted >= 1548980858)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:38.578 gohan.db.sql INFO [0m Executing SQL query in transaction '6b82d59e-c245-4dda-a6db-5557edf3fe05': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:38.579 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:38.580 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:38.556568Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:38.556549Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:38Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:38.580 gohan.server.middleware INFO [0m Completed 200 OK in 23.074072ms (Request-Id: -)
00:32:38.583 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:38.582419Z&backscan=2019-02-01T00:27:38.582428Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35976 (Request-Id: -) data: 
[36m00:32:38.583 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:38.584 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:38.599 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:38.599 gohan.server.resources INFO [0m Created transaction bd2d74da-3a41-4455-9e4d-255a8aee730e for fetching monitoring ports (Request-Id: -)
00:32:38.600 gohan.db.sql INFO [0m Executing SQL query in transaction 'bd2d74da-3a41-4455-9e4d-255a8aee730e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981158 AND (history.deleted IS NULL OR history.deleted >= 1548980858)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:38.602 gohan.db.sql INFO [0m Executing SQL query in transaction 'bd2d74da-3a41-4455-9e4d-255a8aee730e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:38.604 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:38.604 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:38.582428Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:38.582419Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:38Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:38.605 gohan.server.middleware INFO [0m Completed 200 OK in 21.966067ms (Request-Id: -)
00:32:43.608 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:43.606998Z&backscan=2019-02-01T00:27:43.607016Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35986 (Request-Id: -) data: 
[36m00:32:43.608 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:43.609 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:43.624 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:43.625 gohan.server.resources INFO [0m Created transaction ccb02bf1-ed09-4fd2-952a-342ce8c861e0 for fetching monitoring networks (Request-Id: -)
00:32:43.626 gohan.db.sql INFO [0m Executing SQL query in transaction 'ccb02bf1-ed09-4fd2-952a-342ce8c861e0': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981163 AND (history.deleted IS NULL OR history.deleted >= 1548980863)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:43.628 gohan.db.sql INFO [0m Executing SQL query in transaction 'ccb02bf1-ed09-4fd2-952a-342ce8c861e0': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:43.630 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:43.630 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:43.607016Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:43.606998Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:43Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:43.631 gohan.server.middleware INFO [0m Completed 200 OK in 23.080761ms (Request-Id: -)
00:32:43.634 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:43.633044Z&backscan=2019-02-01T00:27:43.633054Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35988 (Request-Id: -) data: 
[36m00:32:43.634 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:43.634 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:43.650 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:43.650 gohan.server.resources INFO [0m Created transaction b41d9185-5f8d-4874-bbf7-ede3d25fd34e for fetching monitoring ports (Request-Id: -)
00:32:43.651 gohan.db.sql INFO [0m Executing SQL query in transaction 'b41d9185-5f8d-4874-bbf7-ede3d25fd34e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981163 AND (history.deleted IS NULL OR history.deleted >= 1548980863)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:43.654 gohan.db.sql INFO [0m Executing SQL query in transaction 'b41d9185-5f8d-4874-bbf7-ede3d25fd34e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:43.656 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:43.657 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:43.633054Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:43.633044Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:43Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:43.658 gohan.server.middleware INFO [0m Completed 200 OK in 24.178316ms (Request-Id: -)
00:32:48.661 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:48.659826Z&backscan=2019-02-01T00:27:48.659845Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35990 (Request-Id: -) data: 
[36m00:32:48.661 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:48.661 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:48.677 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:48.678 gohan.server.resources INFO [0m Created transaction 008b1302-f3bf-450e-bb44-6489de7dca24 for fetching monitoring networks (Request-Id: -)
00:32:48.679 gohan.db.sql INFO [0m Executing SQL query in transaction '008b1302-f3bf-450e-bb44-6489de7dca24': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981168 AND (history.deleted IS NULL OR history.deleted >= 1548980868)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:48.681 gohan.db.sql INFO [0m Executing SQL query in transaction '008b1302-f3bf-450e-bb44-6489de7dca24': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:48.683 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:48.683 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:48.659845Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:48.659826Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:48Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:48.684 gohan.server.middleware INFO [0m Completed 200 OK in 23.301049ms (Request-Id: -)
00:32:48.687 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:48.686025Z&backscan=2019-02-01T00:27:48.686035Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:35992 (Request-Id: -) data: 
[36m00:32:48.687 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:48.687 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:48.702 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:48.703 gohan.server.resources INFO [0m Created transaction f115adab-b092-4054-8f60-7a47b785dc20 for fetching monitoring ports (Request-Id: -)
00:32:48.704 gohan.db.sql INFO [0m Executing SQL query in transaction 'f115adab-b092-4054-8f60-7a47b785dc20': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981168 AND (history.deleted IS NULL OR history.deleted >= 1548980868)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:48.706 gohan.db.sql INFO [0m Executing SQL query in transaction 'f115adab-b092-4054-8f60-7a47b785dc20': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:48.708 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[436] Content-Type:[application/json]]
[36m00:32:48.708 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:48.686035Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:48.686025Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:48Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:48.709 gohan.server.middleware INFO [0m Completed 200 OK in 22.514275ms (Request-Id: -)
00:32:53.712 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:53.711362Z&backscan=2019-02-01T00:27:53.711382Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36006 (Request-Id: -) data: 
[36m00:32:53.713 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:32:53.713 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:53.728 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:53.729 gohan.server.resources INFO [0m Created transaction 48bf2df2-0c0e-4de9-954a-eaecc002abd9 for fetching monitoring networks (Request-Id: -)
00:32:53.730 gohan.db.sql INFO [0m Executing SQL query in transaction '48bf2df2-0c0e-4de9-954a-eaecc002abd9': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981173 AND (history.deleted IS NULL OR history.deleted >= 1548980873)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:53.732 gohan.db.sql INFO [0m Executing SQL query in transaction '48bf2df2-0c0e-4de9-954a-eaecc002abd9': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:53.734 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:53.734 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:53.711382Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:53.711362Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:53Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:53.735 gohan.server.middleware INFO [0m Completed 200 OK in 22.707206ms (Request-Id: -)
00:32:53.738 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:53.737079Z&backscan=2019-02-01T00:27:53.737090Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36008 (Request-Id: -) data: 
[36m00:32:53.738 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:32:53.738 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:53.753 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:53.753 gohan.server.resources INFO [0m Created transaction 257f02a3-5364-4078-aeed-862b9bd6f745 for fetching monitoring ports (Request-Id: -)
00:32:53.755 gohan.db.sql INFO [0m Executing SQL query in transaction '257f02a3-5364-4078-aeed-862b9bd6f745': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981173 AND (history.deleted IS NULL OR history.deleted >= 1548980873)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:53.756 gohan.db.sql INFO [0m Executing SQL query in transaction '257f02a3-5364-4078-aeed-862b9bd6f745': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:53.758 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:32:53.759 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:53.737090Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:53.737079Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:53Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:53.759 gohan.server.middleware INFO [0m Completed 200 OK in 21.544838ms (Request-Id: -)
00:32:58.762 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:32:58.761367Z&backscan=2019-02-01T00:27:58.761408Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36012 (Request-Id: -) data: 
[36m00:32:58.763 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:32:58.763 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:58.778 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:32:58.779 gohan.server.resources INFO [0m Created transaction 5c35800f-b169-4ff0-93e0-8b4c6dbe4020 for fetching monitoring networks (Request-Id: -)
00:32:58.780 gohan.db.sql INFO [0m Executing SQL query in transaction '5c35800f-b169-4ff0-93e0-8b4c6dbe4020': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981178 AND (history.deleted IS NULL OR history.deleted >= 1548980878)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:58.784 gohan.db.sql INFO [0m Executing SQL query in transaction '5c35800f-b169-4ff0-93e0-8b4c6dbe4020': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:32:58.786 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:32:58.787 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:58.761408Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:58.761367Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:58Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:32:58.787 gohan.server.middleware INFO [0m Completed 200 OK in 25.23012ms (Request-Id: -)
00:32:58.790 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:32:58.789531Z&backscan=2019-02-01T00:27:58.789542Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36014 (Request-Id: -) data: 
[36m00:32:58.790 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:32:58.791 gohan.server.middleware DEBUG [0m Request body: 
[36m00:32:58.807 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:32:58.807 gohan.server.resources INFO [0m Created transaction df854c24-dc14-433b-be22-f42b6f03ea06 for fetching monitoring ports (Request-Id: -)
00:32:58.809 gohan.db.sql INFO [0m Executing SQL query in transaction 'df854c24-dc14-433b-be22-f42b6f03ea06': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981178 AND (history.deleted IS NULL OR history.deleted >= 1548980878)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:32:58.810 gohan.db.sql INFO [0m Executing SQL query in transaction 'df854c24-dc14-433b-be22-f42b6f03ea06': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:32:58.812 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[436] Content-Type:[application/json]]
[36m00:32:58.813 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:27:58.789542Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:32:58.789531Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:32:58Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:32:58.813 gohan.server.middleware INFO [0m Completed 200 OK in 23.102613ms (Request-Id: -)
00:33:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:33:00.009 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:33:00.039 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:33:00.042 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:33:00.044 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:33:00.080 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:33:00.088 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:33:00.092 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:33:03.817 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:03.815179Z&backscan=2019-02-01T00:28:03.815237Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36024 (Request-Id: -) data: 
[36m00:33:03.817 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:03.817 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:03.835 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:03.836 gohan.server.resources INFO [0m Created transaction 7360af7f-1f94-42b5-9358-ba4ba1b42226 for fetching monitoring networks (Request-Id: -)
00:33:03.838 gohan.db.sql INFO [0m Executing SQL query in transaction '7360af7f-1f94-42b5-9358-ba4ba1b42226': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981183 AND (history.deleted IS NULL OR history.deleted >= 1548980883)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:03.840 gohan.db.sql INFO [0m Executing SQL query in transaction '7360af7f-1f94-42b5-9358-ba4ba1b42226': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:03.843 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:03.844 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:03.815237Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:03.815179Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:03Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:03.845 gohan.server.middleware INFO [0m Completed 200 OK in 28.028139ms (Request-Id: -)
00:33:03.847 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:03.847002Z&backscan=2019-02-01T00:28:03.847011Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36026 (Request-Id: -) data: 
[36m00:33:03.848 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:33:03.848 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:03.866 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:03.867 gohan.server.resources INFO [0m Created transaction 3fe86da5-76e0-444f-a9ff-b22d32b6ca5c for fetching monitoring ports (Request-Id: -)
00:33:03.868 gohan.db.sql INFO [0m Executing SQL query in transaction '3fe86da5-76e0-444f-a9ff-b22d32b6ca5c': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981183 AND (history.deleted IS NULL OR history.deleted >= 1548980883)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:03.870 gohan.db.sql INFO [0m Executing SQL query in transaction '3fe86da5-76e0-444f-a9ff-b22d32b6ca5c': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:03.872 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:03.873 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:03.847011Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:03.847002Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:03Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:03.873 gohan.server.middleware INFO [0m Completed 200 OK in 25.670668ms (Request-Id: -)
00:33:08.876 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:08.875119Z&backscan=2019-02-01T00:28:08.875145Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36028 (Request-Id: -) data: 
[36m00:33:08.877 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:08.877 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:08.898 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:08.898 gohan.server.resources INFO [0m Created transaction 36467be4-6034-4b48-b81f-8738c856d2df for fetching monitoring networks (Request-Id: -)
00:33:08.900 gohan.db.sql INFO [0m Executing SQL query in transaction '36467be4-6034-4b48-b81f-8738c856d2df': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981188 AND (history.deleted IS NULL OR history.deleted >= 1548980888)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:08.902 gohan.db.sql INFO [0m Executing SQL query in transaction '36467be4-6034-4b48-b81f-8738c856d2df': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:08.904 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:08.904 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:08.875145Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:08.875119Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:08Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:08.905 gohan.server.middleware INFO [0m Completed 200 OK in 28.601911ms (Request-Id: -)
00:33:08.908 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:08.907292Z&backscan=2019-02-01T00:28:08.907304Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36030 (Request-Id: -) data: 
[36m00:33:08.908 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:08.908 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:08.928 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:08.928 gohan.server.resources INFO [0m Created transaction 22d3a60d-a6b2-4d7d-be99-c542479d032b for fetching monitoring ports (Request-Id: -)
00:33:08.930 gohan.db.sql INFO [0m Executing SQL query in transaction '22d3a60d-a6b2-4d7d-be99-c542479d032b': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981188 AND (history.deleted IS NULL OR history.deleted >= 1548980888)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:08.932 gohan.db.sql INFO [0m Executing SQL query in transaction '22d3a60d-a6b2-4d7d-be99-c542479d032b': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:08.934 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:08.934 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:08.907304Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:08.907292Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:08Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:08.935 gohan.server.middleware INFO [0m Completed 200 OK in 27.045661ms (Request-Id: -)
00:33:13.942 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:13.937222Z&backscan=2019-02-01T00:28:13.937250Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36046 (Request-Id: -) data: 
[36m00:33:13.943 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:13.943 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:13.961 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:13.962 gohan.server.resources INFO [0m Created transaction 010173c1-05d1-4f87-86a5-7a548900dcc9 for fetching monitoring networks (Request-Id: -)
00:33:13.963 gohan.db.sql INFO [0m Executing SQL query in transaction '010173c1-05d1-4f87-86a5-7a548900dcc9': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981193 AND (history.deleted IS NULL OR history.deleted >= 1548980893)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:13.965 gohan.db.sql INFO [0m Executing SQL query in transaction '010173c1-05d1-4f87-86a5-7a548900dcc9': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:13.967 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:13.968 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:13.937250Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:13.937222Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:13Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:13.968 gohan.server.middleware INFO [0m Completed 200 OK in 26.001446ms (Request-Id: -)
00:33:13.971 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:13.970258Z&backscan=2019-02-01T00:28:13.970269Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36048 (Request-Id: -) data: 
[36m00:33:13.971 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:13.971 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:13.989 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:13.990 gohan.server.resources INFO [0m Created transaction 9d1ad200-aa17-40c1-81d2-a282f44b8b3e for fetching monitoring ports (Request-Id: -)
00:33:13.991 gohan.db.sql INFO [0m Executing SQL query in transaction '9d1ad200-aa17-40c1-81d2-a282f44b8b3e': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981193 AND (history.deleted IS NULL OR history.deleted >= 1548980893)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:13.993 gohan.db.sql INFO [0m Executing SQL query in transaction '9d1ad200-aa17-40c1-81d2-a282f44b8b3e': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:13.994 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:13.995 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:13.970269Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:13.970258Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:13Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:13.996 gohan.server.middleware INFO [0m Completed 200 OK in 24.851981ms (Request-Id: -)
00:33:18.999 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:18.997753Z&backscan=2019-02-01T00:28:18.997781Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36050 (Request-Id: -) data: 
[36m00:33:18.999 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:19.000 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:19.021 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:19.022 gohan.server.resources INFO [0m Created transaction 72a2faa1-982e-42ca-97e4-51b1453e41d4 for fetching monitoring networks (Request-Id: -)
00:33:19.024 gohan.db.sql INFO [0m Executing SQL query in transaction '72a2faa1-982e-42ca-97e4-51b1453e41d4': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981198 AND (history.deleted IS NULL OR history.deleted >= 1548980898)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:19.026 gohan.db.sql INFO [0m Executing SQL query in transaction '72a2faa1-982e-42ca-97e4-51b1453e41d4': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:19.028 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:19.029 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:18.997781Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:18.997753Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:19Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:19.029 gohan.server.middleware INFO [0m Completed 200 OK in 30.214359ms (Request-Id: -)
00:33:19.032 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:19.031311Z&backscan=2019-02-01T00:28:19.031324Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36052 (Request-Id: -) data: 
[36m00:33:19.032 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:19.032 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:19.053 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:19.054 gohan.server.resources INFO [0m Created transaction 29be5115-11b7-48a3-977d-2a4a39b8eecc for fetching monitoring ports (Request-Id: -)
00:33:19.055 gohan.db.sql INFO [0m Executing SQL query in transaction '29be5115-11b7-48a3-977d-2a4a39b8eecc': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981199 AND (history.deleted IS NULL OR history.deleted >= 1548980899)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:19.057 gohan.db.sql INFO [0m Executing SQL query in transaction '29be5115-11b7-48a3-977d-2a4a39b8eecc': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:19.059 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:19.060 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:19.031324Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:19.031311Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:19Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:19.061 gohan.server.middleware INFO [0m Completed 200 OK in 29.08881ms (Request-Id: -)
00:33:24.064 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:24.063308Z&backscan=2019-02-01T00:28:24.063327Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36062 (Request-Id: -) data: 
[36m00:33:24.064 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:24.065 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:24.083 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:24.083 gohan.server.resources INFO [0m Created transaction 9f7b6d57-05e1-485c-84bf-01029f73037d for fetching monitoring networks (Request-Id: -)
00:33:24.084 gohan.db.sql INFO [0m Executing SQL query in transaction '9f7b6d57-05e1-485c-84bf-01029f73037d': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981204 AND (history.deleted IS NULL OR history.deleted >= 1548980904)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:24.086 gohan.db.sql INFO [0m Executing SQL query in transaction '9f7b6d57-05e1-485c-84bf-01029f73037d': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:24.088 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:24.089 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:24.063327Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:24.063308Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:24Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:24.089 gohan.server.middleware INFO [0m Completed 200 OK in 25.436843ms (Request-Id: -)
00:33:24.092 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:24.091630Z&backscan=2019-02-01T00:28:24.091641Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36064 (Request-Id: -) data: 
[36m00:33:24.093 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:24.093 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:24.110 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:24.110 gohan.server.resources INFO [0m Created transaction 8fbaef44-c36e-4fa3-b0e4-929ca03440bc for fetching monitoring ports (Request-Id: -)
00:33:24.111 gohan.db.sql INFO [0m Executing SQL query in transaction '8fbaef44-c36e-4fa3-b0e4-929ca03440bc': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981204 AND (history.deleted IS NULL OR history.deleted >= 1548980904)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:24.113 gohan.db.sql INFO [0m Executing SQL query in transaction '8fbaef44-c36e-4fa3-b0e4-929ca03440bc': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:24.115 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:24.115 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:24.091641Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:24.091630Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:24Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:24.116 gohan.server.middleware INFO [0m Completed 200 OK in 23.673281ms (Request-Id: -)
00:33:29.119 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:29.117885Z&backscan=2019-02-01T00:28:29.117906Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36066 (Request-Id: -) data: 
[36m00:33:29.119 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:33:29.119 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:29.136 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:29.137 gohan.server.resources INFO [0m Created transaction c0b24263-ca44-4eee-b52c-1b9d54138a6a for fetching monitoring networks (Request-Id: -)
00:33:29.138 gohan.db.sql INFO [0m Executing SQL query in transaction 'c0b24263-ca44-4eee-b52c-1b9d54138a6a': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981209 AND (history.deleted IS NULL OR history.deleted >= 1548980909)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:29.140 gohan.db.sql INFO [0m Executing SQL query in transaction 'c0b24263-ca44-4eee-b52c-1b9d54138a6a': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:29.142 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:29.142 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:29.117906Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:29.117885Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:29Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:29.143 gohan.server.middleware INFO [0m Completed 200 OK in 24.421208ms (Request-Id: -)
00:33:29.146 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:29.145105Z&backscan=2019-02-01T00:28:29.145115Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36068 (Request-Id: -) data: 
[36m00:33:29.146 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:29.146 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:29.163 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:29.164 gohan.server.resources INFO [0m Created transaction 6def8744-929a-4967-b163-9886ff20eaf2 for fetching monitoring ports (Request-Id: -)
00:33:29.165 gohan.db.sql INFO [0m Executing SQL query in transaction '6def8744-929a-4967-b163-9886ff20eaf2': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981209 AND (history.deleted IS NULL OR history.deleted >= 1548980909)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:29.167 gohan.db.sql INFO [0m Executing SQL query in transaction '6def8744-929a-4967-b163-9886ff20eaf2': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:29.168 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:29.169 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:29.145115Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:29.145105Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:29Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:29.169 gohan.server.middleware INFO [0m Completed 200 OK in 23.794836ms (Request-Id: -)
00:33:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:33:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:33:30.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:33:30.053 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:33:30.055 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:33:30.060 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:33:30.063 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:33:30.064 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:33:34.173 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:34.171759Z&backscan=2019-02-01T00:28:34.171784Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36082 (Request-Id: -) data: 
[36m00:33:34.173 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:34.174 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:34.192 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:34.192 gohan.server.resources INFO [0m Created transaction 14abfe52-556a-4ce2-9b86-acc509f5f405 for fetching monitoring networks (Request-Id: -)
00:33:34.194 gohan.db.sql INFO [0m Executing SQL query in transaction '14abfe52-556a-4ce2-9b86-acc509f5f405': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981214 AND (history.deleted IS NULL OR history.deleted >= 1548980914)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:34.197 gohan.db.sql INFO [0m Executing SQL query in transaction '14abfe52-556a-4ce2-9b86-acc509f5f405': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:34.199 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:34.200 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:34.171784Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:34.171759Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:34Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:34.200 gohan.server.middleware INFO [0m Completed 200 OK in 27.410456ms (Request-Id: -)
00:33:34.204 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:34.203487Z&backscan=2019-02-01T00:28:34.203498Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36084 (Request-Id: -) data: 
[36m00:33:34.204 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:33:34.205 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:34.222 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:34.223 gohan.server.resources INFO [0m Created transaction 3fd1e385-efb6-4ac8-9ad3-09cfb57a5553 for fetching monitoring ports (Request-Id: -)
00:33:34.224 gohan.db.sql INFO [0m Executing SQL query in transaction '3fd1e385-efb6-4ac8-9ad3-09cfb57a5553': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981214 AND (history.deleted IS NULL OR history.deleted >= 1548980914)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:34.227 gohan.db.sql INFO [0m Executing SQL query in transaction '3fd1e385-efb6-4ac8-9ad3-09cfb57a5553': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:34.229 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:34.229 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:34.203498Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:34.203487Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:34Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:34.230 gohan.server.middleware INFO [0m Completed 200 OK in 25.91227ms (Request-Id: -)
00:33:39.234 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:39.232465Z&backscan=2019-02-01T00:28:39.232492Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36086 (Request-Id: -) data: 
[36m00:33:39.234 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:39.234 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:39.252 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:39.253 gohan.server.resources INFO [0m Created transaction 7c62cb16-0891-4ce6-930c-970d7f275cea for fetching monitoring networks (Request-Id: -)
00:33:39.254 gohan.db.sql INFO [0m Executing SQL query in transaction '7c62cb16-0891-4ce6-930c-970d7f275cea': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981219 AND (history.deleted IS NULL OR history.deleted >= 1548980919)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:39.256 gohan.db.sql INFO [0m Executing SQL query in transaction '7c62cb16-0891-4ce6-930c-970d7f275cea': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:39.258 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:39.259 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:39.232492Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:39.232465Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:39Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:39.259 gohan.server.middleware INFO [0m Completed 200 OK in 25.401946ms (Request-Id: -)
00:33:39.262 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:39.261388Z&backscan=2019-02-01T00:28:39.261399Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36088 (Request-Id: -) data: 
[36m00:33:39.262 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:33:39.263 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:39.280 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:39.281 gohan.server.resources INFO [0m Created transaction 34540f4d-639b-4018-91b9-c5e82640f3cc for fetching monitoring ports (Request-Id: -)
00:33:39.282 gohan.db.sql INFO [0m Executing SQL query in transaction '34540f4d-639b-4018-91b9-c5e82640f3cc': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981219 AND (history.deleted IS NULL OR history.deleted >= 1548980919)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:39.284 gohan.db.sql INFO [0m Executing SQL query in transaction '34540f4d-639b-4018-91b9-c5e82640f3cc': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:39.286 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:39.287 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:39.261399Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:39.261388Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:39Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:39.287 gohan.server.middleware INFO [0m Completed 200 OK in 25.528288ms (Request-Id: -)
00:33:44.291 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:44.289736Z&backscan=2019-02-01T00:28:44.289763Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36098 (Request-Id: -) data: 
[36m00:33:44.291 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:44.291 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:44.309 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:44.309 gohan.server.resources INFO [0m Created transaction 85e33041-25ed-46a4-9a2e-f344b7778093 for fetching monitoring networks (Request-Id: -)
00:33:44.311 gohan.db.sql INFO [0m Executing SQL query in transaction '85e33041-25ed-46a4-9a2e-f344b7778093': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981224 AND (history.deleted IS NULL OR history.deleted >= 1548980924)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:44.313 gohan.db.sql INFO [0m Executing SQL query in transaction '85e33041-25ed-46a4-9a2e-f344b7778093': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:44.315 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:44.315 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:44.289763Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:44.289736Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:44Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:44.316 gohan.server.middleware INFO [0m Completed 200 OK in 25.190333ms (Request-Id: -)
00:33:44.319 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:44.318400Z&backscan=2019-02-01T00:28:44.318412Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36100 (Request-Id: -) data: 
[36m00:33:44.319 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:33:44.320 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:44.336 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:44.336 gohan.server.resources INFO [0m Created transaction d9d2e7a6-c3fd-4e7b-a6ec-cd17881252eb for fetching monitoring ports (Request-Id: -)
00:33:44.338 gohan.db.sql INFO [0m Executing SQL query in transaction 'd9d2e7a6-c3fd-4e7b-a6ec-cd17881252eb': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981224 AND (history.deleted IS NULL OR history.deleted >= 1548980924)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:44.340 gohan.db.sql INFO [0m Executing SQL query in transaction 'd9d2e7a6-c3fd-4e7b-a6ec-cd17881252eb': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:44.341 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:44.342 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:44.318412Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:44.318400Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:44Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:44.343 gohan.server.middleware INFO [0m Completed 200 OK in 23.536348ms (Request-Id: -)
00:33:49.346 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:49.344806Z&backscan=2019-02-01T00:28:49.344833Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36102 (Request-Id: -) data: 
[36m00:33:49.346 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:33:49.347 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:49.364 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:49.364 gohan.server.resources INFO [0m Created transaction 6b6d9040-89c4-4ee9-aacb-05921c4554ca for fetching monitoring networks (Request-Id: -)
00:33:49.365 gohan.db.sql INFO [0m Executing SQL query in transaction '6b6d9040-89c4-4ee9-aacb-05921c4554ca': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981229 AND (history.deleted IS NULL OR history.deleted >= 1548980929)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:49.367 gohan.db.sql INFO [0m Executing SQL query in transaction '6b6d9040-89c4-4ee9-aacb-05921c4554ca': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:49.369 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:49.370 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:49.344833Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:49.344806Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:49Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:49.370 gohan.server.middleware INFO [0m Completed 200 OK in 24.603005ms (Request-Id: -)
00:33:49.373 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:49.372700Z&backscan=2019-02-01T00:28:49.372713Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36104 (Request-Id: -) data: 
[36m00:33:49.374 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:33:49.374 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:49.390 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:49.391 gohan.server.resources INFO [0m Created transaction eff29ab9-9a82-445c-af03-218118969f84 for fetching monitoring ports (Request-Id: -)
00:33:49.392 gohan.db.sql INFO [0m Executing SQL query in transaction 'eff29ab9-9a82-445c-af03-218118969f84': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981229 AND (history.deleted IS NULL OR history.deleted >= 1548980929)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:49.394 gohan.db.sql INFO [0m Executing SQL query in transaction 'eff29ab9-9a82-445c-af03-218118969f84': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:49.396 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:49.396 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:49.372713Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:49.372700Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:49Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:49.397 gohan.server.middleware INFO [0m Completed 200 OK in 23.646725ms (Request-Id: -)
00:33:54.400 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:54.399161Z&backscan=2019-02-01T00:28:54.399180Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36118 (Request-Id: -) data: 
[36m00:33:54.400 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:33:54.401 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:54.416 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:54.417 gohan.server.resources INFO [0m Created transaction 65e64f3c-e5d4-4d1c-9132-3b6e036ab8f4 for fetching monitoring networks (Request-Id: -)
00:33:54.418 gohan.db.sql INFO [0m Executing SQL query in transaction '65e64f3c-e5d4-4d1c-9132-3b6e036ab8f4': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981234 AND (history.deleted IS NULL OR history.deleted >= 1548980934)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:54.420 gohan.db.sql INFO [0m Executing SQL query in transaction '65e64f3c-e5d4-4d1c-9132-3b6e036ab8f4': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:54.422 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:33:54.422 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:54.399180Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:54.399161Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:54Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:54.423 gohan.server.middleware INFO [0m Completed 200 OK in 23.029862ms (Request-Id: -)
00:33:54.426 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:54.425143Z&backscan=2019-02-01T00:28:54.425154Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36120 (Request-Id: -) data: 
[36m00:33:54.426 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:54.426 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:54.442 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:54.442 gohan.server.resources INFO [0m Created transaction 512776cd-6038-493e-952b-beef0ca171f2 for fetching monitoring ports (Request-Id: -)
00:33:54.443 gohan.db.sql INFO [0m Executing SQL query in transaction '512776cd-6038-493e-952b-beef0ca171f2': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981234 AND (history.deleted IS NULL OR history.deleted >= 1548980934)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:54.445 gohan.db.sql INFO [0m Executing SQL query in transaction '512776cd-6038-493e-952b-beef0ca171f2': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:54.447 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:54.447 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:54.425154Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:54.425143Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:54Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:54.448 gohan.server.middleware INFO [0m Completed 200 OK in 22.201305ms (Request-Id: -)
00:33:59.451 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:33:59.449762Z&backscan=2019-02-01T00:28:59.449782Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36122 (Request-Id: -) data: 
[36m00:33:59.451 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m00:33:59.451 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:59.467 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:33:59.467 gohan.server.resources INFO [0m Created transaction 26aec2ae-7db1-42a2-8f10-79af55586138 for fetching monitoring networks (Request-Id: -)
00:33:59.468 gohan.db.sql INFO [0m Executing SQL query in transaction '26aec2ae-7db1-42a2-8f10-79af55586138': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981239 AND (history.deleted IS NULL OR history.deleted >= 1548980939)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:59.470 gohan.db.sql INFO [0m Executing SQL query in transaction '26aec2ae-7db1-42a2-8f10-79af55586138': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:33:59.472 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[429] Content-Type:[application/json]]
[36m00:33:59.473 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:59.449782Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:59.449762Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:59Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:33:59.473 gohan.server.middleware INFO [0m Completed 200 OK in 22.526893ms (Request-Id: -)
00:33:59.476 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:33:59.475164Z&backscan=2019-02-01T00:28:59.475174Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36124 (Request-Id: -) data: 
[36m00:33:59.476 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m00:33:59.476 gohan.server.middleware DEBUG [0m Request body: 
[36m00:33:59.491 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:33:59.491 gohan.server.resources INFO [0m Created transaction c849fe1b-227c-4e60-9593-6a1ff4b6f5f3 for fetching monitoring ports (Request-Id: -)
00:33:59.492 gohan.db.sql INFO [0m Executing SQL query in transaction 'c849fe1b-227c-4e60-9593-6a1ff4b6f5f3': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981239 AND (history.deleted IS NULL OR history.deleted >= 1548980939)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:33:59.494 gohan.db.sql INFO [0m Executing SQL query in transaction 'c849fe1b-227c-4e60-9593-6a1ff4b6f5f3': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:33:59.496 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:33:59.496 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:28:59.475174Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:33:59.475164Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:33:59Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:33:59.497 gohan.server.middleware INFO [0m Completed 200 OK in 21.241037ms (Request-Id: -)
00:34:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
00:34:00.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m00:34:00.039 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started (Request-Id: -)
[36m00:34:00.042 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed (Request-Id: -)
00:34:00.044 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m00:34:00.050 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started (Request-Id: -)
[36m00:34:00.053 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed (Request-Id: -)
00:34:00.055 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
00:34:04.500 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:34:04.499026Z&backscan=2019-02-01T00:29:04.499046Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36134 (Request-Id: -) data: 
[36m00:34:04.501 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m00:34:04.501 gohan.server.middleware DEBUG [0m Request body: 
[36m00:34:04.517 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:34:04.517 gohan.server.resources INFO [0m Created transaction a9a55069-4711-4a25-92ab-1d080093f7d4 for fetching monitoring networks (Request-Id: -)
00:34:04.519 gohan.db.sql INFO [0m Executing SQL query in transaction 'a9a55069-4711-4a25-92ab-1d080093f7d4': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981244 AND (history.deleted IS NULL OR history.deleted >= 1548980944)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:34:04.521 gohan.db.sql INFO [0m Executing SQL query in transaction 'a9a55069-4711-4a25-92ab-1d080093f7d4': 'SELECT resource.id     AS resource_id,resource.status AS status FROM networks AS resource WHERE resource.id IN (b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1);'
[36m00:34:04.522 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[429]]
[36m00:34:04.523 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:29:04.499046Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:34:04.499026Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:34:04Z",
      "metric": "logical-network.network.status.bool",
      "resource_id": "b761b0cd-d7c3-4b7a-b596-cea1cf9cc1e1",
      "value": true
    }
  ]
}
00:34:04.524 gohan.server.middleware INFO [0m Completed 200 OK in 23.526557ms (Request-Id: -)
00:34:04.526 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/ports?time=2019-02-01T00:34:04.525581Z&backscan=2019-02-01T00:29:04.525591Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36136 (Request-Id: -) data: 
[36m00:34:04.526 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:34:04.527 gohan.server.middleware DEBUG [0m Request body: 
[36m00:34:04.542 gohan.server.resources DEBUG [0m Show monitoring ports started (Request-Id: -)
00:34:04.542 gohan.server.resources INFO [0m Created transaction 534aa781-a26c-4cd1-bc8f-1fbbad1e7f63 for fetching monitoring ports (Request-Id: -)
00:34:04.543 gohan.db.sql INFO [0m Executing SQL query in transaction '534aa781-a26c-4cd1-bc8f-1fbbad1e7f63': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = port AND history.created < 1548981244 AND (history.deleted IS NULL OR history.deleted >= 1548980944)  AND (history.namespace = logical-network-port) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
00:34:04.545 gohan.db.sql INFO [0m Executing SQL query in transaction '534aa781-a26c-4cd1-bc8f-1fbbad1e7f63': 'SELECT resource.id     AS resource_id,resource.status AS status FROM ports AS resource WHERE resource.id IN (3a04e6ed-68fb-4534-8822-d5162d19f35a);'
[36m00:34:04.547 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[436]]
[36m00:34:04.548 gohan.server.middleware DEBUG [0m Response body: {
  "namespace": "logical-network-port",
  "page": {
    "next": null
  },
  "query": {
    "backscan": "2019-02-01T00:29:04.525591Z",
    "page": 1,
    "per_page": 1000,
    "time": "2019-02-01T00:34:04.525581Z"
  },
  "resources": [
    {
      "acquired_at": "2019-02-01T00:34:04Z",
      "metric": "logical-network-port.port.status.bool",
      "resource_id": "3a04e6ed-68fb-4534-8822-d5162d19f35a",
      "value": true
    }
  ]
}
00:34:04.548 gohan.server.middleware INFO [0m Completed 200 OK in 22.284799ms (Request-Id: -)
[mysql] 2019/02/01 00:34:09 packets.go:33: unexpected EOF
[mysql] 2019/02/01 00:34:09 packets.go:130: write tcp 172.20.0.6:46702->172.20.0.12:3306: write: broken pipe
00:34:09.551 gohan.server.middleware INFO [0m Started GET /v1.0/monitoring/networks?time=2019-02-01T00:34:09.550421Z&backscan=2019-02-01T00:29:09.550440Z&per_page=1000&page=1&se&status=True for client 172.20.0.11:36138 (Request-Id: -) data: 
[36m00:34:09.552 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m00:34:09.552 gohan.server.middleware DEBUG [0m Request body: 
[36m00:34:09.567 gohan.server.resources DEBUG [0m Show monitoring networks started (Request-Id: -)
00:34:09.568 gohan.server.resources INFO [0m Created transaction 78cecd73-9a20-4ded-bc14-a351dee25e83 for fetching monitoring networks (Request-Id: -)
00:34:09.569 gohan.db.sql INFO [0m Executing SQL query in transaction '78cecd73-9a20-4ded-bc14-a351dee25e83': 'SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = network AND history.created < 1548981249 AND (history.deleted IS NULL OR history.deleted >= 1548980949)  AND (history.namespace = logical-network) ORDER BY history.created,history.deleted,history.resource_id LIMIT 0 , 1001'
[mysql] 2019/02/01 00:34:09 packets.go:33: unexpected EOF
[mysql] 2019/02/01 00:34:09 packets.go:130: write tcp 172.20.0.6:46496->172.20.0.12:3306: write: broken pipe
[31m00:34:09.570 gohan.server.middleware ERROR [0m extension error: pre_show_in_transaction: Error during gohan_db_query: Failed to run query: SELECT history.resource_id AS resource_id FROM monitoring_historys AS history WHERE history.resource_type = ? AND history.created < ? AND (history.deleted IS NULL OR history.deleted >= ?)  AND (history.namespace = ?) ORDER BY history.created,history.deleted,history.resource_id LIMIT ? , ?
    at <unknown>
    at page_resources (/esi-cloud-gohan/esi_cloud/extensions/metrics.js:723:21)
    at /esi-cloud-gohan/esi_cloud/extensions/metrics.js:969:24
    at gohan_handle_event (<Gohan built-ins>:50:11)
    at <unknown>
[36m00:34:09.571 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[text/plain; charset=utf-8] X-Content-Type-Options:[nosniff]]
[36m00:34:09.571 gohan.server.middleware DEBUG [0m Response body: {"error":""}
00:34:09.571 gohan.server.middleware INFO [0m Completed 500 Internal Server Error in 19.732717ms (Request-Id: -)
[mysql] 2019/02/01 00:34:10 packets.go:33: unexpected EOF
[mysql] 2019/02/01 00:34:10 packets.go:130: write tcp 172.20.0.6:46700->172.20.0.12:3306: write: broken pipe
[mysql] 2019/02/01 00:34:11 packets.go:33: unexpected EOF
[mysql] 2019/02/01 00:34:11 packets.go:130: write tcp 172.20.0.6:47510->172.20.0.12:3306: write: broken pipe
[mysql] 2019/02/01 00:34:11 connection.go:67: invalid connection
[mysql] 2019/02/01 00:34:12 connection.go:67: invalid connection
[mysql] 2019/02/01 00:34:12 connection.go:67: invalid connection
[31m00:34:18.578 gohan.sync.etcd ERROR [0m watch error: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:18.579 gohan.server ERROR [0m State Watcher stops with Response channel closed unexpectedly
00:34:18.579 gohan.sync.etcd INFO [0m Stop watching on /state/
[31m00:34:18.579 gohan.sync.etcd ERROR [0m watch error: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:18.579 gohan.server ERROR [0m Monitoring Watcher stops with Stop signal received
00:34:18.579 gohan.sync.etcd INFO [0m Stop watching on /monitoring/
00:34:23.579 gohan.server INFO [0m State Watcher starts watch from index 360
00:34:23.579 gohan.sync.etcd INFO [0m Start resync on /state/ with index 360
00:34:23.580 gohan.server INFO [0m Monitoring Watcher starts watch from index 401
00:34:23.580 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 401
[31m00:34:23.584 gohan.sync.etcd ERROR [0m Resync failed with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:23.584 gohan.sync.etcd ERROR [0m Resync failed with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:23.584 gohan.server ERROR [0m Monitoring Watcher stops with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:23.584 gohan.server ERROR [0m State Watcher stops with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
00:34:28.585 gohan.server INFO [0m State Watcher starts watch from index 361
00:34:28.585 gohan.server INFO [0m Monitoring Watcher starts watch from index 402
00:34:28.585 gohan.sync.etcd INFO [0m Start resync on /state/ with index 361
00:34:28.585 gohan.sync.etcd INFO [0m Start resync on /monitoring/ with index 402
[31m00:34:28.590 gohan.sync.etcd ERROR [0m Resync failed with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:28.590 gohan.sync.etcd ERROR [0m Resync failed with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:28.590 gohan.server ERROR [0m Monitoring Watcher stops with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[31m00:34:28.590 gohan.server ERROR [0m State Watcher stops with 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.008 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.008 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.019 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.019 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.029 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.029 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.039 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.039 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.050 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.050 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.061 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.061 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.071 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.072 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.081 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.081 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.092 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.092 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.102 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.103 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.113 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.113 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.123 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.123 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.134 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.134 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.144 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.144 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.154 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.154 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.165 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.165 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.175 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.175 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.185 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.185 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.196 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.196 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.206 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.206 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.216 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.216 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.227 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.227 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.237 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.237 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.248 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.248 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.258 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.258 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.268 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.268 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.279 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.279 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.289 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.289 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.300 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.301 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.312 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.312 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.323 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.324 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.334 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.335 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.346 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.346 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.357 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.358 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.369 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.369 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.380 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.381 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.391 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.392 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.403 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.404 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.414 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.415 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.425 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.425 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.435 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.435 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.446 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.446 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.456 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.456 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.467 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.467 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.477 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.477 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.487 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.488 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.498 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.498 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.508 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.509 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.519 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.519 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.529 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.530 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.540 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.540 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.550 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.550 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.561 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.561 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.572 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.572 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.583 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.583 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.595 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.596 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.606 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.607 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.616 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.617 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.627 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.627 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.637 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.637 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.647 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.647 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.657 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.658 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.670 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.670 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.681 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.681 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.691 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.691 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.702 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.702 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.712 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.712 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.722 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.722 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.732 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.732 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.742 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.742 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.752 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.752 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.763 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.763 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.773 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.773 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.784 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.784 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.794 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.794 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.804 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.804 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.814 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.814 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.825 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.825 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.835 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.836 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.845 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.845 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.855 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.855 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.866 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.867 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.877 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.877 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.887 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.887 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.897 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.897 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.907 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.908 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.918 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.918 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.929 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.929 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.939 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.939 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.949 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.950 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.959 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.960 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.970 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.970 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.980 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.980 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.991 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:30.991 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.001 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.002 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.012 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.012 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.023 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.023 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.033 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.033 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.043 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.044 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.053 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.054 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.064 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.064 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.074 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.074 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.084 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.085 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.095 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.095 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.105 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.106 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.116 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.116 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.126 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.126 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.137 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.137 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.147 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.147 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.157 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.157 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.168 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.168 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.179 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.179 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.189 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.189 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.199 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.199 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.210 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.210 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.220 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.221 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.231 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.232 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.241 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.242 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.252 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.252 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.263 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.264 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.274 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.274 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.285 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.285 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.295 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.296 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.306 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.306 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.317 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.316 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.327 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.327 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.338 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.338 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_delete_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
[32m00:34:31.349 gohan.sync NOTICE [0m failed to lock path gohan/cluster/lock/cron:/tenant_connection_create_cron: 501: All the given peers are not reachable (Tried to connect to each peer twice and failed) [0]
