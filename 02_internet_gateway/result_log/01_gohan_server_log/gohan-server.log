04:21:42.675 gohan.server.core INFO [0m logging initialized
04:21:42.677 gohan.schema INFO [0m Loading schema ./../etc/schema/gohan.json ...
04:21:42.686 gohan.schema INFO [0m Loading schema ./../etc/extensions/gohan_extension.yaml ...
04:21:42.686 gohan.schema INFO [0m Loading schema ./schemas/cloud_schema.yaml ...
04:21:42.732 gohan.schema INFO [0m Loading schema ./schemas/heat_worker_schema.yaml ...
04:21:42.737 gohan.schema INFO [0m Loading schema ./schemas/tenants.yaml ...
04:21:42.739 gohan.schema INFO [0m Loading schema ./schemas/policies.yaml ...
04:21:42.741 gohan.schema INFO [0m Loading schema ./schemas/common_extensions.yaml ...
04:21:42.742 gohan.schema INFO [0m Loading schema ./schemas/relation_extensions.yaml ...
04:21:42.742 gohan.schema INFO [0m Loading schema ./schemas/extensions.yaml ...
04:21:42.745 gohan.schema INFO [0m Loading schema ./schemas/sss_extensions.yaml ...
04:21:42.746 gohan.schema INFO [0m Loading schema ./schemas/monitoring_extensions.yaml ...
04:21:42.746 gohan.schema INFO [0m Loading schema ./schemas/igs_schema.yaml ...
04:21:42.846 gohan.schema INFO [0m Loading schema ./schemas/igs_extensions.yaml ...
04:21:42.850 gohan.schema INFO [0m Loading schema ./schemas/igs_policies.yaml ...
04:21:42.853 gohan.schema INFO [0m Loading schema ./schemas/vnf_schema.yaml ...
04:21:42.867 gohan.schema INFO [0m Loading schema ./schemas/vnf_policies.yaml ...
04:21:42.869 gohan.schema INFO [0m Loading schema ./schemas/vnf_extensions.yaml ...
04:21:42.869 gohan.schema INFO [0m Loading schema ./schemas/firewall_schema.yaml ...
04:21:42.881 gohan.schema INFO [0m Loading schema ./schemas/firewall_extensions.yaml ...
04:21:42.882 gohan.schema INFO [0m Loading schema ./schemas/firewall_policies.yaml ...
04:21:42.884 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_schema.yaml ...
04:21:42.909 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_policies.yaml ...
04:21:42.911 gohan.schema INFO [0m Loading schema ./schemas/load_balancer_extensions.yaml ...
04:21:42.912 gohan.schema INFO [0m Loading schema ./schemas/usage.yaml ...
04:21:42.915 gohan.schema INFO [0m Loading schema ./schemas/billing_extensions.yaml ...
04:21:42.917 gohan.schema INFO [0m Loading schema ./schemas/billing_resource_schema.yaml ...
04:21:42.920 gohan.schema INFO [0m Loading schema ./schemas/metrics.yaml ...
04:21:42.923 gohan.schema INFO [0m Loading schema ./schemas/vpn_admin_policies.yaml ...
04:21:42.924 gohan.schema INFO [0m Loading schema ./schemas/aws_admin_policies.yaml ...
04:21:42.925 gohan.schema INFO [0m Loading schema ./schemas/interdc_admin_policies.yaml ...
04:21:42.926 gohan.schema INFO [0m Loading schema ./schemas/interdc_member_policy.yaml ...
04:21:42.926 gohan.schema INFO [0m Loading schema ./schemas/sss_admin_policies.yaml ...
04:21:42.926 gohan.schema INFO [0m Loading schema ./schemas/colocation_schema.yaml ...
04:21:42.940 gohan.schema INFO [0m Loading schema ./schemas/colocation_policies.yaml ...
04:21:42.941 gohan.schema INFO [0m Loading schema ./schemas/colocation_extensions.yaml ...
04:21:42.942 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_schema.yaml ...
04:21:42.947 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_policies.yaml ...
04:21:42.948 gohan.schema INFO [0m Loading schema ./schemas/tenant_connection_extensions.yaml ...
04:21:42.949 gohan.schema INFO [0m Loading schema ./schemas/hosting_schema.yaml ...
04:21:42.957 gohan.schema INFO [0m Loading schema ./schemas/hosting_policies.yaml ...
04:21:42.958 gohan.schema INFO [0m Loading schema ./schemas/hosting_extensions.yaml ...
[36m04:21:42.959 gohan.db DEBUG [0m Registering schema schema
04:21:42.959 gohan.db.sql INFO [0m Creating table: create table `schemas` (`actions`text null,`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`namespace`text not null,`parent`text not null,`plural`text not null,`prefix`text not null,`schema`text not null,`singular`text not null,`title`text not null);
[36m04:21:42.986 gohan.db DEBUG [0m Registering schema policy
04:21:42.986 gohan.db.sql INFO [0m Creating table: create table `policys` (`action`text null,`condition`text not null,`effect`text null,`id`varchar(255) primary key,`principal`text null,`resource`text null);
[36m04:21:43.018 gohan.db DEBUG [0m Registering schema extension
04:21:43.019 gohan.db.sql INFO [0m Creating table: create table `extensions` (`code`text not null,`code_type`text not null,`id`varchar(255) primary key,`path`text null,`url`text not null);
[36m04:21:43.051 gohan.db DEBUG [0m Registering schema event
04:21:43.051 gohan.db.sql INFO [0m Creating table: create table `events` (`body`text null,`id`integer primary key auto_increment ,`marked_for_deletion`boolean not null,`path`text not null,`timestamp`numeric not null,`type`text not null,`version`numeric null);
[36m04:21:43.080 gohan.db DEBUG [0m Registering schema namespace
04:21:43.081 gohan.db.sql INFO [0m Creating table: create table `namespaces` (`description`text not null,`id`varchar(255) primary key,`metadata`text not null,`name`text not null,`parent`text not null,`prefix`text not null,`version`text not null);
[36m04:21:43.111 gohan.db DEBUG [0m Registering schema location
04:21:43.111 gohan.db.sql INFO [0m Creating table: create table `locations` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`address`text not null,`description`text not null,`id`varchar(255) primary key,`name`text null,`tags`text not null,`tenant_id`text null,`type`text null);
[36m04:21:43.132 gohan.db DEBUG [0m Registering schema ese_device
04:21:43.132 gohan.db.sql INFO [0m Creating table: create table `ese_devices` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`existing`text not null,`flavor`text null,`hostname`text null,`id`varchar(255) primary key,`location`varchar(255) null,`management_ip_address`varchar(255) null unique,`name`text not null,`password`text not null,`public_ip_address`text null,`status`text null,`tags`text not null,`tenant_id`text null,`tor_agent_names`text null,`tsn_names`text null,`type`text not null,`username`text not null,CONSTRAINT `ese_device_location_fk` FOREIGN KEY (`location`) REFERENCES `locations`(id) );
[36m04:21:43.199 gohan.db DEBUG [0m Registering schema network
04:21:43.199 gohan.db.sql INFO [0m Creating table: create table `networks` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`shared`boolean not null,`status`text not null,`subnets`text not null,`tags`text not null,`tenant_id`text null);
[36m04:21:43.220 gohan.db DEBUG [0m Registering schema subnet
04:21:43.220 gohan.db.sql INFO [0m Creating table: create table `subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`allocation_pools`text not null,`cidr`text not null,`description`text not null,`dhcp_server_address`text null,`dns_nameservers`text not null,`enable_dhcp`boolean not null,`gateway_ip`text null,`host_routes`text not null,`id`varchar(255) primary key,`ip_version`numeric not null,`ipv6_address_mode`text null,`ipv6_ra_mode`text null,`name`text not null,`network_id`varchar(255) not null,`ntp_servers`text not null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:21:43.239 gohan.db DEBUG [0m Registering schema port
04:21:43.239 gohan.db.sql INFO [0m Creating table: create table `ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`allowed_address_pairs`text not null,`attached`boolean not null,`binding:vif_type`text not null,`description`text not null,`device_id`text null,`device_owner`text null,`ese_logical_port_id`text null,`fake_delete`boolean not null,`fixed_ips`text null,`id`varchar(255) primary key,`mac_address`text null,`managed_by_service`boolean not null,`name`text not null,`network_id`varchar(255) not null,`segmentation_id`numeric null,`segmentation_type`text null,`status`text not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:21:43.255 gohan.db DEBUG [0m Registering schema ese_physical_port
04:21:43.255 gohan.db.sql INFO [0m Creating table: create table `ese_physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_port_id`text null,`connected_port_owner`text null,`description`text not null,`ese_device_id`varchar(255) not null,`existing`text not null,`id`varchar(255) primary key,`name`text not null,`status`text null,`tags`text not null,`tenant_id`text null,CONSTRAINT `ese_physical_port_ese_device_id_fk` FOREIGN KEY (`ese_device_id`) REFERENCES `ese_devices`(id) );
[36m04:21:43.275 gohan.db DEBUG [0m Registering schema ese_logical_port
04:21:43.275 gohan.db.sql INFO [0m Creating table: create table `ese_logical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_gateway_id`text null,`connected_resource`text not null,`description`text not null,`ese_physical_port_id`varchar(255) not null,`gw_interface_id`text null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`port_ids`text null,`status`text null,`tags`text not null,`tenant_id`text null,`type`text not null,`vlan_id`numeric not null,CONSTRAINT `ese_logical_port_ese_physical_port_id_fk` FOREIGN KEY (`ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `ese_logical_port_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:21:43.312 gohan.db DEBUG [0m Registering schema local_subnet
04:21:43.312 gohan.db.sql INFO [0m Creating table: create table `local_subnets` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`ese_logical_port_id`varchar(255) not null,`id`varchar(255) primary key,`ip_version`numeric not null,`name`text not null,`network_id`varchar(255) not null,`tags`text not null,`tenant_id`text null,CONSTRAINT `local_subnet_ese_logical_port_id_fk` FOREIGN KEY (`ese_logical_port_id`) REFERENCES `ese_logical_ports`(id) ,CONSTRAINT `local_subnet_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) );
[36m04:21:43.359 gohan.db DEBUG [0m Registering schema server
04:21:43.360 gohan.db.sql INFO [0m Creating table: create table `servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`flavor`text not null,`id`varchar(255) primary key,`name`text not null,`tags`text not null,`tenant_id`text null,`type`text not null);
[36m04:21:43.388 gohan.db DEBUG [0m Registering schema physical_port
04:21:43.388 gohan.db.sql INFO [0m Creating table: create table `physical_ports` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`segmentation_ranges`text not null,`service_id`text null,`service_owner`text null,`status`text null,`tags`text not null,`tenant_id`text null);
[36m04:21:43.412 gohan.db DEBUG [0m Registering schema quota
04:21:43.413 gohan.db.sql INFO [0m Creating table: create table `quotas` (`aws_gateway`numeric not null,`colocation_logical_link`numeric not null,`common_function_gateway`numeric not null,`firewall`numeric not null,`hosting_logical_link`numeric not null,`hosting_physical_link_plane_storage`numeric not null,`id`varchar(255) primary key,`interdc_gateway`numeric not null,`internet_gateway`numeric not null,`load_balancer`numeric not null,`network`numeric not null,`port`numeric not null,`public_ip`numeric not null,`subnet`numeric not null,`tenant_id`varchar(255) not null unique,`vpn_gateway`numeric not null);
[36m04:21:43.440 gohan.db DEBUG [0m Registering schema reserve_address
04:21:43.440 gohan.db.sql INFO [0m Creating table: create table `reserve_addresss` (`id`varchar(255) primary key,`subnets`text not null,`tenant_id`varchar(255) not null unique);
[36m04:21:43.472 gohan.db DEBUG [0m Registering schema neutron_extension
04:21:43.472 gohan.db.sql INFO [0m Creating table: create table `neutron_extensions` (`alias`varchar(255) null unique,`description`text not null,`id`varchar(255) primary key,`links`text not null,`name`text null,`namespace`text null,`updated`text null);
[36m04:21:43.505 gohan.db DEBUG [0m Registering schema heat_template
04:21:43.505 gohan.db.sql INFO [0m Creating table: create table `heat_templates` (`handler`text null,`id`varchar(255) primary key,`parameter_mappings`text null,`template_file`text null,`tenant_id`text null,`watch`text null);
[36m04:21:43.532 gohan.db DEBUG [0m Registering schema worker_data
04:21:43.532 gohan.db.sql INFO [0m Creating table: create table `worker_datas` (`id`varchar(255) primary key,`tenant_id`text null,`value`text not null);
[36m04:21:43.568 gohan.db DEBUG [0m Registering schema tenant
04:21:43.568 gohan.db.sql INFO [0m Creating table: create table `tenants` (`delete_retries`numeric not null,`end_time`text not null,`id`varchar(255) primary key,`status`text null);
[36m04:21:43.601 gohan.db DEBUG [0m Registering schema edge_router
04:21:43.601 gohan.db.sql INFO [0m Creating table: create table `edge_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`autonomous_system`text null,`description`text not null,`id`varchar(255) primary key,`ip`varchar(255) not null unique,`login`text not null,`name`text not null,`password`text not null,`ssh_port`numeric not null,`status`text null,`tenant_id`text null);
[36m04:21:43.632 gohan.db DEBUG [0m Registering schema er_physical_interface
04:21:43.632 gohan.db.sql INFO [0m Creating table: create table `er_physical_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_ese_port_id`varchar(255) null,`description`text not null,`device_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`status`text null,`tenant_id`text null,CONSTRAINT `er_physical_interface_connected_ese_port_id_fk` FOREIGN KEY (`connected_ese_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `er_physical_interface_device_id_fk` FOREIGN KEY (`device_id`) REFERENCES `edge_routers`(id) );
[36m04:21:43.668 gohan.db DEBUG [0m Registering schema ha_router
04:21:43.669 gohan.db.sql INFO [0m Creating table: create table `ha_routers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`available_gateways`numeric null,`description`text not null,`id`varchar(255) primary key,`maximum_gateways`numeric not null,`name`text not null,`primary_router_id`varchar(255) not null unique,`secondary_router_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,CONSTRAINT `ha_router_primary_router_id_fk` FOREIGN KEY (`primary_router_id`) REFERENCES `edge_routers`(id) ,CONSTRAINT `ha_router_secondary_router_id_fk` FOREIGN KEY (`secondary_router_id`) REFERENCES `edge_routers`(id) );
[36m04:21:43.694 gohan.db DEBUG [0m Registering schema ha_interface
04:21:43.694 gohan.db.sql INFO [0m Creating table: create table `ha_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`available_be_bandwidth`numeric null,`available_ga_bandwidth`numeric null,`description`text not null,`gateway_instances_count`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`link_type`text not null,`maximum_be_bandwidth`numeric not null,`maximum_ga_bandwidth`numeric not null,`name`text not null,`primary_interface_id`varchar(255) not null unique,`restricted_vlans`text not null,`secondary_interface_id`varchar(255) not null unique,`status`text null,`tenant_id`text null,`vlan_ids_available`numeric not null,`vlan_pool_state`text not null,CONSTRAINT `ha_interface_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `ha_interface_primary_interface_id_fk` FOREIGN KEY (`primary_interface_id`) REFERENCES `er_physical_interfaces`(id) ,CONSTRAINT `ha_interface_secondary_interface_id_fk` FOREIGN KEY (`secondary_interface_id`) REFERENCES `er_physical_interfaces`(id) );
[36m04:21:43.732 gohan.db DEBUG [0m Registering schema internet_service
04:21:43.733 gohan.db.sql INFO [0m Creating table: create table `internet_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`inet_in_filter`text not null,`inet_out_filter`text not null,`minimal_submask_length`numeric not null,`name`text not null,`neighbour_prefix`text not null,`primary_ibgp_config_group`text not null,`primary_vrrp_config_group`text not null,`secondary_ibgp_config_group`text not null,`secondary_vrrp_config_group`text not null,`tenant_id`text null,`uplink_import_policy`text not null,`vrf_config`text not null,`vrf_export_policy`text not null,`vrf_import_policy`text not null,`zone`text null);
[36m04:21:43.753 gohan.db DEBUG [0m Registering schema vpn_service
04:21:43.753 gohan.db.sql INFO [0m Creating table: create table `vpn_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:21:43.770 gohan.db DEBUG [0m Registering schema aws_service
04:21:43.770 gohan.db.sql INFO [0m Creating table: create table `aws_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`neighbour_prefix`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_ebgp_config_group`text not null,`primary_ibgp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_ebgp_config_group`text not null,`secondary_ibgp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:21:43.789 gohan.db DEBUG [0m Registering schema interdc_service
04:21:43.789 gohan.db.sql INFO [0m Creating table: create table `interdc_services` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`be_forwarding_class`text not null,`default_static_routes_per_gateway`numeric not null,`description`text not null,`downlink_interfaces`text not null,`ga_forwarding_class`text not null,`id`varchar(255) primary key,`name`text not null,`primary_downlink_vrrp_config_group`text not null,`primary_uplink_vrrp_config_group`text not null,`secondary_downlink_vrrp_config_group`text not null,`secondary_uplink_vrrp_config_group`text not null,`tenant_id`text not null,`uplink_interfaces`text not null,`vrf_config`text null,`zone`text null);
[36m04:21:43.817 gohan.db DEBUG [0m Registering schema common_function_pool
04:21:43.817 gohan.db.sql INFO [0m Creating table: create table `common_function_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_state`text not null,`description`text not null,`dnat_group_name`text not null,`dnat_pool_group_name`text not null,`downlink_interfaces`text not null,`id`varchar(255) primary key,`link_local_cidr`text not null,`link_local_netmask`numeric not null,`logical_tunnel_interface_name`text not null,`name`text not null,`service_interface_name`text not null,`service_vrf_name`text not null,`snapt_group_name`text not null,`snapt_pool_group_name`text not null,`tenant_id`text not null,`vrrp_config`text not null,`vrrp_group_name`text not null);
[36m04:21:43.838 gohan.db DEBUG [0m Registering schema nat_ip_pool
04:21:43.838 gohan.db.sql INFO [0m Creating table: create table `nat_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`ip_allocation_state`text not null,`ip_ranges`text not null,`name`text not null,`tenant_id`text not null,CONSTRAINT `nat_ip_pool_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `nat_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m04:21:43.861 gohan.db DEBUG [0m Registering schema common_function
04:21:43.861 gohan.db.sql INFO [0m Creating table: create table `common_functions` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_number`numeric null,`common_function_pool_id`varchar(255) not null,`description`text not null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`link_local_ip_address`text not null,`name`text not null,`primary_vrrp_ip`text null,`secondary_vrrp_ip`text null,`shared_ip_address`text not null,`status`text not null,`tenant_id`text not null,`vrid`numeric null,CONSTRAINT `common_function_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) );
[36m04:21:43.889 gohan.db DEBUG [0m Registering schema public_ip_pool
04:21:43.889 gohan.db.sql INFO [0m Creating table: create table `public_ip_pools` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`addresses_available`numeric not null,`ha_router_id`varchar(255) not null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`ip_version`numeric not null,`pool_state`text not null,`submask_length`numeric not null,`subnet_ip`text not null,`tenant_id`text null,CONSTRAINT `public_ip_pool_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `public_ip_pool_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) );
[36m04:21:43.922 gohan.db DEBUG [0m Registering schema suspended_public_ip
04:21:43.922 gohan.db.sql INFO [0m Creating table: create table `suspended_public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`expiry_timestamp`text null,`id`varchar(255) primary key,`ip_pool_id`varchar(255) not null,`name`text not null,`previous_tenant_id`text null,`submask_length`text not null,`tenant_id`text null,CONSTRAINT `suspended_public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) );
[36m04:21:43.941 gohan.db DEBUG [0m Registering schema qos_option
04:21:43.941 gohan.db.sql INFO [0m Creating table: create table `qos_options` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_service_id`varchar(255) null,`bandwidth`text not null,`charge_type`text null,`description`text not null,`ha_router_id`varchar(255) null,`id`varchar(255) primary key,`incoming_policer_config`text not null,`incoming_policer_name`text not null,`interdc_service_id`varchar(255) null,`internet_service_id`varchar(255) null,`name`text not null,`outgoing_policer_config`text not null,`outgoing_policer_name`text not null,`qos_type`text not null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_service_id`varchar(255) null,CONSTRAINT `qos_option_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `qos_option_ha_router_id_fk` FOREIGN KEY (`ha_router_id`) REFERENCES `ha_routers`(id) ,CONSTRAINT `qos_option_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `qos_option_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `qos_option_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m04:21:43.993 gohan.db DEBUG [0m Registering schema vpn_gateway
04:21:43.994 gohan.db.sql INFO [0m Creating table: create table `vpn_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connected_vpn_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vpn_service_id`varchar(255) not null,`vrf_name`text null,CONSTRAINT `vpn_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `vpn_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `vpn_gateway_vpn_service_id_fk` FOREIGN KEY (`vpn_service_id`) REFERENCES `vpn_services`(id) );
[36m04:21:44.069 gohan.db DEBUG [0m Registering schema vpn_interface
04:21:44.070 gohan.db.sql INFO [0m Creating table: create table `vpn_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,`vpn_gw_id`varchar(255) not null,CONSTRAINT `vpn_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:21:44.098 gohan.db DEBUG [0m Registering schema aws_gateway
04:21:44.098 gohan.db.sql INFO [0m Creating table: create table `aws_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_service_id`varchar(255) not null,`connected_aws_interface`text not null,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`local_as_number`text not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `aws_gateway_aws_service_id_fk` FOREIGN KEY (`aws_service_id`) REFERENCES `aws_services`(id) ,CONSTRAINT `aws_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `aws_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `aws_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:21:44.154 gohan.db DEBUG [0m Registering schema aws_interface
04:21:44.154 gohan.db.sql INFO [0m Creating table: create table `aws_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) not null,`bgp_md5`text not null,`bgp_remote_as`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`primary`text not null,`secondary`text not null,`status`text null,`tenant_id`text not null,CONSTRAINT `aws_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) );
[36m04:21:44.170 gohan.db DEBUG [0m Registering schema internet_gateway
04:21:44.170 gohan.db.sql INFO [0m Creating table: create table `internet_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`associated_uplink_id`varchar(255) null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`internet_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_interface_name`text null,`status`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `internet_gateway_associated_uplink_id_fk` FOREIGN KEY (`associated_uplink_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `internet_gateway_internet_service_id_fk` FOREIGN KEY (`internet_service_id`) REFERENCES `internet_services`(id) ,CONSTRAINT `internet_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) );
[36m04:21:44.215 gohan.db DEBUG [0m Registering schema common_function_gateway
04:21:44.215 gohan.db.sql INFO [0m Creating table: create table `common_function_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`common_function_pool_id`varchar(255) not null,`common_functions`text null,`description`text not null,`downlink_interface_id`varchar(255) null,`id`varchar(255) primary key,`logical_tunnel_unit_service`text null,`logical_tunnel_unit_user`text null,`name`text not null,`nat_ip`text null,`network_id`text null,`primary_logical_interface_name`text null,`secondary_logical_interface_name`text null,`status`text null,`subnet_id`text null,`tenant_id`text null,`vlan_id`text null,`vrf_name`text null,CONSTRAINT `common_function_gateway_common_function_pool_id_fk` FOREIGN KEY (`common_function_pool_id`) REFERENCES `common_function_pools`(id) ,CONSTRAINT `common_function_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:21:44.254 gohan.db DEBUG [0m Registering schema public_ip
04:21:44.254 gohan.db.sql INFO [0m Creating table: create table `public_ips` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`cidr`text not null,`description`text not null,`id`varchar(255) primary key,`internet_gw_id`varchar(255) not null,`ip_pool_id`varchar(255) null,`name`text not null,`status`text not null,`submask_length`numeric not null,`suspended_public_ip_id`varchar(255) null,`tenant_id`text null,CONSTRAINT `public_ip_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `public_ip_ip_pool_id_fk` FOREIGN KEY (`ip_pool_id`) REFERENCES `public_ip_pools`(id) ,CONSTRAINT `public_ip_suspended_public_ip_id_fk` FOREIGN KEY (`suspended_public_ip_id`) REFERENCES `suspended_public_ips`(id) );
[36m04:21:44.295 gohan.db DEBUG [0m Registering schema interdc_gateway
04:21:44.295 gohan.db.sql INFO [0m Creating table: create table `interdc_gateways` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`downlink_interface_id`varchar(255) null,`downlink_vlan_id`text null,`id`varchar(255) primary key,`interdc_service_id`varchar(255) not null,`maximum_static_routes`numeric null,`name`text not null,`primary_logical_downlink_interface_name`text null,`primary_logical_uplink_interface_name`text null,`qos_option_id`varchar(255) not null,`secondary_logical_downlink_interface_name`text null,`secondary_logical_uplink_interface_name`text null,`status`text null,`tenant_id`text not null,`uplink_interface_id`varchar(255) null,`uplink_vlan_id`text not null,`vrf_name`text null,CONSTRAINT `interdc_gateway_downlink_interface_id_fk` FOREIGN KEY (`downlink_interface_id`) REFERENCES `ha_interfaces`(id) ,CONSTRAINT `interdc_gateway_interdc_service_id_fk` FOREIGN KEY (`interdc_service_id`) REFERENCES `interdc_services`(id) ,CONSTRAINT `interdc_gateway_qos_option_id_fk` FOREIGN KEY (`qos_option_id`) REFERENCES `qos_options`(id) ,CONSTRAINT `interdc_gateway_uplink_interface_id_fk` FOREIGN KEY (`uplink_interface_id`) REFERENCES `ha_interfaces`(id) );
[36m04:21:44.338 gohan.db DEBUG [0m Registering schema interdc_interface
04:21:44.338 gohan.db.sql INFO [0m Creating table: create table `interdc_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) not null unique,`name`text not null,`netmask`numeric not null,`primary_ipv4`text not null,`primary_ipv6`text null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`status`text null,`tenant_id`text null,`vrid`numeric not null,CONSTRAINT `interdc_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) );
[36m04:21:44.363 gohan.db DEBUG [0m Registering schema gw_interface
04:21:44.363 gohan.db.sql INFO [0m Creating table: create table `gw_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) null unique,`description`text not null,`gw_vipv4`text not null,`gw_vipv6`text null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null unique,`internet_gw_id`varchar(255) null unique,`name`text not null,`netmask`numeric not null,`network_id`varchar(255) not null,`primary_ipv4`text not null,`primary_ipv6`text null,`public_ip_id`varchar(255) null,`secondary_ipv4`text not null,`secondary_ipv6`text null,`service_type`text not null,`status`text null,`tenant_id`text null,`vpn_gw_id`varchar(255) null unique,`vrid`numeric not null,CONSTRAINT `gw_interface_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `gw_interface_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `gw_interface_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `gw_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `gw_interface_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `gw_interface_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:21:44.422 gohan.db DEBUG [0m Registering schema static_route
04:21:44.423 gohan.db.sql INFO [0m Creating table: create table `static_routes` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`aws_gw_id`varchar(255) null,`description`text not null,`destination`text not null,`id`varchar(255) primary key,`interdc_gw_id`varchar(255) null,`internet_gw_id`varchar(255) null,`name`text not null,`nexthop`text not null,`public_ip_id`varchar(255) null,`service_type`text not null,`status`text not null,`tenant_id`text null,`vpn_gw_id`varchar(255) null,CONSTRAINT `static_route_aws_gw_id_fk` FOREIGN KEY (`aws_gw_id`) REFERENCES `aws_gateways`(id) ,CONSTRAINT `static_route_interdc_gw_id_fk` FOREIGN KEY (`interdc_gw_id`) REFERENCES `interdc_gateways`(id) ,CONSTRAINT `static_route_internet_gw_id_fk` FOREIGN KEY (`internet_gw_id`) REFERENCES `internet_gateways`(id) ,CONSTRAINT `static_route_public_ip_id_fk` FOREIGN KEY (`public_ip_id`) REFERENCES `public_ips`(id) ,CONSTRAINT `static_route_vpn_gw_id_fk` FOREIGN KEY (`vpn_gw_id`) REFERENCES `vpn_gateways`(id) );
[36m04:21:44.484 gohan.db DEBUG [0m Registering schema vnf_template
04:21:44.484 gohan.db.sql INFO [0m Creating table: create table `vnf_templates` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`credentials`text not null,`description`text not null,`dummy_networks`text not null,`function`text not null,`id`varchar(255) primary key,`image`text not null,`init_config`text not null,`management_networks`text not null,`name`text not null,`security_group`text not null,`service_network_id`text null,`tenant_id`text null,`user_data_template`text not null,`vendor`text not null,`version`text not null);
[36m04:21:44.503 gohan.db DEBUG [0m Registering schema vnf_plan
04:21:44.503 gohan.db.sql INFO [0m Creating table: create table `vnf_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`default_interface_number`numeric not null,`description`text not null,`flavor`text not null,`function`text not null,`id`varchar(255) primary key,`interface_limit`numeric not null,`name`text not null,`tenant_id`text null,`vendor`text not null);
[36m04:21:44.519 gohan.db DEBUG [0m Registering schema vnf_instance
04:21:44.519 gohan.db.sql INFO [0m Creating table: create table `vnf_instances` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`availability_zone`text null,`config_drive`boolean not null,`description`text null,`id`varchar(255) primary key,`management_ip`text null,`name`text null,`networks`text null,`owner_tenant_id`text null,`reboot`text not null,`status`text not null,`tenant_id`text null,`user_data`text not null,`user_data_format`text not null,`user_data_parameters`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `vnf_instance_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `vnf_instance_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:21:44.548 gohan.db DEBUG [0m Registering schema vnf_interface
04:21:44.548 gohan.db.sql INFO [0m Creating table: create table `vnf_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`port_id`varchar(255) null,`slot_number`numeric null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_instance_id`varchar(255) not null,CONSTRAINT `vnf_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `vnf_interface_port_id_fk` FOREIGN KEY (`port_id`) REFERENCES `ports`(id) ,CONSTRAINT `vnf_interface_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:21:44.603 gohan.db DEBUG [0m Registering schema firewall_plan
04:21:44.604 gohan.db.sql INFO [0m Creating table: create table `firewall_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `firewall_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `firewall_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:21:44.632 gohan.db DEBUG [0m Registering schema firewall
04:21:44.632 gohan.db.sql INFO [0m Creating table: create table `firewalls` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`firewall_plan_id`varchar(255) not null,`id`varchar(255) primary key,`interfaces`text not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `firewall_firewall_plan_id_fk` FOREIGN KEY (`firewall_plan_id`) REFERENCES `firewall_plans`(id) ,CONSTRAINT `firewall_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:21:44.663 gohan.db DEBUG [0m Registering schema firewall_interface
04:21:44.664 gohan.db.sql INFO [0m Creating table: create table `firewall_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`firewall_id`varchar(255) not null,`id`varchar(255) primary key,`ip_address`text null,`name`text null,`network_id`varchar(255) null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `firewall_interface_firewall_id_fk` FOREIGN KEY (`firewall_id`) REFERENCES `firewalls`(id) ,CONSTRAINT `firewall_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `firewall_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m04:21:44.708 gohan.db DEBUG [0m Registering schema load_balancer_plan
04:21:44.708 gohan.db.sql INFO [0m Creating table: create table `load_balancer_plans` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`enabled`boolean not null,`id`varchar(255) primary key,`is_public`boolean not null,`license_code`text not null,`maximum_syslog_servers`numeric null,`model`text not null,`name`text not null,`tenant_id`text null,`vendor`text not null,`version`text not null,`vnf_plan_id`varchar(255) not null,`vnf_template_id`varchar(255) not null,CONSTRAINT `load_balancer_plan_vnf_plan_id_fk` FOREIGN KEY (`vnf_plan_id`) REFERENCES `vnf_plans`(id) ,CONSTRAINT `load_balancer_plan_vnf_template_id_fk` FOREIGN KEY (`vnf_template_id`) REFERENCES `vnf_templates`(id) );
[36m04:21:44.757 gohan.db DEBUG [0m Registering schema load_balancer_conf
04:21:44.757 gohan.db.sql INFO [0m Creating table: create table `load_balancer_confs` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`internet_port`text not null,`load_balancer_plan_id`varchar(255) not null,`management_gateway`text not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_conf_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_conf_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:21:44.804 gohan.db DEBUG [0m Registering schema load_balancer
04:21:44.804 gohan.db.sql INFO [0m Creating table: create table `load_balancers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_password`text not null,`admin_username`text not null,`availability_zone`text null,`default_gateway`text null,`description`text not null,`id`varchar(255) primary key,`interfaces`text not null,`internet_port_id`varchar(255) null unique,`load_balancer_conf_id`varchar(255) null,`load_balancer_plan_id`varchar(255) not null,`name`text not null,`networks`text not null,`other_password`text not null,`other_username`text not null,`status`text not null,`syslog_servers`text not null,`tenant_id`text null,`user_password`text not null,`user_username`text not null,`vnf_instance_id`varchar(255) null,CONSTRAINT `load_balancer_load_balancer_conf_id_fk` FOREIGN KEY (`load_balancer_conf_id`) REFERENCES `load_balancer_confs`(id) ,CONSTRAINT `load_balancer_load_balancer_plan_id_fk` FOREIGN KEY (`load_balancer_plan_id`) REFERENCES `load_balancer_plans`(id) ,CONSTRAINT `load_balancer_vnf_instance_id_fk` FOREIGN KEY (`vnf_instance_id`) REFERENCES `vnf_instances`(id) );
[36m04:21:44.853 gohan.db DEBUG [0m Registering schema load_balancer_interface
04:21:44.853 gohan.db.sql INFO [0m Creating table: create table `load_balancer_interfaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text null,`id`varchar(255) primary key,`ip_address`text null,`load_balancer_id`varchar(255) not null,`name`text null,`network_id`varchar(255) null,`slot_number`numeric not null,`status`text not null,`tenant_id`text null,`type`text null,`virtual_ip_address`text null,`virtual_ip_properties`text null,`vnf_interface_id`varchar(255) null,CONSTRAINT `load_balancer_interface_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) ,CONSTRAINT `load_balancer_interface_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `load_balancer_interface_vnf_interface_id_fk` FOREIGN KEY (`vnf_interface_id`) REFERENCES `vnf_interfaces`(id) );
[36m04:21:44.904 gohan.db DEBUG [0m Registering schema load_balancer_syslog_server
04:21:44.904 gohan.db.sql INFO [0m Creating table: create table `load_balancer_syslog_servers` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`acl_logging`text not null,`appflow_logging`text not null,`comment`text not null,`date_format`text not null,`description`text null,`id`varchar(255) primary key,`ip_address`text not null,`load_balancer_id`varchar(255) not null,`log_facility`text not null,`log_level`text not null,`name`text not null,`port_number`numeric not null,`priority`numeric not null,`status`text not null,`tcp_logging`text not null,`tenant_id`text null,`time_zone`text not null,`transport_type`text not null,`user_configurable_log_messages`text not null,`vserver_ip_address`text not null,`vserver_port_id`text not null,CONSTRAINT `load_balancer_syslog_server_load_balancer_id_fk` FOREIGN KEY (`load_balancer_id`) REFERENCES `load_balancers`(id) );
[36m04:21:44.937 gohan.db DEBUG [0m Registering schema billing_usage
04:21:44.937 gohan.db.sql INFO [0m Creating table: create table `billing_usages` (`id`varchar(255) primary key,`tenant_id`varchar(255) not null,CONSTRAINT `billing_usage_tenant_id_fk` FOREIGN KEY (`tenant_id`) REFERENCES `tenants`(id) );
[36m04:21:44.989 gohan.db DEBUG [0m Registering schema billing_resource
04:21:44.989 gohan.db.sql INFO [0m Creating table: create table `billing_resources` (`config_version`numeric null,`ended`numeric null,`id`varchar(255) primary key,`info`text not null,`parent_billing_id`varchar(255) null,`resource_id`text not null,`resource_type`text not null,`started`numeric null,`tenant_id`text not null,`unique_resource_id`varchar(255) null unique,CONSTRAINT `billing_resource_parent_billing_id_fk` FOREIGN KEY (`parent_billing_id`) REFERENCES `billing_resources`(id) );
[36m04:21:45.145 gohan.db DEBUG [0m Registering schema monitoring
04:21:45.145 gohan.db.sql INFO [0m Creating table: create table `monitorings` (`id`varchar(255) primary key);
[36m04:21:45.190 gohan.db DEBUG [0m Registering schema resource_mapping
04:21:45.190 gohan.db.sql INFO [0m Creating table: create table `resource_mappings` (`created`numeric null,`deleted`numeric null,`id`varchar(255) primary key,`mapped_id`text null,`relation`text null,`resource_id`text null,`resource_type`text null,`tenant_id`text null);
[36m04:21:45.245 gohan.db DEBUG [0m Registering schema colocation_space
04:21:45.245 gohan.db.sql INFO [0m Creating table: create table `colocation_spaces` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`connectable_device_ids`text not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text not null,`tenant_id`text null);
[36m04:21:45.289 gohan.db DEBUG [0m Registering schema colocation_physical_link
04:21:45.289 gohan.db.sql INFO [0m Creating table: create table `colocation_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `colocation_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `colocation_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `colocation_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m04:21:45.400 gohan.db DEBUG [0m Registering schema colocation_logical_link
04:21:45.401 gohan.db.sql INFO [0m Creating table: create table `colocation_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`colocation_physical_link_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `colocation_logical_link_colocation_physical_link_id_fk` FOREIGN KEY (`colocation_physical_link_id`) REFERENCES `colocation_physical_links`(id) ,CONSTRAINT `colocation_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `colocation_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `colocation_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
[36m04:21:45.505 gohan.db DEBUG [0m Registering schema tenant_connection
04:21:45.505 gohan.db.sql INFO [0m Creating table: create table `tenant_connections` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`approval_request_id`text not null,`connected_interface`text not null,`connected_network`text not null,`description`text not null,`id`varchar(255) primary key,`interface_type`text not null,`name`text not null,`progress`text not null,`request_keystone_user_id`text null,`tenant_id`text null);
[36m04:21:45.550 gohan.db DEBUG [0m Registering schema hosting_physical_link
04:21:45.551 gohan.db.sql INFO [0m Creating table: create table `hosting_physical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`admin_state_up`boolean not null,`bandwidth`text not null,`colocation_space_id`varchar(255) not null,`description`text not null,`id`varchar(255) primary key,`name`text not null,`plane`text null,`segmentation_ranges`text not null,`status`text null,`tags`text not null,`tenant_id`text not null,`type_a_cross_connect_id`text not null,`type_a_ese_physical_port_id`varchar(255) not null,`type_a_physical_port_id`varchar(255) null,`type_a_rack_id`text not null,`type_b_cross_connect_id`text not null,`type_b_ese_physical_port_id`varchar(255) not null,`type_b_physical_port_id`varchar(255) null,`type_b_rack_id`text not null,CONSTRAINT `hosting_physical_link_colocation_space_id_fk` FOREIGN KEY (`colocation_space_id`) REFERENCES `colocation_spaces`(id) ,CONSTRAINT `hosting_physical_link_type_a_ese_physical_port_id_fk` FOREIGN KEY (`type_a_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_a_physical_port_id_fk` FOREIGN KEY (`type_a_physical_port_id`) REFERENCES `physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_ese_physical_port_id_fk` FOREIGN KEY (`type_b_ese_physical_port_id`) REFERENCES `ese_physical_ports`(id) ,CONSTRAINT `hosting_physical_link_type_b_physical_port_id_fk` FOREIGN KEY (`type_b_physical_port_id`) REFERENCES `physical_ports`(id) );
[36m04:21:45.654 gohan.db DEBUG [0m Registering schema hosting_logical_link
04:21:45.655 gohan.db.sql INFO [0m Creating table: create table `hosting_logical_links` (`config_version`int not null default 1,`state_version`int not null default 0,`monitoring_version`int not null default 0,`state_error`text not null default '',`state`text not null default '',`state_monitoring`text not null default '',`marked_for_deletion`int not null default 0,`description`text not null,`hosting_physical_link_id`varchar(255) not null,`id`varchar(255) primary key,`name`text not null,`network_id`varchar(255) not null,`status`text null,`tags`text not null,`tenant_id`text null,`type_a_port_id`varchar(255) null,`type_b_port_id`varchar(255) null,`vlan_id`numeric not null,CONSTRAINT `hosting_logical_link_hosting_physical_link_id_fk` FOREIGN KEY (`hosting_physical_link_id`) REFERENCES `hosting_physical_links`(id) ,CONSTRAINT `hosting_logical_link_network_id_fk` FOREIGN KEY (`network_id`) REFERENCES `networks`(id) ,CONSTRAINT `hosting_logical_link_type_a_port_id_fk` FOREIGN KEY (`type_a_port_id`) REFERENCES `ports`(id) ,CONSTRAINT `hosting_logical_link_type_b_port_id_fk` FOREIGN KEY (`type_b_port_id`) REFERENCES `ports`(id) );
04:21:45.758 gohan.server.core INFO [0m Importing data from ./init/heat_templates.yaml ...
04:21:45.761 gohan.db INFO [0m Populating resources for schema schema
04:21:45.763 gohan.db INFO [0m Populating resources for schema policy
04:21:45.765 gohan.db INFO [0m Populating resources for schema extension
04:21:45.766 gohan.db INFO [0m Populating resources for schema event
04:21:45.778 gohan.db INFO [0m Populating resources for schema namespace
04:21:45.779 gohan.db INFO [0m Populating resources for schema location
04:21:45.782 gohan.db INFO [0m Populating resources for schema ese_device
04:21:45.784 gohan.db INFO [0m Populating resources for schema network
04:21:45.793 gohan.db INFO [0m Populating resources for schema subnet
04:21:45.804 gohan.db INFO [0m Populating resources for schema port
04:21:45.810 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:45.824 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:45.826 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:45.828 gohan.db INFO [0m Populating resources for schema server
04:21:45.837 gohan.db INFO [0m Populating resources for schema physical_port
04:21:45.838 gohan.db INFO [0m Populating resources for schema quota
04:21:45.840 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:45.841 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:45.843 gohan.db INFO [0m Populating resources for schema heat_template
04:21:45.853 gohan.db INFO [0m Creating resource network
04:21:45.853 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,network,{"admin_state_up":"Padmin_state_up","name":"Pid","uuid":"Pid"},heat_template_version: 2013-05-23

description: >
  Network template

parameters:
  uuid:
    type: string
    label: Virtual Network UUID
    description: UUID of the virtual network that will be created.
    default: ""
  name:
    type: string
    label: Virtual Network Name
    description: Name of the virtual network that will be created.
  forwarding_mode:
    type: string
    label: Forwarding Mode
    description: Forwarding Mode.
    default: 'l2_l3'
  route_targets:
    type: comma_delimited_list
    label: Route Targets list
    default: []
  shared:
    type: boolean
    label: Shared Network
    default: false
  external:
    type: boolean
    label: External Network
    default: true
  allow_transit:
    type: boolean
    label: Allow Transit
    default: false
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true

resources:
  network:
    type: OS::Contrail::VirtualNetwork
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      forwarding_mode: { get_param: forwarding_mode }
      route_targets: { get_param: route_targets }
      shared: { get_param: shared }
      admin_state_up: { get_param: admin_state_up }

outputs:
  id:
    description: A unique id for the virtual network.
    value: { get_resource: network }
  name:
    description: The name of the virtual network.
    value: { get_attr: [network, name] }
  fq_name:
    description: The FQ name of the virtual network.
    value: { get_attr: [network, fq_name] }
  route_targets:
    description: The name of the virtual network.
    value: { get_attr: [network, route_targets] }
,[])'
04:21:45.854 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"network\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"name\":\"Pid\",\"uuid\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Network template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Virtual Network UUID\\n    description: UUID of the virtual network that will be created.\\n    default: \\\"\\\"\\n  name:\\n    type: string\\n    label: Virtual Network Name\\n    description: Name of the virtual network that will be created.\\n  forwarding_mode:\\n    type: string\\n    label: Forwarding Mode\\n    description: Forwarding Mode.\\n    default: 'l2_l3'\\n  route_targets:\\n    type: comma_delimited_list\\n    label: Route Targets list\\n    default: []\\n  shared:\\n    type: boolean\\n    label: Shared Network\\n    default: false\\n  external:\\n    type: boolean\\n    label: External Network\\n    default: true\\n  allow_transit:\\n    type: boolean\\n    label: Allow Transit\\n    default: false\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n\\nresources:\\n  network:\\n    type: OS::Contrail::VirtualNetwork\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      forwarding_mode: { get_param: forwarding_mode }\\n      route_targets: { get_param: route_targets }\\n      shared: { get_param: shared }\\n      admin_state_up: { get_param: admin_state_up }\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual network.\\n    value: { get_resource: network }\\n  name:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, name] }\\n  fq_name:\\n    description: The FQ name of the virtual network.\\n    value: { get_attr: [network, fq_name] }\\n  route_targets:\\n    description: The name of the virtual network.\\n    value: { get_attr: [network, route_targets] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/network,1494476505,create)'
04:21:45.855 gohan.db INFO [0m Creating resource subnet
04:21:45.855 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (subnet,{"allocation_pools":"Pallocation_pools","cidr":"Pcidr","dhcp_server_address":"Pdhcp_server_address","dns_nameservers":"Pdns_nameservers","enable_dhcp":"Penable_dhcp","gateway_ip":"Pgateway_ip","host_routes":"Phost_routes","ipam":"Cdefault-domain:default-project:default-network-ipam","name":"Pid","network_id":"Mnetwork:network_id:id","ntp_servers":"Pntp_servers"},heat_template_version: 2013-05-23

description: >
  Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  network_id:
    type: string
    label: Network ID
    description: ID of the network for which subnet will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  gateway_ip:
    default: "0.0.0.0"
    type: string
    label: Default Gateway
    description: Default gateway for the local subnet that will be created.
  ipam:
    type: string
    label: IP Address Management
    description: IPAM for the local subnet that will be created.
    default: ''
  enable_dhcp:
    type: boolean
    label: Enable DHCP
    description: Enable DHCP
    default: true
  dhcp_server_address:
    type: string
    label: DHCP Server address
    description: DHCP Server address
    default: "0.0.0.0"
  allocation_pools:
    type: string
    label: Allocation Pools
    description: Allocation Pools
    default: []
  dns_nameservers:
    type: comma_delimited_list
    label: DNS Nameservers List
    description: DNS Nameservers List
    default: []
  ntp_servers:
    type: comma_delimited_list
    label: NTP Nameservers List
    description: NTP Nameservers List
    default: []
  host_routes:
    type: json
    label: Host Routes
    description: Host Routes
    default: []

resources:
  subnet:
    type: OS::Contrail::VnSubnet
    properties:
      name: { get_param: name }
      network_id: { get_param: network_id }
      ip_prefix: { get_param: cidr }
      default_gateway: { get_param: gateway_ip }
      ipam: { get_param: ipam }
      enable_dhcp: { get_param: enable_dhcp }
      dns_server_address: { get_param: dhcp_server_address }
      dns_nameservers: { get_param: dns_nameservers }
      ntp_servers: { get_param: ntp_servers }
      host_routes: { get_param: host_routes }
      allocation_pools: { get_param: allocation_pools }
      gateway_is_vrouter: false

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
  network_id:
    description: A unique id for the network.
    value: { get_attr: [subnet, network_id] }
  ip_prefix:
    description: IP prefix of local subnet.
    value: { get_attr: [subnet, ip_prefix] }
  default_gateway:
    description: Default gateway of local subnet.
    value: { get_attr: [subnet, default_gateway] }
  ipam:
    description: IPAM this local subnet uses.
    value: { get_attr: [subnet, ipam] }
,[],heat_worker)'
04:21:45.868 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/subnet,1494476505,create,false,"{\"handler\":\"heat_worker\",\"id\":\"subnet\",\"parameter_mappings\":{\"allocation_pools\":\"Pallocation_pools\",\"cidr\":\"Pcidr\",\"dhcp_server_address\":\"Pdhcp_server_address\",\"dns_nameservers\":\"Pdns_nameservers\",\"enable_dhcp\":\"Penable_dhcp\",\"gateway_ip\":\"Pgateway_ip\",\"host_routes\":\"Phost_routes\",\"ipam\":\"Cdefault-domain:default-project:default-network-ipam\",\"name\":\"Pid\",\"network_id\":\"Mnetwork:network_id:id\",\"ntp_servers\":\"Pntp_servers\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  network_id:\\n    type: string\\n    label: Network ID\\n    description: ID of the network for which subnet will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  gateway_ip:\\n    default: \\\"0.0.0.0\\\"\\n    type: string\\n    label: Default Gateway\\n    description: Default gateway for the local subnet that will be created.\\n  ipam:\\n    type: string\\n    label: IP Address Management\\n    description: IPAM for the local subnet that will be created.\\n    default: ''\\n  enable_dhcp:\\n    type: boolean\\n    label: Enable DHCP\\n    description: Enable DHCP\\n    default: true\\n  dhcp_server_address:\\n    type: string\\n    label: DHCP Server address\\n    description: DHCP Server address\\n    default: \\\"0.0.0.0\\\"\\n  allocation_pools:\\n    type: string\\n    label: Allocation Pools\\n    description: Allocation Pools\\n    default: []\\n  dns_nameservers:\\n    type: comma_delimited_list\\n    label: DNS Nameservers List\\n    description: DNS Nameservers List\\n    default: []\\n  ntp_servers:\\n    type: comma_delimited_list\\n    label: NTP Nameservers List\\n    description: NTP Nameservers List\\n    default: []\\n  host_routes:\\n    type: json\\n    label: Host Routes\\n    description: Host Routes\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::VnSubnet\\n    properties:\\n      name: { get_param: name }\\n      network_id: { get_param: network_id }\\n      ip_prefix: { get_param: cidr }\\n      default_gateway: { get_param: gateway_ip }\\n      ipam: { get_param: ipam }\\n      enable_dhcp: { get_param: enable_dhcp }\\n      dns_server_address: { get_param: dhcp_server_address }\\n      dns_nameservers: { get_param: dns_nameservers }\\n      ntp_servers: { get_param: ntp_servers }\\n      host_routes: { get_param: host_routes }\\n      allocation_pools: { get_param: allocation_pools }\\n      gateway_is_vrouter: false\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n  network_id:\\n    description: A unique id for the network.\\n    value: { get_attr: [subnet, network_id] }\\n  ip_prefix:\\n    description: IP prefix of local subnet.\\n    value: { get_attr: [subnet, ip_prefix] }\\n  default_gateway:\\n    description: Default gateway of local subnet.\\n    value: { get_attr: [subnet, default_gateway] }\\n  ipam:\\n    description: IPAM this local subnet uses.\\n    value: { get_attr: [subnet, ipam] }\\n\",\"watch\":[]}",1)'
04:21:45.874 gohan.db INFO [0m Creating resource port
04:21:45.875 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (port,{"admin_state_up":"Padmin_state_up","device_owner":"Pdevice_owner","jinja_fixed_ips":"Pfixed_ips","jinja_force_dependency_cfg":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:common_function_gateway"}]},"then_mapping":{"field":"id","ignore_missing":true,"path":[{"id":"device_id","type":"common_function_gateway"}]}},"jinja_force_dependency_gw_interface":{"else_mapping":{"constant":null},"if_mapping":{"equal":[{"field":"device_owner"},{"constant":"network:gw_interface"}]},"then_mapping":{"field":"id","path":[{"id":"device_id","type":"gw_interface"}]}},"jinja_subnets":{"for_field":"fixed_ips","for_mapping":{"output_key":"id","path":[{"id":"subnet_id","type":"subnet"}]}},"name":"Pid","uuid":"Pid","virtual_machine":"Pdevice_id","virtual_machine_interface_allowed_address_pairs":"Pallowed_address_pairs","virtual_machine_interface_mac_address":"Pmac_address","virtual_network":"Mnetwork:network_id:id"},heat_template_version: 2013-05-23

description: >
  Virtual Machine Interface Template

parameters:
  uuid:
    type: string
    label: Backend Virtual Machine Interface UUID
    description: A unique id for the Virtual Machine Interface.
  name:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  virtual_machine_interface_allowed_address_pairs:
    type: json
    label: Virtual machine interface allowed address pairs.
  virtual_machine_interface_mac_address:
    type: string
    default: "fe:ff:ff:ff:ff:ff"
    label: Virtual machine interface mac address.
  virtual_network:
    type: string
    label: Virtual Network.
  virtual_machine:
    type: string
    label: Virtual Machine.
    default: ""
  device_owner:
    type: string
    label: Device Owner
    default: ""
  admin_state_up:
    type: boolean
    label: Admin state up
    default: true

resources:
  virtual_machine_interface:
    type: OS::Contrail::VirtualMachineInterface
    properties:
      uuid: { get_param: uuid }
      name: { get_param: name }
      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }
      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]
      virtual_networks: [ { get_param: virtual_network } ]
      virtual_machine: { get_param: virtual_machine }
      device_owner: { get_param: device_owner }
      admin_state_up: { get_param: admin_state_up }

{% for fixed_ip in jinja_fixed_ips %}
{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}
  {{ instance_ip_id }}:
    type: OS::Contrail::InstanceIp
    properties:
      name:
        str_replace:
          template: '%name%_%zone%_%ip%'
          params:
            "%name%": { get_param: name }
            "%zone%": {{ fixed_ip.subnet_id }}
            "%ip%": {{ fixed_ip.ip_address }}
      ip_address: {{ fixed_ip.ip_address }}
      subnet_id: {{ jinja_subnets[loop.index0] }}
      network_id: { get_param: virtual_network }
      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]
{% endfor %}

outputs:
  id:
    description: A unique id for the virtual machine interface.
    value: { get_resource: virtual_machine_interface }
  mac_address:
    description: Virtual machine interface mac address.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }
  allowed_address_pairs:
    description: Virtual machine allowed address pairs.
    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }
  virtual_network:
    description: Virtual network.
    value: { get_attr: [virtual_machine_interface, virtual_networks] }
  fq_name:
    description: Fully Qualified Name of the VMI
    value: { get_attr: [virtual_machine_interface, fq_name] }
,[],heat_worker)'
04:21:45.876 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476505,create,false,"{\"handler\":\"heat_worker\",\"id\":\"port\",\"parameter_mappings\":{\"admin_state_up\":\"Padmin_state_up\",\"device_owner\":\"Pdevice_owner\",\"jinja_fixed_ips\":\"Pfixed_ips\",\"jinja_force_dependency_cfg\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:common_function_gateway\"}]},\"then_mapping\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"device_id\",\"type\":\"common_function_gateway\"}]}},\"jinja_force_dependency_gw_interface\":{\"else_mapping\":{\"constant\":null},\"if_mapping\":{\"equal\":[{\"field\":\"device_owner\"},{\"constant\":\"network:gw_interface\"}]},\"then_mapping\":{\"field\":\"id\",\"path\":[{\"id\":\"device_id\",\"type\":\"gw_interface\"}]}},\"jinja_subnets\":{\"for_field\":\"fixed_ips\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]}},\"name\":\"Pid\",\"uuid\":\"Pid\",\"virtual_machine\":\"Pdevice_id\",\"virtual_machine_interface_allowed_address_pairs\":\"Pallowed_address_pairs\",\"virtual_machine_interface_mac_address\":\"Pmac_address\",\"virtual_network\":\"Mnetwork:network_id:id\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Virtual Machine Interface Template\\n\\nparameters:\\n  uuid:\\n    type: string\\n    label: Backend Virtual Machine Interface UUID\\n    description: A unique id for the Virtual Machine Interface.\\n  name:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  virtual_machine_interface_allowed_address_pairs:\\n    type: json\\n    label: Virtual machine interface allowed address pairs.\\n  virtual_machine_interface_mac_address:\\n    type: string\\n    default: \\\"fe:ff:ff:ff:ff:ff\\\"\\n    label: Virtual machine interface mac address.\\n  virtual_network:\\n    type: string\\n    label: Virtual Network.\\n  virtual_machine:\\n    type: string\\n    label: Virtual Machine.\\n    default: \\\"\\\"\\n  device_owner:\\n    type: string\\n    label: Device Owner\\n    default: \\\"\\\"\\n  admin_state_up:\\n    type: boolean\\n    label: Admin state up\\n    default: true\\n\\nresources:\\n  virtual_machine_interface:\\n    type: OS::Contrail::VirtualMachineInterface\\n    properties:\\n      uuid: { get_param: uuid }\\n      name: { get_param: name }\\n      virtual_machine_interface_allowed_address_pairs: { get_param: virtual_machine_interface_allowed_address_pairs }\\n      virtual_machine_interface_mac_addresses: [ { get_param: virtual_machine_interface_mac_address } ]\\n      virtual_networks: [ { get_param: virtual_network } ]\\n      virtual_machine: { get_param: virtual_machine }\\n      device_owner: { get_param: device_owner }\\n      admin_state_up: { get_param: admin_state_up }\\n\\n{% for fixed_ip in jinja_fixed_ips %}\\n{% set instance_ip_id = 'instance_ip_' + (loop.index0|string) %}\\n  {{ instance_ip_id }}:\\n    type: OS::Contrail::InstanceIp\\n    properties:\\n      name:\\n        str_replace:\\n          template: '%name%_%zone%_%ip%'\\n          params:\\n            \\\"%name%\\\": { get_param: name }\\n            \\\"%zone%\\\": {{ fixed_ip.subnet_id }}\\n            \\\"%ip%\\\": {{ fixed_ip.ip_address }}\\n      ip_address: {{ fixed_ip.ip_address }}\\n      subnet_id: {{ jinja_subnets[loop.index0] }}\\n      network_id: { get_param: virtual_network }\\n      virtual_machine_interfaces: [ { get_resource: virtual_machine_interface } ]\\n{% endfor %}\\n\\noutputs:\\n  id:\\n    description: A unique id for the virtual machine interface.\\n    value: { get_resource: virtual_machine_interface }\\n  mac_address:\\n    description: Virtual machine interface mac address.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_mac_addresses] }\\n  allowed_address_pairs:\\n    description: Virtual machine allowed address pairs.\\n    value: { get_attr: [virtual_machine_interface, virtual_machine_interface_allowed_address_pairs] }\\n  virtual_network:\\n    description: Virtual network.\\n    value: { get_attr: [virtual_machine_interface, virtual_networks] }\\n  fq_name:\\n    description: Fully Qualified Name of the VMI\\n    value: { get_attr: [virtual_machine_interface, fq_name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/port)'
04:21:45.878 gohan.db INFO [0m Creating resource ese_physical_port_existing
04:21:45.878 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (ese_physical_port_existing,{"physical_device_hostname":"Fese_device+ese_device_id:hostname","physical_port_name":"Pname"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device_hostname:
    type: string
    label: Physical Device Hostname
    description: Hostname of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.

resources:
  physical_interface:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: physical_device_hostname }
        - { get_param: physical_port_name }
      resource_type: "physical_interface"

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
,[],heat_worker)'
04:21:45.878 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/ese_physical_port_existing,1494476505,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_existing\",\"parameter_mappings\":{\"physical_device_hostname\":\"Fese_device+ese_device_id:hostname\",\"physical_port_name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device_hostname:\\n    type: string\\n    label: Physical Device Hostname\\n    description: Hostname of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: physical_device_hostname }\\n        - { get_param: physical_port_name }\\n      resource_type: \\\"physical_interface\\\"\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n\",\"watch\":[]}",1)'
04:21:45.887 gohan.db INFO [0m Creating resource ese_physical_port_new
04:21:45.887 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,ese_physical_port_new,{"physical_device":"Mese_device:ese_device_id:id","physical_port_name":"Pname"},heat_template_version: 2013-05-23

description: >
  Physical port template

parameters:
  physical_device:
    type: string
    label: Physical Device Id
    description: Id of the physical device on which physical port will be created.
  physical_port_name:
    type: string
    label: Physical Interface Name
    description: Name of the physical port.

resources:
  physical_interface:
    type: OS::Contrail::PhysicalInterface
    properties:
      name: { get_param: physical_port_name }
      physical_router: { get_param: physical_device }

outputs:
  id:
    description: A unique id for the physical interface
    value: { get_resource: physical_interface }
  name:
    description: The name of the physical interface.
    value: { get_attr: [physical_interface, name] }
,[])'
04:21:45.887 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"ese_physical_port_new\",\"parameter_mappings\":{\"physical_device\":\"Mese_device:ese_device_id:id\",\"physical_port_name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical port template\\n\\nparameters:\\n  physical_device:\\n    type: string\\n    label: Physical Device Id\\n    description: Id of the physical device on which physical port will be created.\\n  physical_port_name:\\n    type: string\\n    label: Physical Interface Name\\n    description: Name of the physical port.\\n\\nresources:\\n  physical_interface:\\n    type: OS::Contrail::PhysicalInterface\\n    properties:\\n      name: { get_param: physical_port_name }\\n      physical_router: { get_param: physical_device }\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical interface\\n    value: { get_resource: physical_interface }\\n  name:\\n    description: The name of the physical interface.\\n    value: { get_attr: [physical_interface, name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_physical_port_new,1494476505,create)'
04:21:45.889 gohan.db INFO [0m Creating resource ese_logical_port
04:21:45.889 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (ese_logical_port,{"logical_port_name":"Pname","logical_port_type":"Ptype","logical_port_vlan_id":"Pvlan_id","physical_port_id":"Mese_physical_port:ese_physical_port_id:id","virtual_machine_interface_ids":{"for_field":"port_ids","for_mapping":{"output_key":"id","path":[{"id":"","type":"port"}]}}},heat_template_version: 2013-05-23

description: >
  Logical port template

parameters:
  physical_port_id:
    type: string
    label: Physical Interface ID
    description: A unique id for the Physical Interface.
  logical_port_name:
    type: string
    label: Logical Port Name
    description: Name of the logical port.
  logical_port_type:
    type: string
    label: Logical Port Type
    description: Type of the logical port.
  logical_port_vlan_id:
    type: number
    label: VLAN id for Logical Port
    description: VLAN id to use for logical port creation.
    default: 0
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface ID
    description: Virtual Machine Interface ID.

resources:
  logical_interface:
    type: OS::Contrail::LogicalInterface
    properties:
      name: { get_param: logical_port_name }
      physical_interface: { get_param: physical_port_id }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }
      type: { get_param: logical_port_type }
      vlan: { get_param: logical_port_vlan_id }

outputs:
  id:
    description: A unique id for the logical interface
    value: { get_resource: logical_interface }
  name:
    description: The name of the logical interface.
    value: { get_attr: [logical_interface, name] }
,[],heat_worker)'
04:21:45.889 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ese_logical_port,1494476505,create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_logical_port\",\"parameter_mappings\":{\"logical_port_name\":\"Pname\",\"logical_port_type\":\"Ptype\",\"logical_port_vlan_id\":\"Pvlan_id\",\"physical_port_id\":\"Mese_physical_port:ese_physical_port_id:id\",\"virtual_machine_interface_ids\":{\"for_field\":\"port_ids\",\"for_mapping\":{\"output_key\":\"id\",\"path\":[{\"id\":\"\",\"type\":\"port\"}]}}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Logical port template\\n\\nparameters:\\n  physical_port_id:\\n    type: string\\n    label: Physical Interface ID\\n    description: A unique id for the Physical Interface.\\n  logical_port_name:\\n    type: string\\n    label: Logical Port Name\\n    description: Name of the logical port.\\n  logical_port_type:\\n    type: string\\n    label: Logical Port Type\\n    description: Type of the logical port.\\n  logical_port_vlan_id:\\n    type: number\\n    label: VLAN id for Logical Port\\n    description: VLAN id to use for logical port creation.\\n    default: 0\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface ID\\n    description: Virtual Machine Interface ID.\\n\\nresources:\\n  logical_interface:\\n    type: OS::Contrail::LogicalInterface\\n    properties:\\n      name: { get_param: logical_port_name }\\n      physical_interface: { get_param: physical_port_id }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n      type: { get_param: logical_port_type }\\n      vlan: { get_param: logical_port_vlan_id }\\n\\noutputs:\\n  id:\\n    description: A unique id for the logical interface\\n    value: { get_resource: logical_interface }\\n  name:\\n    description: The name of the logical interface.\\n    value: { get_attr: [logical_interface, name] }\\n\",\"watch\":[]}")'
04:21:45.891 gohan.db INFO [0m Creating resource local_subnet
04:21:45.891 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,local_subnet,{"cidr":"Pcidr","name":"Pid"},heat_template_version: 2013-05-23

description: >
  Local Subnet template

parameters:
  name:
    type: string
    label: Local Subnet Name
    description: Name of the local subnet that will be created.
  cidr:
    type: string
    label: Local Subnet IP prefix
    description: IP prefix of the local subnet that will be created.
  virtual_machine_interface_ids:
    type: comma_delimited_list
    label: Virtual Machine Interface IDs
    description: Virtual Machine Interface IDs.
    default: []

resources:
  subnet:
    type: OS::Contrail::Subnet
    properties:
      name: { get_param: name }
      ip_prefix: { get_param: cidr }
      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }

outputs:
  id:
    description: A unique id for the local subnet.
    value: { get_resource: subnet }
  name:
    description: The name of the local subnet.
    value: { get_attr: [subnet, name] }
)'
04:21:45.891 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/local_subnet,1494476505,create,false,"{\"handler\":\"heat_worker\",\"id\":\"local_subnet\",\"parameter_mappings\":{\"cidr\":\"Pcidr\",\"name\":\"Pid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Local Subnet template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Local Subnet Name\\n    description: Name of the local subnet that will be created.\\n  cidr:\\n    type: string\\n    label: Local Subnet IP prefix\\n    description: IP prefix of the local subnet that will be created.\\n  virtual_machine_interface_ids:\\n    type: comma_delimited_list\\n    label: Virtual Machine Interface IDs\\n    description: Virtual Machine Interface IDs.\\n    default: []\\n\\nresources:\\n  subnet:\\n    type: OS::Contrail::Subnet\\n    properties:\\n      name: { get_param: name }\\n      ip_prefix: { get_param: cidr }\\n      virtual_machine_interfaces: { get_param: virtual_machine_interface_ids }\\n\\noutputs:\\n  id:\\n    description: A unique id for the local subnet.\\n    value: { get_resource: subnet }\\n  name:\\n    description: The name of the local subnet.\\n    value: { get_attr: [subnet, name] }\\n\",\"watch\":[]}",1)'
04:21:45.892 gohan.db INFO [0m Creating resource ese_device_existing
04:21:45.893 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,ese_device_existing,{"hostname":"Phostname","name":"Pname"},heat_template_version: 2013-05-23

description: >
  ESE Device (existing) template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  hostname:
    type: string
    label: Hostname
    description: Name of host (vrouter) to create router on

resources:
  physical_router:
    type: OS::Contrail::ExistingResource
    properties:
      fq_name:
        - "default-global-system-config"
        - { get_param: hostname }
      resource_type: "physical_router"
outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
)'
04:21:45.893 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"ese_device_existing\",\"parameter_mappings\":{\"hostname\":\"Phostname\",\"name\":\"Pname\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  ESE Device (existing) template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  hostname:\\n    type: string\\n    label: Hostname\\n    description: Name of host (vrouter) to create router on\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::ExistingResource\\n    properties:\\n      fq_name:\\n        - \\\"default-global-system-config\\\"\\n        - { get_param: hostname }\\n      resource_type: \\\"physical_router\\\"\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_device_existing,1494476505)'
04:21:45.894 gohan.db INFO [0m Creating resource ese_device_new
04:21:45.894 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  Physical router template

parameters:
  name:
    type: string
    label: Physical Router Name
    description: Name of the physical router that will be created.
  tor_agent_names:
    type: comma_delimited_list
    label: TOR Agent Names
    description: List of virtual router names of TOR agents.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  tsn_names:
    type: comma_delimited_list
    label: TOR Service Node Names
    description: List of virtual router names of TOR service nodes.
    constraints:
      - length: { min: 1 }
        description: List must not be empty.
    schema:
      '*': { type: string }
  management_ip:
    type: string
    label: Management IP Address
    description: Management IP Address.
  dataplane_ip:
    type: string
    label: Dataplane IP Address
    description: Dataplane Address.
  vendor_name:
    type: string
    default: ""
    label: Vendor Name
    description: Vendor name of the physical router.
  product_name:
    type: string
    default: ""
    label: Product Name
    description: Product name of the physical router.
  vnc_managed:
    type: boolean
    default: False
    label: VNC managed
    description: VNC managed.
  username:
    type: string
    label: Username
    description: Username used to login to the physical router.
  password:
    type: string
    label: Password
    description: Password used to login to the physical router.

resources:
  physical_router:
    type: OS::Contrail::PhysicalRouter
    properties:
      name: { get_param: name }
      virtual_routers:
        'Fn::Split':
          - ','
          - 'Fn::Join':
            - ','
            - - 'Fn::Join': [',', get_param: tor_agent_names ]
              - 'Fn::Join': [',', get_param: tsn_names ]
      management_ip: { get_param: management_ip }
      dataplane_ip: { get_param: dataplane_ip }
      vendor_name: { get_param: vendor_name }
      product_name: { get_param: product_name }
      vnc_managed: { get_param: vnc_managed }
      user_credentials:
        username: { get_param: username }
        password: { get_param: password }

outputs:
  id:
    description: A unique id for the physical router.
    value: { get_resource: physical_router }
  name:
    description: The name of the physical router.
    value: { get_attr: [physical_router, name] }
  fq_name:
    description: The FQ name of the physical router.
    value: { get_attr: [physical_router, fq_name] }
  vendor_name:
    description: The vendor name of the physical router.
    value: { get_attr: [physical_router, vendor_name] }
  product_name:
    description: The product name of the physical router.
    value: { get_attr: [physical_router, product_name] }
  management_ip:
    description: The managment IP of the physical router.
    value: { get_attr: [physical_router, management_ip] }
  dataplane_ip:
    description: The dataplane IP of the physical router.
    value: { get_attr: [physical_router, dataplane_ip] }
  vnc_managed:
    description: Physical rotuer vnc managed.
    value: { get_attr: [physical_router, vnc_managed] }
  virtual_routers:
    description: List of virtual routers.
    value: { get_attr: [physical_router, virtual_routers] }
  physical_interfaces:
    description: List of physical interfaces attached.
    value: { get_attr: [physical_router, physical_interfaces] }
  logical_interfaces:
    description: List of logical interfaces attached.
    value: { get_attr: [physical_router, logical_interfaces] }
,[],heat_worker,ese_device_new,{"dataplane_ip":"Ppublic_ip_address","management_ip":"Pmanagement_ip_address","name":"Phostname","password":"Ppassword","product_name":"Pname","tor_agent_names":"Ptor_agent_names","tsn_names":"Ptsn_names","username":"Pusername","vendor_name":"CJuniper","vnc_managed":"CFalse"})'
04:21:45.895 gohan.db.sql INFO [0m Executing SQL query in transaction '5744c36b-1cec-41f7-a152-748808c1a7c6': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"ese_device_new\",\"parameter_mappings\":{\"dataplane_ip\":\"Ppublic_ip_address\",\"management_ip\":\"Pmanagement_ip_address\",\"name\":\"Phostname\",\"password\":\"Ppassword\",\"product_name\":\"Pname\",\"tor_agent_names\":\"Ptor_agent_names\",\"tsn_names\":\"Ptsn_names\",\"username\":\"Pusername\",\"vendor_name\":\"CJuniper\",\"vnc_managed\":\"CFalse\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Physical router template\\n\\nparameters:\\n  name:\\n    type: string\\n    label: Physical Router Name\\n    description: Name of the physical router that will be created.\\n  tor_agent_names:\\n    type: comma_delimited_list\\n    label: TOR Agent Names\\n    description: List of virtual router names of TOR agents.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  tsn_names:\\n    type: comma_delimited_list\\n    label: TOR Service Node Names\\n    description: List of virtual router names of TOR service nodes.\\n    constraints:\\n      - length: { min: 1 }\\n        description: List must not be empty.\\n    schema:\\n      '*': { type: string }\\n  management_ip:\\n    type: string\\n    label: Management IP Address\\n    description: Management IP Address.\\n  dataplane_ip:\\n    type: string\\n    label: Dataplane IP Address\\n    description: Dataplane Address.\\n  vendor_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Vendor Name\\n    description: Vendor name of the physical router.\\n  product_name:\\n    type: string\\n    default: \\\"\\\"\\n    label: Product Name\\n    description: Product name of the physical router.\\n  vnc_managed:\\n    type: boolean\\n    default: False\\n    label: VNC managed\\n    description: VNC managed.\\n  username:\\n    type: string\\n    label: Username\\n    description: Username used to login to the physical router.\\n  password:\\n    type: string\\n    label: Password\\n    description: Password used to login to the physical router.\\n\\nresources:\\n  physical_router:\\n    type: OS::Contrail::PhysicalRouter\\n    properties:\\n      name: { get_param: name }\\n      virtual_routers:\\n        'Fn::Split':\\n          - ','\\n          - 'Fn::Join':\\n            - ','\\n            - - 'Fn::Join': [',', get_param: tor_agent_names ]\\n              - 'Fn::Join': [',', get_param: tsn_names ]\\n      management_ip: { get_param: management_ip }\\n      dataplane_ip: { get_param: dataplane_ip }\\n      vendor_name: { get_param: vendor_name }\\n      product_name: { get_param: product_name }\\n      vnc_managed: { get_param: vnc_managed }\\n      user_credentials:\\n        username: { get_param: username }\\n        password: { get_param: password }\\n\\noutputs:\\n  id:\\n    description: A unique id for the physical router.\\n    value: { get_resource: physical_router }\\n  name:\\n    description: The name of the physical router.\\n    value: { get_attr: [physical_router, name] }\\n  fq_name:\\n    description: The FQ name of the physical router.\\n    value: { get_attr: [physical_router, fq_name] }\\n  vendor_name:\\n    description: The vendor name of the physical router.\\n    value: { get_attr: [physical_router, vendor_name] }\\n  product_name:\\n    description: The product name of the physical router.\\n    value: { get_attr: [physical_router, product_name] }\\n  management_ip:\\n    description: The managment IP of the physical router.\\n    value: { get_attr: [physical_router, management_ip] }\\n  dataplane_ip:\\n    description: The dataplane IP of the physical router.\\n    value: { get_attr: [physical_router, dataplane_ip] }\\n  vnc_managed:\\n    description: Physical rotuer vnc managed.\\n    value: { get_attr: [physical_router, vnc_managed] }\\n  virtual_routers:\\n    description: List of virtual routers.\\n    value: { get_attr: [physical_router, virtual_routers] }\\n  physical_interfaces:\\n    description: List of physical interfaces attached.\\n    value: { get_attr: [physical_router, physical_interfaces] }\\n  logical_interfaces:\\n    description: List of logical interfaces attached.\\n    value: { get_attr: [physical_router, logical_interfaces] }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_device_new,1494476505,create,false)'
04:21:45.896 gohan.db INFO [0m Populating resources for schema worker_data
04:21:45.897 gohan.db INFO [0m Populating resources for schema tenant
04:21:45.900 gohan.db INFO [0m Populating resources for schema edge_router
04:21:45.902 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:45.903 gohan.db INFO [0m Populating resources for schema ha_router
04:21:45.910 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:45.912 gohan.db INFO [0m Populating resources for schema internet_service
04:21:45.917 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:45.919 gohan.db INFO [0m Populating resources for schema aws_service
04:21:45.933 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:45.948 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:45.965 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:45.966 gohan.db INFO [0m Populating resources for schema common_function
04:21:45.968 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:45.974 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:45.976 gohan.db INFO [0m Populating resources for schema qos_option
04:21:45.985 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:45.990 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:45.992 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:46.002 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:46.005 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:46.015 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:46.018 gohan.db INFO [0m Populating resources for schema public_ip
04:21:46.029 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:46.037 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:46.039 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:46.040 gohan.db INFO [0m Populating resources for schema static_route
04:21:46.044 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:46.049 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:46.050 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:46.061 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:46.062 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:46.064 gohan.db INFO [0m Populating resources for schema firewall
04:21:46.072 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:46.074 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:46.077 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:46.080 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:46.090 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:46.103 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:46.108 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:46.110 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:46.111 gohan.db INFO [0m Populating resources for schema monitoring
04:21:46.117 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:46.122 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:46.127 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:46.132 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:46.133 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:46.135 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:46.136 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:46.175 gohan.server.core INFO [0m Importing data from ./init/monitoring_templates.yaml ...
04:21:46.186 gohan.db INFO [0m Populating resources for schema schema
04:21:46.202 gohan.db INFO [0m Populating resources for schema policy
04:21:46.206 gohan.db INFO [0m Populating resources for schema extension
04:21:46.222 gohan.db INFO [0m Populating resources for schema event
04:21:46.235 gohan.db INFO [0m Populating resources for schema namespace
04:21:46.257 gohan.db INFO [0m Populating resources for schema location
04:21:46.261 gohan.db INFO [0m Populating resources for schema ese_device
04:21:46.273 gohan.db INFO [0m Populating resources for schema network
04:21:46.277 gohan.db INFO [0m Populating resources for schema subnet
04:21:46.298 gohan.db INFO [0m Populating resources for schema port
04:21:46.306 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:46.330 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:46.337 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:46.351 gohan.db INFO [0m Populating resources for schema server
04:21:46.354 gohan.db INFO [0m Populating resources for schema physical_port
04:21:46.361 gohan.db INFO [0m Populating resources for schema quota
04:21:46.375 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:46.399 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:46.413 gohan.db INFO [0m Populating resources for schema heat_template
04:21:46.427 gohan.db INFO [0m Creating resource network_monitoring
04:21:46.427 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"fq_name":{"output_key":"fq_name"},"uuid":{"output_key":"id"}},network:
  type: virtual_network
  uuid: {{ uuid }}
  fq_name: {{ fq_name }}
db_mappings:
  - mapped_id: {{ uuid }}
    relation: 'instance'
,[],monitoring_worker,network_monitoring)'
04:21:46.428 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/network_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"network_monitoring\",\"parameter_mappings\":{\"fq_name\":{\"output_key\":\"fq_name\"},\"uuid\":{\"output_key\":\"id\"}},\"template_file\":\"network:\\n  type: virtual_network\\n  uuid: {{ uuid }}\\n  fq_name: {{ fq_name }}\\ndb_mappings:\\n  - mapped_id: {{ uuid }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1)'
04:21:46.430 gohan.db INFO [0m Creating resource port_monitoring
04:21:46.430 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"attached":{"field":"attached"},"device_owner":{"field":"device_owner"},"vmi_fq_name":{"output_key":"fq_name"},"vmi_uuid":{"output_key":"id"}},{% if device_owner and attached %}
vmi:
  type: virtual_machine_interface
  uuid: {{ vmi_uuid }}
  fq_name: {{ vmi_fq_name }}
  timeout: 120
{% endif %}
{% if device_owner | match('compute') and attached %}
db_mappings:
  - mapped_id: {{ vmi_fq_name | replace(':', '-') }}
    relation: 'vmi'
{% endif %}
,[],monitoring_worker,port_monitoring)'
04:21:46.431 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"port_monitoring\",\"parameter_mappings\":{\"attached\":{\"field\":\"attached\"},\"device_owner\":{\"field\":\"device_owner\"},\"vmi_fq_name\":{\"output_key\":\"fq_name\"},\"vmi_uuid\":{\"output_key\":\"id\"}},\"template_file\":\"{% if device_owner and attached %}\\nvmi:\\n  type: virtual_machine_interface\\n  uuid: {{ vmi_uuid }}\\n  fq_name: {{ vmi_fq_name }}\\n  timeout: 120\\n{% endif %}\\n{% if device_owner | match('compute') and attached %}\\ndb_mappings:\\n  - mapped_id: {{ vmi_fq_name | replace(':', '-') }}\\n    relation: 'vmi'\\n{% endif %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/port_monitoring,1494476506,create,false)'
04:21:46.433 gohan.db INFO [0m Creating resource ese_physical_port_monitoring
04:21:46.433 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,ese_physical_port_monitoring,{"community_name":{"constant":"ESE_NODE_COMMUNITY"},"device_ip":{"field":"management_ip_address","path":["ese_device_id"]},"name":{"field":"name"}},port:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
)'
04:21:46.434 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ese_physical_port_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"device_ip\":{\"field\":\"management_ip_address\",\"path\":[\"ese_device_id\"]},\"name\":{\"field\":\"name\"}},\"template_file\":\"port:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_physical_port_monitoring)'
04:21:46.436 gohan.db INFO [0m Creating resource ese_logical_port_monitoring
04:21:46.436 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"community_name":{"constant":"ESE_NODE_COMMUNITY"},"contarail_port_id":{"output_key":"id"},"device_ip":{"field":"management_ip_address","path":["ese_physical_port_id","ese_device_id"]},"id":{"field":"id"},"name":{"field":"name"},"port_ids":{"field":"port_ids"}},logical_port:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
{% for port_id in port_ids %}
db_mappings:
  - mapped_id: {{ device_ip }}-{{ name }}
    resource_id: {{ port_id }}
    resource_type: port
    relation: baremetal
{% endfor %}
,[],monitoring_worker,ese_logical_port_monitoring)'
04:21:46.438 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"ese_logical_port_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"contarail_port_id\":{\"output_key\":\"id\"},\"device_ip\":{\"field\":\"management_ip_address\",\"path\":[\"ese_physical_port_id\",\"ese_device_id\"]},\"id\":{\"field\":\"id\"},\"name\":{\"field\":\"name\"},\"port_ids\":{\"field\":\"port_ids\"}},\"template_file\":\"logical_port:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n{% for port_id in port_ids %}\\ndb_mappings:\\n  - mapped_id: {{ device_ip }}-{{ name }}\\n    resource_id: {{ port_id }}\\n    resource_type: port\\n    relation: baremetal\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_logical_port_monitoring,1494476506,create,false)'
04:21:46.440 gohan.db INFO [0m Creating resource ese_device_monitoring
04:21:46.440 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,ese_device_monitoring,{"community_name":{"constant":"ESE_NODE_COMMUNITY"},"device_ip":{"field":"management_ip_address"}},switch:
  type: switch
  community_name: {{ community_name }}
  ip: {{ device_ip }}
  mibs: []
)'
04:21:46.441 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"ese_device_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"ESE_NODE_COMMUNITY\"},\"device_ip\":{\"field\":\"management_ip_address\"}},\"template_file\":\"switch:\\n  type: switch\\n  community_name: {{ community_name }}\\n  ip: {{ device_ip }}\\n  mibs: []\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ese_device_monitoring,1494476506,create,false)'
04:21:46.443 gohan.db INFO [0m Creating resource edge_router_monitoring
04:21:46.443 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,edge_router_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"device_ip":{"field":"ip"}},router:
  type: router
  community_name: {{ community_name }}
  ip: {{ device_ip }}
  mibs: []
)'
04:21:46.444 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/edge_router_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"edge_router_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"device_ip\":{\"field\":\"ip\"}},\"template_file\":\"router:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ device_ip }}\\n  mibs: []\\n\",\"watch\":[]}",1)'
04:21:46.446 gohan.db INFO [0m Creating resource er_physical_interface_monitoring
04:21:46.446 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (er_physical_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"device_ip":{"field":"ip","path":["device_id"]},"name":{"field":"name"}},interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ device_ip }}
  name: {{ name }}
,[],monitoring_worker)'
04:21:46.447 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"er_physical_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"device_ip\":{\"field\":\"ip\",\"path\":[\"device_id\"]},\"name\":{\"field\":\"name\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ device_ip }}\\n  name: {{ name }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/er_physical_interface_monitoring,1494476506,create)'
04:21:46.448 gohan.db INFO [0m Creating resource ha_router_monitoring
04:21:46.448 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,ha_router_monitoring,{"primary_device_id":{"field":"primary_router_id"},"secondary_device_id":{"field":"secondary_router_id"}},primary:
  type: etcd_reader
  etcd_type: edge_router
  etcd_id: {{ primary_device_id }}
secondary:
  type: etcd_reader
  etcd_type: edge_router
  etcd_id: {{ secondary_device_id }}
,[])'
04:21:46.449 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/ha_router_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ha_router_monitoring\",\"parameter_mappings\":{\"primary_device_id\":{\"field\":\"primary_router_id\"},\"secondary_device_id\":{\"field\":\"secondary_router_id\"}},\"template_file\":\"primary:\\n  type: etcd_reader\\n  etcd_type: edge_router\\n  etcd_id: {{ primary_device_id }}\\nsecondary:\\n  type: etcd_reader\\n  etcd_type: edge_router\\n  etcd_id: {{ secondary_device_id }}\\n\",\"watch\":[]}")'
04:21:46.451 gohan.db INFO [0m Creating resource ha_interface_monitoring
04:21:46.451 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,ha_interface_monitoring,{"primary_interface_id":{"field":"primary_interface_id"},"secondary_interface_id":{"field":"secondary_interface_id"}},primary:
  type: etcd_reader
  etcd_type: er_physical_interface
  etcd_id: {{ primary_interface_id }}
secondary:
  type: etcd_reader
  etcd_type: er_physical_interface
  etcd_id: {{ secondary_interface_id }}
,[])'
04:21:46.452 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"ha_interface_monitoring\",\"parameter_mappings\":{\"primary_interface_id\":{\"field\":\"primary_interface_id\"},\"secondary_interface_id\":{\"field\":\"secondary_interface_id\"}},\"template_file\":\"primary:\\n  type: etcd_reader\\n  etcd_type: er_physical_interface\\n  etcd_id: {{ primary_interface_id }}\\nsecondary:\\n  type: etcd_reader\\n  etcd_type: er_physical_interface\\n  etcd_id: {{ secondary_interface_id }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/ha_interface_monitoring)'
04:21:46.454 gohan.db INFO [0m Creating resource internet_gateway_monitoring
04:21:46.454 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"counter_name_in_primary":{"concatenate":[{"field":"vrf_name"},{"constant":"_IN"}]},"counter_name_in_secondary":{"concatenate":[{"field":"vrf_name"},{"constant":"_IN"}]},"counter_name_out_primary":{"concatenate":[{"field":"vrf_name"},{"constant":"_OUT"}]},"counter_name_out_secondary":{"concatenate":[{"field":"vrf_name"},{"constant":"_OUT"}]},"downlink_interface_id":{"field":"downlink_interface_id"},"inet_in_filter":{"field":"inet_in_filter","path":["internet_service_id"]},"inet_out_filter":{"field":"inet_out_filter","path":["internet_service_id"]},"password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_server_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_server_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"ssh_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"uplink_interface_id":{"field":"associated_uplink_id"},"username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]}},uplink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ uplink_interface_id }}
  timeout: 120
downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
counter_primary:
  type: kafka_messenger
  kafka_topic: monitor_igs_counter
  in_firewall_name: {{ inet_in_filter }}
  out_firewall_name: {{ inet_out_filter }}
  counter_name_in_primary: {{ counter_name_in_primary }}
  counter_name_out_primary: {{ counter_name_out_primary }}
  counter_name_in_secondary: {{ counter_name_in_secondary }}
  counter_name_out_secondary: {{ counter_name_out_secondary }}
  server_username: {{ username }}
  server_password: {{ password }}
  server_ssh_port: {{ ssh_port }}
  primary_server_ip: {{ primary_server_ip }}
  secondary_server_ip: {{ secondary_server_ip }}
db_mappings:
  - mapped_id: {{ primary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_primary }}
    relation: primary_in
  - mapped_id: {{ primary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_primary }}
    relation: primary_out
  - mapped_id: {{ secondary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_secondary }}
    relation: secondary_in
  - mapped_id: {{ secondary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_secondary }}
    relation: secondary_out
,[],monitoring_worker,internet_gateway_monitoring)'
04:21:46.455 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/internet_gateway_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"internet_gateway_monitoring\",\"parameter_mappings\":{\"counter_name_in_primary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_IN\"}]},\"counter_name_in_secondary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_IN\"}]},\"counter_name_out_primary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_OUT\"}]},\"counter_name_out_secondary\":{\"concatenate\":[{\"field\":\"vrf_name\"},{\"constant\":\"_OUT\"}]},\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"inet_in_filter\":{\"field\":\"inet_in_filter\",\"path\":[\"internet_service_id\"]},\"inet_out_filter\":{\"field\":\"inet_out_filter\",\"path\":[\"internet_service_id\"]},\"password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_server_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_server_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"ssh_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"uplink_interface_id\":{\"field\":\"associated_uplink_id\"},\"username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"uplink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ uplink_interface_id }}\\n  timeout: 120\\ndownlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ncounter_primary:\\n  type: kafka_messenger\\n  kafka_topic: monitor_igs_counter\\n  in_firewall_name: {{ inet_in_filter }}\\n  out_firewall_name: {{ inet_out_filter }}\\n  counter_name_in_primary: {{ counter_name_in_primary }}\\n  counter_name_out_primary: {{ counter_name_out_primary }}\\n  counter_name_in_secondary: {{ counter_name_in_secondary }}\\n  counter_name_out_secondary: {{ counter_name_out_secondary }}\\n  server_username: {{ username }}\\n  server_password: {{ password }}\\n  server_ssh_port: {{ ssh_port }}\\n  primary_server_ip: {{ primary_server_ip }}\\n  secondary_server_ip: {{ secondary_server_ip }}\\ndb_mappings:\\n  - mapped_id: {{ primary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_primary }}\\n    relation: primary_in\\n  - mapped_id: {{ primary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_primary }}\\n    relation: primary_out\\n  - mapped_id: {{ secondary_server_ip }}-{{ inet_in_filter }}-{{ counter_name_in_secondary }}\\n    relation: secondary_in\\n  - mapped_id: {{ secondary_server_ip }}-{{ inet_out_filter }}-{{ counter_name_out_secondary }}\\n    relation: secondary_out\\n\",\"watch\":[]}")'
04:21:46.458 gohan.db INFO [0m Creating resource aws_gateway_monitoring
04:21:46.458 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,aws_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]}},downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}
    relation: instance
)'
04:21:46.459 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"aws_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}\\n    relation: instance\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_gateway_monitoring)'
04:21:46.460 gohan.db INFO [0m Creating resource vpn_gateway_monitoring
04:21:46.460 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}
    relation: instance
,[],monitoring_worker,vpn_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]}})'
04:21:46.462 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"vpn_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ downlink_interface_id }}\\n    relation: instance\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_gateway_monitoring,1494476506,create,false)'
04:21:46.463 gohan.db INFO [0m Creating resource gw_interface_monitoring
04:21:46.463 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (gw_interface_monitoring,{"primary_device_ip":{"field":"ip","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"else_mapping":{"field":"primary_logical_downlink_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]},"if_mapping":{"equal":[{"field":"service_type"},"internet"]},"then_mapping":{"field":"primary_logical_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]}},"secondary_device_ip":{"field":"ip","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]},"downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"else_mapping":{"field":"secondary_logical_downlink_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]},"if_mapping":{"equal":[{"field":"service_type"},"internet"]},"then_mapping":{"field":"secondary_logical_interface_name","path":[{"concatenate":[{"field":"service_type"},"_gw_id"]}]}},"service_type":{"field":"service_type"},"vrid":{"field":"vrid"}},primary:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
secondary:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
db_mappings:
- mapped_id: {{primary_device_ip}}-{{primary_logical_interface_name}}
  relation: {{service_type}}_primary
- mapped_id: {{secondary_device_ip}}-{{secondary_logical_interface_name}}
  relation: {{service_type}}_secondary
,[],monitoring_worker)'
04:21:46.464 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/gw_interface_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"gw_interface_monitoring\",\"parameter_mappings\":{\"primary_device_ip\":{\"field\":\"ip\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"else_mapping\":{\"field\":\"primary_logical_downlink_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]},\"if_mapping\":{\"equal\":[{\"field\":\"service_type\"},\"internet\"]},\"then_mapping\":{\"field\":\"primary_logical_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]}},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]},\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"else_mapping\":{\"field\":\"secondary_logical_downlink_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]},\"if_mapping\":{\"equal\":[{\"field\":\"service_type\"},\"internet\"]},\"then_mapping\":{\"field\":\"secondary_logical_interface_name\",\"path\":[{\"concatenate\":[{\"field\":\"service_type\"},\"_gw_id\"]}]}},\"service_type\":{\"field\":\"service_type\"},\"vrid\":{\"field\":\"vrid\"}},\"template_file\":\"primary:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\ndb_mappings:\\n- mapped_id: {{primary_device_ip}}-{{primary_logical_interface_name}}\\n  relation: {{service_type}}_primary\\n- mapped_id: {{secondary_device_ip}}-{{secondary_logical_interface_name}}\\n  relation: {{service_type}}_secondary\\n\",\"watch\":[]}",1)'
04:21:46.473 gohan.db INFO [0m Creating resource aws_interface_monitoring
04:21:46.473 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["aws_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_peer_ip":{"nested":["primary","bgp_peer_ip"]},"primary_port":{"field":"primary_logical_uplink_interface_name","path":["aws_gw_id"]},"secondary_device_ip":{"field":"ip","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["aws_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_peer_ip":{"nested":["secondary","bgp_peer_ip"]},"secondary_port":{"field":"secondary_logical_uplink_interface_name","path":["aws_gw_id"]},"vrf_name":{"field":"vrf_name","path":["aws_gw_id"]}},primary:
  type: bgp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  peer_address: {{ primary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_port }}
secondary:
  type: bgp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  peer_address: {{ secondary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_port }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}
    relation: "secondary"
,[],monitoring_worker,aws_interface_monitoring)'
04:21:46.480 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/aws_interface_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"aws_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_peer_ip\":{\"nested\":[\"primary\",\"bgp_peer_ip\"]},\"primary_port\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"aws_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"aws_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_peer_ip\":{\"nested\":[\"secondary\",\"bgp_peer_ip\"]},\"secondary_port\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"aws_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"aws_gw_id\"]}},\"template_file\":\"primary:\\n  type: bgp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  peer_address: {{ primary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_port }}\\nsecondary:\\n  type: bgp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  peer_address: {{ secondary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_port }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}")'
04:21:46.482 gohan.db INFO [0m Creating resource vpn_interface_monitoring
04:21:46.482 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (primary:
  type: bgp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  peer_address: {{ primary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_port }}
secondary:
  type: bgp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  peer_address: {{ secondary_peer_ip }}
  instance: {{ vrf_name }}
  timeout: 120
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_port }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}
    relation: "secondary"
,[],monitoring_worker,vpn_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["vpn_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_peer_ip":{"nested":["primary","bgp_peer_ip"]},"primary_port":{"field":"primary_logical_uplink_interface_name","path":["vpn_gw_id"]},"secondary_device_ip":{"field":"ip","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["vpn_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_peer_ip":{"nested":["secondary","bgp_peer_ip"]},"secondary_port":{"field":"secondary_logical_uplink_interface_name","path":["vpn_gw_id"]},"vrf_name":{"field":"vrf_name","path":["vpn_gw_id"]}})'
04:21:46.483 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"vpn_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_peer_ip\":{\"nested\":[\"primary\",\"bgp_peer_ip\"]},\"primary_port\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"vpn_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"vpn_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_peer_ip\":{\"nested\":[\"secondary\",\"bgp_peer_ip\"]},\"secondary_port\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"vpn_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"vpn_gw_id\"]}},\"template_file\":\"primary:\\n  type: bgp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  peer_address: {{ primary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_port }}\\nsecondary:\\n  type: bgp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  peer_address: {{ secondary_peer_ip }}\\n  instance: {{ vrf_name }}\\n  timeout: 120\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_port }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_port }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_port }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_interface_monitoring,1494476506)'
04:21:46.487 gohan.db INFO [0m Creating resource common_function_gateway_monitoring
04:21:46.487 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"jinja_vrids":{"for_field":{"field":"vrrp_config","path":["common_function_pool_id"]},"for_mapping":{"field":"vrid"}},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_interface_name"},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_interface_name"}},{% for vrid in jinja_vrids %}
primary_{{ vrid }}:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
secondary_{{ vrid }}:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
{% endfor %}
,[],monitoring_worker,common_function_gateway_monitoring)'
04:21:46.488 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"common_function_gateway_monitoring\",\"parameter_mappings\":{\"jinja_vrids\":{\"for_field\":{\"field\":\"vrrp_config\",\"path\":[\"common_function_pool_id\"]},\"for_mapping\":{\"field\":\"vrid\"}},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_interface_name\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_interface_name\"}},\"template_file\":\"{% for vrid in jinja_vrids %}\\nprimary_{{ vrid }}:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary_{{ vrid }}:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function_gateway_monitoring)'
04:21:46.489 gohan.db INFO [0m Creating resource vnf_instance_monitoring
04:21:46.489 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (monitoring_worker,vnf_instance_monitoring,{"instance_ip":{"field":"management_ip"},"server_id":{"output_key":"server_id"}},server:
  type: nova_vm
  server_id: {{ server_id }}
,[])'
04:21:46.490 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"vnf_instance_monitoring\",\"parameter_mappings\":{\"instance_ip\":{\"field\":\"management_ip\"},\"server_id\":{\"output_key\":\"server_id\"}},\"template_file\":\"server:\\n  type: nova_vm\\n  server_id: {{ server_id }}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vnf_instance_monitoring,1494476506)'
04:21:46.491 gohan.db INFO [0m Creating resource firewall_monitoring
04:21:46.492 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (vnf_instance:
  type: etcd_reader
  etcd_type: vnf_instance
  etcd_id: {{ vnf_instance_id }}
vyatta:
  type: router
  community_name: {{ community_name }}
  ip: {{ instance_ip }}
  mibs: []
  timeout: 60
  time_between_retries: 5
db_mappings:
  - mapped_id: {{ instance_ip }}
    relation: 'instance'
,[],monitoring_worker,firewall_monitoring,{"community_name":{"constant":"FIREWALL_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["vnf_instance_id"]},"vnf_instance_id":{"field":"vnf_instance_id"}})'
04:21:46.492 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/firewall_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"firewall_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"FIREWALL_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"vnf_instance_id\":{\"field\":\"vnf_instance_id\"}},\"template_file\":\"vnf_instance:\\n  type: etcd_reader\\n  etcd_type: vnf_instance\\n  etcd_id: {{ vnf_instance_id }}\\nvyatta:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ instance_ip }}\\n  mibs: []\\n  timeout: 60\\n  time_between_retries: 5\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1)'
04:21:46.494 gohan.db INFO [0m Creating resource firewall_interface_monitoring
04:21:46.494 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"community_name":{"constant":"FIREWALL_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["firewall_id","vnf_instance_id"]},"slot_number":{"field":"slot_number"}},interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ instance_ip }}
  name: dp0s{{ slot_number + 3 }}
  timeout: 60
  time_between_retries: 5
db_mappings:
  - mapped_id: {{ instance_ip }}-dp0s{{ slot_number + 3 }}
    relation: 'instance'
,[],monitoring_worker,firewall_interface_monitoring)'
04:21:46.495 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/firewall_interface_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"firewall_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"FIREWALL_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"firewall_id\",\"vnf_instance_id\"]},\"slot_number\":{\"field\":\"slot_number\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ instance_ip }}\\n  name: dp0s{{ slot_number + 3 }}\\n  timeout: 60\\n  time_between_retries: 5\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}-dp0s{{ slot_number + 3 }}\\n    relation: 'instance'\\n\",\"watch\":[]}")'
04:21:46.497 gohan.db INFO [0m Creating resource load_balancer_monitoring
04:21:46.497 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"community_name":{"constant":"LOAD_BALANCER_COMMUNITY"},"instance_ip":{"field":"management_ip","path":["vnf_instance_id"]},"load_balancer_conf_id":{"field":"load_balancer_conf_id"},"load_balancer_id":{"field":"id"},"vnf_instance_id":{"field":"vnf_instance_id"}},vnf_instance:
  type: etcd_reader
  etcd_type: vnf_instance
  etcd_id: {{ vnf_instance_id }}
load_balancer_conf:
  type: etcd_reader
  etcd_type: load_balancer_conf
  etcd_id: {{ load_balancer_conf_id }}
load_balancer:
  type: router
  community_name: {{ community_name }}
  ip: {{ instance_ip }}
  mibs: [
    ["resCpuUsage", "1.3.6.1.4.1.5951.4.1.1.41.1"],
    ["resMemUsage", "1.3.6.1.4.1.5951.4.1.1.41.2"],
    ["httpTotRequests", "1.3.6.1.4.1.5951.4.1.1.48.67"],
    ["tcpCurClientConn", "1.3.6.1.4.1.5951.4.1.1.46.2"],
    ["tcpCurServerConn", "1.3.6.1.4.1.5951.4.1.1.46.1"]
  ]
  timeout: 180
  time_between_retries: 3
db_mappings:
  - mapped_id: {{ instance_ip }}
    relation: 'instance'
,[],monitoring_worker,load_balancer_monitoring)'
04:21:46.497 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"monitoring_worker\",\"id\":\"load_balancer_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"LOAD_BALANCER_COMMUNITY\"},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"load_balancer_conf_id\":{\"field\":\"load_balancer_conf_id\"},\"load_balancer_id\":{\"field\":\"id\"},\"vnf_instance_id\":{\"field\":\"vnf_instance_id\"}},\"template_file\":\"vnf_instance:\\n  type: etcd_reader\\n  etcd_type: vnf_instance\\n  etcd_id: {{ vnf_instance_id }}\\nload_balancer_conf:\\n  type: etcd_reader\\n  etcd_type: load_balancer_conf\\n  etcd_id: {{ load_balancer_conf_id }}\\nload_balancer:\\n  type: router\\n  community_name: {{ community_name }}\\n  ip: {{ instance_ip }}\\n  mibs: [\\n    [\\\"resCpuUsage\\\", \\\"1.3.6.1.4.1.5951.4.1.1.41.1\\\"],\\n    [\\\"resMemUsage\\\", \\\"1.3.6.1.4.1.5951.4.1.1.41.2\\\"],\\n    [\\\"httpTotRequests\\\", \\\"1.3.6.1.4.1.5951.4.1.1.48.67\\\"],\\n    [\\\"tcpCurClientConn\\\", \\\"1.3.6.1.4.1.5951.4.1.1.46.2\\\"],\\n    [\\\"tcpCurServerConn\\\", \\\"1.3.6.1.4.1.5951.4.1.1.46.1\\\"]\\n  ]\\n  timeout: 180\\n  time_between_retries: 3\\ndb_mappings:\\n  - mapped_id: {{ instance_ip }}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_monitoring,1494476506,create,false)'
04:21:46.498 gohan.db INFO [0m Creating resource load_balancer_interface_monitoring
04:21:46.499 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (interface:
  type: physical_port
  community_name: {{ community_name }}
  device_ip: {{ instance_ip }}
  {% if slot_number == 0  %}
  name: 0/1
  {% else %}
  name: 1/{{ slot_number }}
  {% endif %}
  timeout: 180
  time_between_retries: 3
  mibs: [ ["ifHCInOctets", "1.3.6.1.2.1.31.1.1.1.6"], ["ifHCOutOctets", "1.3.6.1.2.1.31.1.1.1.10"] ]
db_mappings:
  - mapped_id: {{instance_ip}}-{% if slot_number == 0  %}0/1{% else %}1/{{ slot_number }}{% endif %}
    relation: 'instance'
,[],monitoring_worker,load_balancer_interface_monitoring,{"community_name":{"constant":"LOAD_BALANCER_COMMUNITY"},"dummy":{"field":"id","path":["load_balancer_id","load_balancer_conf_id"]},"instance_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"slot_number":{"field":"slot_number"}})'
04:21:46.502 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/load_balancer_interface_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"load_balancer_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"LOAD_BALANCER_COMMUNITY\"},\"dummy\":{\"field\":\"id\",\"path\":[\"load_balancer_id\",\"load_balancer_conf_id\"]},\"instance_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"slot_number\":{\"field\":\"slot_number\"}},\"template_file\":\"interface:\\n  type: physical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ instance_ip }}\\n  {% if slot_number == 0  %}\\n  name: 0/1\\n  {% else %}\\n  name: 1/{{ slot_number }}\\n  {% endif %}\\n  timeout: 180\\n  time_between_retries: 3\\n  mibs: [ [\\\"ifHCInOctets\\\", \\\"1.3.6.1.2.1.31.1.1.1.6\\\"], [\\\"ifHCOutOctets\\\", \\\"1.3.6.1.2.1.31.1.1.1.10\\\"] ]\\ndb_mappings:\\n  - mapped_id: {{instance_ip}}-{% if slot_number == 0  %}0/1{% else %}1/{{ slot_number }}{% endif %}\\n    relation: 'instance'\\n\",\"watch\":[]}",1)'
04:21:46.504 gohan.db INFO [0m Creating resource interdc_gateway_monitoring
04:21:46.504 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],monitoring_worker,interdc_gateway_monitoring,{"downlink_interface_id":{"field":"downlink_interface_id"},"gohan_id":{"field":"id"}},downlink:
  type: etcd_reader
  etcd_type: ha_interface
  etcd_id: {{ downlink_interface_id }}
  timeout: 120
db_mappings:
  - mapped_id: {{gohan_id}}
    relation: 'instance'
)'
04:21:46.504 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"monitoring_worker\",\"id\":\"interdc_gateway_monitoring\",\"parameter_mappings\":{\"downlink_interface_id\":{\"field\":\"downlink_interface_id\"},\"gohan_id\":{\"field\":\"id\"}},\"template_file\":\"downlink:\\n  type: etcd_reader\\n  etcd_type: ha_interface\\n  etcd_id: {{ downlink_interface_id }}\\n  timeout: 120\\ndb_mappings:\\n  - mapped_id: {{gohan_id}}\\n    relation: 'instance'\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_gateway_monitoring,1494476506,create)'
04:21:46.506 gohan.db INFO [0m Creating resource interdc_interface_monitoring
04:21:46.506 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (interdc_interface_monitoring,{"community_name":{"constant":"EDGE_ROUTER_COMMUNITY"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_login":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_logical_interface_name":{"field":"primary_logical_uplink_interface_name","path":["interdc_gw_id"]},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_login":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_logical_interface_name":{"field":"secondary_logical_uplink_interface_name","path":["interdc_gw_id"]},"vrid":{"field":"vrid"}},primary:
  type: vrrp_session
  host: {{ primary_device_ip }}
  port: {{ primary_device_port }}
  login: {{ primary_device_login }}
  password: {{ primary_device_password }}
  interface: {{ primary_logical_interface_name }}
  wanted_status: master
  vrid: {{ vrid }}
  timeout: 360
primary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ primary_device_ip }}
  name: {{ primary_logical_interface_name }}
secondary:
  type: vrrp_session
  host: {{ secondary_device_ip }}
  port: {{ secondary_device_port }}
  login: {{ secondary_device_login }}
  password: {{ secondary_device_password }}
  interface: {{ secondary_logical_interface_name }}
  wanted_status: backup
  vrid: {{ vrid }}
  timeout: 360
secondary_uplink:
  type: logical_port
  community_name: {{ community_name }}
  device_ip: {{ secondary_device_ip }}
  name: {{ secondary_logical_interface_name }}
db_mappings:
  - mapped_id: {{ primary_device_ip }}-{{ primary_logical_interface_name }}
    relation: "primary"
  - mapped_id: {{ secondary_device_ip }}-{{ secondary_logical_interface_name }}
    relation: "secondary"
,[],monitoring_worker)'
04:21:46.515 gohan.db.sql INFO [0m Executing SQL query in transaction '1ed49c1c-b598-4820-b3cd-6d77f6019754': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/interdc_interface_monitoring,1494476506,create,false,"{\"handler\":\"monitoring_worker\",\"id\":\"interdc_interface_monitoring\",\"parameter_mappings\":{\"community_name\":{\"constant\":\"EDGE_ROUTER_COMMUNITY\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_login\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_logical_interface_name\":{\"field\":\"primary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_login\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_logical_interface_name\":{\"field\":\"secondary_logical_uplink_interface_name\",\"path\":[\"interdc_gw_id\"]},\"vrid\":{\"field\":\"vrid\"}},\"template_file\":\"primary:\\n  type: vrrp_session\\n  host: {{ primary_device_ip }}\\n  port: {{ primary_device_port }}\\n  login: {{ primary_device_login }}\\n  password: {{ primary_device_password }}\\n  interface: {{ primary_logical_interface_name }}\\n  wanted_status: master\\n  vrid: {{ vrid }}\\n  timeout: 360\\nprimary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ primary_device_ip }}\\n  name: {{ primary_logical_interface_name }}\\nsecondary:\\n  type: vrrp_session\\n  host: {{ secondary_device_ip }}\\n  port: {{ secondary_device_port }}\\n  login: {{ secondary_device_login }}\\n  password: {{ secondary_device_password }}\\n  interface: {{ secondary_logical_interface_name }}\\n  wanted_status: backup\\n  vrid: {{ vrid }}\\n  timeout: 360\\nsecondary_uplink:\\n  type: logical_port\\n  community_name: {{ community_name }}\\n  device_ip: {{ secondary_device_ip }}\\n  name: {{ secondary_logical_interface_name }}\\ndb_mappings:\\n  - mapped_id: {{ primary_device_ip }}-{{ primary_logical_interface_name }}\\n    relation: \\\"primary\\\"\\n  - mapped_id: {{ secondary_device_ip }}-{{ secondary_logical_interface_name }}\\n    relation: \\\"secondary\\\"\\n\",\"watch\":[]}",1)'
04:21:46.516 gohan.db INFO [0m Populating resources for schema worker_data
04:21:46.524 gohan.db INFO [0m Populating resources for schema tenant
04:21:46.531 gohan.db INFO [0m Populating resources for schema edge_router
04:21:46.539 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:46.555 gohan.db INFO [0m Populating resources for schema ha_router
04:21:46.581 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:46.589 gohan.db INFO [0m Populating resources for schema internet_service
04:21:46.595 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:46.602 gohan.db INFO [0m Populating resources for schema aws_service
04:21:46.623 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:46.629 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:46.635 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:46.645 gohan.db INFO [0m Populating resources for schema common_function
04:21:46.648 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:46.653 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:46.668 gohan.db INFO [0m Populating resources for schema qos_option
04:21:46.673 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:46.678 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:46.683 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:46.691 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:46.702 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:46.711 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:46.718 gohan.db INFO [0m Populating resources for schema public_ip
04:21:46.724 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:46.728 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:46.736 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:46.748 gohan.db INFO [0m Populating resources for schema static_route
04:21:46.752 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:46.757 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:46.761 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:46.765 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:46.770 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:46.780 gohan.db INFO [0m Populating resources for schema firewall
04:21:46.789 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:46.795 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:46.799 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:46.803 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:46.813 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:46.823 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:46.828 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:46.833 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:46.839 gohan.db INFO [0m Populating resources for schema monitoring
04:21:46.843 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:46.852 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:46.864 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:46.868 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:46.876 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:46.885 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:46.892 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:46.924 gohan.server.core INFO [0m Importing data from ./init/igs_templates.yaml ...
04:21:46.926 gohan.db INFO [0m Populating resources for schema schema
04:21:46.929 gohan.db INFO [0m Populating resources for schema policy
04:21:46.931 gohan.db INFO [0m Populating resources for schema extension
04:21:46.937 gohan.db INFO [0m Populating resources for schema event
04:21:46.939 gohan.db INFO [0m Populating resources for schema namespace
04:21:46.946 gohan.db INFO [0m Populating resources for schema location
04:21:46.948 gohan.db INFO [0m Populating resources for schema ese_device
04:21:46.951 gohan.db INFO [0m Populating resources for schema network
04:21:46.958 gohan.db INFO [0m Populating resources for schema subnet
04:21:46.964 gohan.db INFO [0m Populating resources for schema port
04:21:46.975 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:46.983 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:46.990 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:46.994 gohan.db INFO [0m Populating resources for schema server
04:21:46.996 gohan.db INFO [0m Populating resources for schema physical_port
04:21:47.000 gohan.db INFO [0m Populating resources for schema quota
04:21:47.002 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:47.005 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:47.009 gohan.db INFO [0m Populating resources for schema heat_template
04:21:47.025 gohan.db INFO [0m Creating resource internet_gateway
04:21:47.026 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (internet_gateway,{"filter_term_name":"APvrf_name\u0026C_filter","heat_timeout":"C60","inet_in_filter":"Finternet_service+internet_service_id:inet_in_filter","inet_out_filter":"Finternet_service+internet_service_id:inet_out_filter","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","jinja_vrf_config":"Finternet_service+internet_service_id:vrf_config","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","prefix_list_name":"APvrf_name\u0026C_prefix","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_interface":"Pprimary_logical_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_vrrp_config_group":"Finternet_service+internet_service_id:primary_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_interface":"Psecondary_logical_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_vrrp_config_group":"Finternet_service+internet_service_id:secondary_vrrp_config_group","uplink_import_policy":"Finternet_service+internet_service_id:uplink_import_policy","vlan":"Pvlan_id","vrf_export_policy":"Finternet_service+internet_service_id:vrf_export_policy","vrf_import_policy":"Finternet_service+internet_service_id:vrf_import_policy","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  Internet GW Instance

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: Physical port on the Primary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_interface:
    description: Name of the created logical interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_physical_interface:
    description: Physical port on the Secondary device on which the logical port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_interface:
    description: Name of the created logical interface on the Secondary device
    label: Logical Interface name
    type: string
  vlan:
    description: vlan tag used by logical interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interface
    label: VRF name
    type: string
  vrf_import_policy:
    description: Import Policy for IGS
    label: Import Policy
    type: string
  vrf_export_policy:
    description: Export Policy for IGS
    label: Export Policy
    type: string
  uplink_import_policy:
    description: Uplink Import Policy for IGS
    label: Uplink Import Policy
    type: string
  input_filter_name:
    description: Policer name to use as input policer
    label: Input policer name
    type: string
  output_filter_name:
    description: Policer name to use as output policer
    label: Output policer name
    type: string
  primary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  secondary_vrrp_config_group:
    description: Name for apply group to use for interface for VRRP
    label: Apply group name
    type: string
  inet_in_filter:
    label: Internet Input Filter
    type: string
  inet_out_filter:
    label: Internet Output Filter
    type: string
  prefix_list_name:
    label: Prefix list name
    type: string
  filter_term_name:
    label: Filter term name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      on_update: merge
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_vrrp_config_group
              $VLAN:
                get_param: vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description inet_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
      - config:
          str_replace:
            params:
              $LIF:
                get_param: {{ device }}_device_logical_interface
              $IMPORT_POLICY:
                get_param: vrf_import_policy
              $EXPORT_POLICY:
                get_param: vrf_export_policy
            template: |
                instance-type virtual-router;
                interface $LIF;
                routing-options instance-import $IMPORT_POLICY;
                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}
                {{ jinja_vrf_config }}{% endif %}
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VRF_NAME:
                get_param: vrf_name
            template: |
              from instance $VRF_NAME;
              then accept;
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: policy-statement
            name: { get_param: uplink_import_policy }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: vrf_name }
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  destination-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_IN;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_in_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_IN:
                get_param: inet_in_filter
            template: |
              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept
      - config:
          str_replace:
            params:
              $PREFIX_LIST_NAME:
                get_param: prefix_list_name
              $VRF_NAME:
                get_param: vrf_name
            template: |
               from {
                  source-prefix-list {
                       $PREFIX_LIST_NAME;
                  }
               }
               then {
                    count $VRF_NAME_OUT;
                    accept;
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name: { get_param: inet_out_filter }
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: { get_param: filter_term_name }
        additional_commands:
          str_replace:
            params:
              $TERM_NAME:
                get_param: filter_term_name
              $INET_OUT:
                get_param: inet_out_filter
            template: |
              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker)'
04:21:47.027 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"internet_gateway\",\"parameter_mappings\":{\"filter_term_name\":\"APvrf_name\\u0026C_filter\",\"heat_timeout\":\"C60\",\"inet_in_filter\":\"Finternet_service+internet_service_id:inet_in_filter\",\"inet_out_filter\":\"Finternet_service+internet_service_id:inet_out_filter\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"jinja_vrf_config\":\"Finternet_service+internet_service_id:vrf_config\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"prefix_list_name\":\"APvrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_interface\":\"Pprimary_logical_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_vrrp_config_group\":\"Finternet_service+internet_service_id:primary_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_interface\":\"Psecondary_logical_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_vrrp_config_group\":\"Finternet_service+internet_service_id:secondary_vrrp_config_group\",\"uplink_import_policy\":\"Finternet_service+internet_service_id:uplink_import_policy\",\"vlan\":\"Pvlan_id\",\"vrf_export_policy\":\"Finternet_service+internet_service_id:vrf_export_policy\",\"vrf_import_policy\":\"Finternet_service+internet_service_id:vrf_import_policy\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet GW Instance\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: Physical port on the Primary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_interface:\\n    description: Name of the created logical interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_interface:\\n    description: Physical port on the Secondary device on which the logical port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_interface:\\n    description: Name of the created logical interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  vlan:\\n    description: vlan tag used by logical interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interface\\n    label: VRF name\\n    type: string\\n  vrf_import_policy:\\n    description: Import Policy for IGS\\n    label: Import Policy\\n    type: string\\n  vrf_export_policy:\\n    description: Export Policy for IGS\\n    label: Export Policy\\n    type: string\\n  uplink_import_policy:\\n    description: Uplink Import Policy for IGS\\n    label: Uplink Import Policy\\n    type: string\\n  input_filter_name:\\n    description: Policer name to use as input policer\\n    label: Input policer name\\n    type: string\\n  output_filter_name:\\n    description: Policer name to use as output policer\\n    label: Output policer name\\n    type: string\\n  primary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_vrrp_config_group:\\n    description: Name for apply group to use for interface for VRRP\\n    label: Apply group name\\n    type: string\\n  inet_in_filter:\\n    label: Internet Input Filter\\n    type: string\\n  inet_out_filter:\\n    label: Internet Output Filter\\n    type: string\\n  prefix_list_name:\\n    label: Prefix list name\\n    type: string\\n  filter_term_name:\\n    label: Filter term name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      on_update: merge\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_vrrp_config_group\\n              $VLAN:\\n                get_param: vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description inet_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIF:\\n                get_param: {{ device }}_device_logical_interface\\n              $IMPORT_POLICY:\\n                get_param: vrf_import_policy\\n              $EXPORT_POLICY:\\n                get_param: vrf_export_policy\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIF;\\n                routing-options instance-import $IMPORT_POLICY;\\n                routing-options instance-export $EXPORT_POLICY;{% if jinja_vrf_config %}\\n                {{ jinja_vrf_config }}{% endif %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n              from instance $VRF_NAME;\\n              then accept;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policy-statement\\n            name: { get_param: uplink_import_policy }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: vrf_name }\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  destination-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_IN;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_in_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_IN:\\n                get_param: inet_in_filter\\n            template: |\\n              insert firewall family inet filter $INET_IN term $TERM_NAME before term all-accept\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX_LIST_NAME:\\n                get_param: prefix_list_name\\n              $VRF_NAME:\\n                get_param: vrf_name\\n            template: |\\n               from {\\n                  source-prefix-list {\\n                       $PREFIX_LIST_NAME;\\n                  }\\n               }\\n               then {\\n                    count $VRF_NAME_OUT;\\n                    accept;\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name: { get_param: inet_out_filter }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: { get_param: filter_term_name }\\n        additional_commands:\\n          str_replace:\\n            params:\\n              $TERM_NAME:\\n                get_param: filter_term_name\\n              $INET_OUT:\\n                get_param: inet_out_filter\\n            template: |\\n              insert firewall family inet filter $INET_OUT term $TERM_NAME before term all-accept\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/internet_gateway,1494476507)'
04:21:47.029 gohan.db INFO [0m Creating resource static_route_internet
04:21:47.029 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_internet,{"heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"next_hop":"Pnexthop","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Internet Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[])'
04:21:47.029 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Internet Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_internet,1494476507)'
04:21:47.031 gohan.db INFO [0m Creating resource gw_interface_internet
04:21:47.031 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"bgp_group_name":"Cinet-gw-group","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"public_ip_id","type":"public_ip"}]},"jinja_force_dependency":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group","vlan":"Finternet_gateway+internet_gw_id:vlan_id","vrf_name":"Finternet_gateway+internet_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vlan:
    description: Vlan tag for mx logical interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP
              local-address $DEVICE_GW_IP;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,gw_interface_internet)'
04:21:47.032 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"gw_interface_internet\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"public_ip_id\",\"type\":\"public_ip\"}]},\"jinja_force_dependency\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Finternet_gateway+internet_gw_id:internet_service+internet_service_id:secondary_ibgp_config_group\",\"vlan\":\"Finternet_gateway+internet_gw_id:vlan_id\",\"vrf_name\":\"Finternet_gateway+internet_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vlan:\\n    description: Vlan tag for mx logical interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              local-address $DEVICE_GW_IP;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_internet,1494476507,create,false)'
04:21:47.034 gohan.db INFO [0m Creating resource qos_option_internet
04:21:47.034 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,qos_option_internet,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Finternet_service+internet_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Finternet_service+internet_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Finternet_service+internet_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
)'
04:21:47.035 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/qos_option_internet,1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_internet\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Finternet_service+internet_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Finternet_service+internet_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Finternet_service+internet_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:21:47.036 gohan.db INFO [0m Creating resource public_ip
04:21:47.036 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (public_ip,{"heat_timeout":"C60","ip_cidr":"Pcidr","ip_mask":"Psubmask_length","prefix_list_name":"AFinternet_gateway+internet_gw_id:vrf_name\u0026C_prefix","primary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  prefix_list_name:
    label: Prefix List name.
    type: string
  ip_cidr:
    label: Public IP CIDR
    type: string
  ip_mask:
    label: Public IP CIDR
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: policy-options
          - config_type: named_tag
            xml_type: named_tag
            tag: prefix-list
            name: { get_param: prefix_list_name }
          - config_type: name
            xml_type: named_tag
            tag: prefix-list-item
            name:
              str_replace:
                params:
                  $CIDR:
                    { get_param: ip_cidr }
                  $MASK:
                    { get_param: ip_mask }
                template: |
                  $CIDR/$MASK
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker)'
04:21:47.037 gohan.db.sql INFO [0m Executing SQL query in transaction 'c1e51f19-f190-4a44-bdd5-10daa233088b': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/public_ip,1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"public_ip\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"ip_cidr\":\"Pcidr\",\"ip_mask\":\"Psubmask_length\",\"prefix_list_name\":\"AFinternet_gateway+internet_gw_id:vrf_name\\u0026C_prefix\",\"primary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Finternet_gateway+internet_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  prefix_list_name:\\n    label: Prefix List name.\\n    type: string\\n  ip_cidr:\\n    label: Public IP CIDR\\n    type: string\\n  ip_mask:\\n    label: Public IP CIDR\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: policy-options\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: prefix-list\\n            name: { get_param: prefix_list_name }\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: prefix-list-item\\n            name:\\n              str_replace:\\n                params:\\n                  $CIDR:\\n                    { get_param: ip_cidr }\\n                  $MASK:\\n                    { get_param: ip_mask }\\n                template: |\\n                  $CIDR/$MASK\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:21:47.037 gohan.db INFO [0m Populating resources for schema worker_data
04:21:47.041 gohan.db INFO [0m Populating resources for schema tenant
04:21:47.050 gohan.db INFO [0m Populating resources for schema edge_router
04:21:47.053 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:47.056 gohan.db INFO [0m Populating resources for schema ha_router
04:21:47.063 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:47.066 gohan.db INFO [0m Populating resources for schema internet_service
04:21:47.071 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:47.077 gohan.db INFO [0m Populating resources for schema aws_service
04:21:47.084 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:47.088 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:47.093 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:47.096 gohan.db INFO [0m Populating resources for schema common_function
04:21:47.101 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:47.103 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:47.109 gohan.db INFO [0m Populating resources for schema qos_option
04:21:47.114 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:47.116 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:47.124 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:47.127 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:47.135 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:47.140 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:47.142 gohan.db INFO [0m Populating resources for schema public_ip
04:21:47.147 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:47.149 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:47.153 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:47.155 gohan.db INFO [0m Populating resources for schema static_route
04:21:47.162 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:47.174 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:47.177 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:47.179 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:47.185 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:47.187 gohan.db INFO [0m Populating resources for schema firewall
04:21:47.189 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:47.192 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:47.198 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:47.201 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:47.216 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:47.219 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:47.224 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:47.226 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:47.230 gohan.db INFO [0m Populating resources for schema monitoring
04:21:47.235 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:47.237 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:47.239 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:47.246 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:47.250 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:47.258 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:47.260 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:47.285 gohan.server.core INFO [0m Importing data from ./init/vpn_templates.yaml ...
04:21:47.288 gohan.db INFO [0m Populating resources for schema schema
04:21:47.291 gohan.db INFO [0m Populating resources for schema policy
04:21:47.300 gohan.db INFO [0m Populating resources for schema extension
04:21:47.304 gohan.db INFO [0m Populating resources for schema event
04:21:47.307 gohan.db INFO [0m Populating resources for schema namespace
04:21:47.311 gohan.db INFO [0m Populating resources for schema location
04:21:47.324 gohan.db INFO [0m Populating resources for schema ese_device
04:21:47.333 gohan.db INFO [0m Populating resources for schema network
04:21:47.337 gohan.db INFO [0m Populating resources for schema subnet
04:21:47.340 gohan.db INFO [0m Populating resources for schema port
04:21:47.347 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:47.350 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:47.352 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:47.355 gohan.db INFO [0m Populating resources for schema server
04:21:47.366 gohan.db INFO [0m Populating resources for schema physical_port
04:21:47.368 gohan.db INFO [0m Populating resources for schema quota
04:21:47.372 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:47.376 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:47.378 gohan.db INFO [0m Populating resources for schema heat_template
04:21:47.385 gohan.db INFO [0m Creating resource qos_option_vpn
04:21:47.386 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `heat_templates` (`id`,`parameter_mappings`,`template_file`,`watch`,`handler`) VALUES (qos_option_vpn,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Fvpn_service+vpn_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Fvpn_service+vpn_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Fvpn_service+vpn_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker)'
04:21:47.388 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/qos_option_vpn,1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Fvpn_service+vpn_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Fvpn_service+vpn_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Fvpn_service+vpn_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}")'
04:21:47.390 gohan.db INFO [0m Creating resource vpn_gateway
04:21:47.390 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  VPN Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP
              vlan-id $VLAN;
              description vpn_gw;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description CloudGW_vpn;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,vpn_gateway)'
04:21:47.391 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"vpn_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Fvpn_service+vpn_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP\\n              vlan-id $VLAN;\\n              description vpn_gw;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description CloudGW_vpn;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_gateway)'
04:21:47.398 gohan.db INFO [0m Creating resource gw_interface_vpn
04:21:47.398 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Fvpn_gateway+vpn_gw_id:downlink_vlan_id","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,gw_interface_vpn)'
04:21:47.399 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"gw_interface_vpn\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Fvpn_gateway+vpn_gw_id:downlink_vlan_id\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Fvpn_gateway+vpn_gw_id:vpn_interface+connected_vpn_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ibgp_config_group\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_vpn,1494476507,create,false)'
04:21:47.401 gohan.db INFO [0m Creating resource static_route_vpn
04:21:47.401 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23

description: >
  VPN Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,static_route_vpn,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"})'
04:21:47.402 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"static_route_vpn\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  VPN Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_vpn,1494476507,create,false)'
04:21:47.404 gohan.db INFO [0m Creating resource vpn_interface
04:21:47.404 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"bgp_group_name":"CCloudGW1","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Fvpn_gateway+vpn_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","uplink_vlan":"Fvpn_gateway+vpn_gw_id:uplink_vlan_id","vrf_name":"Fvpn_gateway+vpn_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
,[],heat_worker,vpn_interface)'
04:21:47.405 gohan.db.sql INFO [0m Executing SQL query in transaction 'a44dc620-1d3f-43c1-b3aa-2c05d127f87d': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"vpn_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CCloudGW1\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Fvpn_gateway+vpn_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Fvpn_gateway+vpn_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fvpn_gateway+vpn_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Fvpn_gateway+vpn_gw_id:vpn_service+vpn_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"uplink_vlan\":\"Fvpn_gateway+vpn_gw_id:uplink_vlan_id\",\"vrf_name\":\"Fvpn_gateway+vpn_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vpn_interface,1494476507,create,false)'
04:21:47.406 gohan.db INFO [0m Populating resources for schema worker_data
04:21:47.409 gohan.db INFO [0m Populating resources for schema tenant
04:21:47.411 gohan.db INFO [0m Populating resources for schema edge_router
04:21:47.415 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:47.418 gohan.db INFO [0m Populating resources for schema ha_router
04:21:47.420 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:47.427 gohan.db INFO [0m Populating resources for schema internet_service
04:21:47.435 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:47.438 gohan.db INFO [0m Populating resources for schema aws_service
04:21:47.440 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:47.443 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:47.445 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:47.447 gohan.db INFO [0m Populating resources for schema common_function
04:21:47.450 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:47.453 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:47.461 gohan.db INFO [0m Populating resources for schema qos_option
04:21:47.464 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:47.466 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:47.469 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:47.476 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:47.478 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:47.481 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:47.486 gohan.db INFO [0m Populating resources for schema public_ip
04:21:47.494 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:47.498 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:47.500 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:47.504 gohan.db INFO [0m Populating resources for schema static_route
04:21:47.506 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:47.508 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:47.512 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:47.516 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:47.518 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:47.522 gohan.db INFO [0m Populating resources for schema firewall
04:21:47.530 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:47.532 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:47.535 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:47.537 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:47.543 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:47.546 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:47.548 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:47.551 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:47.565 gohan.db INFO [0m Populating resources for schema monitoring
04:21:47.567 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:47.570 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:47.577 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:47.581 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:47.587 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:47.590 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:47.595 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:47.623 gohan.server.core INFO [0m Importing data from ./init/aws_templates.yaml ...
04:21:47.626 gohan.db INFO [0m Populating resources for schema schema
04:21:47.628 gohan.db INFO [0m Populating resources for schema policy
04:21:47.631 gohan.db INFO [0m Populating resources for schema extension
04:21:47.636 gohan.db INFO [0m Populating resources for schema event
04:21:47.641 gohan.db INFO [0m Populating resources for schema namespace
04:21:47.645 gohan.db INFO [0m Populating resources for schema location
04:21:47.647 gohan.db INFO [0m Populating resources for schema ese_device
04:21:47.649 gohan.db INFO [0m Populating resources for schema network
04:21:47.652 gohan.db INFO [0m Populating resources for schema subnet
04:21:47.662 gohan.db INFO [0m Populating resources for schema port
04:21:47.676 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:47.681 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:47.684 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:47.686 gohan.db INFO [0m Populating resources for schema server
04:21:47.688 gohan.db INFO [0m Populating resources for schema physical_port
04:21:47.692 gohan.db INFO [0m Populating resources for schema quota
04:21:47.704 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:47.733 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:47.741 gohan.db INFO [0m Populating resources for schema heat_template
04:21:47.750 gohan.db INFO [0m Creating resource qos_option_aws
04:21:47.750 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_aws,{"heat_timeout":"C60","incoming_policer_config":"Pincoming_policer_config","incoming_policer_name":"Pincoming_policer_name","jinja_be_forwarding_class":"Faws_service+aws_service_id:be_forwarding_class","jinja_ga_forwarding_class":"Faws_service+aws_service_id:ga_forwarding_class","jinja_type":"Pqos_type","neighbour_prefix":"Faws_service+aws_service_id:neighbour_prefix","outgoing_policer_config":"Poutgoing_policer_config","outgoing_policer_name":"Poutgoing_policer_name","primary_device_ip":"Fha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Fha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_router+ha_router_id:edge_router+primary_router_id:login","secondary_device_ip":"Fha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Fha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_router+ha_router_id:edge_router+secondary_router_id:login"},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
  neighbour_prefix:
    description: Name of prefix list used to specify traffic source/destination
    label: Neighbour prefix
    type: string
resources:
{% set forewarding_class = be_forwarding_class if qos_type == "besteffort" else ga_forwarding_class %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: three-color-policer
            name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: policer
            name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $CLASS:
                {% if jinja_type == "besteffort" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       source-prefix-list {
                           $PREFIX;
                       }
                       protocol vrrp;
                   }
                   then policer 10K-RE;
                   then accept;
               }
               term qos {
                   then {
                       three-color-policer {
                           {% if jinja_type == "besteffort" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;
                       }
                       forwarding-class $CLASS;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: incoming_policer_name
                template: |
                  FILTER_$NAME
      - config:
          str_replace:
            params:
              $PREFIX:
                get_param: neighbour_prefix
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
               interface-specific;
               term bgp-accept {
                   from {
                       destination-prefix-list {
                           $PREFIX;
                       }
                       protocol tcp;
                       port bgp;
                   }
                   then accept;
               }
               term vrrp-accept {
                   from {
                       protocol vrrp;
                   }
                   then accept;
               }
               term policer {
                   then {
                       policer $POLICER_NAME;
                       accept;
                   }
               }
        path:
          - config_type: tag
            xml_type: tag
            tag: firewall
          - config_type: named_tag
            xml_type: named_tag
            tag: filter
            name:
              str_replace:
                params:
                  $NAME:
                    get_param: outgoing_policer_name
                template: |
                  FILTER_$NAME
{% endfor %}
,[])'
04:21:47.751 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"incoming_policer_config\":\"Pincoming_policer_config\",\"incoming_policer_name\":\"Pincoming_policer_name\",\"jinja_be_forwarding_class\":\"Faws_service+aws_service_id:be_forwarding_class\",\"jinja_ga_forwarding_class\":\"Faws_service+aws_service_id:ga_forwarding_class\",\"jinja_type\":\"Pqos_type\",\"neighbour_prefix\":\"Faws_service+aws_service_id:neighbour_prefix\",\"outgoing_policer_config\":\"Poutgoing_policer_config\",\"outgoing_policer_name\":\"Poutgoing_policer_name\",\"primary_device_ip\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Fha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Fha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_router+ha_router_id:edge_router+primary_router_id:login\",\"secondary_device_ip\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_router+ha_router_id:edge_router+secondary_router_id:login\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\n  neighbour_prefix:\\n    description: Name of prefix list used to specify traffic source/destination\\n    label: Neighbour prefix\\n    type: string\\nresources:\\n{% set forewarding_class = be_forwarding_class if qos_type == \\\"besteffort\\\" else ga_forwarding_class %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: three-color-policer\\n            name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: policer\\n            name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $CLASS:\\n                {% if jinja_type == \\\"besteffort\\\" %} {{ jinja_be_forwarding_class }} {% else %} {{ jinja_ga_forwarding_class }} {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       source-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol vrrp;\\n                   }\\n                   then policer 10K-RE;\\n                   then accept;\\n               }\\n               term qos {\\n                   then {\\n                       three-color-policer {\\n                           {% if jinja_type == \\\"besteffort\\\" %}two-rate{% else %}single-rate{% endif %} $POLICER_NAME;\\n                       }\\n                       forwarding-class $CLASS;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: incoming_policer_name\\n                template: |\\n                  FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $PREFIX:\\n                get_param: neighbour_prefix\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n               interface-specific;\\n               term bgp-accept {\\n                   from {\\n                       destination-prefix-list {\\n                           $PREFIX;\\n                       }\\n                       protocol tcp;\\n                       port bgp;\\n                   }\\n                   then accept;\\n               }\\n               term vrrp-accept {\\n                   from {\\n                       protocol vrrp;\\n                   }\\n                   then accept;\\n               }\\n               term policer {\\n                   then {\\n                       policer $POLICER_NAME;\\n                       accept;\\n                   }\\n               }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: firewall\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: filter\\n            name:\\n              str_replace:\\n                params:\\n                  $NAME:\\n                    get_param: outgoing_policer_name\\n                template: |\\n                  FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/qos_option_aws)'
04:21:47.753 gohan.db INFO [0m Creating resource aws_gateway
04:21:47.753 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan":"Pdownlink_vlan_id","heat_timeout":"C60","input_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:incoming_policer_name","output_filter_name":"ACFILTER_\u0026Fqos_option+qos_option_id:outgoing_policer_name","primary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_logical_downlink_interface":"Pprimary_logical_downlink_interface_name","primary_device_logical_uplink_interface":"Pprimary_logical_uplink_interface_name","primary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_downlink_vrrp_config_group":"Faws_service+aws_service_id:primary_downlink_vrrp_config_group","secondary_device_ip":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_logical_downlink_interface":"Psecondary_logical_downlink_interface_name","secondary_device_logical_uplink_interface":"Psecondary_logical_uplink_interface_name","secondary_device_password":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_downlink_interface":"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_physical_uplink_interface":"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_downlink_vrrp_config_group":"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group","uplink_vlan":"Puplink_vlan_id","vrf_name":"Pvrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      on_update: merge
      configs:
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              vlan-id $VLAN;
              description AWS_Downlink;
              family inet {
                  filter {
                      input $INPUT_FILTER;
                      output $OUTPUT_FILTER;
                  }
              }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $VLAN:
                get_param: uplink_vlan
            template: |
              vlan-id $VLAN;
              description AWS_Uplink;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_uplink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
{% endfor %}
,[],heat_worker,aws_gateway)'
04:21:47.754 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"aws_gateway\",\"parameter_mappings\":{\"downlink_vlan\":\"Pdownlink_vlan_id\",\"heat_timeout\":\"C60\",\"input_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:incoming_policer_name\",\"output_filter_name\":\"ACFILTER_\\u0026Fqos_option+qos_option_id:outgoing_policer_name\",\"primary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_logical_downlink_interface\":\"Pprimary_logical_downlink_interface_name\",\"primary_device_logical_uplink_interface\":\"Pprimary_logical_uplink_interface_name\",\"primary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:primary_downlink_vrrp_config_group\",\"secondary_device_ip\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_logical_downlink_interface\":\"Psecondary_logical_downlink_interface_name\",\"secondary_device_logical_uplink_interface\":\"Psecondary_logical_uplink_interface_name\",\"secondary_device_password\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_downlink_interface\":\"Fha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_physical_uplink_interface\":\"Fha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Fha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_downlink_vrrp_config_group\":\"Faws_service+aws_service_id:secondary_downlink_vrrp_config_group\",\"uplink_vlan\":\"Puplink_vlan_id\",\"vrf_name\":\"Pvrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      on_update: merge\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              vlan-id $VLAN;\\n              description AWS_Downlink;\\n              family inet {\\n                  filter {\\n                      input $INPUT_FILTER;\\n                      output $OUTPUT_FILTER;\\n                  }\\n              }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $VLAN:\\n                get_param: uplink_vlan\\n            template: |\\n              vlan-id $VLAN;\\n              description AWS_Uplink;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_uplink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/aws_gateway,1494476507,create)'
04:21:47.756 gohan.db INFO [0m Creating resource gw_interface_aws
04:21:47.756 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,gw_interface_aws,{"bgp_group_name":"Cinet-gw-group","downlink_vlan_id":"Faws_gateway+aws_gw_id:downlink_vlan_id","gw_vip":"Pgw_vipv4","heat_timeout":"C60","jinja_force_dependency":"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id","jinja_force_dependency2":{"field":"id","path":[{"id":"network_id","type":"network"}]},"local_as":"Faws_gateway+aws_gw_id:local_as_number","netmask":"Pnetmask","primary_device_gw_ip":"Pprimary_ipv4","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_priority":"C105","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group","secondary_device_gw_ip":"Psecondary_ipv4","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_priority":"C100","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ibgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group","vrf_name":"Faws_gateway+aws_gw_id:vrf_name","vrrp_group":"Pvrid"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
  bgp_group_name:
    type: string
    label: Name of BGP Group on VRF
  local_as:
    type: string
    label: Local AS Number
  primary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
  secondary_ibgp_config_group:
    description: Name for apply group to use for downlink interface
    label: Apply group name
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                    get_param: vrrp_group
              $PRIORITY:
                    get_param: {{ device }}_device_priority
              $VIP:
                    get_param: gw_vip
            template: |
                vrrp-group $VRRP_GROUP {
                    virtual-address $VIP;
                    priority $PRIORITY;
                }
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: downlink_vlan_id }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $DEVICE_IP:
                    get_param: {{ device }}_device_gw_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $DEVICE_IP/$NETMASK
      - config:
          str_replace:
            params:
              $DEVICE_GW_IP:
                    get_param: {{ device }}_device_gw_ip
              $NEIGHBOR_GW_IP:
                    get_param: {% if device == "secondary" %}primary{% else %}secondary{% endif %}_device_gw_ip
              $LOCAL_AS:
                    get_param: local_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ibgp_config_group
            template: |
              apply-groups $APPLY_GROUP;
              local-address $DEVICE_GW_IP;
              peer-as $LOCAL_AS;
              neighbor $NEIGHBOR_GW_IP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
{% endfor %}
,[])'
04:21:47.757 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_aws\",\"parameter_mappings\":{\"bgp_group_name\":\"Cinet-gw-group\",\"downlink_vlan_id\":\"Faws_gateway+aws_gw_id:downlink_vlan_id\",\"gw_vip\":\"Pgw_vipv4\",\"heat_timeout\":\"C60\",\"jinja_force_dependency\":\"Faws_gateway+aws_gw_id:aws_interface+connected_aws_interface:id\",\"jinja_force_dependency2\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"netmask\":\"Pnetmask\",\"primary_device_gw_ip\":\"Pprimary_ipv4\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_priority\":\"C105\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ibgp_config_group\",\"secondary_device_gw_ip\":\"Psecondary_ipv4\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_priority\":\"C100\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ibgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ibgp_config_group\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\",\"vrrp_group\":\"Pvrid\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\n  bgp_group_name:\\n    type: string\\n    label: Name of BGP Group on VRF\\n  local_as:\\n    type: string\\n    label: Local AS Number\\n  primary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\n  secondary_ibgp_config_group:\\n    description: Name for apply group to use for downlink interface\\n    label: Apply group name\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                    get_param: vrrp_group\\n              $PRIORITY:\\n                    get_param: {{ device }}_device_priority\\n              $VIP:\\n                    get_param: gw_vip\\n            template: |\\n                vrrp-group $VRRP_GROUP {\\n                    virtual-address $VIP;\\n                    priority $PRIORITY;\\n                }\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: downlink_vlan_id }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $DEVICE_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $DEVICE_IP/$NETMASK\\n      - config:\\n          str_replace:\\n            params:\\n              $DEVICE_GW_IP:\\n                    get_param: {{ device }}_device_gw_ip\\n              $NEIGHBOR_GW_IP:\\n                    get_param: {% if device == \\\"secondary\\\" %}primary{% else %}secondary{% endif %}_device_gw_ip\\n              $LOCAL_AS:\\n                    get_param: local_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ibgp_config_group\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address $DEVICE_GW_IP;\\n              peer-as $LOCAL_AS;\\n              neighbor $NEIGHBOR_GW_IP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_aws,1494476507,create)'
04:21:47.764 gohan.db INFO [0m Creating resource static_route_aws
04:21:47.765 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_aws,{"heat_timeout":"C60","next_hop":"Pnexthop","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","route":"Pdestination","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  AWS Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      lock_timeout: 3000
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[])'
04:21:47.766 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"static_route_aws\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"next_hop\":\"Pnexthop\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"route\":\"Pdestination\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  AWS Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      lock_timeout: 3000\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/static_route_aws,1494476507,create,false)'
04:21:47.779 gohan.db INFO [0m Creating resource aws_interface
04:21:47.779 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"bgp_group_name":"CAWS-PE","heat_timeout":"C60","jinja_primary_uplink_ip":"Oprimary:ip_address","jinja_secondary_uplink_ip":"Osecondary:ip_address","local_as":"Faws_gateway+aws_gw_id:local_as_number","md5":"Pbgp_md5","primary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip","primary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password","primary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name","primary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port","primary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login","primary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group","primary_peer_ip":"Oprimary:bgp_peer_ip","primary_router_id":"Oprimary:bgp_router_id","remote_as":"Pbgp_remote_as","secondary_device_ip":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip","secondary_device_password":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password","secondary_device_physical_interface":"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name","secondary_device_port":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port","secondary_device_username":"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login","secondary_ebgp_config_group":"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group","secondary_peer_ip":"Osecondary:bgp_peer_ip","secondary_router_id":"Osecondary:bgp_router_id","uplink_vlan":"Faws_gateway+aws_gw_id:uplink_vlan_id","vrf_name":"Faws_gateway+aws_gw_id:vrf_name"},heat_template_version: 2013-05-23

description: >
  Inet Address

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  local_as:
    type: number
    label: Local AS Number
  primary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  secondary_ebgp_config_group:
    description: Name of MX config group for eBGP config
    label: eBGP config group
    type: string
  uplink_vlan:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  primary_peer_ip:
    description: IP address of primary router eBGP neighbour
    label: Primary device BGP peer
    type: string
  secondary_peer_ip:
    description: IP address of secondary router eBGP neighbour
    label: Secondary device BGP peer
    type: string
  primary_router_id:
    description: Primary router VRF router id
    label: Primary router id
    type: string
  secondary_router_id:
    description: Secondary router VRF router id
    label: Secondary router id
    type: string
  remote_as:
    description: eBGP remote autonomous system
    label: Remote AS
    type: string
  md5:
    description: eBGP authentication key
    label: eBGP authentication key
    type: string
  bgp_group_name:
    description: Name of eBGP group
    label: eBGP group name
    type: string

resources:
{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}
{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: { get_param: uplink_vlan }
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name: {% if device == "primary" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}
      - config:
          str_replace:
            params:
              $NEIGHBOR_IP:
                    get_param: {{ device }}_peer_ip
              $REMOTE_AS:
                    get_param: remote_as
              $APPLY_GROUP:
                    get_param: {{ device }}_ebgp_config_group
              $KEY:
                    get_param: md5
            template: |
              apply-groups $APPLY_GROUP;
              local-address {% if device == "primary" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};
              peer-as $REMOTE_AS;
              neighbor $NEIGHBOR_IP authentication-key $KEY;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: protocols
          - config_type: tag
            xml_type: tag
            tag: bgp
          - config_type: named_tag
            xml_type: named_tag
            tag: group
            name: { get_param: bgp_group_name }
      - config:
          str_replace:
            params:
              $ROUTER_ID:
                    get_param: {{device}}_router_id
              $LOCAL_AS:
                    get_param: local_as
            template: |
              router-id $ROUTER_ID;
              autonomous-system $LOCAL_AS;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
{% endfor %}
,[],heat_worker,aws_interface)'
04:21:47.780 gohan.db.sql INFO [0m Executing SQL query in transaction 'b9b08728-4552-49cc-b7d5-edcc63b35d8f': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/aws_interface,1494476507,create,false,"{\"handler\":\"heat_worker\",\"id\":\"aws_interface\",\"parameter_mappings\":{\"bgp_group_name\":\"CAWS-PE\",\"heat_timeout\":\"C60\",\"jinja_primary_uplink_ip\":\"Oprimary:ip_address\",\"jinja_secondary_uplink_ip\":\"Osecondary:ip_address\",\"local_as\":\"Faws_gateway+aws_gw_id:local_as_number\",\"md5\":\"Pbgp_md5\",\"primary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ip\",\"primary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:password\",\"primary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+primary_interface_id:name\",\"primary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:ssh_port\",\"primary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+primary_router_id:login\",\"primary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:primary_ebgp_config_group\",\"primary_peer_ip\":\"Oprimary:bgp_peer_ip\",\"primary_router_id\":\"Oprimary:bgp_router_id\",\"remote_as\":\"Pbgp_remote_as\",\"secondary_device_ip\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ip\",\"secondary_device_password\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:password\",\"secondary_device_physical_interface\":\"Faws_gateway+aws_gw_id:ha_interface+uplink_interface_id:er_physical_interface+secondary_interface_id:name\",\"secondary_device_port\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:ssh_port\",\"secondary_device_username\":\"Faws_gateway+aws_gw_id:ha_interface+downlink_interface_id:ha_router+ha_router_id:edge_router+secondary_router_id:login\",\"secondary_ebgp_config_group\":\"Faws_gateway+aws_gw_id:aws_service+aws_service_id:secondary_ebgp_config_group\",\"secondary_peer_ip\":\"Osecondary:bgp_peer_ip\",\"secondary_router_id\":\"Osecondary:bgp_router_id\",\"uplink_vlan\":\"Faws_gateway+aws_gw_id:uplink_vlan_id\",\"vrf_name\":\"Faws_gateway+aws_gw_id:vrf_name\"},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inet Address\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  local_as:\\n    type: number\\n    label: Local AS Number\\n  primary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  secondary_ebgp_config_group:\\n    description: Name of MX config group for eBGP config\\n    label: eBGP config group\\n    type: string\\n  uplink_vlan:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  primary_peer_ip:\\n    description: IP address of primary router eBGP neighbour\\n    label: Primary device BGP peer\\n    type: string\\n  secondary_peer_ip:\\n    description: IP address of secondary router eBGP neighbour\\n    label: Secondary device BGP peer\\n    type: string\\n  primary_router_id:\\n    description: Primary router VRF router id\\n    label: Primary router id\\n    type: string\\n  secondary_router_id:\\n    description: Secondary router VRF router id\\n    label: Secondary router id\\n    type: string\\n  remote_as:\\n    description: eBGP remote autonomous system\\n    label: Remote AS\\n    type: string\\n  md5:\\n    description: eBGP authentication key\\n    label: eBGP authentication key\\n    type: string\\n  bgp_group_name:\\n    description: Name of eBGP group\\n    label: eBGP group name\\n    type: string\\n\\nresources:\\n{% set primary_ip_uplink_split = jinja_primary_uplink_ip.split('/') %}\\n{% set secondary_ip_uplink_split = jinja_secondary_uplink_ip.split('/') %}\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: { get_param: uplink_vlan }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name: {% if device == \\\"primary\\\" %} {{ jinja_primary_uplink_ip }} {% else %} {{ jinja_secondary_uplink_ip }} {% endif %}\\n      - config:\\n          str_replace:\\n            params:\\n              $NEIGHBOR_IP:\\n                    get_param: {{ device }}_peer_ip\\n              $REMOTE_AS:\\n                    get_param: remote_as\\n              $APPLY_GROUP:\\n                    get_param: {{ device }}_ebgp_config_group\\n              $KEY:\\n                    get_param: md5\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              local-address {% if device == \\\"primary\\\" %} {{ primary_ip_uplink_split[0] }} {% else %} {{ secondary_ip_uplink_split[0] }} {% endif %};\\n              peer-as $REMOTE_AS;\\n              neighbor $NEIGHBOR_IP authentication-key $KEY;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: protocols\\n          - config_type: tag\\n            xml_type: tag\\n            tag: bgp\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: group\\n            name: { get_param: bgp_group_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $ROUTER_ID:\\n                    get_param: {{device}}_router_id\\n              $LOCAL_AS:\\n                    get_param: local_as\\n            template: |\\n              router-id $ROUTER_ID;\\n              autonomous-system $LOCAL_AS;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:21:47.781 gohan.db INFO [0m Populating resources for schema worker_data
04:21:47.783 gohan.db INFO [0m Populating resources for schema tenant
04:21:47.785 gohan.db INFO [0m Populating resources for schema edge_router
04:21:47.788 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:47.794 gohan.db INFO [0m Populating resources for schema ha_router
04:21:47.801 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:47.803 gohan.db INFO [0m Populating resources for schema internet_service
04:21:47.812 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:47.821 gohan.db INFO [0m Populating resources for schema aws_service
04:21:47.838 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:47.846 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:47.849 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:47.851 gohan.db INFO [0m Populating resources for schema common_function
04:21:47.878 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:47.880 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:47.890 gohan.db INFO [0m Populating resources for schema qos_option
04:21:47.897 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:47.901 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:47.904 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:47.906 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:47.912 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:47.915 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:47.921 gohan.db INFO [0m Populating resources for schema public_ip
04:21:47.923 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:47.930 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:47.942 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:47.944 gohan.db INFO [0m Populating resources for schema static_route
04:21:47.950 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:47.952 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:47.954 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:47.966 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:47.969 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:47.971 gohan.db INFO [0m Populating resources for schema firewall
04:21:47.977 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:47.981 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:47.986 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:47.996 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.000 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.003 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.008 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:48.011 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:48.017 gohan.db INFO [0m Populating resources for schema monitoring
04:21:48.020 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:48.024 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:48.035 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:48.037 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:48.041 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:48.043 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:48.045 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:48.063 gohan.server.core INFO [0m Importing data from ./init/common_function_templates.yaml ...
04:21:48.065 gohan.db INFO [0m Populating resources for schema schema
04:21:48.067 gohan.db INFO [0m Populating resources for schema policy
04:21:48.078 gohan.db INFO [0m Populating resources for schema extension
04:21:48.087 gohan.db INFO [0m Populating resources for schema event
04:21:48.090 gohan.db INFO [0m Populating resources for schema namespace
04:21:48.093 gohan.db INFO [0m Populating resources for schema location
04:21:48.098 gohan.db INFO [0m Populating resources for schema ese_device
04:21:48.100 gohan.db INFO [0m Populating resources for schema network
04:21:48.105 gohan.db INFO [0m Populating resources for schema subnet
04:21:48.106 gohan.db INFO [0m Populating resources for schema port
04:21:48.108 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:48.113 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:48.115 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:48.117 gohan.db INFO [0m Populating resources for schema server
04:21:48.134 gohan.db INFO [0m Populating resources for schema physical_port
04:21:48.135 gohan.db INFO [0m Populating resources for schema quota
04:21:48.141 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:48.143 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:48.148 gohan.db INFO [0m Populating resources for schema heat_template
04:21:48.152 gohan.db INFO [0m Creating resource common_function_gateway
04:21:48.152 gohan.db.sql INFO [0m Executing SQL query in transaction '1806ee75-9451-482f-8a4c-c81cf09b59e5': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,common_function_gateway,{"heat_timeout":"C60","jinja_common_service_numbers":{"for_field":"common_functions","for_mapping":{"field":"common_function_number","path":[{"id":"common_function_id","type":"common_function"}]}},"jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_dummy_dependency":{"field":"id","ignore_missing":true,"path":[{"id":"subnet_id","type":"subnet"}]},"jinja_logical_tunnel_interface_name":{"field":"logical_tunnel_interface_name","path":["common_function_pool_id"]},"jinja_logical_tunnel_unit_service":{"field":"logical_tunnel_unit_service"},"jinja_logical_tunnel_unit_user":{"field":"logical_tunnel_unit_user"},"jinja_nat_ip":{"field":"nat_ip"},"jinja_service_interface_name":{"field":"service_interface_name","path":["common_function_pool_id"]},"jinja_service_vrf_name":{"field":"service_vrf_name","path":["common_function_pool_id"]},"jinja_snapt_group_name":{"field":"snapt_group_name","path":["common_function_pool_id"]},"jinja_snapt_pool_group_name":{"field":"snapt_pool_group_name","path":["common_function_pool_id"]},"jinja_vlan_id":{"field":"vlan_id"},"jinja_vrf_name":{"field":"vrf_name"},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]}},heat_template_version: 2013-05-23

description: >
  Common Function Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: |
          nat-rules {{ jinja_vrf_name }}-SNAPT;
          nat-rules {{ jinja_vrf_name }}-DNAT;
          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: named_tag
            xml_type: named_tag
            tag: service-set
            name: {{ jinja_vrf_name }}
      - config: |
          apply-groups {{ jinja_snapt_pool_group_name }};
          address {{ jinja_nat_ip }}/32;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-SNAPT-POOL
      - config: |
          apply-groups {{ jinja_snapt_group_name }};
          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-SNAPT
      {% for service_number in jinja_common_service_numbers %}
      - config: |
          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: pool
            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}
      {% endfor %}
      - config: |
          apply-groups {{ jinja_dnat_group_name }};
          {% for service_number in jinja_common_service_numbers %}
          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};
          {% endfor %}
        path:
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: {{ jinja_vrf_name }}-DNAT
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_service }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_user }}
      - config: |
          peer-unit {{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_logical_tunnel_unit_service }}
      - config: |
          family inet;
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: {{ jinja_service_interface_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: |
          apply-groups {{ jinja_vrrp_group_name }};
          description {{ jinja_vrf_name }};
          vlan-id {{ jinja_vlan_id }};
          family inet service input service-set {{ jinja_vrf_name }};
          family inet service output service-set {{ jinja_vrf_name }};
        path:
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: { get_param: {{ device }}_device_physical_downlink_interface }
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: {{ jinja_vlan_id }}
      - config: ""
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: named_tag
            xml_type: named_tag
            tag: interface
            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}
      - config:
          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_service_vrf_name }}
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: {{ jinja_nat_ip }}/32
      - config:
          str_replace:
            params:
              $DOWNLINK_INTERFACE:
                get_param: {{ device }}_device_logical_downlink_interface
            template: |
              instance-type virtual-router;
              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};
              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};
              interface $DOWNLINK_INTERFACE;
              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: {{ jinja_vrf_name }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
)'
04:21:48.154 gohan.db.sql INFO [0m Executing SQL query in transaction '1806ee75-9451-482f-8a4c-c81cf09b59e5': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"common_function_gateway\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_common_service_numbers\":{\"for_field\":\"common_functions\",\"for_mapping\":{\"field\":\"common_function_number\",\"path\":[{\"id\":\"common_function_id\",\"type\":\"common_function\"}]}},\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dummy_dependency\":{\"field\":\"id\",\"ignore_missing\":true,\"path\":[{\"id\":\"subnet_id\",\"type\":\"subnet\"}]},\"jinja_logical_tunnel_interface_name\":{\"field\":\"logical_tunnel_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_logical_tunnel_unit_service\":{\"field\":\"logical_tunnel_unit_service\"},\"jinja_logical_tunnel_unit_user\":{\"field\":\"logical_tunnel_unit_user\"},\"jinja_nat_ip\":{\"field\":\"nat_ip\"},\"jinja_service_interface_name\":{\"field\":\"service_interface_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_service_vrf_name\":{\"field\":\"service_vrf_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_group_name\":{\"field\":\"snapt_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_snapt_pool_group_name\":{\"field\":\"snapt_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_vlan_id\":{\"field\":\"vlan_id\"},\"jinja_vrf_name\":{\"field\":\"vrf_name\"},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: |\\n          nat-rules {{ jinja_vrf_name }}-SNAPT;\\n          nat-rules {{ jinja_vrf_name }}-DNAT;\\n          interface-service service-interface {{ jinja_service_interface_name }}.{{ jinja_vlan_id }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: service-set\\n            name: {{ jinja_vrf_name }}\\n      - config: |\\n          apply-groups {{ jinja_snapt_pool_group_name }};\\n          address {{ jinja_nat_ip }}/32;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-SNAPT-POOL\\n      - config: |\\n          apply-groups {{ jinja_snapt_group_name }};\\n          term source then translated source-pool {{ jinja_vrf_name }}-SNAPT-POOL;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-SNAPT\\n      {% for service_number in jinja_common_service_numbers %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: pool\\n            name: {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }}\\n      {% endfor %}\\n      - config: |\\n          apply-groups {{ jinja_dnat_group_name }};\\n          {% for service_number in jinja_common_service_numbers %}\\n          term {{ service_number }} then translated destination-pool {{ jinja_vrf_name }}-{{ jinja_dnat_pool_group_name }}-{{ service_number }};\\n          {% endfor %}\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: {{ jinja_vrf_name }}-DNAT\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_service }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_user }}\\n      - config: |\\n          peer-unit {{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_logical_tunnel_unit_service }}\\n      - config: |\\n          family inet;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_service_interface_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: |\\n          apply-groups {{ jinja_vrrp_group_name }};\\n          description {{ jinja_vrf_name }};\\n          vlan-id {{ jinja_vlan_id }};\\n          family inet service input service-set {{ jinja_vrf_name }};\\n          family inet service output service-set {{ jinja_vrf_name }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: { get_param: {{ device }}_device_physical_downlink_interface }\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: {{ jinja_vlan_id }}\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: interface\\n            name: {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }}\\n      - config:\\n          next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_service }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_service_vrf_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: {{ jinja_nat_ip }}/32\\n      - config:\\n          str_replace:\\n            params:\\n              $DOWNLINK_INTERFACE:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n            template: |\\n              instance-type virtual-router;\\n              interface {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user}};\\n              interface {{ jinja_service_interface_name}}.{{ jinja_vlan_id }};\\n              interface $DOWNLINK_INTERFACE;\\n              routing-options static route 0.0.0.0/0 next-hop {{ jinja_logical_tunnel_interface_name }}.{{ jinja_logical_tunnel_unit_user }};\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: {{ jinja_vrf_name }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function_gateway,1494476508,create,false)'
04:21:48.156 gohan.db INFO [0m Creating resource common_function
04:21:48.156 gohan.db.sql INFO [0m Executing SQL query in transaction '1806ee75-9451-482f-8a4c-c81cf09b59e5': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,common_function,{"heat_timeout":"C60","jinja_dnat_group_name":{"field":"dnat_group_name","path":["common_function_pool_id"]},"jinja_dnat_pool_group_name":{"field":"dnat_pool_group_name","path":["common_function_pool_id"]},"jinja_link_local_ip_address":{"field":"link_local_ip_address"},"jinja_service_number":{"field":"common_function_number"},"jinja_shared_ip_address":{"field":"shared_ip_address"},"jinja_vrid":{"field":"vrid"},"jinja_vrrp_group_name":{"field":"vrrp_group_name","path":["common_function_pool_id"]},"netmask":{"field":"link_local_netmask","path":["common_function_pool_id"]},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"primary_vrrp_ip":{"field":"primary_vrrp_ip"},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]},"secondary_vrrp_ip":{"field":"secondary_vrrp_ip"}},heat_template_version: 2013-05-23

description: >
  Common Function

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_vrrp_ip:
    description: Local ip in VRRP group on primary device.
    label: Primary VRRP ip.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_vrrp_ip:
    description: Local ip in VRRP group on secondary device.
    label: Secondary VRRP ip.
    type: string
  netmask:
    description: Netmask used in link local network.
    label: Link-local netmask.
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    properties:
      lock_timeout: 3000
      configs:
      - config: ""
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_vrrp_group_name }}
          - config_type: tag
            xml_type: tag
            tag: interfaces
          - config_type: name
            xml_type: named_tag
            tag: interface
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: unit
            name: <*>
          - config_type: tag
            xml_type: tag
            tag: family
          - config_type: tag
            xml_type: tag
            tag: inet
          - config_type: named_tag
            xml_type: named_tag
            tag: address
            name:
              str_replace:
                params:
                  $VIP:
                    get_param: {{ device }}_vrrp_ip
                  $NETMASK:
                    get_param: netmask
                template: |
                  $VIP/$NETMASK
          - config_type: named_tag
            xml_type: named_tag
            tag: vrrp-group
            name: {{ jinja_vrid }}
          - config_type: named_tag
            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(
            tag: virtual-address
            name: {{ jinja_link_local_ip_address }}
      - config: |
          from {
            destination-address {
              {{ jinja_link_local_ip_address }}/32;
            }
          }
          then {
            translated {
              translation-type {
                dnat-44;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_group_name }}
          - config_type: tag
            xml_type: tag
            tag: services
          - config_type: tag
            xml_type: tag
            tag: nat
          - config_type: named_tag
            xml_type: named_tag
            tag: rule
            name: <*>
          - config_type: named_tag
            xml_type: named_tag
            tag: term
            name: {{ jinja_service_number }}
      - config: |
          services {
            nat {
              pool <*> {
                address {{ jinja_shared_ip_address }}/32;
              }
            }
          }
        path:
          - config_type: named_tag
            xml_type: named_tag
            tag: groups
            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
    type: OS::Contrail::NetconfNamedConfigs
{% endfor %}
)'
04:21:48.157 gohan.db.sql INFO [0m Executing SQL query in transaction '1806ee75-9451-482f-8a4c-c81cf09b59e5': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"common_function\",\"parameter_mappings\":{\"heat_timeout\":\"C60\",\"jinja_dnat_group_name\":{\"field\":\"dnat_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_dnat_pool_group_name\":{\"field\":\"dnat_pool_group_name\",\"path\":[\"common_function_pool_id\"]},\"jinja_link_local_ip_address\":{\"field\":\"link_local_ip_address\"},\"jinja_service_number\":{\"field\":\"common_function_number\"},\"jinja_shared_ip_address\":{\"field\":\"shared_ip_address\"},\"jinja_vrid\":{\"field\":\"vrid\"},\"jinja_vrrp_group_name\":{\"field\":\"vrrp_group_name\",\"path\":[\"common_function_pool_id\"]},\"netmask\":{\"field\":\"link_local_netmask\",\"path\":[\"common_function_pool_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_vrrp_ip\":{\"field\":\"primary_vrrp_ip\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_vrrp_ip\":{\"field\":\"secondary_vrrp_ip\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Common Function\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_vrrp_ip:\\n    description: Local ip in VRRP group on primary device.\\n    label: Primary VRRP ip.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_vrrp_ip:\\n    description: Local ip in VRRP group on secondary device.\\n    label: Secondary VRRP ip.\\n    type: string\\n  netmask:\\n    description: Netmask used in link local network.\\n    label: Link-local netmask.\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    properties:\\n      lock_timeout: 3000\\n      configs:\\n      - config: \\\"\\\"\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_vrrp_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: interfaces\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: interface\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: unit\\n            name: \\u003c*\\u003e\\n          - config_type: tag\\n            xml_type: tag\\n            tag: family\\n          - config_type: tag\\n            xml_type: tag\\n            tag: inet\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: address\\n            name:\\n              str_replace:\\n                params:\\n                  $VIP:\\n                    get_param: {{ device }}_vrrp_ip\\n                  $NETMASK:\\n                    get_param: netmask\\n                template: |\\n                  $VIP/$NETMASK\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: vrrp-group\\n            name: {{ jinja_vrid }}\\n          - config_type: named_tag\\n            xml_type: named_tag # FIXME: this is probably not true, as far as i can see we don't support that in plugin at all :(\\n            tag: virtual-address\\n            name: {{ jinja_link_local_ip_address }}\\n      - config: |\\n          from {\\n            destination-address {\\n              {{ jinja_link_local_ip_address }}/32;\\n            }\\n          }\\n          then {\\n            translated {\\n              translation-type {\\n                dnat-44;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_group_name }}\\n          - config_type: tag\\n            xml_type: tag\\n            tag: services\\n          - config_type: tag\\n            xml_type: tag\\n            tag: nat\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: rule\\n            name: \\u003c*\\u003e\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: term\\n            name: {{ jinja_service_number }}\\n      - config: |\\n          services {\\n            nat {\\n              pool \\u003c*\\u003e {\\n                address {{ jinja_shared_ip_address }}/32;\\n              }\\n            }\\n          }\\n        path:\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: groups\\n            name: {{ jinja_dnat_pool_group_name }}-{{ jinja_service_number }}\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n    type: OS::Contrail::NetconfNamedConfigs\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/common_function,1494476508,create)'
04:21:48.158 gohan.db INFO [0m Populating resources for schema worker_data
04:21:48.160 gohan.db INFO [0m Populating resources for schema tenant
04:21:48.163 gohan.db INFO [0m Populating resources for schema edge_router
04:21:48.167 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:48.174 gohan.db INFO [0m Populating resources for schema ha_router
04:21:48.175 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:48.179 gohan.db INFO [0m Populating resources for schema internet_service
04:21:48.181 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:48.182 gohan.db INFO [0m Populating resources for schema aws_service
04:21:48.194 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:48.199 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:48.201 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:48.203 gohan.db INFO [0m Populating resources for schema common_function
04:21:48.206 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:48.211 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:48.221 gohan.db INFO [0m Populating resources for schema qos_option
04:21:48.224 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:48.226 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:48.229 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:48.231 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:48.232 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:48.237 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:48.238 gohan.db INFO [0m Populating resources for schema public_ip
04:21:48.240 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:48.259 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:48.270 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:48.277 gohan.db INFO [0m Populating resources for schema static_route
04:21:48.279 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:48.280 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:48.282 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:48.284 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:48.288 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:48.290 gohan.db INFO [0m Populating resources for schema firewall
04:21:48.291 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:48.296 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:48.298 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:48.309 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.311 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.313 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.316 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:48.318 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:48.320 gohan.db INFO [0m Populating resources for schema monitoring
04:21:48.325 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:48.327 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:48.329 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:48.330 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:48.332 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:48.338 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:48.347 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:48.365 gohan.server.core INFO [0m Importing data from ./init/interdc_templates.yaml ...
04:21:48.372 gohan.db INFO [0m Populating resources for schema schema
04:21:48.376 gohan.db INFO [0m Populating resources for schema policy
04:21:48.380 gohan.db INFO [0m Populating resources for schema extension
04:21:48.383 gohan.db INFO [0m Populating resources for schema event
04:21:48.386 gohan.db INFO [0m Populating resources for schema namespace
04:21:48.397 gohan.db INFO [0m Populating resources for schema location
04:21:48.404 gohan.db INFO [0m Populating resources for schema ese_device
04:21:48.408 gohan.db INFO [0m Populating resources for schema network
04:21:48.411 gohan.db INFO [0m Populating resources for schema subnet
04:21:48.414 gohan.db INFO [0m Populating resources for schema port
04:21:48.425 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:48.434 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:48.444 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:48.447 gohan.db INFO [0m Populating resources for schema server
04:21:48.451 gohan.db INFO [0m Populating resources for schema physical_port
04:21:48.454 gohan.db INFO [0m Populating resources for schema quota
04:21:48.462 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:48.472 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:48.476 gohan.db INFO [0m Populating resources for schema heat_template
04:21:48.485 gohan.db INFO [0m Creating resource qos_option_interdc
04:21:48.485 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,qos_option_interdc,{"incoming_policer_config":{"field":"incoming_policer_config"},"incoming_policer_name":{"field":"incoming_policer_name"},"jinja_be_forwarding_class":{"field":"be_forwarding_class","path":["interdc_service_id"]},"jinja_ga_forwarding_class":{"field":"ga_forwarding_class","path":["interdc_service_id"]},"jinja_type":{"field":"qos_type"},"outgoing_policer_config":{"field":"outgoing_policer_config"},"outgoing_policer_name":{"field":"outgoing_policer_name"},"primary_device_ip":{"field":"ip","path":["ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["ha_router_id","primary_router_id"]},"secondary_device_ip":{"field":"ip","path":["ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["ha_router_id","secondary_router_id"]}},heat_template_version: 2013-05-23

description: >
  QoS Option

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  incoming_policer_name:
    description: Name of created incoming policer
    label: Incoming policer name
    type: string
  incoming_policer_config:
    description: Configuration of incoming policer
    label: Incoming policer config
    type: string
  outgoing_policer_name:
    description: Name of created outgoing policer
    label: Outgoing policer name
    type: string
  outgoing_policer_config:
    description: Configuration of outgoing policer
    label: Outgoing policer config
    type: string
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          { get_param: incoming_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: three-color-policer
          name: { get_param: incoming_policer_name }
      - config:
          { get_param: outgoing_policer_config }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: policer
          name: { get_param: outgoing_policer_name }
      - config:
          str_replace:
            params:
              $CLASS:
              {% if jinja_type == "besteffort" %}
                {{ jinja_be_forwarding_class }}
              {% else %}
                {{ jinja_ga_forwarding_class }}
              {% endif %}
              $POLICER_NAME:
                get_param: incoming_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then accept;
              }
              term qos {
                then {
                  three-color-policer {
                    two-rate $POLICER_NAME;
                  }
                  forwarding-class $CLASS;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: incoming_policer_name
              template: |
                FILTER_$NAME
      - config:
          str_replace:
            params:
              $POLICER_NAME:
                get_param: outgoing_policer_name
            template: |
              interface-specific;
              term vrrp-accept {
                from {
                  protocol vrrp;
                }
                then accept;
              }
              term policer {
                then {
                  policer $POLICER_NAME;
                  accept;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: firewall
        - config_type: named_tag
          xml_type: named_tag
          tag: filter
          name:
            str_replace:
              params:
                $NAME:
                  get_param: outgoing_policer_name
              template: |
                FILTER_$NAME
{% endfor %}
,[])'
04:21:48.486 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/qos_option_interdc,1494476508,create,false,"{\"handler\":\"heat_worker\",\"id\":\"qos_option_interdc\",\"parameter_mappings\":{\"incoming_policer_config\":{\"field\":\"incoming_policer_config\"},\"incoming_policer_name\":{\"field\":\"incoming_policer_name\"},\"jinja_be_forwarding_class\":{\"field\":\"be_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_ga_forwarding_class\":{\"field\":\"ga_forwarding_class\",\"path\":[\"interdc_service_id\"]},\"jinja_type\":{\"field\":\"qos_type\"},\"outgoing_policer_config\":{\"field\":\"outgoing_policer_config\"},\"outgoing_policer_name\":{\"field\":\"outgoing_policer_name\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"ha_router_id\",\"secondary_router_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  QoS Option\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  incoming_policer_name:\\n    description: Name of created incoming policer\\n    label: Incoming policer name\\n    type: string\\n  incoming_policer_config:\\n    description: Configuration of incoming policer\\n    label: Incoming policer config\\n    type: string\\n  outgoing_policer_name:\\n    description: Name of created outgoing policer\\n    label: Outgoing policer name\\n    type: string\\n  outgoing_policer_config:\\n    description: Configuration of outgoing policer\\n    label: Outgoing policer config\\n    type: string\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          { get_param: incoming_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: three-color-policer\\n          name: { get_param: incoming_policer_name }\\n      - config:\\n          { get_param: outgoing_policer_config }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: policer\\n          name: { get_param: outgoing_policer_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $CLASS:\\n              {% if jinja_type == \\\"besteffort\\\" %}\\n                {{ jinja_be_forwarding_class }}\\n              {% else %}\\n                {{ jinja_ga_forwarding_class }}\\n              {% endif %}\\n              $POLICER_NAME:\\n                get_param: incoming_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then accept;\\n              }\\n              term qos {\\n                then {\\n                  three-color-policer {\\n                    two-rate $POLICER_NAME;\\n                  }\\n                  forwarding-class $CLASS;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: incoming_policer_name\\n              template: |\\n                FILTER_$NAME\\n      - config:\\n          str_replace:\\n            params:\\n              $POLICER_NAME:\\n                get_param: outgoing_policer_name\\n            template: |\\n              interface-specific;\\n              term vrrp-accept {\\n                from {\\n                  protocol vrrp;\\n                }\\n                then accept;\\n              }\\n              term policer {\\n                then {\\n                  policer $POLICER_NAME;\\n                  accept;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: firewall\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: filter\\n          name:\\n            str_replace:\\n              params:\\n                $NAME:\\n                  get_param: outgoing_policer_name\\n              template: |\\n                FILTER_$NAME\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:21:48.487 gohan.db INFO [0m Creating resource interdc_gateway
04:21:48.488 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan":{"field":"downlink_vlan_id"},"heat_timeout":{"constant":60},"input_filter_name":{"field":"incoming_policer_name","path":["qos_option_id"]},"output_filter_name":{"field":"outgoing_policer_name","path":["qos_option_id"]},"primary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_logical_downlink_interface":{"field":"primary_logical_downlink_interface_name"},"primary_device_logical_uplink_interface":{"field":"primary_logical_uplink_interface_name"},"primary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","primary_router_id"]},"primary_downlink_vrrp_config_group":{"field":"primary_downlink_vrrp_config_group","path":["interdc_service_id"]},"primary_uplink_vrrp_config_group":{"field":"primary_uplink_vrrp_config_group","path":["interdc_service_id"]},"secondary_device_ip":{"field":"ip","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_logical_downlink_interface":{"field":"secondary_logical_downlink_interface_name"},"secondary_device_logical_uplink_interface":{"field":"secondary_logical_uplink_interface_name"},"secondary_device_password":{"field":"password","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_downlink_vrrp_config_group":{"field":"secondary_downlink_vrrp_config_group","path":["interdc_service_id"]},"secondary_uplink_vrrp_config_group":{"field":"secondary_uplink_vrrp_config_group","path":["interdc_service_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id"},"vrf_name":{"field":"vrf_name"}},heat_template_version: 2013-05-23

description: >
  Inter DC Gateway

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_physical_downlink_interface:
    description: Physical port on the Primary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Primary device
    label: Logical Interface name
    type: string
  primary_device_physical_uplink_interface:
    description: Physical port on the Primary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  primary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Primary device
    label: Logical Interface name
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_physical_downlink_interface:
    description: Physical port on the Secondary device on which the logical downlink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_downlink_interface:
    description: Name of the created logical downlink interface on the Secondary device
    label: Logical Interface name
    type: string
  secondary_device_physical_uplink_interface:
    description: Physical port on the Secondary device on which the logical uplink port will be configured
    label: Underlying physical interface
    type: string
  secondary_device_logical_uplink_interface:
    description: Name of the created logical uplink interface on the Secondary device
    label: Logical Interface name
    type: string
  input_filter_name:
    description: Name for policer used for input
    label: Input filter name
    type: string
  output_filter_name:
    description: Name for policer used for output
    label: Output filter name
    type: string
  downlink_vlan:
    description: vlan tag used by logical downlink interface
    label: VLAN ID
    type: string
  uplink_vlan_id:
    description: vlan tag used by logical uplink interface
    label: VLAN ID
    type: string
  vrf_name:
    description: Name for VRF used by logical interfaces
    label: VRF name
    type: string
  primary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  primary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string
  secondary_downlink_vrrp_config_group:
    description: Name for apply group to use for downlink interface for VRRP
    label: Apply group name
    type: string
  secondary_uplink_vrrp_config_group:
    description: Name for apply group to use for uplink interface for VRRP
    label: Apply group name
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      on_update: merge
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_downlink_vrrp_config_group
              $VLAN:
                get_param: downlink_vlan
              $INPUT_FILTER:
                get_param: input_filter_name
              $OUTPUT_FILTER:
                get_param: output_filter_name
            template: |
              apply-groups $APPLY_GROUP;
              description interdc_gw;
              vlan-id $VLAN;
              family inet {
                filter {
                  input FILTER_$INPUT_FILTER;
                  output FILTER_$OUTPUT_FILTER;
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan }
      - config:
          str_replace:
            params:
              $LIFD:
                get_param: {{ device }}_device_logical_downlink_interface
              $LIFU:
                get_param: {{ device }}_device_logical_uplink_interface
            template: |
                instance-type virtual-router;
                interface $LIFD;
                interface $LIFU;
        path:
        - config_type: tag
          xml_type: tag
          tag: routing-instances
        - config_type: name
          xml_type: named_tag
          tag: instance
          name: { get_param: vrf_name }
      - config:
          str_replace:
            params:
              $APPLY_GROUP:
                get_param: {{ device }}_uplink_vrrp_config_group
              $VLAN:
                get_param: uplink_vlan_id
            template: |
              apply-groups $APPLY_GROUP;
              description DC10GVDX;
              vlan-id $VLAN;
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_uplink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
{% endfor %}
,[],heat_worker,interdc_gateway)'
04:21:48.489 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"interdc_gateway\",\"parameter_mappings\":{\"downlink_vlan\":{\"field\":\"downlink_vlan_id\"},\"heat_timeout\":{\"constant\":60},\"input_filter_name\":{\"field\":\"incoming_policer_name\",\"path\":[\"qos_option_id\"]},\"output_filter_name\":{\"field\":\"outgoing_policer_name\",\"path\":[\"qos_option_id\"]},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_logical_downlink_interface\":{\"field\":\"primary_logical_downlink_interface_name\"},\"primary_device_logical_uplink_interface\":{\"field\":\"primary_logical_uplink_interface_name\"},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_downlink_vrrp_config_group\":{\"field\":\"primary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"primary_uplink_vrrp_config_group\":{\"field\":\"primary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_logical_downlink_interface\":{\"field\":\"secondary_logical_downlink_interface_name\"},\"secondary_device_logical_uplink_interface\":{\"field\":\"secondary_logical_uplink_interface_name\"},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_downlink_vrrp_config_group\":{\"field\":\"secondary_downlink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"secondary_uplink_vrrp_config_group\":{\"field\":\"secondary_uplink_vrrp_config_group\",\"path\":[\"interdc_service_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\"},\"vrf_name\":{\"field\":\"vrf_name\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: Physical port on the Primary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: Physical port on the Primary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Primary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: Physical port on the Secondary device on which the logical downlink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_downlink_interface:\\n    description: Name of the created logical downlink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: Physical port on the Secondary device on which the logical uplink port will be configured\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_logical_uplink_interface:\\n    description: Name of the created logical uplink interface on the Secondary device\\n    label: Logical Interface name\\n    type: string\\n  input_filter_name:\\n    description: Name for policer used for input\\n    label: Input filter name\\n    type: string\\n  output_filter_name:\\n    description: Name for policer used for output\\n    label: Output filter name\\n    type: string\\n  downlink_vlan:\\n    description: vlan tag used by logical downlink interface\\n    label: VLAN ID\\n    type: string\\n  uplink_vlan_id:\\n    description: vlan tag used by logical uplink interface\\n    label: VLAN ID\\n    type: string\\n  vrf_name:\\n    description: Name for VRF used by logical interfaces\\n    label: VRF name\\n    type: string\\n  primary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  primary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_downlink_vrrp_config_group:\\n    description: Name for apply group to use for downlink interface for VRRP\\n    label: Apply group name\\n    type: string\\n  secondary_uplink_vrrp_config_group:\\n    description: Name for apply group to use for uplink interface for VRRP\\n    label: Apply group name\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      on_update: merge\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_downlink_vrrp_config_group\\n              $VLAN:\\n                get_param: downlink_vlan\\n              $INPUT_FILTER:\\n                get_param: input_filter_name\\n              $OUTPUT_FILTER:\\n                get_param: output_filter_name\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description interdc_gw;\\n              vlan-id $VLAN;\\n              family inet {\\n                filter {\\n                  input FILTER_$INPUT_FILTER;\\n                  output FILTER_$OUTPUT_FILTER;\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan }\\n      - config:\\n          str_replace:\\n            params:\\n              $LIFD:\\n                get_param: {{ device }}_device_logical_downlink_interface\\n              $LIFU:\\n                get_param: {{ device }}_device_logical_uplink_interface\\n            template: |\\n                instance-type virtual-router;\\n                interface $LIFD;\\n                interface $LIFU;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: routing-instances\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: instance\\n          name: { get_param: vrf_name }\\n      - config:\\n          str_replace:\\n            params:\\n              $APPLY_GROUP:\\n                get_param: {{ device }}_uplink_vrrp_config_group\\n              $VLAN:\\n                get_param: uplink_vlan_id\\n            template: |\\n              apply-groups $APPLY_GROUP;\\n              description DC10GVDX;\\n              vlan-id $VLAN;\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_uplink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_gateway,1494476508,create,false)'
04:21:48.491 gohan.db INFO [0m Creating resource interdc_interface
04:21:48.491 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"netmask":{"field":"netmask"},"primary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_downlink_physical_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}},heat_template_version: 2013-05-23

description: >
  Interdc Interface

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  primary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_downlink_physical_interface:
    description: MX physical port on which logical downlink interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_downlink_physical_interface:
    description: MX physical port on which downlink logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    description: Name of VRF (routing-instance) in MX config
    label: VRF Name
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  uplink_vlan_id:
    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)
    label: Uplink VLAN ID
    type: string
  downlink_vlan_id:
    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)
    label: Downlink VLAN ID
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  vrrp_group:
    type: string
    label: VRRP Group
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $VIP:
                get_param: gw_vip
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $DOWNLINK_IF:
                get_param: secondary_device_downlink_physical_interface
              $DOWNLINK_VLAN_ID:
                get_param: downlink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: uplink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}
,[],heat_worker,interdc_interface)'
04:21:48.492 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"interdc_interface\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"netmask\":{\"field\":\"netmask\"},\"primary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_downlink_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Interdc Interface\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_downlink_physical_interface:\\n    description: MX physical port on which logical downlink interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_downlink_physical_interface:\\n    description: MX physical port on which downlink logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    description: Name of VRF (routing-instance) in MX config\\n    label: VRF Name\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  uplink_vlan_id:\\n    description: VLAN ID used on uplink interfaces (same for both primary and secondary device)\\n    label: Uplink VLAN ID\\n    type: string\\n  downlink_vlan_id:\\n    description: VLAN ID used on downlink interfaces (same for both primary and secondary device)\\n    label: Downlink VLAN ID\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $VIP:\\n                get_param: gw_vip\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $DOWNLINK_IF:\\n                get_param: secondary_device_downlink_physical_interface\\n              $DOWNLINK_VLAN_ID:\\n                get_param: downlink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $DOWNLINK_IF.$DOWNLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: uplink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/interdc_interface,1494476508,create,false)'
04:21:48.502 gohan.db INFO [0m Creating resource gw_interface_interdc
04:21:48.503 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"downlink_vlan_id":{"field":"downlink_vlan_id","path":["interdc_gw_id"]},"gw_vip":{"field":"gw_vipv4"},"heat_timeout":{"constant":60},"jinja_force_dependency1":{"field":"id","path":[{"id":"network_id","type":"network"}]},"netmask":{"field":"netmask"},"primary_device_gw_ip":{"field":"primary_ipv4"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","primary_interface_id"]},"primary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","primary_interface_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_priority":{"constant":105},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"secondary_device_gw_ip":{"field":"secondary_ipv4"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_physical_downlink_interface":{"field":"name","path":["interdc_gw_id","downlink_interface_id","secondary_interface_id"]},"secondary_device_physical_uplink_interface":{"field":"name","path":["interdc_gw_id","uplink_interface_id","secondary_interface_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_priority":{"constant":100},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"uplink_vlan_id":{"field":"uplink_vlan_id","path":["interdc_gw_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]},"vrrp_group":{"field":"vrid"}},heat_template_version: 2013-05-23

description: >
  Gateway Interface Inter DC

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  primary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  primary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  secondary_device_physical_downlink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  secondary_device_physical_uplink_interface:
    description: MX physical port on which logical interface will be created
    label: Underlying physical interface
    type: string
  downlink_vlan_id:
    description: Vlan tag for mx logical downlink interface
    label: Vlan Tag
    type: string
  uplink_vlan_id:
    description: Vlan tag for mx logical uplink interface
    label: Vlan Tag
    type: string
  gw_vip:
    description: Virtual IP configured on VRRP
    label: Inet Address CIDR
    type: string
  primary_device_gw_ip:
    description: IP on primary device
    label: Inet Address CIDR
    type: string
  secondary_device_gw_ip:
    description: IP on secondary device
    label: Inet Address CIDR
    type: string
  netmask:
    description: Netmask for gw_ip
    label: Netmask
    type: number
  vrrp_group:
    type: string
    label: VRRP Group
  primary_device_priority:
    type: string
    label: Primary device priority
  secondary_device_priority:
    type: string
    label: Secondary device priority
  vrf_name:
    type: string
    label: VRF
resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $VRRP_GROUP:
                get_param: vrrp_group
              $PRIORITY:
                get_param: {{ device }}_device_priority
              $VIP:
                get_param: gw_vip
              $UPLINK_IF:
                get_param: {{device}}_device_physical_uplink_interface
              $UPLINK_VLAN_ID:
                get_param: uplink_vlan_id
            template: |
              vrrp-group $VRRP_GROUP {
                virtual-address $VIP;
                priority $PRIORITY;
                track {
                  interface $UPLINK_IF.$UPLINK_VLAN_ID {
                    priority-cost 10;
                  }
                }
              }
        path:
        - config_type: tag
          xml_type: tag
          tag: interfaces
        - config_type: name
          xml_type: named_tag
          tag: interface
          name: { get_param: {{ device }}_device_physical_downlink_interface }
        - config_type: named_tag
          xml_type: named_tag
          tag: unit
          name: { get_param: downlink_vlan_id }
        - config_type: tag
          xml_type: tag
          tag: family
        - config_type: tag
          xml_type: tag
          tag: inet
        - config_type: named_tag
          xml_type: named_tag
          tag: address
          name:
            str_replace:
              params:
                $DEVICE_IP:
                  get_param: {{ device }}_device_gw_ip
                $NETMASK:
                  get_param: netmask
              template: |
                $DEVICE_IP/$NETMASK
{% endfor %}
,[],heat_worker,gw_interface_interdc)'
04:21:48.505 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"handler\":\"heat_worker\",\"id\":\"gw_interface_interdc\",\"parameter_mappings\":{\"downlink_vlan_id\":{\"field\":\"downlink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"gw_vip\":{\"field\":\"gw_vipv4\"},\"heat_timeout\":{\"constant\":60},\"jinja_force_dependency1\":{\"field\":\"id\",\"path\":[{\"id\":\"network_id\",\"type\":\"network\"}]},\"netmask\":{\"field\":\"netmask\"},\"primary_device_gw_ip\":{\"field\":\"primary_ipv4\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"primary_interface_id\"]},\"primary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"primary_interface_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_priority\":{\"constant\":105},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"secondary_device_gw_ip\":{\"field\":\"secondary_ipv4\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_physical_downlink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_physical_uplink_interface\":{\"field\":\"name\",\"path\":[\"interdc_gw_id\",\"uplink_interface_id\",\"secondary_interface_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_priority\":{\"constant\":100},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"uplink_vlan_id\":{\"field\":\"uplink_vlan_id\",\"path\":[\"interdc_gw_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]},\"vrrp_group\":{\"field\":\"vrid\"}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Gateway Interface Inter DC\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  primary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  primary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_physical_downlink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  secondary_device_physical_uplink_interface:\\n    description: MX physical port on which logical interface will be created\\n    label: Underlying physical interface\\n    type: string\\n  downlink_vlan_id:\\n    description: Vlan tag for mx logical downlink interface\\n    label: Vlan Tag\\n    type: string\\n  uplink_vlan_id:\\n    description: Vlan tag for mx logical uplink interface\\n    label: Vlan Tag\\n    type: string\\n  gw_vip:\\n    description: Virtual IP configured on VRRP\\n    label: Inet Address CIDR\\n    type: string\\n  primary_device_gw_ip:\\n    description: IP on primary device\\n    label: Inet Address CIDR\\n    type: string\\n  secondary_device_gw_ip:\\n    description: IP on secondary device\\n    label: Inet Address CIDR\\n    type: string\\n  netmask:\\n    description: Netmask for gw_ip\\n    label: Netmask\\n    type: number\\n  vrrp_group:\\n    type: string\\n    label: VRRP Group\\n  primary_device_priority:\\n    type: string\\n    label: Primary device priority\\n  secondary_device_priority:\\n    type: string\\n    label: Secondary device priority\\n  vrf_name:\\n    type: string\\n    label: VRF\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $VRRP_GROUP:\\n                get_param: vrrp_group\\n              $PRIORITY:\\n                get_param: {{ device }}_device_priority\\n              $VIP:\\n                get_param: gw_vip\\n              $UPLINK_IF:\\n                get_param: {{device}}_device_physical_uplink_interface\\n              $UPLINK_VLAN_ID:\\n                get_param: uplink_vlan_id\\n            template: |\\n              vrrp-group $VRRP_GROUP {\\n                virtual-address $VIP;\\n                priority $PRIORITY;\\n                track {\\n                  interface $UPLINK_IF.$UPLINK_VLAN_ID {\\n                    priority-cost 10;\\n                  }\\n                }\\n              }\\n        path:\\n        - config_type: tag\\n          xml_type: tag\\n          tag: interfaces\\n        - config_type: name\\n          xml_type: named_tag\\n          tag: interface\\n          name: { get_param: {{ device }}_device_physical_downlink_interface }\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: unit\\n          name: { get_param: downlink_vlan_id }\\n        - config_type: tag\\n          xml_type: tag\\n          tag: family\\n        - config_type: tag\\n          xml_type: tag\\n          tag: inet\\n        - config_type: named_tag\\n          xml_type: named_tag\\n          tag: address\\n          name:\\n            str_replace:\\n              params:\\n                $DEVICE_IP:\\n                  get_param: {{ device }}_device_gw_ip\\n                $NETMASK:\\n                  get_param: netmask\\n              template: |\\n                $DEVICE_IP/$NETMASK\\n{% endfor %}\\n\",\"watch\":[]}",1,/v2.0/heat_templates/gw_interface_interdc,1494476508)'
04:21:48.507 gohan.db INFO [0m Creating resource static_route_interdc
04:21:48.507 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `heat_templates` (`handler`,`id`,`parameter_mappings`,`template_file`,`watch`) VALUES (heat_worker,static_route_interdc,{"heat_timeout":{"constant":60},"next_hop":{"field":"nexthop"},"primary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"primary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","primary_router_id"]},"route":{"field":"destination"},"secondary_device_ip":{"field":"ip","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_password":{"field":"password","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_port":{"field":"ssh_port","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"secondary_device_username":{"field":"login","path":["interdc_gw_id","downlink_interface_id","ha_router_id","secondary_router_id"]},"vrf_name":{"field":"vrf_name","path":["interdc_gw_id"]}},heat_template_version: 2013-05-23

description: >
  Inter DC Gateway Static Route

parameters:
  primary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Primary Device.
    label: Ip address of the device.
    type: string
  primary_device_port:
    description: Port that will be used to establish ssh connection to the Primary Device.
    label: Port of the ssh connection.
    type: number
  primary_device_username:
    description: Name of the user which will be used to log onto the Primary Device.
    label: User name to log on to device.
    type: string
  primary_device_password:
    description: Password of the user which will be used to log onto the Primary Device.
    label: Users password.
    type: string
  secondary_device_ip:
    description: Ip address that will be used to establish ssh connection to the Secondary Device.
    label: Ip address of the device.
    type: string
  secondary_device_port:
    description: Port that will be used to establish ssh connection to the Secondary Device.
    label: Port of the ssh connection.
    type: number
  secondary_device_username:
    description: Name of the user which will be used to log onto the Secondary Device.
    label: User name to log on to device.
    type: string
  secondary_device_password:
    description: Password of the user which will be used to log onto the Secondary Device.
    label: Users password.
    type: string
  vrf_name:
    description: Name of VRF to add this static route
    label: VRF
    type: string
  route:
    description: Static Route definition
    label: Route
    type: string
  next_hop:
    description: Next hop for the static route
    label: Next hop
    type: string

resources:
{% for device in ["primary", "secondary"] %}
  netconf_configure_{{ device }}:
    type: OS::Contrail::NetconfNamedConfigs
    properties:
      lock_timeout: 3000
      device_ip:
        get_param: {{ device }}_device_ip
      password:
        get_param: {{ device }}_device_password
      port:
        get_param: {{ device }}_device_port
      username:
        get_param: {{ device }}_device_username
      configs:
      - config:
          str_replace:
            params:
              $NEXT_HOP:
                get_param: next_hop
            template: |
              next-hop $NEXT_HOP;
        path:
          - config_type: tag
            xml_type: tag
            tag: routing-instances
          - config_type: name
            xml_type: named_tag
            tag: instance
            name: { get_param: vrf_name }
          - config_type: tag
            xml_type: tag
            tag: routing-options
          - config_type: tag
            xml_type: tag
            tag: static
          - config_type: named_tag
            xml_type: named_tag
            tag: route
            name: { get_param: route }
{% endfor %}
,[])'
04:21:48.508 gohan.db.sql INFO [0m Executing SQL query in transaction '12dde7cf-50ca-48fe-b77a-eba229d717bb': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/heat_templates/static_route_interdc,1494476508,create,false,"{\"handler\":\"heat_worker\",\"id\":\"static_route_interdc\",\"parameter_mappings\":{\"heat_timeout\":{\"constant\":60},\"next_hop\":{\"field\":\"nexthop\"},\"primary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"primary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"primary_router_id\"]},\"route\":{\"field\":\"destination\"},\"secondary_device_ip\":{\"field\":\"ip\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_password\":{\"field\":\"password\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_port\":{\"field\":\"ssh_port\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"secondary_device_username\":{\"field\":\"login\",\"path\":[\"interdc_gw_id\",\"downlink_interface_id\",\"ha_router_id\",\"secondary_router_id\"]},\"vrf_name\":{\"field\":\"vrf_name\",\"path\":[\"interdc_gw_id\"]}},\"template_file\":\"heat_template_version: 2013-05-23\\n\\ndescription: \\u003e\\n  Inter DC Gateway Static Route\\n\\nparameters:\\n  primary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Primary Device.\\n    label: Ip address of the device.\\n    type: string\\n  primary_device_port:\\n    description: Port that will be used to establish ssh connection to the Primary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  primary_device_username:\\n    description: Name of the user which will be used to log onto the Primary Device.\\n    label: User name to log on to device.\\n    type: string\\n  primary_device_password:\\n    description: Password of the user which will be used to log onto the Primary Device.\\n    label: Users password.\\n    type: string\\n  secondary_device_ip:\\n    description: Ip address that will be used to establish ssh connection to the Secondary Device.\\n    label: Ip address of the device.\\n    type: string\\n  secondary_device_port:\\n    description: Port that will be used to establish ssh connection to the Secondary Device.\\n    label: Port of the ssh connection.\\n    type: number\\n  secondary_device_username:\\n    description: Name of the user which will be used to log onto the Secondary Device.\\n    label: User name to log on to device.\\n    type: string\\n  secondary_device_password:\\n    description: Password of the user which will be used to log onto the Secondary Device.\\n    label: Users password.\\n    type: string\\n  vrf_name:\\n    description: Name of VRF to add this static route\\n    label: VRF\\n    type: string\\n  route:\\n    description: Static Route definition\\n    label: Route\\n    type: string\\n  next_hop:\\n    description: Next hop for the static route\\n    label: Next hop\\n    type: string\\n\\nresources:\\n{% for device in [\\\"primary\\\", \\\"secondary\\\"] %}\\n  netconf_configure_{{ device }}:\\n    type: OS::Contrail::NetconfNamedConfigs\\n    properties:\\n      lock_timeout: 3000\\n      device_ip:\\n        get_param: {{ device }}_device_ip\\n      password:\\n        get_param: {{ device }}_device_password\\n      port:\\n        get_param: {{ device }}_device_port\\n      username:\\n        get_param: {{ device }}_device_username\\n      configs:\\n      - config:\\n          str_replace:\\n            params:\\n              $NEXT_HOP:\\n                get_param: next_hop\\n            template: |\\n              next-hop $NEXT_HOP;\\n        path:\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-instances\\n          - config_type: name\\n            xml_type: named_tag\\n            tag: instance\\n            name: { get_param: vrf_name }\\n          - config_type: tag\\n            xml_type: tag\\n            tag: routing-options\\n          - config_type: tag\\n            xml_type: tag\\n            tag: static\\n          - config_type: named_tag\\n            xml_type: named_tag\\n            tag: route\\n            name: { get_param: route }\\n{% endfor %}\\n\",\"watch\":[]}",1)'
04:21:48.510 gohan.db INFO [0m Populating resources for schema worker_data
04:21:48.515 gohan.db INFO [0m Populating resources for schema tenant
04:21:48.520 gohan.db INFO [0m Populating resources for schema edge_router
04:21:48.525 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:48.531 gohan.db INFO [0m Populating resources for schema ha_router
04:21:48.536 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:48.549 gohan.db INFO [0m Populating resources for schema internet_service
04:21:48.554 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:48.561 gohan.db INFO [0m Populating resources for schema aws_service
04:21:48.564 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:48.567 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:48.589 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:48.592 gohan.db INFO [0m Populating resources for schema common_function
04:21:48.599 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:48.607 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:48.610 gohan.db INFO [0m Populating resources for schema qos_option
04:21:48.614 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:48.618 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:48.631 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:48.634 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:48.638 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:48.644 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:48.647 gohan.db INFO [0m Populating resources for schema public_ip
04:21:48.651 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:48.665 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:48.669 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:48.672 gohan.db INFO [0m Populating resources for schema static_route
04:21:48.680 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:48.684 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:48.687 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:48.691 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:48.705 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:48.709 gohan.db INFO [0m Populating resources for schema firewall
04:21:48.715 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:48.718 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:48.721 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:48.726 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.748 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.751 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.758 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:48.765 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:48.770 gohan.db INFO [0m Populating resources for schema monitoring
04:21:48.775 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:48.795 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:48.808 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:48.812 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:48.819 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:48.827 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:48.836 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:48.863 gohan.server.core INFO [0m Importing data from ./init/quotas.yaml ...
04:21:48.863 gohan.db INFO [0m Populating resources for schema schema
04:21:48.863 gohan.db INFO [0m Populating resources for schema policy
04:21:48.864 gohan.db INFO [0m Populating resources for schema extension
04:21:48.864 gohan.db INFO [0m Populating resources for schema event
04:21:48.864 gohan.db INFO [0m Populating resources for schema namespace
04:21:48.864 gohan.db INFO [0m Populating resources for schema location
04:21:48.864 gohan.db INFO [0m Populating resources for schema ese_device
04:21:48.865 gohan.db INFO [0m Populating resources for schema network
04:21:48.865 gohan.db INFO [0m Populating resources for schema subnet
04:21:48.865 gohan.db INFO [0m Populating resources for schema port
04:21:48.865 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:48.865 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:48.866 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:48.866 gohan.db INFO [0m Populating resources for schema server
04:21:48.866 gohan.db INFO [0m Populating resources for schema physical_port
04:21:48.866 gohan.db INFO [0m Populating resources for schema quota
04:21:48.867 gohan.db INFO [0m Creating resource default
04:21:48.867 gohan.db.sql INFO [0m Executing SQL query in transaction 'd3b4340e-96a5-4531-ae87-f31b24b708a2': 'INSERT INTO `quotas` (`vpn_gateway`,`firewall`,`load_balancer`,`internet_gateway`,`hosting_logical_link`,`id`,`interdc_gateway`,`aws_gateway`,`public_ip`,`subnet`,`common_function_gateway`,`colocation_logical_link`,`port`,`hosting_physical_link_plane_storage`,`tenant_id`,`network`) VALUES (10000,10000,10000,10000,10000,default,10000,10000,10000,10000,10000,10000,30000,10000,default,10000)'
04:21:48.868 gohan.db.sql INFO [0m Executing SQL query in transaction 'd3b4340e-96a5-4531-ae87-f31b24b708a2': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"aws_gateway\":10000,\"colocation_logical_link\":10000,\"common_function_gateway\":10000,\"firewall\":10000,\"hosting_logical_link\":10000,\"hosting_physical_link_plane_storage\":10000,\"id\":\"default\",\"interdc_gateway\":10000,\"internet_gateway\":10000,\"load_balancer\":10000,\"network\":10000,\"port\":30000,\"public_ip\":10000,\"subnet\":10000,\"tenant_id\":\"default\",\"vpn_gateway\":10000}",1,/v2.0/quotas/default,1494476508)'
04:21:48.868 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:48.869 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:48.869 gohan.db INFO [0m Populating resources for schema heat_template
04:21:48.869 gohan.db INFO [0m Populating resources for schema worker_data
04:21:48.869 gohan.db INFO [0m Populating resources for schema tenant
04:21:48.869 gohan.db INFO [0m Populating resources for schema edge_router
04:21:48.873 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:48.873 gohan.db INFO [0m Populating resources for schema ha_router
04:21:48.874 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:48.874 gohan.db INFO [0m Populating resources for schema internet_service
04:21:48.875 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:48.875 gohan.db INFO [0m Populating resources for schema aws_service
04:21:48.876 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:48.876 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:48.877 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:48.877 gohan.db INFO [0m Populating resources for schema common_function
04:21:48.877 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:48.886 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:48.886 gohan.db INFO [0m Populating resources for schema qos_option
04:21:48.886 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:48.886 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:48.886 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:48.887 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:48.887 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:48.887 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:48.887 gohan.db INFO [0m Populating resources for schema public_ip
04:21:48.887 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:48.888 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:48.888 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:48.888 gohan.db INFO [0m Populating resources for schema static_route
04:21:48.888 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:48.888 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:48.889 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:48.889 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:48.889 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:48.889 gohan.db INFO [0m Populating resources for schema firewall
04:21:48.889 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:48.889 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:48.890 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:48.890 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.890 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.890 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.890 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:48.890 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:48.891 gohan.db INFO [0m Populating resources for schema monitoring
04:21:48.891 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:48.891 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:48.891 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:48.891 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:48.892 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:48.892 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:48.892 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:48.907 gohan.server.core INFO [0m Importing data from ./init/reserve_addresses.yaml ...
04:21:48.907 gohan.db INFO [0m Populating resources for schema schema
04:21:48.907 gohan.db INFO [0m Populating resources for schema policy
04:21:48.907 gohan.db INFO [0m Populating resources for schema extension
04:21:48.907 gohan.db INFO [0m Populating resources for schema event
04:21:48.908 gohan.db INFO [0m Populating resources for schema namespace
04:21:48.908 gohan.db INFO [0m Populating resources for schema location
04:21:48.908 gohan.db INFO [0m Populating resources for schema ese_device
04:21:48.908 gohan.db INFO [0m Populating resources for schema network
04:21:48.908 gohan.db INFO [0m Populating resources for schema subnet
04:21:48.908 gohan.db INFO [0m Populating resources for schema port
04:21:48.908 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:48.908 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:48.908 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:48.909 gohan.db INFO [0m Populating resources for schema server
04:21:48.909 gohan.db INFO [0m Populating resources for schema physical_port
04:21:48.909 gohan.db INFO [0m Populating resources for schema quota
04:21:48.909 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:48.910 gohan.db INFO [0m Creating resource default
04:21:48.910 gohan.db.sql INFO [0m Executing SQL query in transaction 'c826f6cc-56cf-40b3-b443-9868539bdede': 'INSERT INTO `reserve_addresss` (`id`,`tenant_id`,`subnets`) VALUES (default,default,[])'
04:21:48.910 gohan.db.sql INFO [0m Executing SQL query in transaction 'c826f6cc-56cf-40b3-b443-9868539bdede': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/reserve_addresses/default,1494476508,create,false,"{\"id\":\"default\",\"subnets\":[],\"tenant_id\":\"default\"}",1)'
04:21:48.911 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:48.911 gohan.db INFO [0m Populating resources for schema heat_template
04:21:48.911 gohan.db INFO [0m Populating resources for schema worker_data
04:21:48.911 gohan.db INFO [0m Populating resources for schema tenant
04:21:48.912 gohan.db INFO [0m Populating resources for schema edge_router
04:21:48.912 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:48.912 gohan.db INFO [0m Populating resources for schema ha_router
04:21:48.912 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:48.912 gohan.db INFO [0m Populating resources for schema internet_service
04:21:48.912 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:48.912 gohan.db INFO [0m Populating resources for schema aws_service
04:21:48.912 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:48.912 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:48.913 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:48.913 gohan.db INFO [0m Populating resources for schema common_function
04:21:48.913 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:48.913 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:48.913 gohan.db INFO [0m Populating resources for schema qos_option
04:21:48.913 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:48.913 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:48.913 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:48.913 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:48.913 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:48.914 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:48.914 gohan.db INFO [0m Populating resources for schema public_ip
04:21:48.914 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:48.914 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:48.914 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:48.914 gohan.db INFO [0m Populating resources for schema static_route
04:21:48.914 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:48.914 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:48.914 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:48.915 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:48.915 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:48.915 gohan.db INFO [0m Populating resources for schema firewall
04:21:48.915 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:48.915 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:48.915 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:48.915 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.915 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.915 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.915 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:48.916 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:48.916 gohan.db INFO [0m Populating resources for schema monitoring
04:21:48.916 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:48.920 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:48.920 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:48.920 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:48.921 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:48.921 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:48.921 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:48.939 gohan.server.core INFO [0m Importing data from ./init/vnf_templates.yaml ...
04:21:48.940 gohan.db INFO [0m Populating resources for schema schema
04:21:48.940 gohan.db INFO [0m Populating resources for schema policy
04:21:48.941 gohan.db INFO [0m Populating resources for schema extension
04:21:48.941 gohan.db INFO [0m Populating resources for schema event
04:21:48.941 gohan.db INFO [0m Populating resources for schema namespace
04:21:48.942 gohan.db INFO [0m Populating resources for schema location
04:21:48.942 gohan.db INFO [0m Populating resources for schema ese_device
04:21:48.943 gohan.db INFO [0m Populating resources for schema network
04:21:48.943 gohan.db INFO [0m Populating resources for schema subnet
04:21:48.944 gohan.db INFO [0m Populating resources for schema port
04:21:48.944 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:48.944 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:48.945 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:48.949 gohan.db INFO [0m Populating resources for schema server
04:21:48.950 gohan.db INFO [0m Populating resources for schema physical_port
04:21:48.951 gohan.db INFO [0m Populating resources for schema quota
04:21:48.952 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:48.953 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:48.962 gohan.db INFO [0m Populating resources for schema heat_template
04:21:48.965 gohan.db INFO [0m Creating resource vnf_instance
04:21:48.965 gohan.db.sql INFO [0m Executing SQL query in transaction '85030657-6f8c-4aed-9e58-4c53472ac620': 'INSERT INTO `heat_templates` (`parameter_mappings`,`template_file`,`watch`,`handler`,`id`) VALUES ({"availability_zone":"Pavailability_zone","config_drive":"Pconfig_drive","flavor":"Fvnf_plan+vnf_plan_id:flavor","heat_timeout":"C15","image":"Fvnf_template+vnf_template_id:image","name":"Pname","networks":"Pnetworks","reboot":"Preboot","user_data":"Puser_data","user_data_format":"Puser_data_format"},heat_template_version: 2013-05-23
description: VNF Instance
parameters:
  name:
    default: ""
    type: string
  image:
    type: string
    constraints:
    - custom_constraint: glance.image
  flavor:
    type: string
    constraints:
    - custom_constraint: nova.flavor
  availability_zone:
    type: string
    default: ""
  networks:
    type: json
  reboot:
    type: string
    default: ""
  user_data:
    type: string
    default: ""
  user_data_format:
    type: string
  config_drive:
    type: boolean
resources:
  server:
    type: ESI::VNF::Instance
    properties:
      name: { get_param: name }
      flavor: { get_param: flavor }
      image: { get_param: image }
      networks: { get_param: networks }
      availability_zone: { get_param: availability_zone }
      reboot: { get_param: reboot }
      user_data: { get_param: user_data }
      user_data_format: { get_param: user_data_format }
      config_drive: { get_param: config_drive }
outputs:
  server_id:
    description: A unique id for the nova server.
    value: { get_resource: server }
,[],heat_worker,vnf_instance)'
04:21:48.965 gohan.db.sql INFO [0m Executing SQL query in transaction '85030657-6f8c-4aed-9e58-4c53472ac620': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"vnf_instance\",\"parameter_mappings\":{\"availability_zone\":\"Pavailability_zone\",\"config_drive\":\"Pconfig_drive\",\"flavor\":\"Fvnf_plan+vnf_plan_id:flavor\",\"heat_timeout\":\"C15\",\"image\":\"Fvnf_template+vnf_template_id:image\",\"name\":\"Pname\",\"networks\":\"Pnetworks\",\"reboot\":\"Preboot\",\"user_data\":\"Puser_data\",\"user_data_format\":\"Puser_data_format\"},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: VNF Instance\\nparameters:\\n  name:\\n    default: \\\"\\\"\\n    type: string\\n  image:\\n    type: string\\n    constraints:\\n    - custom_constraint: glance.image\\n  flavor:\\n    type: string\\n    constraints:\\n    - custom_constraint: nova.flavor\\n  availability_zone:\\n    type: string\\n    default: \\\"\\\"\\n  networks:\\n    type: json\\n  reboot:\\n    type: string\\n    default: \\\"\\\"\\n  user_data:\\n    type: string\\n    default: \\\"\\\"\\n  user_data_format:\\n    type: string\\n  config_drive:\\n    type: boolean\\nresources:\\n  server:\\n    type: ESI::VNF::Instance\\n    properties:\\n      name: { get_param: name }\\n      flavor: { get_param: flavor }\\n      image: { get_param: image }\\n      networks: { get_param: networks }\\n      availability_zone: { get_param: availability_zone }\\n      reboot: { get_param: reboot }\\n      user_data: { get_param: user_data }\\n      user_data_format: { get_param: user_data_format }\\n      config_drive: { get_param: config_drive }\\noutputs:\\n  server_id:\\n    description: A unique id for the nova server.\\n    value: { get_resource: server }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/vnf_instance,1494476508,create,false)'
04:21:48.967 gohan.db INFO [0m Creating resource firewall_config
04:21:48.967 gohan.db.sql INFO [0m Executing SQL query in transaction '85030657-6f8c-4aed-9e58-4c53472ac620': 'INSERT INTO `heat_templates` (`watch`,`handler`,`id`,`parameter_mappings`,`template_file`) VALUES ([],heat_worker,firewall_config,{"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["vnf_instance_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"}},heat_template_version: 2013-05-23
description: Vyatta Firewall Configuration
parameters:
  management_ip:
    type: string
  credentials:
    type: json
  default_gateway:
    type: string
    default: ""
  user_username:
    type: string
  user_password:
    type: string
    default: ""
  admin_username:
    type: string
  admin_password:
    type: string
    default: ""
  other_username:
    type: string
    default: ""
  other_password:
    type: string
    default: ""
  networks:
    type: json
resources:
  server:
    type: ESI::VNF::VyattaConfig
    properties:
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      default_gateway: { get_param: default_gateway }
      user_username: { get_param: user_username }
      user_password: { get_param: user_password }
      admin_username: { get_param: admin_username }
      admin_password: { get_param: admin_password }
      other_username: { get_param: other_username }
      other_password: { get_param: other_password }
      networks: { get_param: networks }
)'
04:21:48.967 gohan.db.sql INFO [0m Executing SQL query in transaction '85030657-6f8c-4aed-9e58-4c53472ac620': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/heat_templates/firewall_config,1494476508,create,false,"{\"handler\":\"heat_worker\",\"id\":\"firewall_config\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"vnf_instance_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Vyatta Firewall Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: json\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  user_username:\\n    type: string\\n  user_password:\\n    type: string\\n    default: \\\"\\\"\\n  admin_username:\\n    type: string\\n  admin_password:\\n    type: string\\n    default: \\\"\\\"\\n  other_username:\\n    type: string\\n    default: \\\"\\\"\\n  other_password:\\n    type: string\\n    default: \\\"\\\"\\n  networks:\\n    type: json\\nresources:\\n  server:\\n    type: ESI::VNF::VyattaConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      default_gateway: { get_param: default_gateway }\\n      user_username: { get_param: user_username }\\n      user_password: { get_param: user_password }\\n      admin_username: { get_param: admin_username }\\n      admin_password: { get_param: admin_password }\\n      other_username: { get_param: other_username }\\n      other_password: { get_param: other_password }\\n      networks: { get_param: networks }\\n\",\"watch\":[]}")'
04:21:48.968 gohan.db INFO [0m Populating resources for schema worker_data
04:21:48.972 gohan.db INFO [0m Populating resources for schema tenant
04:21:48.973 gohan.db INFO [0m Populating resources for schema edge_router
04:21:48.973 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:48.974 gohan.db INFO [0m Populating resources for schema ha_router
04:21:48.974 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:48.974 gohan.db INFO [0m Populating resources for schema internet_service
04:21:48.975 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:48.975 gohan.db INFO [0m Populating resources for schema aws_service
04:21:48.976 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:48.976 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:48.977 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:48.977 gohan.db INFO [0m Populating resources for schema common_function
04:21:48.978 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:48.978 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:48.978 gohan.db INFO [0m Populating resources for schema qos_option
04:21:48.979 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:48.981 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:48.981 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:48.981 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:48.982 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:48.982 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:48.983 gohan.db INFO [0m Populating resources for schema public_ip
04:21:48.983 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:48.983 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:48.984 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:48.988 gohan.db INFO [0m Populating resources for schema static_route
04:21:48.989 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:48.989 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:48.990 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:48.990 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:48.991 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:48.991 gohan.db INFO [0m Populating resources for schema firewall
04:21:48.991 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:48.992 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:48.992 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:48.993 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:48.993 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:48.994 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:48.999 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:49.000 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:49.003 gohan.db INFO [0m Populating resources for schema monitoring
04:21:49.004 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:49.005 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:49.005 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:49.006 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:49.006 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:49.007 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:49.009 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:49.030 gohan.server.core INFO [0m Importing data from ./init/load_balancer_templates.yaml ...
04:21:49.031 gohan.db INFO [0m Populating resources for schema schema
04:21:49.032 gohan.db INFO [0m Populating resources for schema policy
04:21:49.033 gohan.db INFO [0m Populating resources for schema extension
04:21:49.033 gohan.db INFO [0m Populating resources for schema event
04:21:49.034 gohan.db INFO [0m Populating resources for schema namespace
04:21:49.035 gohan.db INFO [0m Populating resources for schema location
04:21:49.036 gohan.db INFO [0m Populating resources for schema ese_device
04:21:49.038 gohan.db INFO [0m Populating resources for schema network
04:21:49.039 gohan.db INFO [0m Populating resources for schema subnet
04:21:49.039 gohan.db INFO [0m Populating resources for schema port
04:21:49.040 gohan.db INFO [0m Populating resources for schema ese_physical_port
04:21:49.045 gohan.db INFO [0m Populating resources for schema ese_logical_port
04:21:49.046 gohan.db INFO [0m Populating resources for schema local_subnet
04:21:49.046 gohan.db INFO [0m Populating resources for schema server
04:21:49.047 gohan.db INFO [0m Populating resources for schema physical_port
04:21:49.048 gohan.db INFO [0m Populating resources for schema quota
04:21:49.053 gohan.db INFO [0m Populating resources for schema reserve_address
04:21:49.054 gohan.db INFO [0m Populating resources for schema neutron_extension
04:21:49.054 gohan.db INFO [0m Populating resources for schema heat_template
04:21:49.060 gohan.db INFO [0m Creating resource load_balancer_conf
04:21:49.060 gohan.db.sql INFO [0m Executing SQL query in transaction '70c9a7e4-f4ff-46e7-bb73-b20890319767': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23
description: Load Balancer Configuration
parameters:
  management_ip:
    type: string
  management_gateway:
    type: string
  admin_username:
    type: string
  admin_password:
    type: string
  user_username:
    type: string
  user_password:
    type: string
  other_username:
    type: string
  other_password:
    type: string
  server_id:
    type: string
  license_code:
    type: string
  model:
    type: string
  init_config:
    type: string
  networks:
    type: string
  internet_port:
    type: string
  default_gateway:
    type: string
    default: ""
  credentials:
    type: string
resources:
  netscaler_configuration:
    type: ESI::VNF::NetscalerConfig
    properties:
      management_ip: { get_param: management_ip }
      management_gateway: { get_param: management_gateway }
      admin_username: { get_param: admin_username }
      admin_password: { get_param: admin_password }
      user_username: { get_param: user_username }
      user_password: { get_param: user_password }
      other_username: { get_param: other_username }
      other_password: { get_param: other_password }
      server_id: { get_param: server_id }
      license_code: { get_param: license_code }
      model: { get_param: model }
      init_config: { get_param: init_config }
      networks: { get_param: networks }
      internet_port: { get_param: internet_port }
      default_gateway: { get_param: default_gateway }
      credentials: { get_param: credentials }
,[],heat_worker,load_balancer_conf,{"admin_password":{"field":"admin_password"},"admin_username":{"field":"admin_username"},"credentials":{"field":"credentials","path":["load_balancer_plan_id","vnf_template_id"]},"default_gateway":{"field":"default_gateway"},"init_config":{"field":"init_config","path":["load_balancer_plan_id","vnf_template_id"]},"internet_port":{"field":"internet_port"},"license_code":{"field":"license_code","path":["load_balancer_plan_id"]},"management_gateway":{"field":"management_gateway"},"management_ip":{"field":"management_ip","path":["vnf_instance_id"]},"model":{"field":"model","path":["load_balancer_plan_id"]},"networks":{"field":"networks"},"other_password":{"field":"other_password"},"other_username":{"field":"other_username"},"server_id":{"output_key":"server_id","path":["vnf_instance_id"]},"user_password":{"field":"user_password"},"user_username":{"field":"user_username"}})'
04:21:49.061 gohan.db.sql INFO [0m Executing SQL query in transaction '70c9a7e4-f4ff-46e7-bb73-b20890319767': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"handler\":\"heat_worker\",\"id\":\"load_balancer_conf\",\"parameter_mappings\":{\"admin_password\":{\"field\":\"admin_password\"},\"admin_username\":{\"field\":\"admin_username\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"default_gateway\":{\"field\":\"default_gateway\"},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_plan_id\",\"vnf_template_id\"]},\"internet_port\":{\"field\":\"internet_port\"},\"license_code\":{\"field\":\"license_code\",\"path\":[\"load_balancer_plan_id\"]},\"management_gateway\":{\"field\":\"management_gateway\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"vnf_instance_id\"]},\"model\":{\"field\":\"model\",\"path\":[\"load_balancer_plan_id\"]},\"networks\":{\"field\":\"networks\"},\"other_password\":{\"field\":\"other_password\"},\"other_username\":{\"field\":\"other_username\"},\"server_id\":{\"output_key\":\"server_id\",\"path\":[\"vnf_instance_id\"]},\"user_password\":{\"field\":\"user_password\"},\"user_username\":{\"field\":\"user_username\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Load Balancer Configuration\\nparameters:\\n  management_ip:\\n    type: string\\n  management_gateway:\\n    type: string\\n  admin_username:\\n    type: string\\n  admin_password:\\n    type: string\\n  user_username:\\n    type: string\\n  user_password:\\n    type: string\\n  other_username:\\n    type: string\\n  other_password:\\n    type: string\\n  server_id:\\n    type: string\\n  license_code:\\n    type: string\\n  model:\\n    type: string\\n  init_config:\\n    type: string\\n  networks:\\n    type: string\\n  internet_port:\\n    type: string\\n  default_gateway:\\n    type: string\\n    default: \\\"\\\"\\n  credentials:\\n    type: string\\nresources:\\n  netscaler_configuration:\\n    type: ESI::VNF::NetscalerConfig\\n    properties:\\n      management_ip: { get_param: management_ip }\\n      management_gateway: { get_param: management_gateway }\\n      admin_username: { get_param: admin_username }\\n      admin_password: { get_param: admin_password }\\n      user_username: { get_param: user_username }\\n      user_password: { get_param: user_password }\\n      other_username: { get_param: other_username }\\n      other_password: { get_param: other_password }\\n      server_id: { get_param: server_id }\\n      license_code: { get_param: license_code }\\n      model: { get_param: model }\\n      init_config: { get_param: init_config }\\n      networks: { get_param: networks }\\n      internet_port: { get_param: internet_port }\\n      default_gateway: { get_param: default_gateway }\\n      credentials: { get_param: credentials }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_conf,1494476509,create,false)'
04:21:49.068 gohan.db INFO [0m Creating resource load_balancer_syslog_server
04:21:49.068 gohan.db.sql INFO [0m Executing SQL query in transaction '70c9a7e4-f4ff-46e7-bb73-b20890319767': 'INSERT INTO `heat_templates` (`template_file`,`watch`,`handler`,`id`,`parameter_mappings`) VALUES (heat_template_version: 2013-05-23
description: Syslog server
parameters:
  name:
    type: string
  ip_address:
    type: string
  port_number:
    type: number
  log_level:
    type: string
  log_facility:
    type: string
  tcp_logging:
    type: string
  acl_logging:
    type: string
  appflow_logging:
    type: string
  date_format:
    type: string
  time_zone:
    type: string
  user_configurable_log_messages:
    type: string
  transport_type:
    type: string
  priority:
    type: number
  vserver_ip_address:
    type: string
  comment:
    type: string
  management_ip:
    type: string
  credentials:
    type: string
  init_config:
    type: string
resources:
  load_balancer_syslog_server:
    type: ESI::VNF::NetscalerSyslogServer
    properties:
      name: { get_param: name }
      ip_address: { get_param: ip_address }
      port_number: { get_param: port_number }
      log_level: { get_param: log_level }
      log_facility: { get_param: log_facility }
      tcp_logging: { get_param: tcp_logging }
      acl_logging: { get_param: acl_logging }
      appflow_logging: { get_param: appflow_logging }
      date_format: { get_param: date_format }
      time_zone: { get_param: time_zone }
      user_configurable_log_messages: { get_param: user_configurable_log_messages }
      transport_type: { get_param: transport_type }
      priority: { get_param: priority }
      vserver_ip_address: { get_param: vserver_ip_address }
      comment: { get_param: comment }
      management_ip: { get_param: management_ip }
      credentials: { get_param: credentials }
      init_config: { get_param: init_config }
,[],heat_worker,load_balancer_syslog_server,{"acl_logging":{"field":"acl_logging"},"appflow_logging":{"field":"appflow_logging"},"comment":{"field":"comment"},"credentials":{"field":"credentials","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"date_format":{"field":"date_format"},"init_config":{"field":"init_config","path":["load_balancer_id","load_balancer_plan_id","vnf_template_id"]},"ip_address":{"field":"ip_address"},"log_facility":{"field":"log_facility"},"log_level":{"field":"log_level"},"management_ip":{"field":"management_ip","path":["load_balancer_id","vnf_instance_id"]},"name":{"field":"name"},"port_number":{"field":"port_number"},"priority":{"field":"priority"},"tcp_logging":{"field":"tcp_logging"},"time_zone":{"field":"time_zone"},"transport_type":{"field":"transport_type"},"user_configurable_log_messages":{"field":"user_configurable_log_messages"},"vserver_ip_address":{"field":"vserver_ip_address"}})'
04:21:49.069 gohan.db.sql INFO [0m Executing SQL query in transaction '70c9a7e4-f4ff-46e7-bb73-b20890319767': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"handler\":\"heat_worker\",\"id\":\"load_balancer_syslog_server\",\"parameter_mappings\":{\"acl_logging\":{\"field\":\"acl_logging\"},\"appflow_logging\":{\"field\":\"appflow_logging\"},\"comment\":{\"field\":\"comment\"},\"credentials\":{\"field\":\"credentials\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"date_format\":{\"field\":\"date_format\"},\"init_config\":{\"field\":\"init_config\",\"path\":[\"load_balancer_id\",\"load_balancer_plan_id\",\"vnf_template_id\"]},\"ip_address\":{\"field\":\"ip_address\"},\"log_facility\":{\"field\":\"log_facility\"},\"log_level\":{\"field\":\"log_level\"},\"management_ip\":{\"field\":\"management_ip\",\"path\":[\"load_balancer_id\",\"vnf_instance_id\"]},\"name\":{\"field\":\"name\"},\"port_number\":{\"field\":\"port_number\"},\"priority\":{\"field\":\"priority\"},\"tcp_logging\":{\"field\":\"tcp_logging\"},\"time_zone\":{\"field\":\"time_zone\"},\"transport_type\":{\"field\":\"transport_type\"},\"user_configurable_log_messages\":{\"field\":\"user_configurable_log_messages\"},\"vserver_ip_address\":{\"field\":\"vserver_ip_address\"}},\"template_file\":\"heat_template_version: 2013-05-23\\ndescription: Syslog server\\nparameters:\\n  name:\\n    type: string\\n  ip_address:\\n    type: string\\n  port_number:\\n    type: number\\n  log_level:\\n    type: string\\n  log_facility:\\n    type: string\\n  tcp_logging:\\n    type: string\\n  acl_logging:\\n    type: string\\n  appflow_logging:\\n    type: string\\n  date_format:\\n    type: string\\n  time_zone:\\n    type: string\\n  user_configurable_log_messages:\\n    type: string\\n  transport_type:\\n    type: string\\n  priority:\\n    type: number\\n  vserver_ip_address:\\n    type: string\\n  comment:\\n    type: string\\n  management_ip:\\n    type: string\\n  credentials:\\n    type: string\\n  init_config:\\n    type: string\\nresources:\\n  load_balancer_syslog_server:\\n    type: ESI::VNF::NetscalerSyslogServer\\n    properties:\\n      name: { get_param: name }\\n      ip_address: { get_param: ip_address }\\n      port_number: { get_param: port_number }\\n      log_level: { get_param: log_level }\\n      log_facility: { get_param: log_facility }\\n      tcp_logging: { get_param: tcp_logging }\\n      acl_logging: { get_param: acl_logging }\\n      appflow_logging: { get_param: appflow_logging }\\n      date_format: { get_param: date_format }\\n      time_zone: { get_param: time_zone }\\n      user_configurable_log_messages: { get_param: user_configurable_log_messages }\\n      transport_type: { get_param: transport_type }\\n      priority: { get_param: priority }\\n      vserver_ip_address: { get_param: vserver_ip_address }\\n      comment: { get_param: comment }\\n      management_ip: { get_param: management_ip }\\n      credentials: { get_param: credentials }\\n      init_config: { get_param: init_config }\\n\",\"watch\":[]}",1,/v2.0/heat_templates/load_balancer_syslog_server,1494476509,create)'
04:21:49.069 gohan.db INFO [0m Populating resources for schema worker_data
04:21:49.070 gohan.db INFO [0m Populating resources for schema tenant
04:21:49.071 gohan.db INFO [0m Populating resources for schema edge_router
04:21:49.072 gohan.db INFO [0m Populating resources for schema er_physical_interface
04:21:49.072 gohan.db INFO [0m Populating resources for schema ha_router
04:21:49.073 gohan.db INFO [0m Populating resources for schema ha_interface
04:21:49.076 gohan.db INFO [0m Populating resources for schema internet_service
04:21:49.077 gohan.db INFO [0m Populating resources for schema vpn_service
04:21:49.078 gohan.db INFO [0m Populating resources for schema aws_service
04:21:49.078 gohan.db INFO [0m Populating resources for schema interdc_service
04:21:49.079 gohan.db INFO [0m Populating resources for schema common_function_pool
04:21:49.080 gohan.db INFO [0m Populating resources for schema nat_ip_pool
04:21:49.081 gohan.db INFO [0m Populating resources for schema common_function
04:21:49.081 gohan.db INFO [0m Populating resources for schema public_ip_pool
04:21:49.082 gohan.db INFO [0m Populating resources for schema suspended_public_ip
04:21:49.083 gohan.db INFO [0m Populating resources for schema qos_option
04:21:49.084 gohan.db INFO [0m Populating resources for schema vpn_gateway
04:21:49.084 gohan.db INFO [0m Populating resources for schema vpn_interface
04:21:49.086 gohan.db INFO [0m Populating resources for schema aws_gateway
04:21:49.086 gohan.db INFO [0m Populating resources for schema aws_interface
04:21:49.087 gohan.db INFO [0m Populating resources for schema internet_gateway
04:21:49.093 gohan.db INFO [0m Populating resources for schema common_function_gateway
04:21:49.093 gohan.db INFO [0m Populating resources for schema public_ip
04:21:49.094 gohan.db INFO [0m Populating resources for schema interdc_gateway
04:21:49.095 gohan.db INFO [0m Populating resources for schema interdc_interface
04:21:49.099 gohan.db INFO [0m Populating resources for schema gw_interface
04:21:49.104 gohan.db INFO [0m Populating resources for schema static_route
04:21:49.113 gohan.db INFO [0m Populating resources for schema vnf_template
04:21:49.118 gohan.db INFO [0m Populating resources for schema vnf_plan
04:21:49.121 gohan.db INFO [0m Populating resources for schema vnf_instance
04:21:49.122 gohan.db INFO [0m Populating resources for schema vnf_interface
04:21:49.123 gohan.db INFO [0m Populating resources for schema firewall_plan
04:21:49.124 gohan.db INFO [0m Populating resources for schema firewall
04:21:49.124 gohan.db INFO [0m Populating resources for schema firewall_interface
04:21:49.125 gohan.db INFO [0m Populating resources for schema load_balancer_plan
04:21:49.126 gohan.db INFO [0m Populating resources for schema load_balancer_conf
04:21:49.132 gohan.db INFO [0m Populating resources for schema load_balancer
04:21:49.133 gohan.db INFO [0m Populating resources for schema load_balancer_interface
04:21:49.134 gohan.db INFO [0m Populating resources for schema load_balancer_syslog_server
04:21:49.135 gohan.db INFO [0m Populating resources for schema billing_usage
04:21:49.135 gohan.db INFO [0m Populating resources for schema billing_resource
04:21:49.136 gohan.db INFO [0m Populating resources for schema monitoring
04:21:49.137 gohan.db INFO [0m Populating resources for schema resource_mapping
04:21:49.138 gohan.db INFO [0m Populating resources for schema colocation_space
04:21:49.138 gohan.db INFO [0m Populating resources for schema colocation_physical_link
04:21:49.139 gohan.db INFO [0m Populating resources for schema colocation_logical_link
04:21:49.150 gohan.db INFO [0m Populating resources for schema tenant_connection
04:21:49.152 gohan.db INFO [0m Populating resources for schema hosting_physical_link
04:21:49.153 gohan.db INFO [0m Populating resources for schema hosting_logical_link
04:21:49.183 gohan.server.core INFO [0m Keystone backend server configured
04:21:57.419 gohan.server.core INFO [0m Loading extensions for schema 'common_function'
04:21:58.107 gohan.server.core INFO [0m Loading extensions for schema 'interdc_gateway'
04:21:58.932 gohan.server.core INFO [0m Loading extensions for schema 'colocation_physical_link'
04:21:59.795 gohan.server.core INFO [0m Loading extensions for schema 'firewall_interface'
04:22:00.615 gohan.server.core INFO [0m Loading extensions for schema 'colocation_logical_link'
04:22:01.316 gohan.server.core INFO [0m Loading extensions for schema 'subnet'
04:22:02.058 gohan.server.core INFO [0m Loading extensions for schema 'reserve_address'
04:22:02.867 gohan.server.core INFO [0m Loading extensions for schema 'heat_template'
04:22:03.644 gohan.server.core INFO [0m Loading extensions for schema 'common_function_gateway'
04:22:04.518 gohan.server.core INFO [0m Loading extensions for schema 'public_ip'
04:22:05.346 gohan.server.core INFO [0m Loading extensions for schema 'namespace'
04:22:06.148 gohan.server.core INFO [0m Loading extensions for schema 'ese_physical_port'
04:22:06.910 gohan.server.core INFO [0m Loading extensions for schema 'er_physical_interface'
04:22:07.635 gohan.server.core INFO [0m Loading extensions for schema 'ha_interface'
04:22:08.412 gohan.server.core INFO [0m Loading extensions for schema 'monitoring'
04:22:09.151 gohan.server.core INFO [0m Loading extensions for schema 'aws_gateway'
04:22:09.935 gohan.server.core INFO [0m Loading extensions for schema 'resource_mapping'
04:22:10.550 gohan.server.core INFO [0m Loading extensions for schema 'network'
04:22:11.320 gohan.server.core INFO [0m Loading extensions for schema 'tenant'
04:22:12.056 gohan.server.core INFO [0m Loading extensions for schema 'edge_router'
04:22:13.080 gohan.server.core INFO [0m Loading extensions for schema 'ha_router'
04:22:13.838 gohan.server.core INFO [0m Loading extensions for schema 'vpn_gateway'
04:22:14.662 gohan.server.core INFO [0m Loading extensions for schema 'hosting_logical_link'
04:22:15.862 gohan.server.core INFO [0m Loading extensions for schema 'policy'
04:22:16.715 gohan.server.core INFO [0m Loading extensions for schema 'extension'
04:22:17.501 gohan.server.core INFO [0m Loading extensions for schema 'internet_service'
04:22:18.233 gohan.server.core INFO [0m Loading extensions for schema 'vpn_service'
04:22:19.037 gohan.server.core INFO [0m Loading extensions for schema 'vnf_template'
04:22:19.763 gohan.server.core INFO [0m Loading extensions for schema 'vnf_interface'
04:22:20.443 gohan.server.core INFO [0m Loading extensions for schema 'firewall_plan'
04:22:21.148 gohan.server.core INFO [0m Loading extensions for schema 'schema'
04:22:22.109 gohan.server.core INFO [0m Loading extensions for schema 'server'
04:22:22.656 gohan.server.core INFO [0m Loading extensions for schema 'neutron_extension'
04:22:23.380 gohan.server.core INFO [0m Loading extensions for schema 'vnf_plan'
04:22:24.106 gohan.server.core INFO [0m Loading extensions for schema 'vnf_instance'
04:22:24.838 gohan.server.core INFO [0m Loading extensions for schema 'gw_interface'
04:22:25.699 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_plan'
04:22:26.730 gohan.server.core INFO [0m Loading extensions for schema 'ese_device'
04:22:27.501 gohan.server.core INFO [0m Loading extensions for schema 'interdc_interface'
04:22:28.327 gohan.server.core INFO [0m Loading extensions for schema 'port'
04:22:29.192 gohan.server.core INFO [0m Loading extensions for schema 'interdc_service'
04:22:30.073 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_syslog_server'
04:22:30.906 gohan.server.core INFO [0m Loading extensions for schema 'billing_resource'
04:22:31.936 gohan.server.core INFO [0m Loading extensions for schema 'location'
04:22:32.680 gohan.server.core INFO [0m Loading extensions for schema 'physical_port'
04:22:33.367 gohan.server.core INFO [0m Loading extensions for schema 'qos_option'
04:22:34.141 gohan.server.core INFO [0m Loading extensions for schema 'aws_interface'
04:22:35.019 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_conf'
04:22:35.752 gohan.server.core INFO [0m Loading extensions for schema 'vpn_interface'
04:22:36.508 gohan.server.core INFO [0m Loading extensions for schema 'event'
04:22:37.318 gohan.server.core INFO [0m Loading extensions for schema 'local_subnet'
04:22:38.012 gohan.server.core INFO [0m Loading extensions for schema 'worker_data'
04:22:38.688 gohan.server.core INFO [0m Loading extensions for schema 'aws_service'
04:22:39.511 gohan.server.core INFO [0m Loading extensions for schema 'common_function_pool'
04:22:40.327 gohan.server.core INFO [0m Loading extensions for schema 'nat_ip_pool'
04:22:41.116 gohan.server.core INFO [0m Loading extensions for schema 'colocation_space'
04:22:41.861 gohan.server.core INFO [0m Loading extensions for schema 'internet_gateway'
04:22:42.610 gohan.server.core INFO [0m Loading extensions for schema 'static_route'
04:22:43.608 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer'
04:22:44.252 gohan.server.core INFO [0m Loading extensions for schema 'public_ip_pool'
04:22:44.979 gohan.server.core INFO [0m Loading extensions for schema 'firewall'
04:22:45.715 gohan.server.core INFO [0m Loading extensions for schema 'ese_logical_port'
04:22:46.437 gohan.server.core INFO [0m Loading extensions for schema 'suspended_public_ip'
04:22:47.155 gohan.server.core INFO [0m Loading extensions for schema 'load_balancer_interface'
04:22:47.854 gohan.server.core INFO [0m Loading extensions for schema 'billing_usage'
04:22:48.598 gohan.server.core INFO [0m Loading extensions for schema 'tenant_connection'
04:22:49.361 gohan.server.core INFO [0m Loading extensions for schema 'quota'
04:22:50.364 gohan.server.core INFO [0m Loading extensions for schema 'hosting_physical_link'
04:22:51.065 gohan.server INFO [0m Gohan timeout value: 45s
04:22:51.065 gohan.server INFO [0m etcd servers: [http://etcd-server:2379]
04:22:51.065 gohan.server INFO [0m Static file serving from /etc/gohan/
[36m04:22:51.065 gohan.server DEBUG [0m [Initializing Routes]
[36m04:22:51.066 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_interfaces
[36m04:22:51.066 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_interfaces/:id
[36m04:22:51.066 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_interfaces
[36m04:22:51.066 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_interfaces/:id
[36m04:22:51.066 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_devices
[36m04:22:51.066 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_devices/:id
[36m04:22:51.066 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices
[36m04:22:51.066 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:id
[36m04:22:51.067 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_services
[36m04:22:51.067 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_services/:id
[36m04:22:51.067 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_services
[36m04:22:51.067 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_services/:id
[36m04:22:51.067 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_syslog_servers
[36m04:22:51.067 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_syslog_servers/:id
[36m04:22:51.067 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers
[36m04:22:51.067 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_syslog_servers/:id
[36m04:22:51.068 gohan.server DEBUG [0m [Plural Path] /v2.0/ports
[36m04:22:51.068 gohan.server DEBUG [0m [Singular Path] /v2.0/ports/:id
[36m04:22:51.068 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ports
[36m04:22:51.068 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ports/:id
[36m04:22:51.069 gohan.server DEBUG [0m [Plural Path] /v2.0/physical_ports
[36m04:22:51.069 gohan.server DEBUG [0m [Singular Path] /v2.0/physical_ports/:id
[36m04:22:51.069 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/physical_ports
[36m04:22:51.069 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/physical_ports/:id
[36m04:22:51.069 gohan.server DEBUG [0m [Plural Path] /v2.0/qos_options
[36m04:22:51.069 gohan.server DEBUG [0m [Singular Path] /v2.0/qos_options/:id
[36m04:22:51.069 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/qos_options
[36m04:22:51.069 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/qos_options/:id
[36m04:22:51.070 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_interfaces
[36m04:22:51.070 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_interfaces/:id
[36m04:22:51.070 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_interfaces
[36m04:22:51.070 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_interfaces/:id
[36m04:22:51.071 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_confs
[36m04:22:51.071 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_confs/:id
[36m04:22:51.071 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_confs
[36m04:22:51.071 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_confs/:id
[36m04:22:51.071 gohan.server DEBUG [0m [Plural Path] /v2.0/billing_resources
[36m04:22:51.071 gohan.server DEBUG [0m [Singular Path] /v2.0/billing_resources/:id
[36m04:22:51.071 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/billing_resources
[36m04:22:51.071 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/billing_resources/:id
[36m04:22:51.072 gohan.server DEBUG [0m [Plural Path] /v2.0/locations
[36m04:22:51.072 gohan.server DEBUG [0m [Singular Path] /v2.0/locations/:id
[36m04:22:51.072 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/locations
[36m04:22:51.072 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/locations/:id
[36m04:22:51.073 gohan.server DEBUG [0m [Plural Path] /v2.0/local_subnets
[36m04:22:51.073 gohan.server DEBUG [0m [Singular Path] /v2.0/local_subnets/:id
[36m04:22:51.073 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets
[36m04:22:51.073 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:ese_logical_port/local_subnets/:id
[36m04:22:51.073 gohan.server DEBUG [0m [Plural Path] /v2.0/worker_datas
[36m04:22:51.073 gohan.server DEBUG [0m [Singular Path] /v2.0/worker_datas/:id
[36m04:22:51.073 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/worker_datas
[36m04:22:51.073 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/worker_datas/:id
[36m04:22:51.074 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_services
[36m04:22:51.074 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_services/:id
[36m04:22:51.074 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_services
[36m04:22:51.074 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_services/:id
[36m04:22:51.074 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_pools
[36m04:22:51.074 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_pools/:id
[36m04:22:51.074 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_pools
[36m04:22:51.075 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_pools/:id
[36m04:22:51.075 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_interfaces
[36m04:22:51.075 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_interfaces/:id
[36m04:22:51.076 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_interfaces
[36m04:22:51.076 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_interfaces/:id
[36m04:22:51.076 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/events
[36m04:22:51.076 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/events/:id
[36m04:22:51.076 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/events
[36m04:22:51.076 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/events/:id
[36m04:22:51.077 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_spaces
[36m04:22:51.077 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_spaces/:id
[36m04:22:51.077 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_spaces
[36m04:22:51.077 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_spaces/:id
[36m04:22:51.077 gohan.server DEBUG [0m [Plural Path] /v2.0/nat_ip_pools
[36m04:22:51.077 gohan.server DEBUG [0m [Singular Path] /v2.0/nat_ip_pools/:id
[36m04:22:51.077 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/nat_ip_pools
[36m04:22:51.077 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/nat_ip_pools/:id
[36m04:22:51.078 gohan.server DEBUG [0m [Plural Path] /v2.0/static_routes
[36m04:22:51.078 gohan.server DEBUG [0m [Singular Path] /v2.0/static_routes/:id
[36m04:22:51.078 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/static_routes
[36m04:22:51.078 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/static_routes/:id
[36m04:22:51.079 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancers
[36m04:22:51.079 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancers/:id
[36m04:22:51.079 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers
[36m04:22:51.079 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:id
[36m04:22:51.079 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_gateways
[36m04:22:51.079 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_gateways/:id
[36m04:22:51.079 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_gateways
[36m04:22:51.079 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_gateways/:id
[36m04:22:51.080 gohan.server DEBUG [0m [Plural Path] /v2.0/firewalls
[36m04:22:51.080 gohan.server DEBUG [0m [Singular Path] /v2.0/firewalls/:id
[36m04:22:51.080 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls
[36m04:22:51.080 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:id
[36m04:22:51.080 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ip_pools
[36m04:22:51.081 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ip_pools/:id
[36m04:22:51.081 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ip_pools
[36m04:22:51.081 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ip_pools/:id
[36m04:22:51.081 gohan.server DEBUG [0m [Plural Path] /v2.0/suspended_public_ips
[36m04:22:51.081 gohan.server DEBUG [0m [Singular Path] /v2.0/suspended_public_ips/:id
[36m04:22:51.081 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/suspended_public_ips
[36m04:22:51.081 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/suspended_public_ips/:id
[36m04:22:51.082 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_interfaces
[36m04:22:51.082 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_interfaces/:id
[36m04:22:51.082 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces
[36m04:22:51.082 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancers/:load_balancer/load_balancer_interfaces/:id
[36m04:22:51.082 gohan.server DEBUG [0m [Plural Path] /common/v1.0/usage
[36m04:22:51.082 gohan.server DEBUG [0m [Singular Path] /common/v1.0/usage/:id
[36m04:22:51.082 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants/:tenant/usage
[36m04:22:51.083 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:tenant/usage/:id
[36m04:22:51.083 gohan.server DEBUG [0m [Plural Path] /v2.0/tenant_connections
[36m04:22:51.083 gohan.server DEBUG [0m [Singular Path] /v2.0/tenant_connections/:id
[36m04:22:51.083 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/tenant_connections
[36m04:22:51.083 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/tenant_connections/:id
[36m04:22:51.084 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_logical_ports
[36m04:22:51.084 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_logical_ports/:id
[36m04:22:51.084 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports
[36m04:22:51.084 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:ese_physical_port/ese_logical_ports/:id
[36m04:22:51.084 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_physical_links
[36m04:22:51.084 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_physical_links/:id
[36m04:22:51.085 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_physical_links
[36m04:22:51.085 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_physical_links/:id
[36m04:22:51.085 gohan.server DEBUG [0m [Plural Path] /v2.0/quotas
[36m04:22:51.085 gohan.server DEBUG [0m [Singular Path] /v2.0/quotas/:id
[36m04:22:51.085 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/quotas
[36m04:22:51.085 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/quotas/:id
[36m04:22:51.086 gohan.server DEBUG [0m [Plural Path] /v2.0/interdc_gateways
[36m04:22:51.086 gohan.server DEBUG [0m [Singular Path] /v2.0/interdc_gateways/:id
[36m04:22:51.086 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/interdc_gateways
[36m04:22:51.086 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/interdc_gateways/:id
[36m04:22:51.086 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_physical_links
[36m04:22:51.086 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_physical_links/:id
[36m04:22:51.086 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_physical_links
[36m04:22:51.086 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_physical_links/:id
[36m04:22:51.087 gohan.server DEBUG [0m [Plural Path] /v2.0/common_functions
[36m04:22:51.087 gohan.server DEBUG [0m [Singular Path] /v2.0/common_functions/:id
[36m04:22:51.087 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_functions
[36m04:22:51.087 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_functions/:id
[36m04:22:51.087 gohan.server DEBUG [0m [Plural Path] /v2.0/reserve_addresses
[36m04:22:51.087 gohan.server DEBUG [0m [Singular Path] /v2.0/reserve_addresses/:id
[36m04:22:51.087 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/reserve_addresses
[36m04:22:51.087 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/reserve_addresses/:id
[36m04:22:51.088 gohan.server DEBUG [0m [Plural Path] /v2.0/heat_templates
[36m04:22:51.088 gohan.server DEBUG [0m [Singular Path] /v2.0/heat_templates/:id
[36m04:22:51.088 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/heat_templates
[36m04:22:51.088 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/heat_templates/:id
[36m04:22:51.088 gohan.server DEBUG [0m [Plural Path] /v2.0/common_function_gateways
[36m04:22:51.089 gohan.server DEBUG [0m [Singular Path] /v2.0/common_function_gateways/:id
[36m04:22:51.089 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/common_function_gateways
[36m04:22:51.089 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/common_function_gateways/:id
[36m04:22:51.089 gohan.server DEBUG [0m [Plural Path] /v2.0/public_ips
[36m04:22:51.089 gohan.server DEBUG [0m [Singular Path] /v2.0/public_ips/:id
[36m04:22:51.089 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/public_ips
[36m04:22:51.089 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/public_ips/:id
[36m04:22:51.090 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_interfaces
[36m04:22:51.090 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_interfaces/:id
[36m04:22:51.090 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces
[36m04:22:51.090 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewalls/:firewall/firewall_interfaces/:id
[36m04:22:51.090 gohan.server DEBUG [0m [Plural Path] /v2.0/colocation_logical_links
[36m04:22:51.090 gohan.server DEBUG [0m [Singular Path] /v2.0/colocation_logical_links/:id
[36m04:22:51.090 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/colocation_logical_links
[36m04:22:51.090 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/colocation_logical_links/:id
[36m04:22:51.091 gohan.server DEBUG [0m [Plural Path] /v2.0/subnets
[36m04:22:51.091 gohan.server DEBUG [0m [Singular Path] /v2.0/subnets/:id
[36m04:22:51.091 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/subnets
[36m04:22:51.091 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/subnets/:id
[36m04:22:51.091 gohan.server DEBUG [0m [Plural Path] /v2.0/ese_physical_ports
[36m04:22:51.091 gohan.server DEBUG [0m [Singular Path] /v2.0/ese_physical_ports/:id
[36m04:22:51.091 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports
[36m04:22:51.091 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ese_devices/:ese_device/ese_physical_ports/:id
[36m04:22:51.092 gohan.server DEBUG [0m [Plural Path] /v2.0/er_physical_interfaces
[36m04:22:51.092 gohan.server DEBUG [0m [Singular Path] /v2.0/er_physical_interfaces/:id
[36m04:22:51.092 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/er_physical_interfaces
[36m04:22:51.092 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/er_physical_interfaces/:id
[36m04:22:51.092 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_interfaces
[36m04:22:51.093 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_interfaces/:id
[36m04:22:51.093 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_interfaces
[36m04:22:51.093 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_interfaces/:id
[36m04:22:51.093 gohan.server DEBUG [0m [Plural Path] /v1.0/monitoring
[36m04:22:51.093 gohan.server DEBUG [0m [Singular Path] /v1.0/monitoring/:id
[36m04:22:51.093 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/monitoring
[36m04:22:51.093 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/monitoring/:id
[36m04:22:51.094 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/namespaces
[36m04:22:51.094 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/namespaces/:id
[36m04:22:51.094 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/namespaces
[36m04:22:51.094 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/namespaces/:id
[36m04:22:51.094 gohan.server DEBUG [0m [Plural Path] /common/v1.0/tenants
[36m04:22:51.094 gohan.server DEBUG [0m [Singular Path] /common/v1.0/tenants/:id
[36m04:22:51.094 gohan.server DEBUG [0m [Plural Path With Parents] /common/v1.0/tenants
[36m04:22:51.094 gohan.server DEBUG [0m [Singular Path With Parents] /common/v1.0/tenants/:id
[36m04:22:51.095 gohan.server DEBUG [0m [Plural Path] /v2.0/edge_routers
[36m04:22:51.095 gohan.server DEBUG [0m [Singular Path] /v2.0/edge_routers/:id
[36m04:22:51.095 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/edge_routers
[36m04:22:51.095 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/edge_routers/:id
[36m04:22:51.095 gohan.server DEBUG [0m [Plural Path] /v2.0/ha_routers
[36m04:22:51.095 gohan.server DEBUG [0m [Singular Path] /v2.0/ha_routers/:id
[36m04:22:51.095 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/ha_routers
[36m04:22:51.095 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/ha_routers/:id
[36m04:22:51.096 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_gateways
[36m04:22:51.096 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_gateways/:id
[36m04:22:51.096 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_gateways
[36m04:22:51.096 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_gateways/:id
[36m04:22:51.097 gohan.server DEBUG [0m [Plural Path] /v2.0/aws_gateways
[36m04:22:51.097 gohan.server DEBUG [0m [Singular Path] /v2.0/aws_gateways/:id
[36m04:22:51.097 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/aws_gateways
[36m04:22:51.097 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/aws_gateways/:id
[36m04:22:51.098 gohan.server DEBUG [0m [Plural Path] /v1.0/resource_mappings
[36m04:22:51.098 gohan.server DEBUG [0m [Singular Path] /v1.0/resource_mappings/:id
[36m04:22:51.098 gohan.server DEBUG [0m [Plural Path With Parents] /v1.0/resource_mappings
[36m04:22:51.098 gohan.server DEBUG [0m [Singular Path With Parents] /v1.0/resource_mappings/:id
[36m04:22:51.098 gohan.server DEBUG [0m [Plural Path] /v2.0/networks
[36m04:22:51.099 gohan.server DEBUG [0m [Singular Path] /v2.0/networks/:id
[36m04:22:51.099 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/networks
[36m04:22:51.099 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/networks/:id
[36m04:22:51.099 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/extensions
[36m04:22:51.099 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/extensions/:id
[36m04:22:51.099 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/extensions
[36m04:22:51.099 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/extensions/:id
[36m04:22:51.100 gohan.server DEBUG [0m [Plural Path] /v2.0/internet_services
[36m04:22:51.100 gohan.server DEBUG [0m [Singular Path] /v2.0/internet_services/:id
[36m04:22:51.100 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/internet_services
[36m04:22:51.100 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/internet_services/:id
[36m04:22:51.100 gohan.server DEBUG [0m [Plural Path] /v2.0/vpn_services
[36m04:22:51.100 gohan.server DEBUG [0m [Singular Path] /v2.0/vpn_services/:id
[36m04:22:51.100 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vpn_services
[36m04:22:51.100 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vpn_services/:id
[36m04:22:51.101 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_templates
[36m04:22:51.101 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_templates/:id
[36m04:22:51.101 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_templates
[36m04:22:51.101 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_templates/:id
[36m04:22:51.101 gohan.server DEBUG [0m [Plural Path] /v2.0/hosting_logical_links
[36m04:22:51.102 gohan.server DEBUG [0m [Singular Path] /v2.0/hosting_logical_links/:id
[36m04:22:51.102 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/hosting_logical_links
[36m04:22:51.102 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/hosting_logical_links/:id
[36m04:22:51.102 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/policies
[36m04:22:51.102 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/policies/:id
[36m04:22:51.102 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/policies
[36m04:22:51.102 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/policies/:id
[36m04:22:51.103 gohan.server DEBUG [0m [Plural Path] /v2.0/servers
[36m04:22:51.103 gohan.server DEBUG [0m [Singular Path] /v2.0/servers/:id
[36m04:22:51.103 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/servers
[36m04:22:51.103 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/servers/:id
[36m04:22:51.103 gohan.server DEBUG [0m [Plural Path] /v2.0/extensions
[36m04:22:51.103 gohan.server DEBUG [0m [Singular Path] /v2.0/extensions/:id
[36m04:22:51.103 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/extensions
[36m04:22:51.103 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/extensions/:id
[36m04:22:51.104 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_plans
[36m04:22:51.104 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_plans/:id
[36m04:22:51.104 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_plans
[36m04:22:51.104 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_plans/:id
[36m04:22:51.104 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_instances
[36m04:22:51.104 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_instances/:id
[36m04:22:51.104 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances
[36m04:22:51.105 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:id
[36m04:22:51.105 gohan.server DEBUG [0m [Plural Path] /v2.0/vnf_interfaces
[36m04:22:51.105 gohan.server DEBUG [0m [Singular Path] /v2.0/vnf_interfaces/:id
[36m04:22:51.105 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces
[36m04:22:51.105 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/vnf_instances/:vnf_instance/vnf_interfaces/:id
[36m04:22:51.106 gohan.server DEBUG [0m [Plural Path] /v2.0/firewall_plans
[36m04:22:51.106 gohan.server DEBUG [0m [Singular Path] /v2.0/firewall_plans/:id
[36m04:22:51.106 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/firewall_plans
[36m04:22:51.106 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/firewall_plans/:id
[36m04:22:51.106 gohan.server DEBUG [0m [Plural Path] /gohan/v0.1/schemas
[36m04:22:51.106 gohan.server DEBUG [0m [Singular Path] /gohan/v0.1/schemas/:id
[36m04:22:51.106 gohan.server DEBUG [0m [Plural Path With Parents] /gohan/v0.1/schemas
[36m04:22:51.106 gohan.server DEBUG [0m [Singular Path With Parents] /gohan/v0.1/schemas/:id
[36m04:22:51.107 gohan.server DEBUG [0m [Plural Path] /v2.0/load_balancer_plans
[36m04:22:51.107 gohan.server DEBUG [0m [Singular Path] /v2.0/load_balancer_plans/:id
[36m04:22:51.107 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/load_balancer_plans
[36m04:22:51.107 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/load_balancer_plans/:id
[36m04:22:51.107 gohan.server DEBUG [0m [Plural Path] /v2.0/gw_interfaces
[36m04:22:51.107 gohan.server DEBUG [0m [Singular Path] /v2.0/gw_interfaces/:id
[36m04:22:51.107 gohan.server DEBUG [0m [Plural Path With Parents] /v2.0/gw_interfaces
[36m04:22:51.107 gohan.server DEBUG [0m [Singular Path With Parents] /v2.0/gw_interfaces/:id
04:22:51.110 gohan.server INFO [0m Gohan no jikan desuyo (It's time for dinner!) 
04:22:51.110 gohan.server INFO [0m Starting Gohan Server...
04:22:51.112 gohan.server INFO [0m Started CRON process
[36m04:22:51.114 gohan.server DEBUG [0m State Watcher starts watch
[36m04:22:51.114 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:22:51.120 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [8]
[31m04:22:51.120 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [8]
04:22:51.121 gohan.sync INFO [0m Locked gohan/cluster/sync with index 0
[31m04:22:51.121 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/state) [8]
[31m04:22:51.121 gohan.server ERROR [0m sync watch error: 100: Key not found (/state) [8]
[36m04:22:51.132 gohan.server.sync DEBUG [0m Processing event 1 - create
04:22:51.132 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/network
[36m04:22:51.140 gohan.server.sync DEBUG [0m Deleting event 1
04:22:51.142 gohan.db.sql INFO [0m Executing SQL query in transaction '34056e70-8076-48cd-9610-c514ce05658f': 'DELETE FROM `events` WHERE id = 1'
[36m04:22:51.142 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.159 gohan.server.sync DEBUG [0m Processing event 2 - create
04:22:51.159 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/subnet
[36m04:22:51.162 gohan.server.sync DEBUG [0m Deleting event 2
04:22:51.163 gohan.db.sql INFO [0m Executing SQL query in transaction 'b275528a-0e25-4bc5-a0e0-0416dd33b292': 'DELETE FROM `events` WHERE id = 2'
[36m04:22:51.164 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.175 gohan.server.sync DEBUG [0m Processing event 3 - create
04:22:51.175 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/port
[36m04:22:51.179 gohan.server.sync DEBUG [0m Deleting event 3
04:22:51.180 gohan.db.sql INFO [0m Executing SQL query in transaction 'bd0a10c0-ba06-40fc-a960-fb93048278b7': 'DELETE FROM `events` WHERE id = 3'
[36m04:22:51.181 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.197 gohan.server.sync DEBUG [0m Processing event 4 - create
04:22:51.197 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_existing
[36m04:22:51.200 gohan.server.sync DEBUG [0m Deleting event 4
04:22:51.201 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef95d842-d1cb-4bef-b6aa-3096f923a16c': 'DELETE FROM `events` WHERE id = 4'
[36m04:22:51.201 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.221 gohan.server.sync DEBUG [0m Processing event 5 - create
04:22:51.222 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_new
[36m04:22:51.223 gohan.server.sync DEBUG [0m Deleting event 5
04:22:51.224 gohan.db.sql INFO [0m Executing SQL query in transaction '5f5e0841-e326-4005-a452-f2b6bcde681a': 'DELETE FROM `events` WHERE id = 5'
[36m04:22:51.224 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.242 gohan.server.sync DEBUG [0m Processing event 6 - create
04:22:51.242 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_logical_port
[36m04:22:51.245 gohan.server.sync DEBUG [0m Deleting event 6
04:22:51.246 gohan.db.sql INFO [0m Executing SQL query in transaction '14a956a9-7424-45f1-9bda-3cf5d8406d7f': 'DELETE FROM `events` WHERE id = 6'
[36m04:22:51.246 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.264 gohan.server.sync DEBUG [0m Processing event 7 - create
04:22:51.264 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/local_subnet
[36m04:22:51.267 gohan.server.sync DEBUG [0m Deleting event 7
04:22:51.268 gohan.db.sql INFO [0m Executing SQL query in transaction '4264516e-b99a-47e1-92da-edbcb3832719': 'DELETE FROM `events` WHERE id = 7'
[36m04:22:51.269 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.285 gohan.server.sync DEBUG [0m Processing event 8 - create
04:22:51.285 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_existing
[36m04:22:51.289 gohan.server.sync DEBUG [0m Deleting event 8
04:22:51.289 gohan.db.sql INFO [0m Executing SQL query in transaction '7379773b-6236-4745-ac16-30a80381ad2e': 'DELETE FROM `events` WHERE id = 8'
[36m04:22:51.290 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.308 gohan.server.sync DEBUG [0m Processing event 9 - create
04:22:51.308 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_new
[36m04:22:51.310 gohan.server.sync DEBUG [0m Deleting event 9
04:22:51.313 gohan.db.sql INFO [0m Executing SQL query in transaction '330d809b-3cb4-458f-b135-6937196dc341': 'DELETE FROM `events` WHERE id = 9'
[36m04:22:51.313 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.331 gohan.server.sync DEBUG [0m Processing event 10 - create
04:22:51.331 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/network_monitoring
[36m04:22:51.333 gohan.server.sync DEBUG [0m Deleting event 10
04:22:51.335 gohan.db.sql INFO [0m Executing SQL query in transaction 'a98aac93-bc5a-44eb-b42b-278923e660da': 'DELETE FROM `events` WHERE id = 10'
[36m04:22:51.335 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.351 gohan.server.sync DEBUG [0m Processing event 11 - create
04:22:51.352 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/port_monitoring
[36m04:22:51.354 gohan.server.sync DEBUG [0m Deleting event 11
04:22:51.356 gohan.db.sql INFO [0m Executing SQL query in transaction 'de33d47e-c27e-4656-b721-200d2cd46e20': 'DELETE FROM `events` WHERE id = 11'
[36m04:22:51.356 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.373 gohan.server.sync DEBUG [0m Processing event 12 - create
04:22:51.373 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_physical_port_monitoring
[36m04:22:51.377 gohan.server.sync DEBUG [0m Deleting event 12
04:22:51.378 gohan.db.sql INFO [0m Executing SQL query in transaction '1e6235c6-8f83-4285-83cc-9fb163112ff6': 'DELETE FROM `events` WHERE id = 12'
[36m04:22:51.378 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.389 gohan.server.sync DEBUG [0m Processing event 13 - create
04:22:51.389 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_logical_port_monitoring
[36m04:22:51.393 gohan.server.sync DEBUG [0m Deleting event 13
04:22:51.394 gohan.db.sql INFO [0m Executing SQL query in transaction 'ca5d437c-db4b-4bfa-bc9f-20e9f0ced737': 'DELETE FROM `events` WHERE id = 13'
[36m04:22:51.395 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.406 gohan.server.sync DEBUG [0m Processing event 14 - create
04:22:51.406 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ese_device_monitoring
[36m04:22:51.409 gohan.server.sync DEBUG [0m Deleting event 14
04:22:51.410 gohan.db.sql INFO [0m Executing SQL query in transaction '41dda701-2fa4-45b0-b7ef-45cc4dc5c8fc': 'DELETE FROM `events` WHERE id = 14'
[36m04:22:51.410 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.428 gohan.server.sync DEBUG [0m Processing event 15 - create
04:22:51.428 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/edge_router_monitoring
[36m04:22:51.431 gohan.server.sync DEBUG [0m Deleting event 15
04:22:51.432 gohan.db.sql INFO [0m Executing SQL query in transaction '0da40b49-f8d9-4e2f-ba6c-63b23ae8cdab': 'DELETE FROM `events` WHERE id = 15'
[36m04:22:51.433 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.456 gohan.server.sync DEBUG [0m Processing event 16 - create
04:22:51.456 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/er_physical_interface_monitoring
[36m04:22:51.457 gohan.server.sync DEBUG [0m Deleting event 16
04:22:51.461 gohan.db.sql INFO [0m Executing SQL query in transaction 'bccad8d9-4fdc-49ed-ba04-6e2072769a1d': 'DELETE FROM `events` WHERE id = 16'
[36m04:22:51.461 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.470 gohan.server.sync DEBUG [0m Processing event 17 - create
04:22:51.470 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ha_router_monitoring
[36m04:22:51.471 gohan.server.sync DEBUG [0m Deleting event 17
04:22:51.475 gohan.db.sql INFO [0m Executing SQL query in transaction 'dd27e32e-cbc9-438e-9ebc-666c49093558': 'DELETE FROM `events` WHERE id = 17'
[36m04:22:51.475 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.486 gohan.server.sync DEBUG [0m Processing event 18 - create
04:22:51.486 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/ha_interface_monitoring
[36m04:22:51.487 gohan.server.sync DEBUG [0m Deleting event 18
04:22:51.488 gohan.db.sql INFO [0m Executing SQL query in transaction 'ca2179d5-9a93-465b-b407-b25b1378641c': 'DELETE FROM `events` WHERE id = 18'
[36m04:22:51.488 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.502 gohan.server.sync DEBUG [0m Processing event 19 - create
04:22:51.502 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/internet_gateway_monitoring
[36m04:22:51.505 gohan.server.sync DEBUG [0m Deleting event 19
04:22:51.506 gohan.db.sql INFO [0m Executing SQL query in transaction '4232af80-d476-4b36-b8a3-150f00a37514': 'DELETE FROM `events` WHERE id = 19'
[36m04:22:51.507 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.528 gohan.server.sync DEBUG [0m Processing event 20 - create
04:22:51.528 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_gateway_monitoring
[36m04:22:51.531 gohan.server.sync DEBUG [0m Deleting event 20
04:22:51.532 gohan.db.sql INFO [0m Executing SQL query in transaction 'efbf227b-b4e8-401b-9d53-bac0b3f9fddd': 'DELETE FROM `events` WHERE id = 20'
[36m04:22:51.532 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.550 gohan.server.sync DEBUG [0m Processing event 21 - create
04:22:51.550 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_gateway_monitoring
[36m04:22:51.551 gohan.server.sync DEBUG [0m Deleting event 21
04:22:51.552 gohan.db.sql INFO [0m Executing SQL query in transaction 'd1ffc4be-d061-4a92-beba-b3a0849e4f5c': 'DELETE FROM `events` WHERE id = 21'
[36m04:22:51.553 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.566 gohan.server.sync DEBUG [0m Processing event 22 - create
04:22:51.566 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_monitoring
[36m04:22:51.568 gohan.server.sync DEBUG [0m Deleting event 22
04:22:51.569 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef5c6dbc-bb97-44e6-9048-cb3e8dc6993c': 'DELETE FROM `events` WHERE id = 22'
[36m04:22:51.570 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.589 gohan.server.sync DEBUG [0m Processing event 23 - create
04:22:51.589 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_interface_monitoring
[36m04:22:51.600 gohan.server.sync DEBUG [0m Deleting event 23
04:22:51.601 gohan.db.sql INFO [0m Executing SQL query in transaction '2008fcc3-7b95-480f-b76e-4556935629c1': 'DELETE FROM `events` WHERE id = 23'
[36m04:22:51.601 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.621 gohan.server.sync DEBUG [0m Processing event 24 - create
04:22:51.621 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_interface_monitoring
[36m04:22:51.626 gohan.server.sync DEBUG [0m Deleting event 24
04:22:51.630 gohan.db.sql INFO [0m Executing SQL query in transaction 'e6b02e20-c929-4205-96ad-58f1e0cca3cc': 'DELETE FROM `events` WHERE id = 24'
[36m04:22:51.631 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.638 gohan.server.sync DEBUG [0m Processing event 25 - create
04:22:51.638 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function_gateway_monitoring
[36m04:22:51.644 gohan.server.sync DEBUG [0m Deleting event 25
04:22:51.645 gohan.db.sql INFO [0m Executing SQL query in transaction 'ab80bfff-95d8-4b6d-a7d4-4ee075b28f34': 'DELETE FROM `events` WHERE id = 25'
[36m04:22:51.645 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.655 gohan.server.sync DEBUG [0m Processing event 26 - create
04:22:51.655 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vnf_instance_monitoring
[36m04:22:51.657 gohan.server.sync DEBUG [0m Deleting event 26
04:22:51.658 gohan.db.sql INFO [0m Executing SQL query in transaction '81f8e352-e0b3-47c1-91a6-8c1f5d2d9224': 'DELETE FROM `events` WHERE id = 26'
[36m04:22:51.658 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.675 gohan.server.sync DEBUG [0m Processing event 27 - create
04:22:51.675 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_monitoring
[36m04:22:51.677 gohan.server.sync DEBUG [0m Deleting event 27
04:22:51.678 gohan.db.sql INFO [0m Executing SQL query in transaction '6a0880ef-72cc-4d64-b167-2aa12f54643d': 'DELETE FROM `events` WHERE id = 27'
[36m04:22:51.678 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.697 gohan.server.sync DEBUG [0m Processing event 28 - create
04:22:51.697 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_interface_monitoring
04:22:51.697 gohan.server INFO [0m New job for cron://cron_purge_billing_resources / 00 02 * * * *
[36m04:22:51.703 gohan.server.sync DEBUG [0m Deleting event 28
04:22:51.704 gohan.db.sql INFO [0m Executing SQL query in transaction '0553152e-2cc7-4577-b3c5-26a8e8d785d4': 'DELETE FROM `events` WHERE id = 28'
[36m04:22:51.705 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.714 gohan.server.sync DEBUG [0m Processing event 29 - create
04:22:51.714 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_monitoring
[36m04:22:51.716 gohan.server.sync DEBUG [0m Deleting event 29
04:22:51.718 gohan.db.sql INFO [0m Executing SQL query in transaction '3f8d91f2-9cb6-4ee5-98ac-e47edeec1775': 'DELETE FROM `events` WHERE id = 29'
[36m04:22:51.718 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.731 gohan.server.sync DEBUG [0m Processing event 30 - create
04:22:51.731 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_interface_monitoring
[36m04:22:51.732 gohan.server.sync DEBUG [0m Deleting event 30
04:22:51.734 gohan.db.sql INFO [0m Executing SQL query in transaction 'f2474426-a5dc-4a93-85bc-4888a2baed23': 'DELETE FROM `events` WHERE id = 30'
[36m04:22:51.734 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.751 gohan.server.sync DEBUG [0m Processing event 31 - create
04:22:51.751 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_gateway_monitoring
[36m04:22:51.754 gohan.server.sync DEBUG [0m Deleting event 31
04:22:51.755 gohan.db.sql INFO [0m Executing SQL query in transaction '352d1c58-a6ba-4122-8b5d-721ea289fb41': 'DELETE FROM `events` WHERE id = 31'
[36m04:22:51.755 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.773 gohan.server.sync DEBUG [0m Processing event 32 - create
04:22:51.773 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_interface_monitoring
[36m04:22:51.775 gohan.server.sync DEBUG [0m Deleting event 32
04:22:51.777 gohan.db.sql INFO [0m Executing SQL query in transaction 'a9946869-4edd-44c3-a7ba-81c07902dc35': 'DELETE FROM `events` WHERE id = 32'
[36m04:22:51.777 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.793 gohan.server.sync DEBUG [0m Processing event 33 - create
04:22:51.793 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/internet_gateway
[36m04:22:51.799 gohan.server.sync DEBUG [0m Deleting event 33
04:22:51.801 gohan.db.sql INFO [0m Executing SQL query in transaction '36894306-0366-41c2-a8b3-36d1d2db6d07': 'DELETE FROM `events` WHERE id = 33'
[36m04:22:51.801 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.811 gohan.server.sync DEBUG [0m Processing event 34 - create
04:22:51.811 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_internet
[36m04:22:51.815 gohan.server.sync DEBUG [0m Deleting event 34
04:22:51.816 gohan.db.sql INFO [0m Executing SQL query in transaction '7163d722-ca36-4252-9fee-0139ff3ce84f': 'DELETE FROM `events` WHERE id = 34'
[36m04:22:51.816 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.831 gohan.server.sync DEBUG [0m Processing event 35 - create
04:22:51.831 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_internet
[36m04:22:51.835 gohan.server.sync DEBUG [0m Deleting event 35
04:22:51.836 gohan.db.sql INFO [0m Executing SQL query in transaction 'b82ee058-ae78-4c09-8d80-0903c395faf2': 'DELETE FROM `events` WHERE id = 35'
[36m04:22:51.837 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.849 gohan.server.sync DEBUG [0m Processing event 36 - create
04:22:51.849 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_internet
[36m04:22:51.853 gohan.server.sync DEBUG [0m Deleting event 36
04:22:51.854 gohan.db.sql INFO [0m Executing SQL query in transaction '5ca19bfd-ecdf-4185-84fa-8ee35b9bc527': 'DELETE FROM `events` WHERE id = 36'
[36m04:22:51.855 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.871 gohan.server.sync DEBUG [0m Processing event 37 - create
04:22:51.871 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/public_ip
[36m04:22:51.874 gohan.server.sync DEBUG [0m Deleting event 37
04:22:51.875 gohan.db.sql INFO [0m Executing SQL query in transaction 'd876b240-8dfc-47b9-9a84-b92cfcc8dd53': 'DELETE FROM `events` WHERE id = 37'
[36m04:22:51.876 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.887 gohan.server.sync DEBUG [0m Processing event 38 - create
04:22:51.887 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_vpn
[36m04:22:51.890 gohan.server.sync DEBUG [0m Deleting event 38
04:22:51.892 gohan.db.sql INFO [0m Executing SQL query in transaction '23c4ea99-188d-47c6-b7e4-55206a3a3081': 'DELETE FROM `events` WHERE id = 38'
[36m04:22:51.892 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.904 gohan.server.sync DEBUG [0m Processing event 39 - create
04:22:51.904 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_gateway
[36m04:22:51.909 gohan.server.sync DEBUG [0m Deleting event 39
04:22:51.910 gohan.db.sql INFO [0m Executing SQL query in transaction '1dc2d722-8fb1-4498-acdc-eb5e099805dd': 'DELETE FROM `events` WHERE id = 39'
[36m04:22:51.910 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.930 gohan.server.sync DEBUG [0m Processing event 40 - create
04:22:51.930 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_vpn
[36m04:22:51.935 gohan.server.sync DEBUG [0m Deleting event 40
04:22:51.937 gohan.db.sql INFO [0m Executing SQL query in transaction 'b6c75b49-d560-4130-8f5f-a47be51ae286': 'DELETE FROM `events` WHERE id = 40'
[36m04:22:51.938 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.951 gohan.server.sync DEBUG [0m Processing event 41 - create
04:22:51.951 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_vpn
[36m04:22:51.955 gohan.server.sync DEBUG [0m Deleting event 41
04:22:51.956 gohan.db.sql INFO [0m Executing SQL query in transaction '8511eae8-59d1-48c2-a175-564c8361bcdb': 'DELETE FROM `events` WHERE id = 41'
[36m04:22:51.956 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.968 gohan.server.sync DEBUG [0m Processing event 42 - create
04:22:51.968 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vpn_interface
[36m04:22:51.975 gohan.server.sync DEBUG [0m Deleting event 42
04:22:51.978 gohan.db.sql INFO [0m Executing SQL query in transaction 'c75d0397-5fef-432c-aca4-82984b5aac17': 'DELETE FROM `events` WHERE id = 42'
[36m04:22:51.979 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:51.990 gohan.server.sync DEBUG [0m Processing event 43 - create
04:22:51.990 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_aws
[36m04:22:51.994 gohan.server.sync DEBUG [0m Deleting event 43
04:22:51.995 gohan.db.sql INFO [0m Executing SQL query in transaction 'ff1914c5-c076-468c-97dc-26d83eec1b56': 'DELETE FROM `events` WHERE id = 43'
[36m04:22:51.997 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.014 gohan.server.sync DEBUG [0m Processing event 44 - create
04:22:52.014 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_gateway
[36m04:22:52.018 gohan.server.sync DEBUG [0m Deleting event 44
04:22:52.019 gohan.db.sql INFO [0m Executing SQL query in transaction '84c1c0c5-00ed-476d-9be1-3a5729f7370f': 'DELETE FROM `events` WHERE id = 44'
[36m04:22:52.020 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.031 gohan.server.sync DEBUG [0m Processing event 45 - create
04:22:52.032 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_aws
[36m04:22:52.035 gohan.server.sync DEBUG [0m Deleting event 45
04:22:52.036 gohan.db.sql INFO [0m Executing SQL query in transaction 'c7ab8596-fe18-444c-8206-7b6ecc40c767': 'DELETE FROM `events` WHERE id = 45'
[36m04:22:52.037 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.048 gohan.server.sync DEBUG [0m Processing event 46 - create
04:22:52.048 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_aws
[36m04:22:52.051 gohan.server.sync DEBUG [0m Deleting event 46
04:22:52.052 gohan.db.sql INFO [0m Executing SQL query in transaction '084e14b5-4b94-49d5-8ef0-f206d986e185': 'DELETE FROM `events` WHERE id = 46'
[36m04:22:52.053 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.066 gohan.server.sync DEBUG [0m Processing event 47 - create
04:22:52.066 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/aws_interface
[36m04:22:52.075 gohan.server.sync DEBUG [0m Deleting event 47
04:22:52.076 gohan.db.sql INFO [0m Executing SQL query in transaction '8082f75f-368f-4e6f-b06f-b78640799e83': 'DELETE FROM `events` WHERE id = 47'
[36m04:22:52.077 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.092 gohan.server.sync DEBUG [0m Processing event 48 - create
04:22:52.092 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function_gateway
[36m04:22:52.096 gohan.server.sync DEBUG [0m Deleting event 48
04:22:52.098 gohan.db.sql INFO [0m Executing SQL query in transaction '8f4fc18d-7447-4824-90b0-7239278452cc': 'DELETE FROM `events` WHERE id = 48'
[36m04:22:52.099 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.104 gohan.server.sync DEBUG [0m Processing event 49 - create
04:22:52.104 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/common_function
[36m04:22:52.108 gohan.server.sync DEBUG [0m Deleting event 49
04:22:52.109 gohan.db.sql INFO [0m Executing SQL query in transaction '13228ecd-340d-4854-b346-deaf6a89790d': 'DELETE FROM `events` WHERE id = 49'
[36m04:22:52.110 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.134 gohan.server.sync DEBUG [0m Processing event 50 - create
04:22:52.134 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/qos_option_interdc
[36m04:22:52.138 gohan.server.sync DEBUG [0m Deleting event 50
04:22:52.140 gohan.db.sql INFO [0m Executing SQL query in transaction 'cecdb6c3-f1bb-48d1-87da-2aab98f8ba6c': 'DELETE FROM `events` WHERE id = 50'
[36m04:22:52.140 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.156 gohan.server.sync DEBUG [0m Processing event 51 - create
04:22:52.156 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_gateway
[36m04:22:52.160 gohan.server.sync DEBUG [0m Deleting event 51
04:22:52.162 gohan.db.sql INFO [0m Executing SQL query in transaction '39ad6c98-e39c-44ca-8902-89550c26c5ec': 'DELETE FROM `events` WHERE id = 51'
[36m04:22:52.162 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.172 gohan.server.sync DEBUG [0m Processing event 52 - create
04:22:52.172 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/interdc_interface
[36m04:22:52.176 gohan.server.sync DEBUG [0m Deleting event 52
04:22:52.177 gohan.db.sql INFO [0m Executing SQL query in transaction '2e8cc0fa-f957-402c-9c8d-e97d6b341f7a': 'DELETE FROM `events` WHERE id = 52'
[36m04:22:52.178 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.193 gohan.server.sync DEBUG [0m Processing event 53 - create
04:22:52.193 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/gw_interface_interdc
[36m04:22:52.195 gohan.server.sync DEBUG [0m Deleting event 53
04:22:52.197 gohan.db.sql INFO [0m Executing SQL query in transaction '8897738a-542a-4978-9c77-86b7f7f42c8c': 'DELETE FROM `events` WHERE id = 53'
[36m04:22:52.197 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.215 gohan.server.sync DEBUG [0m Processing event 54 - create
04:22:52.215 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/static_route_interdc
[36m04:22:52.217 gohan.server.sync DEBUG [0m Deleting event 54
04:22:52.218 gohan.db.sql INFO [0m Executing SQL query in transaction 'b8cc669e-3867-48e2-aea1-7eb5bf15586e': 'DELETE FROM `events` WHERE id = 54'
[36m04:22:52.219 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:22:52.236 gohan.server INFO [0m New job for cron://cron_purge_resource_mappings / 00 03 * * * *
[36m04:22:52.236 gohan.server.sync DEBUG [0m Processing event 55 - create
04:22:52.237 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/quotas/default
[36m04:22:52.238 gohan.server.sync DEBUG [0m Deleting event 55
04:22:52.240 gohan.db.sql INFO [0m Executing SQL query in transaction '8ea9999e-b163-4ccc-93be-bfa6f8509edc': 'DELETE FROM `events` WHERE id = 55'
[36m04:22:52.240 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.253 gohan.server.sync DEBUG [0m Processing event 56 - create
04:22:52.253 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/reserve_addresses/default
[36m04:22:52.254 gohan.server.sync DEBUG [0m Deleting event 56
04:22:52.255 gohan.db.sql INFO [0m Executing SQL query in transaction '7fe455b8-98b6-42a4-b86a-592346c3dcb3': 'DELETE FROM `events` WHERE id = 56'
[36m04:22:52.256 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.273 gohan.server.sync DEBUG [0m Processing event 57 - create
04:22:52.273 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/vnf_instance
[36m04:22:52.275 gohan.server.sync DEBUG [0m Deleting event 57
04:22:52.277 gohan.db.sql INFO [0m Executing SQL query in transaction '79f02648-2b71-4802-9242-d35d81d410e7': 'DELETE FROM `events` WHERE id = 57'
[36m04:22:52.277 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.295 gohan.server.sync DEBUG [0m Processing event 58 - create
04:22:52.295 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/firewall_config
[36m04:22:52.299 gohan.server.sync DEBUG [0m Deleting event 58
04:22:52.299 gohan.db.sql INFO [0m Executing SQL query in transaction '2b35bdf2-2632-4443-948f-457f47741238': 'DELETE FROM `events` WHERE id = 58'
[36m04:22:52.300 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.315 gohan.server.sync DEBUG [0m Processing event 59 - create
04:22:52.315 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_conf
[36m04:22:52.319 gohan.server.sync DEBUG [0m Deleting event 59
04:22:52.320 gohan.db.sql INFO [0m Executing SQL query in transaction 'ba207cd9-4517-421b-aad2-23e4fbf9bef4': 'DELETE FROM `events` WHERE id = 59'
[36m04:22:52.321 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:22:52.333 gohan.server.sync DEBUG [0m Processing event 60 - create
04:22:52.333 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/heat_templates/load_balancer_syslog_server
[36m04:22:52.335 gohan.server.sync DEBUG [0m Deleting event 60
04:22:52.336 gohan.db.sql INFO [0m Executing SQL query in transaction 'bdc6c04d-9c13-42d3-a69a-2fff79665f64': 'DELETE FROM `events` WHERE id = 60'
[36m04:22:52.336 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:22:52.955 gohan.server INFO [0m New job for cron://cron_delete_tenant / 0 */10 * * * *
04:22:53.726 gohan.server INFO [0m New job for cron://tenant_connection_create_cron / */30 * * * * *
04:22:54.681 gohan.server INFO [0m New job for cron://tenant_connection_delete_cron / */30 * * * * *
[36m04:22:56.121 gohan.server DEBUG [0m Monitoring Watcher starts watch
[36m04:22:56.122 gohan.server DEBUG [0m State Watcher starts watch
[31m04:22:56.122 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [70]
[31m04:22:56.122 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [70]
[31m04:22:56.123 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/state) [70]
[31m04:22:56.123 gohan.server ERROR [0m sync watch error: 100: Key not found (/state) [70]
04:23:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:23:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:23:00.120 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.21:55464 data: 
[36m04:23:00.120 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***]]
[36m04:23:00.120 gohan.server.middleware DEBUG [0m Request body: 
04:23:00.191 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.21:55468 data: 
[36m04:23:00.191 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[python-requests/2.9.1] Content-Type:[application/json] Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive]]
[36m04:23:00.191 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:00.422 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:23:00.424 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:23:00.427 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:23:00.506 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:23:00.525 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:23:00.541 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:23:00.554 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[68] Content-Length:[336182]]
[36m04:23:00.554 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:23:00.554 gohan.server.middleware INFO [0m Completed 200 OK in 363.79742ms
[36m04:23:00.560 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:23:00.578 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[68] Content-Length:[336182] Content-Type:[application/json]]
[36m04:23:00.579 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:23:00.579 gohan.server.middleware INFO [0m Completed 200 OK in 458.841889ms
[36m04:23:00.617 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:23:00.619 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:23:00.621 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:23:01.122 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:01.123 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [77]
[31m04:23:01.123 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [77]
[36m04:23:01.123 gohan.server DEBUG [0m State Watcher starts watch
[31m04:23:01.123 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/state) [77]
[31m04:23:01.124 gohan.server ERROR [0m sync watch error: 100: Key not found (/state) [77]
04:23:03.381 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.21:55480 data: 
[36m04:23:03.381 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json]]
[36m04:23:03.381 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:03.471 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:23:03.496 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:23:03.516 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[336182] Content-Type:[application/json] X-Total-Count:[68]]
[36m04:23:03.516 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:23:03.517 gohan.server.middleware INFO [0m Completed 200 OK in 136.187362ms
04:23:03.688 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.21:55488 data: 
[36m04:23:03.688 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip, deflate] Accept:[*/*] X-Auth-Token:[***] Connection:[keep-alive] User-Agent:[python-requests/2.9.1] Content-Type:[application/json]]
[36m04:23:03.688 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:03.762 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:23:03.785 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:23:03.807 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[68] Content-Length:[336182] Content-Type:[application/json]]
[36m04:23:03.807 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:23:03.807 gohan.server.middleware INFO [0m Completed 200 OK in 119.25954ms
[36m04:23:06.123 gohan.server DEBUG [0m Monitoring Watcher starts watch
[36m04:23:06.124 gohan.server DEBUG [0m State Watcher starts watch
[31m04:23:06.124 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [84]
[31m04:23:06.124 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [84]
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state map[]
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state/v2.0 map[]
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas map[]
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state/v2.0/quotas/default map[version:1 error: state:map[worker_state:READ_COMPLETE]]
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses map[]
[33m04:23:06.125 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '//state'
[36m04:23:06.125 gohan.server DEBUG [0m State event update received: get /state/v2.0/reserve_addresses/default map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m04:23:06.125 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses'
[33m04:23:06.125 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/reserve_addresses/default'
[33m04:23:06.126 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0'
[33m04:23:06.126 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas'
[33m04:23:06.126 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/v2.0/quotas/default'
[36m04:23:11.124 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:11.125 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [85]
[31m04:23:11.125 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [85]
04:23:12.834 gohan.server.middleware INFO [0m Started POST /v2.0/ese_devices for client 172.17.0.20:44716 data: 
{
"ese_device": {
"username": "esi",
"password": "password",
"public_ip_address": "10.161.0.34",
"hostname": "QFX-NW02",
"name": "QFX-NW02",
"management_ip_address": "10.161.0.34",
"type": "tor",
"existing": "existing",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:12.835 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[272] Content-Type:[application/json]]
[36m04:23:12.835 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_device": {
"username": "esi",
"password": "password",
"public_ip_address": "10.161.0.34",
"hostname": "QFX-NW02",
"name": "QFX-NW02",
"management_ip_address": "10.161.0.34",
"type": "tor",
"existing": "existing",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:12.945 gohan.server.resources DEBUG [0m Create ese_device with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f username:esi hostname:QFX-NW02 name:QFX-NW02 management_ip_address:10.161.0.34 existing:existing password:password public_ip_address:10.161.0.34 type:tor] started
[36m04:23:12.945 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:23:12.951 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea7735d9-2c01-4bbd-9858-c00ffd4ea5a4': 'INSERT INTO `tenants` (`end_time`,`delete_retries`,`id`,`status`) VALUES (,0,0b576f6f4cbf414f829cd12f008bf08f,active)'
04:23:12.952 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea7735d9-2c01-4bbd-9858-c00ffd4ea5a4': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476592,create,false,"{\"delete_retries\":0,\"end_time\":\"\",\"id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"status\":\"active\"}",1,/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f)'
04:23:12.952 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea7735d9-2c01-4bbd-9858-c00ffd4ea5a4': 'INSERT INTO `ese_devices` (`status`,`description`,`name`,`password`,`management_ip_address`,`id`,`public_ip_address`,`type`,`existing`,`hostname`,`username`,`tenant_id`,`tags`) VALUES (PENDING_CREATE,,QFX-NW02,password,10.161.0.34,a1f745c1-e6b9-45ef-94db-f33b37709fb0,10.161.0.34,tor,existing,QFX-NW02,esi,0b576f6f4cbf414f829cd12f008bf08f,{})'
04:23:12.953 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea7735d9-2c01-4bbd-9858-c00ffd4ea5a4': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"description\":\"\",\"existing\":\"existing\",\"hostname\":\"QFX-NW02\",\"id\":\"a1f745c1-e6b9-45ef-94db-f33b37709fb0\",\"management_ip_address\":\"10.161.0.34\",\"name\":\"QFX-NW02\",\"password\":\"password\",\"public_ip_address\":\"10.161.0.34\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"tor\",\"username\":\"esi\"}",1,/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0,1494476592,create,false)'
[36m04:23:12.963 gohan.server.resources DEBUG [0m Create ese_device completed: map[ese_device:map[existing:existing tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] username:esi hostname:QFX-NW02 name:QFX-NW02 management_ip_address:10.161.0.34 status:PENDING_CREATE description: password:password public_ip_address:10.161.0.34 type:tor id:a1f745c1-e6b9-45ef-94db-f33b37709fb0]]
[36m04:23:12.963 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[432]]
[36m04:23:12.963 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "tor",
    "username": "esi"
  }
}
04:23:12.963 gohan.server.middleware INFO [0m Completed 201 Created in 128.924583ms
[36m04:23:12.966 gohan.server.sync DEBUG [0m Processing event 61 - create
04:23:12.966 gohan.server.sync INFO [0m Setting config with version 1 to /config//common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f
[36m04:23:12.972 gohan.server.sync DEBUG [0m Deleting event 61
04:23:12.973 gohan.db.sql INFO [0m Executing SQL query in transaction 'bfcf4da3-71b0-471b-acf2-0e9b00f8494b': 'DELETE FROM `events` WHERE id = 61'
[36m04:23:12.974 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:12.978 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44724 data: 
[36m04:23:12.978 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:23:12.978 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:12.980 gohan.server DEBUG [0m State event update received: set /state/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f map[error: state:map[worker_state:READ_COMPLETE] version:1]
[33m04:23:12.981 gohan.server.sync WARNING [0m Unhandled error during state update - aborting: State update on unexpected path '/common/v1.0/tenants/0b576f6f4cbf414f829cd12f008bf08f'
[36m04:23:13.020 gohan.server.sync DEBUG [0m Processing event 62 - create
04:23:13.020 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0
[36m04:23:13.030 gohan.server.sync DEBUG [0m Deleting event 62
04:23:13.049 gohan.db.sql INFO [0m Executing SQL query in transaction '0af78c61-53a9-49d9-b1cd-0ce3d642d5b1': 'DELETE FROM `events` WHERE id = 62'
[36m04:23:13.049 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:23:13.498 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:13.528 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[status:PENDING_CREATE management_ip_address:10.161.0.34 tags:map[] username:esi existing:existing tor_agent_names:<nil> id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 public_ip_address:10.161.0.34 password:password tsn_names:<nil> description: location:<nil> hostname:QFX-NW02 flavor:<nil> type:tor name:QFX-NW02 tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:23:13.529 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[526]]
[36m04:23:13.529 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:13.529 gohan.server.middleware INFO [0m Completed 200 OK in 550.764782ms
04:23:14.539 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44764 data: 
[36m04:23:14.539 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:14.539 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:14.619 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:14.621 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[hostname:QFX-NW02 description: location:<nil> id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 public_ip_address:10.161.0.34 type:tor management_ip_address:10.161.0.34 tenant_id:0b576f6f4cbf414f829cd12f008bf08f tor_agent_names:<nil> name:QFX-NW02 password:password tsn_names:<nil> username:esi status:PENDING_CREATE existing:existing flavor:<nil> tags:map[]]]
[36m04:23:14.621 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[526]]
[36m04:23:14.621 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:14.621 gohan.server.middleware INFO [0m Completed 200 OK in 82.745254ms
04:23:15.631 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44770 data: 
[36m04:23:15.631 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:23:15.632 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:15.713 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:15.715 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[username:esi public_ip_address:10.161.0.34 hostname:QFX-NW02 name:QFX-NW02 password:password management_ip_address:10.161.0.34 existing:existing tor_agent_names:<nil> location:<nil> id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 type:tor status:PENDING_CREATE tsn_names:<nil> description: flavor:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[]]]
[36m04:23:15.715 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[526] Content-Type:[application/json]]
[36m04:23:15.715 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:15.716 gohan.server.middleware INFO [0m Completed 200 OK in 84.338581ms
[36m04:23:15.956 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 map[error: state:map[state_monitoring:{"switch": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": ["default-global-system-config", "QFX-NW02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "physical_router", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "dummy", "description": "The name of the physical router.", "output_key": "name"}]] version:1]
04:23:15.956 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 map[error: state:map[heat_outputs:[{"output_value": ["default-global-system-config", "QFX-NW02"], "description": "The FQ name of the physical router.", "output_key": "fq_name"}, {"output_value": "physical_router", "description": "A unique id for the physical router.", "output_key": "id"}, {"output_value": "dummy", "description": "The name of the physical router.", "output_key": "name"}] state_monitoring:{"switch": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:23:15.960 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 with index 114
04:23:16.023 gohan.db.sql INFO [0m Executing SQL query in transaction 'e08ff5b6-bdf6-47a6-9fb2-cab62b1ac5f8': 'UPDATE `ese_devices` SET `flavor` = <nil>, `location` = <nil>, `status` = PENDING_CREATE, `tor_agent_names` = null, `description` = , `type` = tor, `name` = QFX-NW02, `password` = password, `management_ip_address` = 10.161.0.34, `id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `public_ip_address` = 10.161.0.34, `tsn_names` = null, `existing` = existing, `hostname` = QFX-NW02, `username` = esi, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `tags` = {}, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [\"default-global-system-config\", \"QFX-NW02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"physical_router\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"dummy\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","state_monitoring":"{\"switch\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = a1f745c1-e6b9-45ef-94db-f33b37709fb0'
04:23:16.025 gohan.extension.ese_device.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:16.025 gohan.extension.ese_device.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"switch": "ACTIVE"}
04:23:16.026 gohan.db.sql INFO [0m Executing SQL query in transaction 'e08ff5b6-bdf6-47a6-9fb2-cab62b1ac5f8': 'UPDATE `ese_devices` SET `password` = password, `management_ip_address` = 10.161.0.34, `id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `public_ip_address` = 10.161.0.34, `type` = tor, `name` = QFX-NW02, `hostname` = QFX-NW02, `username` = esi, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `tags` = {}, `tsn_names` = null, `existing` = existing, `location` = <nil>, `status` = ACTIVE, `tor_agent_names` = null, `description` = , `flavor` = <nil> WHERE id = a1f745c1-e6b9-45ef-94db-f33b37709fb0'
04:23:16.034 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 with index 114
04:23:16.042 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 already unlocked or not locked
[36m04:23:16.125 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:16.126 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [122]
[31m04:23:16.126 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [122]
04:23:16.726 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44798 data: 
[36m04:23:16.726 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:16.726 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:16.791 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:16.794 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[status:ACTIVE management_ip_address:10.161.0.34 tor_agent_names:<nil> description: password:password name:QFX-NW02 hostname:QFX-NW02 tenant_id:0b576f6f4cbf414f829cd12f008bf08f existing:existing public_ip_address:10.161.0.34 username:esi tags:map[] tsn_names:<nil> location:<nil> flavor:<nil> id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 type:tor]]
[36m04:23:16.794 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:23:16.794 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:16.794 gohan.server.middleware INFO [0m Completed 200 OK in 68.23587ms
04:23:17.041 gohan.server.middleware INFO [0m Started GET /gohan/v0.1/schemas for client 172.17.0.20:44806 data: 
[36m04:23:17.041 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:17.041 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:17.104 gohan.server.resources DEBUG [0m List schema query: map[] started
[36m04:23:17.114 gohan.server.resources DEBUG [0m List schema query: map[] completed
[36m04:23:17.131 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[68] Content-Length:[336182]]
[36m04:23:17.131 gohan.server.middleware DEBUG [0m Response body: {
  "schemas": [
    {
      "description": "The main metaschema",
      "id": "schema",
      "metadata": {
        "type": "metaschema"
      },
      "plural": "schemas",
      "prefix": "/gohan/v0.1/schemas",
      "schema": {
        "additionalProperties": false,
        "properties": {
          "actions": {
            "default": {},
            "description": "Resource actions",
            "patternProperties": {
              ".*": {
                "properties": {
                  "input": {
                    "type": "object"
                  },
                  "output": {
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "permission": [
              "create",
              "update"
            ],
            "title": "Actions",
            "type": [
              "object",
              "null"
            ]
          },
          "description": {
            "default": "",
            "description": "Description",
            "permission": [
              "create",
              "update"
            ],
            "title": "Description",
            "type": "string"
          },
          "id": {
            "description": "Schema ID",
            "permission": [
              "create"
            ],
            "title": "ID",
            "type": "string",
            "unique": true
          },
          "metadata": {
            "default": {},
            "description": "metadata for application developer",
            "format": "yaml",
            "permission": [
              "create",
              "update"
            ],
            "title": "Metadata",
            "type": "object"
          },
          "namespace": {
            "default": "",
            "description": "Namespace the schema belongs to",
            "permission": [
              "create"
            ],
            "title": "Namespace",
            "type": "string"
          },
          "parent": {
            "default": "",
            "description": "Parent of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Parent",
            "type": "string"
          },
          "plural": {
            "description": "Plural of this schema",
            "permission": [
              "create",
              "update"
            ],
            "title": "Plural",
            "type": "string"
          },
          "prefix": {
            "default": "",
            "description": "prefix",
            "permission": [
              "create",
              "update"
            ],
            "title": "Prefix",
            "type": "string"
          },
          "schema": {
            "default": {
              "properties": {
                "id": {
                  "permission": [
                    "create"
                  ],
                  "type": "string"
                }
              },
              "type": "object"
            },
            "description": "The inner metaschema",
            "detail_view": true,
            "permission": [
              "create",
              "update"
            ],
            "properties": {
              "additionalProperties": {
                "type": "boolean"
              },
              "dbColumnsOrder": {
                "items": {
                  "type": "string"
                },
                "title": "Database Column Order",
                "type": "array",
                "uniqueItems": true
              },
              "properties": {
                "patternProperties": {
                  "^.*$": {
                    "additionalProperties": false,
                    "properties": {
                      "additionalProperties": {
                        "title": "Additional properties",
                        "type": "boolean"
                      },
                      "default": {
                        "anyOf": [
                          {
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Default"
                      },
                      "description": {
                        "title": "Description",
                        "type": "string"
                      },
                      "detail_view": {
                        "title": "Detail View Only",
                        "type": "boolean"
                      },
                      "enum": {
                        "minItems": 1,
                        "title": "Enum",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "format": {
                        "title": "format",
                        "type": "string"
                      },
                      "id": {
                        "title": "ID",
                        "type": "string"
                      },
                      "items": {
                        "format": "yaml",
                        "title": "Items",
                        "type": "object"
                      },
                      "pattern": {
                        "format": "regex",
                        "title": "Pattern",
                        "type": "string"
                      },
                      "patternProperties": {
                        "format": "yaml",
                        "title": "Pattern Properties",
                        "type": "object"
                      },
                      "permission": {
                        "items": {
                          "enum": [
                            "create",
                            "update"
                          ],
                          "type": "string"
                        },
                        "title": "Permission",
                        "type": "array"
                      },
                      "properties": {
                        "format": "yaml",
                        "title": "Properties",
                        "type": "object"
                      },
                      "relation": {
                        "title": "Relation",
                        "type": "string"
                      },
                      "relation_property": {
                        "title": "Relation Property",
                        "type": "string"
                      },
                      "required": {
                        "items": {
                          "type": "string"
                        },
                        "title": "Required fields",
                        "type": "array",
                        "uniqueItems": true
                      },
                      "sql": {
                        "title": "SQL type",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      },
                      "type": {
                        "oneOf": [
                          {
                            "enum": [
                              "array",
                              "boolean",
                              "integer",
                              "null",
                              "number",
                              "object",
                 
[Trimmed 328182 bytes]
04:23:17.131 gohan.server.middleware INFO [0m Completed 200 OK in 89.977652ms
04:23:17.178 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44812 data: 
[36m04:23:17.179 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:23:17.179 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:17.250 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:17.253 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[tor_agent_names:<nil> name:QFX-NW02 id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 type:tor tenant_id:0b576f6f4cbf414f829cd12f008bf08f flavor:<nil> location:<nil> status:ACTIVE password:password username:esi existing:existing hostname:QFX-NW02 description: management_ip_address:10.161.0.34 public_ip_address:10.161.0.34 tags:map[] tsn_names:<nil>]]
[36m04:23:17.253 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:23:17.253 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:17.253 gohan.server.middleware INFO [0m Completed 200 OK in 74.428998ms
04:23:17.254 gohan.server.middleware INFO [0m Started GET /v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 for client 172.17.0.20:44818 data: {}
[36m04:23:17.254 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:23:17.254 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:17.321 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 started
[36m04:23:17.323 gohan.server.resources DEBUG [0m Show ese_device a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed: map[ese_device:map[password:password type:tor name:QFX-NW02 status:ACTIVE id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] existing:existing flavor:<nil> tor_agent_names:<nil> management_ip_address:10.161.0.34 public_ip_address:10.161.0.34 hostname:QFX-NW02 username:esi tsn_names:<nil> location:<nil> description:]]
[36m04:23:17.324 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[518]]
[36m04:23:17.324 gohan.server.middleware DEBUG [0m Response body: {
  "ese_device": {
    "description": "",
    "existing": "existing",
    "flavor": null,
    "hostname": "QFX-NW02",
    "id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "location": null,
    "management_ip_address": "10.161.0.34",
    "name": "QFX-NW02",
    "password": "password",
    "public_ip_address": "10.161.0.34",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "tor_agent_names": null,
    "tsn_names": null,
    "type": "tor",
    "username": "esi"
  }
}
04:23:17.324 gohan.server.middleware INFO [0m Completed 200 OK in 69.589942ms
04:23:19.174 gohan.server.middleware INFO [0m Started POST /v2.0/ese_physical_ports for client 172.17.0.20:44838 data: 
{
"ese_physical_port": {
"name": "xe-0/0/3",
"ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:19.174 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[218] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:19.175 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_physical_port": {
"name": "xe-0/0/3",
"ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:19.247 gohan.server.resources DEBUG [0m Create ese_physical_port with data map[name:xe-0/0/3 ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_id: connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:23:19.247 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:19.306 gohan.server.resources DEBUG [0m List ese_device query: map[id:[a1f745c1-e6b9-45ef-94db-f33b37709fb0]] started
[36m04:23:19.308 gohan.server.resources DEBUG [0m List ese_device query: map[id:[a1f745c1-e6b9-45ef-94db-f33b37709fb0]] completed
04:23:19.317 gohan.db.sql INFO [0m Executing SQL query in transaction '8917ccb5-2267-415f-b587-1ea1b75903fc': 'INSERT INTO `ese_physical_ports` (`id`,`connected_port_id`,`tenant_id`,`description`,`tags`,`ese_device_id`,`name`,`status`,`existing`,`connected_port_owner`) VALUES (97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c,,0b576f6f4cbf414f829cd12f008bf08f,,{},a1f745c1-e6b9-45ef-94db-f33b37709fb0,xe-0/0/3,PENDING_CREATE,new,mx_downlink)'
04:23:19.317 gohan.db.sql INFO [0m Executing SQL query in transaction '8917ccb5-2267-415f-b587-1ea1b75903fc': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"connected_port_id\":\"\",\"connected_port_owner\":\"mx_downlink\",\"description\":\"\",\"ese_device_id\":\"a1f745c1-e6b9-45ef-94db-f33b37709fb0\",\"existing\":\"new\",\"id\":\"97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c\",\"name\":\"xe-0/0/3\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c,1494476599)'
[36m04:23:19.333 gohan.server.resources DEBUG [0m Create ese_physical_port completed: map[ese_physical_port:map[description: connected_port_id: id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c existing:new tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE tags:map[] name:xe-0/0/3 ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_owner:mx_downlink]]
[36m04:23:19.333 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:19.333 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:19.333 gohan.server.middleware INFO [0m Completed 201 Created in 159.249764ms
[36m04:23:19.335 gohan.server.sync DEBUG [0m Processing event 63 - create
04:23:19.335 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c
[36m04:23:19.337 gohan.server.sync DEBUG [0m Deleting event 63
04:23:19.339 gohan.db.sql INFO [0m Executing SQL query in transaction 'b2ad9378-b0f4-4083-b287-3dc81793b244': 'DELETE FROM `events` WHERE id = 63'
[36m04:23:19.339 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:19.347 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44848 data: 
[36m04:23:19.347 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:19.347 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:19.434 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:19.436 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 existing:new description: id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c connected_port_id: tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] name:xe-0/0/3 status:PENDING_CREATE connected_port_owner:mx_downlink]]
[36m04:23:19.436 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:19.436 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:19.436 gohan.server.middleware INFO [0m Completed 200 OK in 89.495784ms
04:23:20.447 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44868 data: 
[36m04:23:20.447 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:23:20.447 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:20.512 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:20.514 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c tags:map[] name:xe-0/0/3 status:PENDING_CREATE existing:new connected_port_id: tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_port_owner:mx_downlink description: ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0]]
[36m04:23:20.514 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[385] Content-Type:[application/json]]
[36m04:23:20.514 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:20.514 gohan.server.middleware INFO [0m Completed 200 OK in 67.837022ms
[36m04:23:21.126 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:21.127 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [134]
[31m04:23:21.127 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [134]
04:23:21.528 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44880 data: 
[36m04:23:21.528 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:21.529 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:21.618 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c map[version:1 error: state:map[heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:23:21.618 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c map[error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"}] version:1] started
04:23:21.625 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c with index 149
[36m04:23:21.629 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:21.633 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[status:PENDING_CREATE existing:new connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:xe-0/0/3 tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 description: id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c connected_port_id:]]
[36m04:23:21.636 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:21.636 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:21.636 gohan.server.middleware INFO [0m Completed 200 OK in 108.071806ms
04:23:21.695 gohan.db.sql INFO [0m Executing SQL query in transaction '34fce9b5-31d5-41b5-bdd7-c7616f53f4db': 'UPDATE `ese_physical_ports` SET `name` = xe-0/0/3, `status` = PENDING_CREATE, `existing` = new, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `connected_port_id` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c'
04:23:21.697 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:21.698 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:23:21.700 gohan.db.sql INFO [0m Executing SQL query in transaction '34fce9b5-31d5-41b5-bdd7-c7616f53f4db': 'UPDATE `ese_physical_ports` SET `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `name` = xe-0/0/3, `status` = ACTIVE, `existing` = new, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `connected_port_id` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0 WHERE id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c'
04:23:21.720 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c with index 149
04:23:21.728 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c already unlocked or not locked
04:23:22.647 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44898 data: 
[36m04:23:22.647 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:22.647 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:22.712 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:22.714 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c tenant_id:0b576f6f4cbf414f829cd12f008bf08f existing:new connected_port_owner:mx_downlink connected_port_id: description: tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 name:xe-0/0/3 status:ACTIVE]]
[36m04:23:22.714 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:23:22.714 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:22.715 gohan.server.middleware INFO [0m Completed 200 OK in 67.702702ms
04:23:23.036 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44906 data: 
[36m04:23:23.037 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:23.037 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:23.105 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:23.108 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[status:ACTIVE existing:new connected_port_owner:mx_downlink id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_id: name:xe-0/0/3]]
[36m04:23:23.108 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:23:23.108 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:23.108 gohan.server.middleware INFO [0m Completed 200 OK in 71.736711ms
04:23:23.109 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c for client 172.17.0.20:44912 data: {}
[36m04:23:23.109 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:23:23.109 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:23.177 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c started
[36m04:23:23.179 gohan.server.resources DEBUG [0m Show ese_physical_port 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed: map[ese_physical_port:map[connected_port_id: ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 name:xe-0/0/3 existing:new connected_port_owner:mx_downlink id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE description: tags:map[]]]
[36m04:23:23.179 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[377] Content-Type:[application/json]]
[36m04:23:23.179 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "name": "xe-0/0/3",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:23.180 gohan.server.middleware INFO [0m Completed 200 OK in 70.346801ms
04:23:25.043 gohan.server.middleware INFO [0m Started POST /v2.0/ese_physical_ports for client 172.17.0.20:44936 data: 
{
"ese_physical_port": {
"name": "xe-0/0/4",
"ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:25.043 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[218] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:25.043 gohan.server.middleware DEBUG [0m Request body: 
{
"ese_physical_port": {
"name": "xe-0/0/4",
"ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
"connected_port_id": "",
"connected_port_owner": "mx_downlink",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:25.135 gohan.server.resources DEBUG [0m Create ese_physical_port with data map[name:xe-0/0/4 ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_id: connected_port_owner:mx_downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:23:25.136 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:25.211 gohan.server.resources DEBUG [0m List ese_device query: map[id:[a1f745c1-e6b9-45ef-94db-f33b37709fb0]] started
[36m04:23:25.214 gohan.server.resources DEBUG [0m List ese_device query: map[id:[a1f745c1-e6b9-45ef-94db-f33b37709fb0]] completed
04:23:25.219 gohan.db.sql INFO [0m Executing SQL query in transaction 'fa511504-7c37-4ca6-87e0-ced4e333914c': 'INSERT INTO `ese_physical_ports` (`id`,`connected_port_id`,`tenant_id`,`name`,`status`,`existing`,`connected_port_owner`,`description`,`tags`,`ese_device_id`) VALUES (8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306,,0b576f6f4cbf414f829cd12f008bf08f,xe-0/0/4,PENDING_CREATE,new,mx_downlink,,{},a1f745c1-e6b9-45ef-94db-f33b37709fb0)'
04:23:25.219 gohan.db.sql INFO [0m Executing SQL query in transaction 'fa511504-7c37-4ca6-87e0-ced4e333914c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306,1494476605,create,false,"{\"connected_port_id\":\"\",\"connected_port_owner\":\"mx_downlink\",\"description\":\"\",\"ese_device_id\":\"a1f745c1-e6b9-45ef-94db-f33b37709fb0\",\"existing\":\"new\",\"id\":\"8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306\",\"name\":\"xe-0/0/4\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:23:25.232 gohan.server.resources DEBUG [0m Create ese_physical_port completed: map[ese_physical_port:map[ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_id: connected_port_owner:mx_downlink id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 existing:new name:xe-0/0/4 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE description: tags:map[]]]
[36m04:23:25.232 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[385] Content-Type:[application/json]]
[36m04:23:25.233 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:25.233 gohan.server.middleware INFO [0m Completed 201 Created in 190.325743ms
[36m04:23:25.235 gohan.server.sync DEBUG [0m Processing event 64 - create
04:23:25.236 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306
[36m04:23:25.237 gohan.server.sync DEBUG [0m Deleting event 64
04:23:25.245 gohan.db.sql INFO [0m Executing SQL query in transaction '8c473383-d7fd-4d63-8a78-8ecf1a6d02fb': 'DELETE FROM `events` WHERE id = 64'
[36m04:23:25.247 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:25.250 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:44950 data: 
[36m04:23:25.250 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:25.250 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:25.337 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:25.339 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[connected_port_id: existing:new tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 connected_port_owner:mx_downlink description: ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 name:xe-0/0/4 status:PENDING_CREATE]]
[36m04:23:25.340 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:25.340 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:25.340 gohan.server.middleware INFO [0m Completed 200 OK in 90.274326ms
[36m04:23:26.127 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:26.128 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [168]
[31m04:23:26.128 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [168]
04:23:26.351 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:44970 data: 
[36m04:23:26.351 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:26.352 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:26.440 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:26.443 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE connected_port_owner:mx_downlink description: id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 connected_port_id: existing:new tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 name:xe-0/0/4]]
[36m04:23:26.443 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:26.443 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:26.443 gohan.server.middleware INFO [0m Completed 200 OK in 91.673131ms
04:23:27.456 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:44976 data: 
[36m04:23:27.456 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:27.456 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:27.541 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:27.550 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:xe-0/0/4 status:PENDING_CREATE existing:new description: tags:map[] id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 connected_port_id: ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 connected_port_owner:mx_downlink]]
[36m04:23:27.550 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[385]]
[36m04:23:27.550 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:27.550 gohan.server.middleware INFO [0m Completed 200 OK in 94.26283ms
[36m04:23:27.726 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 map[version:1 error: state:map[heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}] state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:23:27.726 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 map[error: state:map[state_monitoring:{"port": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "dddddddd-dddd-dddd-dddd-dddddddddddd", "description": "A unique id for the physical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailPhysicalInterface' object has no attribute 'pi_uuid'", "description": "The name of the physical interface.", "output_key": "name"}]] version:1] started
04:23:27.738 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 with index 183
04:23:27.815 gohan.db.sql INFO [0m Executing SQL query in transaction '5baf59ea-3123-433c-9fea-ea91c950cb7f': 'UPDATE `ese_physical_ports` SET `id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `connected_port_id` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `name` = xe-0/0/4, `status` = PENDING_CREATE, `existing` = new, ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306'
04:23:27.817 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:27.818 gohan.extension.ese_physical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:23:27.821 gohan.db.sql INFO [0m Executing SQL query in transaction '5baf59ea-3123-433c-9fea-ea91c950cb7f': 'UPDATE `ese_physical_ports` SET `existing` = new, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `name` = xe-0/0/4, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `connected_port_id` = , ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0 WHERE id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306'
04:23:27.850 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 with index 183
04:23:27.857 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 already unlocked or not locked
04:23:28.561 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:45000 data: 
[36m04:23:28.561 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:28.561 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:28.643 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:28.646 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 name:xe-0/0/4 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: status:ACTIVE existing:new connected_port_owner:mx_downlink connected_port_id: id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]]
[36m04:23:28.646 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[377] Content-Type:[application/json]]
[36m04:23:28.646 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:28.646 gohan.server.middleware INFO [0m Completed 200 OK in 85.443384ms
04:23:29.051 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:45008 data: 
[36m04:23:29.051 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:29.051 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:29.128 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:29.132 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[tags:map[] name:xe-0/0/4 existing:new connected_port_id: tenant_id:0b576f6f4cbf414f829cd12f008bf08f description: ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 status:ACTIVE connected_port_owner:mx_downlink id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]]
[36m04:23:29.132 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[377] Content-Type:[application/json]]
[36m04:23:29.132 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:29.132 gohan.server.middleware INFO [0m Completed 200 OK in 81.643905ms
04:23:29.134 gohan.server.middleware INFO [0m Started GET /v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 for client 172.17.0.20:45014 data: {}
[36m04:23:29.134 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:29.135 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:29.209 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 started
[36m04:23:29.212 gohan.server.resources DEBUG [0m Show ese_physical_port 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed: map[ese_physical_port:map[name:xe-0/0/4 status:ACTIVE connected_port_id: tags:map[] ese_device_id:a1f745c1-e6b9-45ef-94db-f33b37709fb0 existing:new connected_port_owner:mx_downlink description: id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:23:29.212 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[377]]
[36m04:23:29.212 gohan.server.middleware DEBUG [0m Response body: {
  "ese_physical_port": {
    "connected_port_id": "",
    "connected_port_owner": "mx_downlink",
    "description": "",
    "ese_device_id": "a1f745c1-e6b9-45ef-94db-f33b37709fb0",
    "existing": "new",
    "id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "name": "xe-0/0/4",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:29.212 gohan.server.middleware INFO [0m Completed 200 OK in 78.023375ms
04:23:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:23:30.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:23:30.150 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:23:30.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:23:30.158 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:23:30.177 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:23:30.179 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:23:30.181 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:23:31.128 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:31.129 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [197]
[31m04:23:31.129 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [197]
04:23:31.316 gohan.server.middleware INFO [0m Started POST /v2.0/edge_routers for client 172.17.0.20:45046 data: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #2",
"ip": "10.79.5.185",
"name": "vMX-router-02",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:31.316 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[232]]
[36m04:23:31.317 gohan.server.middleware DEBUG [0m Request body: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #2",
"ip": "10.79.5.185",
"name": "vMX-router-02",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:31.393 gohan.server.resources DEBUG [0m Create edge_router with data map[ip:10.79.5.185 name:vMX-router-02 login:esi password:esiesi0000 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101 description:MX80 #2] started
[36m04:23:31.393 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:23:31.406 gohan.db.sql INFO [0m Executing SQL query in transaction 'd5a1fde5-75dd-4ad3-8cc3-f5e1d723b6d7': 'INSERT INTO `edge_routers` (`status`,`tenant_id`,`id`,`autonomous_system`,`description`,`name`,`ip`,`password`,`login`,`ssh_port`) VALUES (PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,9b82b55a-551e-4069-ae77-c972e30ab0cc,65101,MX80 #2,vMX-router-02,10.79.5.185,esiesi0000,esi,830)'
04:23:31.407 gohan.db.sql INFO [0m Executing SQL query in transaction 'd5a1fde5-75dd-4ad3-8cc3-f5e1d723b6d7': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc,1494476611,create,false,"{\"autonomous_system\":\"65101\",\"description\":\"MX80 #2\",\"id\":\"9b82b55a-551e-4069-ae77-c972e30ab0cc\",\"ip\":\"10.79.5.185\",\"login\":\"esi\",\"name\":\"vMX-router-02\",\"password\":\"esiesi0000\",\"ssh_port\":830,\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}")'
[36m04:23:31.415 gohan.server.resources DEBUG [0m Create edge_router completed: map[edge_router:map[autonomous_system:65101 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:9b82b55a-551e-4069-ae77-c972e30ab0cc status:PENDING_CREATE description:MX80 #2 ip:10.79.5.185 name:vMX-router-02 login:esi password:esiesi0000 ssh_port:830]]
[36m04:23:31.415 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[349]]
[36m04:23:31.415 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:31.415 gohan.server.middleware INFO [0m Completed 201 Created in 99.037448ms
[36m04:23:31.423 gohan.server.sync DEBUG [0m Processing event 65 - create
04:23:31.423 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc
[36m04:23:31.427 gohan.server.sync DEBUG [0m Deleting event 65
04:23:31.428 gohan.db.sql INFO [0m Executing SQL query in transaction '1ff9da62-4930-4b81-a187-30416836e239': 'DELETE FROM `events` WHERE id = 65'
[36m04:23:31.428 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:31.435 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc for client 172.17.0.20:45054 data: 
[36m04:23:31.435 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:31.435 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:31.526 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc started
[36m04:23:31.528 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc completed: map[edge_router:map[ip:10.79.5.185 id:9b82b55a-551e-4069-ae77-c972e30ab0cc tenant_id:0b576f6f4cbf414f829cd12f008bf08f password:esiesi0000 login:esi ssh_port:830 name:vMX-router-02 autonomous_system:65101 description:MX80 #2 status:PENDING_CREATE]]
[36m04:23:31.529 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[349]]
[36m04:23:31.529 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:31.529 gohan.server.middleware INFO [0m Completed 200 OK in 93.720693ms
[36m04:23:31.572 gohan.server DEBUG [0m State event update received: set /state/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc map[error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:23:31.572 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc map[error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:23:31.586 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc with index 210
04:23:31.643 gohan.db.sql INFO [0m Executing SQL query in transaction 'bcbec9ec-25f1-4a5d-a406-cd65f1d325a3': 'UPDATE `edge_routers` SET `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `autonomous_system` = 65101, `description` = MX80 #2, `name` = vMX-router-02, `ip` = 10.79.5.185, `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 9b82b55a-551e-4069-ae77-c972e30ab0cc'
04:23:31.645 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:31.645 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:23:31.646 gohan.db.sql INFO [0m Executing SQL query in transaction 'bcbec9ec-25f1-4a5d-a406-cd65f1d325a3': 'UPDATE `edge_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `autonomous_system` = 65101, `description` = MX80 #2, `status` = ACTIVE, `ip` = 10.79.5.185, `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `name` = vMX-router-02 WHERE id = 9b82b55a-551e-4069-ae77-c972e30ab0cc'
04:23:31.662 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc with index 210
04:23:31.670 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc already unlocked or not locked
04:23:32.540 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc for client 172.17.0.20:45076 data: 
[36m04:23:32.540 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:32.540 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:32.614 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc started
[36m04:23:32.617 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc completed: map[edge_router:map[autonomous_system:65101 login:esi ssh_port:830 password:esiesi0000 description:MX80 #2 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:9b82b55a-551e-4069-ae77-c972e30ab0cc name:vMX-router-02 ip:10.79.5.185]]
[36m04:23:32.617 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:32.617 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:32.617 gohan.server.middleware INFO [0m Completed 200 OK in 77.458842ms
04:23:32.967 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc for client 172.17.0.20:45084 data: 
[36m04:23:32.967 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:23:32.967 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:33.041 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc started
[36m04:23:33.044 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc completed: map[edge_router:map[autonomous_system:65101 description:MX80 #2 ip:10.79.5.185 login:esi status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:9b82b55a-551e-4069-ae77-c972e30ab0cc name:vMX-router-02 password:esiesi0000 ssh_port:830]]
[36m04:23:33.045 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:33.045 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:33.045 gohan.server.middleware INFO [0m Completed 200 OK in 78.210866ms
04:23:33.046 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc for client 172.17.0.20:45090 data: {}
[36m04:23:33.046 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m04:23:33.046 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:33.130 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc started
[36m04:23:33.132 gohan.server.resources DEBUG [0m Show edge_router 9b82b55a-551e-4069-ae77-c972e30ab0cc completed: map[edge_router:map[description:MX80 #2 name:vMX-router-02 password:esiesi0000 status:ACTIVE id:9b82b55a-551e-4069-ae77-c972e30ab0cc autonomous_system:65101 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f ip:10.79.5.185 login:esi]]
[36m04:23:33.133 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:33.133 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #2",
    "id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "ip": "10.79.5.185",
    "login": "esi",
    "name": "vMX-router-02",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:33.133 gohan.server.middleware INFO [0m Completed 200 OK in 86.655398ms
04:23:33.153 gohan.server.middleware INFO [0m Started POST /v2.0/edge_routers for client 172.17.0.20:45096 data: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #1",
"ip": "10.79.5.184",
"name": "vMX-router-01",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:33.153 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[232] Content-Type:[application/json]]
[36m04:23:33.153 gohan.server.middleware DEBUG [0m Request body: 
{
"edge_router": {
"autonomous_system": "65101",
"description": "MX80 #1",
"ip": "10.79.5.184",
"name": "vMX-router-01",
"login": "esi",
"password": "esiesi0000",
"ssh_port": 830,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:33.228 gohan.server.resources DEBUG [0m Create edge_router with data map[autonomous_system:65101 description:MX80 #1 ip:10.79.5.184 name:vMX-router-01 login:esi password:esiesi0000 ssh_port:830 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:23:33.228 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:23:33.237 gohan.db.sql INFO [0m Executing SQL query in transaction '25ad42ea-ca96-4e91-a6fc-f0864f923314': 'INSERT INTO `edge_routers` (`tenant_id`,`id`,`autonomous_system`,`description`,`status`,`ip`,`password`,`login`,`ssh_port`,`name`) VALUES (0b576f6f4cbf414f829cd12f008bf08f,198b93f2-006e-45b6-96d3-e7ef6f759501,65101,MX80 #1,PENDING_CREATE,10.79.5.184,esiesi0000,esi,830,vMX-router-01)'
04:23:33.238 gohan.db.sql INFO [0m Executing SQL query in transaction '25ad42ea-ca96-4e91-a6fc-f0864f923314': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501,1494476613,create,false,"{\"autonomous_system\":\"65101\",\"description\":\"MX80 #1\",\"id\":\"198b93f2-006e-45b6-96d3-e7ef6f759501\",\"ip\":\"10.79.5.184\",\"login\":\"esi\",\"name\":\"vMX-router-01\",\"password\":\"esiesi0000\",\"ssh_port\":830,\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:23:33.250 gohan.server.resources DEBUG [0m Create edge_router completed: map[edge_router:map[login:esi ssh_port:830 id:198b93f2-006e-45b6-96d3-e7ef6f759501 autonomous_system:65101 ip:10.79.5.184 name:vMX-router-01 password:esiesi0000 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE description:MX80 #1]]
[36m04:23:33.250 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[349] Content-Type:[application/json]]
[36m04:23:33.250 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:33.250 gohan.server.middleware INFO [0m Completed 201 Created in 97.235119ms
[36m04:23:33.256 gohan.server.sync DEBUG [0m Processing event 66 - create
04:23:33.257 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501
[36m04:23:33.261 gohan.server.sync DEBUG [0m Deleting event 66
04:23:33.263 gohan.db.sql INFO [0m Executing SQL query in transaction '6e83f006-5e0e-4a26-90d8-39b70b315724': 'DELETE FROM `events` WHERE id = 66'
[36m04:23:33.263 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:33.271 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 for client 172.17.0.20:45104 data: 
[36m04:23:33.271 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:33.271 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:33.382 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 started
[36m04:23:33.384 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 completed: map[edge_router:map[ip:10.79.5.184 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f ssh_port:830 id:198b93f2-006e-45b6-96d3-e7ef6f759501 autonomous_system:65101 description:MX80 #1 name:vMX-router-01 password:esiesi0000 login:esi]]
[36m04:23:33.384 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[349]]
[36m04:23:33.384 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:33.384 gohan.server.middleware INFO [0m Completed 200 OK in 113.144607ms
[36m04:23:33.385 gohan.server DEBUG [0m State event update received: set /state/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 map[version:1 error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:23:33.385 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 map[version:1 error: state:map[state_monitoring:{"router": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
04:23:33.402 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 with index 230
04:23:33.466 gohan.db.sql INFO [0m Executing SQL query in transaction '7e2d5e51-434f-4a6d-bfc3-64324be567d9': 'UPDATE `edge_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `autonomous_system` = 65101, `description` = MX80 #1, `status` = PENDING_CREATE, `ip` = 10.79.5.184, `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `name` = vMX-router-01, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 198b93f2-006e-45b6-96d3-e7ef6f759501'
04:23:33.467 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:33.468 gohan.extension.edge_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:23:33.469 gohan.db.sql INFO [0m Executing SQL query in transaction '7e2d5e51-434f-4a6d-bfc3-64324be567d9': 'UPDATE `edge_routers` SET `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `name` = vMX-router-01, `ip` = 10.79.5.184, `id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `autonomous_system` = 65101, `description` = MX80 #1, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f WHERE id = 198b93f2-006e-45b6-96d3-e7ef6f759501'
04:23:33.483 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 with index 230
04:23:33.490 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 already unlocked or not locked
04:23:34.398 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 for client 172.17.0.20:45126 data: 
[36m04:23:34.399 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:34.399 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:34.474 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 started
[36m04:23:34.477 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 completed: map[edge_router:map[autonomous_system:65101 status:ACTIVE password:esiesi0000 ssh_port:830 ip:10.79.5.184 id:198b93f2-006e-45b6-96d3-e7ef6f759501 tenant_id:0b576f6f4cbf414f829cd12f008bf08f login:esi name:vMX-router-01 description:MX80 #1]]
[36m04:23:34.477 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:34.477 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:34.477 gohan.server.middleware INFO [0m Completed 200 OK in 78.965588ms
04:23:34.828 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 for client 172.17.0.20:45134 data: 
[36m04:23:34.828 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:34.829 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:34.906 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 started
[36m04:23:34.909 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 completed: map[edge_router:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f autonomous_system:65101 description:MX80 #1 ip:10.79.5.184 ssh_port:830 status:ACTIVE id:198b93f2-006e-45b6-96d3-e7ef6f759501 name:vMX-router-01 password:esiesi0000 login:esi]]
[36m04:23:34.909 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:34.909 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:34.909 gohan.server.middleware INFO [0m Completed 200 OK in 80.987372ms
04:23:34.911 gohan.server.middleware INFO [0m Started GET /v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 for client 172.17.0.20:45140 data: {}
[36m04:23:34.911 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:23:34.911 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:34.987 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 started
[36m04:23:34.989 gohan.server.resources DEBUG [0m Show edge_router 198b93f2-006e-45b6-96d3-e7ef6f759501 completed: map[edge_router:map[ssh_port:830 password:esiesi0000 description:MX80 #1 status:ACTIVE name:vMX-router-01 ip:10.79.5.184 login:esi tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:198b93f2-006e-45b6-96d3-e7ef6f759501 autonomous_system:65101]]
[36m04:23:34.990 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[341]]
[36m04:23:34.990 gohan.server.middleware DEBUG [0m Response body: {
  "edge_router": {
    "autonomous_system": "65101",
    "description": "MX80 #1",
    "id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "ip": "10.79.5.184",
    "login": "esi",
    "name": "vMX-router-01",
    "password": "esiesi0000",
    "ssh_port": 830,
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:34.990 gohan.server.middleware INFO [0m Completed 200 OK in 79.268865ms
04:23:35.014 gohan.server.middleware INFO [0m Started POST /v2.0/ha_routers for client 172.17.0.20:45146 data: 
{
"ha_router": {
"description": "sample_ha_router",
"name": "sample-ha-router",
"primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
"secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:35.014 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[256] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:35.014 gohan.server.middleware DEBUG [0m Request body: 
{
"ha_router": {
"description": "sample_ha_router",
"name": "sample-ha-router",
"primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
"secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:35.095 gohan.server.resources DEBUG [0m Create ha_router with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:sample_ha_router name:sample-ha-router primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501] started
[36m04:23:35.095 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:35.156 gohan.server.resources DEBUG [0m List edge_router query: map[id:[198b93f2-006e-45b6-96d3-e7ef6f759501]] started
[36m04:23:35.158 gohan.server.resources DEBUG [0m List edge_router query: map[id:[198b93f2-006e-45b6-96d3-e7ef6f759501]] completed
[36m04:23:35.220 gohan.server.resources DEBUG [0m List edge_router query: map[id:[9b82b55a-551e-4069-ae77-c972e30ab0cc]] started
[36m04:23:35.222 gohan.server.resources DEBUG [0m List edge_router query: map[id:[9b82b55a-551e-4069-ae77-c972e30ab0cc]] completed
04:23:35.227 gohan.db.sql INFO [0m Executing SQL query in transaction '9a6f66d9-c739-4da4-87ab-37d7f232de5b': 'INSERT INTO `ha_routers` (`description`,`available_gateways`,`primary_router_id`,`id`,`maximum_gateways`,`tenant_id`,`status`,`name`,`secondary_router_id`) VALUES (sample_ha_router,500,9b82b55a-551e-4069-ae77-c972e30ab0cc,d4286c1d-86e7-42d3-9d84-a4d9daa3ae17,500,0b576f6f4cbf414f829cd12f008bf08f,PENDING_CREATE,sample-ha-router,198b93f2-006e-45b6-96d3-e7ef6f759501)'
04:23:35.227 gohan.db.sql INFO [0m Executing SQL query in transaction '9a6f66d9-c739-4da4-87ab-37d7f232de5b': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"available_gateways\":500,\"description\":\"sample_ha_router\",\"id\":\"d4286c1d-86e7-42d3-9d84-a4d9daa3ae17\",\"maximum_gateways\":500,\"name\":\"sample-ha-router\",\"primary_router_id\":\"9b82b55a-551e-4069-ae77-c972e30ab0cc\",\"secondary_router_id\":\"198b93f2-006e-45b6-96d3-e7ef6f759501\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17,1494476615)'
[36m04:23:35.236 gohan.server.resources DEBUG [0m Create ha_router completed: map[ha_router:map[primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 maximum_gateways:500 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE available_gateways:500 description:sample_ha_router name:sample-ha-router secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501]]
[36m04:23:35.236 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[421]]
[36m04:23:35.237 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:35.237 gohan.server.middleware INFO [0m Completed 201 Created in 222.403492ms
[36m04:23:35.244 gohan.server.sync DEBUG [0m Processing event 67 - create
04:23:35.246 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17
[36m04:23:35.248 gohan.server.sync DEBUG [0m Deleting event 67
04:23:35.253 gohan.db.sql INFO [0m Executing SQL query in transaction '62bb2582-3946-4d35-9fe4-76ec1fa012ce': 'DELETE FROM `events` WHERE id = 67'
[36m04:23:35.254 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:35.258 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 for client 172.17.0.20:45158 data: 
[36m04:23:35.258 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:35.258 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:35.351 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 started
[36m04:23:35.353 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 completed: map[ha_router:map[secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501 available_gateways:500 description:sample_ha_router name:sample-ha-router status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 maximum_gateways:500]]
[36m04:23:35.354 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[421]]
[36m04:23:35.354 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:35.354 gohan.server.middleware INFO [0m Completed 200 OK in 96.082513ms
[36m04:23:35.359 gohan.server DEBUG [0m State event update received: set /state/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:23:35.360 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:23:35.375 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 with index 251
04:23:35.433 gohan.db.sql INFO [0m Executing SQL query in transaction '6beaaee4-7e84-47a3-8f33-48b46e1f1d00': 'UPDATE `ha_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = PENDING_CREATE, `name` = sample-ha-router, `secondary_router_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `description` = sample_ha_router, `available_gateways` = 500, `primary_router_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `maximum_gateways` = 500, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"primary\": \"ACTIVE\", \"secondary\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17'
04:23:35.435 gohan.extension.ha_router.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:35.435 gohan.extension.ha_router.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "ACTIVE", "secondary": "ACTIVE"}
04:23:35.438 gohan.db.sql INFO [0m Executing SQL query in transaction '6beaaee4-7e84-47a3-8f33-48b46e1f1d00': 'UPDATE `ha_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = ACTIVE, `name` = sample-ha-router, `secondary_router_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `description` = sample_ha_router, `available_gateways` = 500, `primary_router_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `maximum_gateways` = 500 WHERE id = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17'
04:23:35.448 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 with index 251
04:23:35.455 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 already unlocked or not locked
[36m04:23:36.129 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:36.129 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [259]
[31m04:23:36.129 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [259]
04:23:36.365 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 for client 172.17.0.20:45178 data: 
[36m04:23:36.365 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:23:36.365 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:36.431 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 started
[36m04:23:36.434 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 completed: map[ha_router:map[maximum_gateways:500 available_gateways:500 primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 status:ACTIVE name:sample-ha-router secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:sample_ha_router]]
[36m04:23:36.434 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:23:36.434 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:36.434 gohan.server.middleware INFO [0m Completed 200 OK in 69.561192ms
04:23:36.764 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 for client 172.17.0.20:45186 data: 
[36m04:23:36.764 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m04:23:36.765 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:36.834 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 started
[36m04:23:36.836 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 completed: map[ha_router:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:sample_ha_router available_gateways:500 id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 maximum_gateways:500 primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc status:ACTIVE name:sample-ha-router secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501]]
[36m04:23:36.837 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:23:36.837 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:36.837 gohan.server.middleware INFO [0m Completed 200 OK in 72.328067ms
04:23:36.838 gohan.server.middleware INFO [0m Started GET /v2.0/ha_routers/d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 for client 172.17.0.20:45192 data: {}
[36m04:23:36.838 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m04:23:36.838 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:36.903 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 started
[36m04:23:36.906 gohan.server.resources DEBUG [0m Show ha_router d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 completed: map[ha_router:map[secondary_router_id:198b93f2-006e-45b6-96d3-e7ef6f759501 tenant_id:0b576f6f4cbf414f829cd12f008bf08f available_gateways:500 primary_router_id:9b82b55a-551e-4069-ae77-c972e30ab0cc status:ACTIVE name:sample-ha-router id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 maximum_gateways:500 description:sample_ha_router]]
[36m04:23:36.906 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[413]]
[36m04:23:36.906 gohan.server.middleware DEBUG [0m Response body: {
  "ha_router": {
    "available_gateways": 500,
    "description": "sample_ha_router",
    "id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "maximum_gateways": 500,
    "name": "sample-ha-router",
    "primary_router_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "secondary_router_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:36.906 gohan.server.middleware INFO [0m Completed 200 OK in 68.622838ms
04:23:36.925 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.20:45198 data: 
{
"er_physical_interface": {
"connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
"device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:36.925 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[214] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:36.925 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
"device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:36.992 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc] started
[36m04:23:36.992 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:37.049 gohan.server.resources DEBUG [0m List edge_router query: map[id:[9b82b55a-551e-4069-ae77-c972e30ab0cc]] started
[36m04:23:37.051 gohan.server.resources DEBUG [0m List edge_router query: map[id:[9b82b55a-551e-4069-ae77-c972e30ab0cc]] completed
[36m04:23:37.103 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c]] started
[36m04:23:37.104 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c]] completed
04:23:37.110 gohan.db.sql INFO [0m Executing SQL query in transaction 'e992f1e3-7d21-4113-9059-b7ea74cd5e83': 'INSERT INTO `er_physical_interfaces` (`name`,`description`,`device_id`,`connected_ese_port_id`,`status`,`tenant_id`,`id`) VALUES (ae0,,9b82b55a-551e-4069-ae77-c972e30ab0cc,97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,1fda2a88-f7e9-4982-9ce2-d65c9611aae7)'
04:23:37.111 gohan.db.sql INFO [0m Executing SQL query in transaction 'e992f1e3-7d21-4113-9059-b7ea74cd5e83': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476617,create,false,"{\"connected_ese_port_id\":\"97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c\",\"description\":\"\",\"device_id\":\"9b82b55a-551e-4069-ae77-c972e30ab0cc\",\"id\":\"1fda2a88-f7e9-4982-9ce2-d65c9611aae7\",\"name\":\"ae0\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7)'
[36m04:23:37.124 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 status:PENDING_CREATE description: connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c]]
[36m04:23:37.124 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:23:37.124 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "description": "",
    "device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:37.124 gohan.server.middleware INFO [0m Completed 201 Created in 199.006445ms
[36m04:23:37.126 gohan.server.sync DEBUG [0m Processing event 68 - create
04:23:37.126 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7
[36m04:23:37.128 gohan.server.sync DEBUG [0m Deleting event 68
04:23:37.129 gohan.db.sql INFO [0m Executing SQL query in transaction 'ecffd503-3849-49a8-b84f-a56129972962': 'DELETE FROM `events` WHERE id = 68'
[36m04:23:37.130 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:37.139 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 for client 172.17.0.20:45210 data: 
[36m04:23:37.139 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:37.139 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:37.222 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 started
[36m04:23:37.225 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 completed: map[er_physical_interface:map[connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 name:ae0 description: device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc]]
[36m04:23:37.226 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:23:37.226 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "description": "",
    "device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:37.226 gohan.server.middleware INFO [0m Completed 200 OK in 87.169255ms
[36m04:23:37.250 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:23:37.251 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:23:37.257 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 with index 272
04:23:37.324 gohan.db.sql INFO [0m Executing SQL query in transaction '5e5d711d-03de-4384-a0b5-e20b960c10b7': 'UPDATE `er_physical_interfaces` SET `id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `name` = ae0, `description` = , `device_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `connected_ese_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7'
04:23:37.325 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:37.325 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:23:37.326 gohan.db.sql INFO [0m Executing SQL query in transaction '5e5d711d-03de-4384-a0b5-e20b960c10b7': 'UPDATE `er_physical_interfaces` SET `device_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `connected_ese_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `name` = ae0, `description` =  WHERE id = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7'
04:23:37.341 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 with index 272
04:23:37.348 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 already unlocked or not locked
04:23:38.238 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 for client 172.17.0.20:45232 data: 
[36m04:23:38.238 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:38.238 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:38.316 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 started
[36m04:23:38.319 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 completed: map[er_physical_interface:map[name:ae0 description: device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7]]
[36m04:23:38.319 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:23:38.319 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "description": "",
    "device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:38.319 gohan.server.middleware INFO [0m Completed 200 OK in 81.382218ms
04:23:38.676 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 for client 172.17.0.20:45240 data: 
[36m04:23:38.676 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:23:38.676 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:38.874 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 started
[36m04:23:38.885 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 completed: map[er_physical_interface:map[device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 name:ae0 description:]]
[36m04:23:38.885 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[330] Content-Type:[application/json]]
[36m04:23:38.885 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "description": "",
    "device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:38.885 gohan.server.middleware INFO [0m Completed 200 OK in 209.452468ms
04:23:38.892 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 for client 172.17.0.20:45246 data: {}
[36m04:23:38.893 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:23:38.893 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:39.574 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 started
[36m04:23:39.603 gohan.server.resources DEBUG [0m Show er_physical_interface 1fda2a88-f7e9-4982-9ce2-d65c9611aae7 completed: map[er_physical_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 name:ae0 description: device_id:9b82b55a-551e-4069-ae77-c972e30ab0cc connected_ese_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c status:ACTIVE]]
[36m04:23:39.603 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:23:39.603 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "description": "",
    "device_id": "9b82b55a-551e-4069-ae77-c972e30ab0cc",
    "id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:39.603 gohan.server.middleware INFO [0m Completed 200 OK in 710.728011ms
04:23:39.633 gohan.server.middleware INFO [0m Started POST /v2.0/er_physical_interfaces for client 172.17.0.20:45252 data: 
{
"er_physical_interface": {
"connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
"device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:39.633 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[214] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:39.633 gohan.server.middleware DEBUG [0m Request body: 
{
"er_physical_interface": {
"connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
"device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
"name": "ae0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:39.908 gohan.server.resources DEBUG [0m Create er_physical_interface with data map[connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:23:39.908 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:39.977 gohan.server.resources DEBUG [0m List edge_router query: map[id:[198b93f2-006e-45b6-96d3-e7ef6f759501]] started
[36m04:23:39.979 gohan.server.resources DEBUG [0m List edge_router query: map[id:[198b93f2-006e-45b6-96d3-e7ef6f759501]] completed
[36m04:23:40.044 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]] started
[36m04:23:40.046 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]] completed
04:23:40.050 gohan.db.sql INFO [0m Executing SQL query in transaction 'f4ef4071-596d-4e8a-8336-cb2afa9c3bb5': 'INSERT INTO `er_physical_interfaces` (`device_id`,`connected_ese_port_id`,`status`,`tenant_id`,`id`,`name`,`description`) VALUES (198b93f2-006e-45b6-96d3-e7ef6f759501,8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306,PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,469e4283-80e6-491c-830f-c483c1f7c695,ae0,)'
04:23:40.050 gohan.db.sql INFO [0m Executing SQL query in transaction 'f4ef4071-596d-4e8a-8336-cb2afa9c3bb5': 'INSERT INTO `events` (`type`,`marked_for_deletion`,`body`,`version`,`path`,`timestamp`) VALUES (create,false,"{\"connected_ese_port_id\":\"8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306\",\"description\":\"\",\"device_id\":\"198b93f2-006e-45b6-96d3-e7ef6f759501\",\"id\":\"469e4283-80e6-491c-830f-c483c1f7c695\",\"name\":\"ae0\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695,1494476620)'
[36m04:23:40.065 gohan.server.resources DEBUG [0m Create er_physical_interface completed: map[er_physical_interface:map[device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 name:ae0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:469e4283-80e6-491c-830f-c483c1f7c695 description: status:PENDING_CREATE connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]]
[36m04:23:40.065 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:23:40.065 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "description": "",
    "device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:40.065 gohan.server.middleware INFO [0m Completed 201 Created in 432.243898ms
[36m04:23:40.066 gohan.server.sync DEBUG [0m Processing event 69 - create
04:23:40.066 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695
[36m04:23:40.068 gohan.server.sync DEBUG [0m Deleting event 69
04:23:40.069 gohan.db.sql INFO [0m Executing SQL query in transaction 'a8cc66d6-7acc-4f9e-aa5c-e545035aefb5': 'DELETE FROM `events` WHERE id = 69'
[36m04:23:40.070 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:23:40.087 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 for client 172.17.0.20:45264 data: 
[36m04:23:40.087 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:40.087 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:40.176 gohan.server DEBUG [0m State event update received: set /state/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:23:40.176 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 map[error: state:map[state_monitoring:{"interface": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:23:40.196 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 with index 292
[36m04:23:40.201 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 started
[36m04:23:40.234 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 completed: map[er_physical_interface:map[name:ae0 description: device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:469e4283-80e6-491c-830f-c483c1f7c695]]
[36m04:23:40.234 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[338]]
[36m04:23:40.234 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "description": "",
    "device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "name": "ae0",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:40.234 gohan.server.middleware INFO [0m Completed 200 OK in 146.832287ms
04:23:40.260 gohan.db.sql INFO [0m Executing SQL query in transaction 'fd140e60-8584-47d0-8e58-38aa555efd3a': 'UPDATE `er_physical_interfaces` SET `device_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `connected_ese_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `status` = PENDING_CREATE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 469e4283-80e6-491c-830f-c483c1f7c695, `name` = ae0, `description` = , `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 469e4283-80e6-491c-830f-c483c1f7c695'
04:23:40.263 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:40.263 gohan.extension.er_physical_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:23:40.264 gohan.db.sql INFO [0m Executing SQL query in transaction 'fd140e60-8584-47d0-8e58-38aa555efd3a': 'UPDATE `er_physical_interfaces` SET `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 469e4283-80e6-491c-830f-c483c1f7c695, `name` = ae0, `description` = , `device_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `connected_ese_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 WHERE id = 469e4283-80e6-491c-830f-c483c1f7c695'
04:23:40.283 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 with index 292
04:23:40.289 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 already unlocked or not locked
[36m04:23:41.130 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:41.130 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [300]
[31m04:23:41.130 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [300]
04:23:41.247 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 for client 172.17.0.20:45286 data: 
[36m04:23:41.247 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:41.247 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:41.325 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 started
[36m04:23:41.327 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 completed: map[er_physical_interface:map[name:ae0 description: device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:469e4283-80e6-491c-830f-c483c1f7c695]]
[36m04:23:41.328 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:23:41.328 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "description": "",
    "device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:41.328 gohan.server.middleware INFO [0m Completed 200 OK in 81.177315ms
04:23:41.695 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 for client 172.17.0.20:45294 data: 
[36m04:23:41.695 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m04:23:41.695 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:41.767 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 started
[36m04:23:41.769 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 completed: map[er_physical_interface:map[description: device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:469e4283-80e6-491c-830f-c483c1f7c695 name:ae0]]
[36m04:23:41.769 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:23:41.769 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "description": "",
    "device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:41.770 gohan.server.middleware INFO [0m Completed 200 OK in 75.000303ms
04:23:41.771 gohan.server.middleware INFO [0m Started GET /v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 for client 172.17.0.20:45300 data: {}
[36m04:23:41.771 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json]]
[36m04:23:41.771 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:41.846 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 started
[36m04:23:41.848 gohan.server.resources DEBUG [0m Show er_physical_interface 469e4283-80e6-491c-830f-c483c1f7c695 completed: map[er_physical_interface:map[device_id:198b93f2-006e-45b6-96d3-e7ef6f759501 connected_ese_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:469e4283-80e6-491c-830f-c483c1f7c695 name:ae0 description:]]
[36m04:23:41.849 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[330]]
[36m04:23:41.849 gohan.server.middleware DEBUG [0m Response body: {
  "er_physical_interface": {
    "connected_ese_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "description": "",
    "device_id": "198b93f2-006e-45b6-96d3-e7ef6f759501",
    "id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "name": "ae0",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:23:41.849 gohan.server.middleware INFO [0m Completed 200 OK in 77.901233ms
04:23:41.868 gohan.server.middleware INFO [0m Started POST /v2.0/ha_interfaces for client 172.17.0.20:45306 data: 
{
"ha_interface": {
"ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
"link_type": "downlink",
"maximum_be_bandwidth": 500,
"maximum_ga_bandwidth": 500,
"name": "sample-ha-router-downlink",
"primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
"secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
"restricted_vlans": "0-1024,4094",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:41.868 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[413] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:41.868 gohan.server.middleware DEBUG [0m Request body: 
{
"ha_interface": {
"ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
"link_type": "downlink",
"maximum_be_bandwidth": 500,
"maximum_ga_bandwidth": 500,
"name": "sample-ha-router-downlink",
"primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
"secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
"restricted_vlans": "0-1024,4094",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:41.939 gohan.server.resources DEBUG [0m Create ha_interface with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 link_type:downlink name:sample-ha-router-downlink secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 restricted_vlans:0-1024,4094 maximum_be_bandwidth:500 maximum_ga_bandwidth:500 primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7] started
[36m04:23:41.939 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:23:41.998 gohan.server.resources DEBUG [0m List ha_router query: map[id:[d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]] started
[36m04:23:42.000 gohan.server.resources DEBUG [0m List ha_router query: map[id:[d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]] completed
[36m04:23:42.055 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[469e4283-80e6-491c-830f-c483c1f7c695]] started
[36m04:23:42.057 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[469e4283-80e6-491c-830f-c483c1f7c695]] completed
[36m04:23:42.117 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[1fda2a88-f7e9-4982-9ce2-d65c9611aae7]] started
[36m04:23:42.118 gohan.server.resources DEBUG [0m List er_physical_interface query: map[id:[1fda2a88-f7e9-4982-9ce2-d65c9611aae7]] completed
04:23:42.385 gohan.db.sql INFO [0m Executing SQL query in transaction '262bee4d-7b35-4160-95dd-4c5f592fbb3a': 'INSERT INTO `ha_interfaces` (`available_be_bandwidth`,`ha_router_id`,`name`,`secondary_interface_id`,`admin_state_up`,`description`,`tenant_id`,`status`,`available_ga_bandwidth`,`primary_interface_id`,`vlan_pool_state`,`restricted_vlans`,`id`,`vlan_ids_available`,`gateway_instances_count`,`maximum_ga_bandwidth`,`link_type`,`maximum_be_bandwidth`) VALUES (500,d4286c1d-86e7-42d3-9d84-a4d9daa3ae17,sample-ha-router-downlink,469e4283-80e6-491c-830f-c483c1f7c695,true,,0b576f6f4cbf414f829cd12f008bf08f,PENDING_CREATE,500,1fda2a88-f7e9-4982-9ce2-d65c9611aae7,//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=,0-1024,4094,1205d3f2-7568-412a-a554-012340ab3172,3069,0,500,downlink,500)'
04:23:42.386 gohan.db.sql INFO [0m Executing SQL query in transaction '262bee4d-7b35-4160-95dd-4c5f592fbb3a': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172,1494476622,create,false,"{\"admin_state_up\":true,\"available_be_bandwidth\":500,\"available_ga_bandwidth\":500,\"description\":\"\",\"gateway_instances_count\":0,\"ha_router_id\":\"d4286c1d-86e7-42d3-9d84-a4d9daa3ae17\",\"id\":\"1205d3f2-7568-412a-a554-012340ab3172\",\"link_type\":\"downlink\",\"maximum_be_bandwidth\":500,\"maximum_ga_bandwidth\":500,\"name\":\"sample-ha-router-downlink\",\"primary_interface_id\":\"1fda2a88-f7e9-4982-9ce2-d65c9611aae7\",\"restricted_vlans\":\"0-1024,4094\",\"secondary_interface_id\":\"469e4283-80e6-491c-830f-c483c1f7c695\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vlan_ids_available\":3069,\"vlan_pool_state\":\"//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=\"}",1)'
[36m04:23:42.400 gohan.server.resources DEBUG [0m Create ha_interface completed: map[ha_interface:map[name:sample-ha-router-downlink tenant_id:0b576f6f4cbf414f829cd12f008bf08f available_be_bandwidth:500 available_ga_bandwidth:500 maximum_be_bandwidth:500 primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 admin_state_up:true vlan_ids_available:3069 id:1205d3f2-7568-412a-a554-012340ab3172 gateway_instances_count:0 description: vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 link_type:downlink secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 restricted_vlans:0-1024,4094 maximum_ga_bandwidth:500 status:PENDING_CREATE]]
[36m04:23:42.400 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1432]]
[36m04:23:42.401 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "1205d3f2-7568-412a-a554-012340ab3172",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:23:42.401 gohan.server.middleware INFO [0m Completed 201 Created in 532.901477ms
[36m04:23:42.403 gohan.server.sync DEBUG [0m Processing event 70 - create
04:23:42.403 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172
04:23:42.414 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 for client 172.17.0.20:45320 data: 
[36m04:23:42.414 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:23:42.414 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:42.415 gohan.server.sync DEBUG [0m Deleting event 70
04:23:42.417 gohan.db.sql INFO [0m Executing SQL query in transaction '1654931c-f873-401c-b047-5569172fa2d1': 'DELETE FROM `events` WHERE id = 70'
[36m04:23:42.417 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:23:42.492 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 started
[36m04:23:42.495 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 completed: map[ha_interface:map[description: restricted_vlans:0-1024,4094 vlan_ids_available:3069 maximum_ga_bandwidth:500 maximum_be_bandwidth:500 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE link_type:downlink name:sample-ha-router-downlink available_ga_bandwidth:500 admin_state_up:true available_be_bandwidth:500 secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 id:1205d3f2-7568-412a-a554-012340ab3172 gateway_instances_count:0 primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=]]
[36m04:23:42.495 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1432]]
[36m04:23:42.495 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "1205d3f2-7568-412a-a554-012340ab3172",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:23:42.495 gohan.server.middleware INFO [0m Completed 200 OK in 81.589899ms
[36m04:23:42.527 gohan.server DEBUG [0m State event update received: set /state/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 map[error: state:map[state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:23:42.527 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 map[error: state:map[worker_state:CREATE_COMPLETED state_monitoring:{"primary": "ACTIVE", "secondary": "ACTIVE"}] version:1] started
04:23:42.540 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 with index 313
04:23:42.597 gohan.db.sql INFO [0m Executing SQL query in transaction '133942e7-1692-4add-ade6-183207783a68': 'UPDATE `ha_interfaces` SET `secondary_interface_id` = 469e4283-80e6-491c-830f-c483c1f7c695, `available_be_bandwidth` = 500, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `name` = sample-ha-router-downlink, `primary_interface_id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `admin_state_up` = true, `description` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = PENDING_CREATE, `available_ga_bandwidth` = 500, `vlan_ids_available` = 3069, `vlan_pool_state` = //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `restricted_vlans` = 0-1024,4094, `id` = 1205d3f2-7568-412a-a554-012340ab3172, `maximum_be_bandwidth` = 500, `gateway_instances_count` = 0, `maximum_ga_bandwidth` = 500, `link_type` = downlink, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"primary\": \"ACTIVE\", \"secondary\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 1205d3f2-7568-412a-a554-012340ab3172'
04:23:42.599 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:23:42.599 gohan.extension.ha_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "ACTIVE", "secondary": "ACTIVE"}
04:23:42.606 gohan.db.sql INFO [0m Executing SQL query in transaction '133942e7-1692-4add-ade6-183207783a68': 'UPDATE `ha_interfaces` SET `link_type` = downlink, `maximum_be_bandwidth` = 500, `gateway_instances_count` = 0, `maximum_ga_bandwidth` = 500, `name` = sample-ha-router-downlink, `secondary_interface_id` = 469e4283-80e6-491c-830f-c483c1f7c695, `available_be_bandwidth` = 500, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `available_ga_bandwidth` = 500, `primary_interface_id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `admin_state_up` = true, `description` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = ACTIVE, `id` = 1205d3f2-7568-412a-a554-012340ab3172, `vlan_ids_available` = 3069, `vlan_pool_state` = //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `restricted_vlans` = 0-1024,4094 WHERE id = 1205d3f2-7568-412a-a554-012340ab3172'
04:23:42.623 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 with index 313
04:23:42.631 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 already unlocked or not locked
04:23:43.506 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 for client 172.17.0.20:45340 data: 
[36m04:23:43.507 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:23:43.507 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:43.600 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 started
[36m04:23:43.603 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 completed: map[ha_interface:map[primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 gateway_instances_count:0 maximum_ga_bandwidth:500 link_type:downlink ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 admin_state_up:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f available_be_bandwidth:500 status:ACTIVE vlan_ids_available:3069 id:1205d3f2-7568-412a-a554-012340ab3172 maximum_be_bandwidth:500 name:sample-ha-router-downlink available_ga_bandwidth:500 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= restricted_vlans:0-1024,4094 description:]]
[36m04:23:43.604 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[1424] Content-Type:[application/json]]
[36m04:23:43.604 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "1205d3f2-7568-412a-a554-012340ab3172",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:23:43.604 gohan.server.middleware INFO [0m Completed 200 OK in 97.578533ms
04:23:43.934 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 for client 172.17.0.20:45348 data: 
[36m04:23:43.934 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:43.934 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:44.009 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 started
[36m04:23:44.012 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 completed: map[ha_interface:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f available_ga_bandwidth:500 restricted_vlans:0-1024,4094 vlan_ids_available:3069 link_type:downlink available_be_bandwidth:500 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 name:sample-ha-router-downlink gateway_instances_count:0 maximum_be_bandwidth:500 status:ACTIVE admin_state_up:true vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= id:1205d3f2-7568-412a-a554-012340ab3172 secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 maximum_ga_bandwidth:500 description:]]
[36m04:23:44.012 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1424]]
[36m04:23:44.012 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "1205d3f2-7568-412a-a554-012340ab3172",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:23:44.012 gohan.server.middleware INFO [0m Completed 200 OK in 78.098844ms
04:23:44.014 gohan.server.middleware INFO [0m Started GET /v2.0/ha_interfaces/1205d3f2-7568-412a-a554-012340ab3172 for client 172.17.0.20:45354 data: {}
[36m04:23:44.014 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:23:44.014 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:44.093 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 started
[36m04:23:44.096 gohan.server.resources DEBUG [0m Show ha_interface 1205d3f2-7568-412a-a554-012340ab3172 completed: map[ha_interface:map[name:sample-ha-router-downlink secondary_interface_id:469e4283-80e6-491c-830f-c483c1f7c695 available_be_bandwidth:500 id:1205d3f2-7568-412a-a554-012340ab3172 vlan_pool_state://////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM= gateway_instances_count:0 maximum_be_bandwidth:500 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 primary_interface_id:1fda2a88-f7e9-4982-9ce2-d65c9611aae7 admin_state_up:true description: restricted_vlans:0-1024,4094 vlan_ids_available:3069 tenant_id:0b576f6f4cbf414f829cd12f008bf08f maximum_ga_bandwidth:500 link_type:downlink status:ACTIVE available_ga_bandwidth:500]]
[36m04:23:44.096 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1424]]
[36m04:23:44.096 gohan.server.middleware DEBUG [0m Response body: {
  "ha_interface": {
    "admin_state_up": true,
    "available_be_bandwidth": 500,
    "available_ga_bandwidth": 500,
    "description": "",
    "gateway_instances_count": 0,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "1205d3f2-7568-412a-a554-012340ab3172",
    "link_type": "downlink",
    "maximum_be_bandwidth": 500,
    "maximum_ga_bandwidth": 500,
    "name": "sample-ha-router-downlink",
    "primary_interface_id": "1fda2a88-f7e9-4982-9ce2-d65c9611aae7",
    "restricted_vlans": "0-1024,4094",
    "secondary_interface_id": "469e4283-80e6-491c-830f-c483c1f7c695",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_ids_available": 3069,
    "vlan_pool_state": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM="
  }
}
04:23:44.096 gohan.server.middleware INFO [0m Completed 200 OK in 82.650764ms
[36m04:23:46.131 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:46.131 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [321]
[31m04:23:46.131 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [321]
[36m04:23:51.131 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:51.132 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [322]
[31m04:23:51.132 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [322]
04:23:54.130 gohan.server.middleware INFO [0m Started POST /v2.0/internet_services for client 172.17.0.20:45362 data: 
{
"internet_service": {
"be_forwarding_class": "FC-INET-BE",
"default_static_routes_per_gateway": 32,
"downlink_interfaces": ["1205d3f2-7568-412a-a554-012340ab3172"],
"ga_forwarding_class": "FC-INET-GA",
"inet_in_filter": "INET_IN",
"inet_out_filter": "INET_OUT",
"minimal_submask_length": 26,
"name": "sample-internet-service",
"neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
"primary_ibgp_config_group": "InetGW2-RI-IBGP",
"primary_vrrp_config_group": "InetGW1-VRRP",
"secondary_ibgp_config_group": "InetGW1-RI-IBGP",
"secondary_vrrp_config_group": "InetGW2-VRRP",
"uplink_import_policy": "INSTANCE-MASTER_IN",
"vrf_export_policy": "INSTANCE-USER_OUT",
"vrf_import_policy": "INSTANCE-USER_IN",
"zone": "jp1-zone1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:54.130 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[769] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:54.130 gohan.server.middleware DEBUG [0m Request body: 
{
"internet_service": {
"be_forwarding_class": "FC-INET-BE",
"default_static_routes_per_gateway": 32,
"downlink_interfaces": ["1205d3f2-7568-412a-a554-012340ab3172"],
"ga_forwarding_class": "FC-INET-GA",
"inet_in_filter": "INET_IN",
"inet_out_filter": "INET_OUT",
"minimal_submask_length": 26,
"name": "sample-internet-service",
"neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
"primary_ibgp_config_group": "InetGW2-RI-IBGP",
"primary_vrrp_config_group": "InetGW1-VRRP",
"secondary_ibgp_config_group": "InetGW1-RI-IBGP",
"secondary_vrrp_config_group": "InetGW2-VRRP",
"uplink_import_policy": "INSTANCE-MASTER_IN",
"vrf_export_policy": "INSTANCE-USER_OUT",
"vrf_import_policy": "INSTANCE-USER_IN",
"zone": "jp1-zone1",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:23:54.206 gohan.server.resources DEBUG [0m Create internet_service with data map[be_forwarding_class:FC-INET-BE inet_out_filter:INET_OUT primary_vrrp_config_group:InetGW1-VRRP minimal_submask_length:26 name:sample-internet-service neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS primary_ibgp_config_group:InetGW2-RI-IBGP secondary_ibgp_config_group:InetGW1-RI-IBGP secondary_vrrp_config_group:InetGW2-VRRP tenant_id:0b576f6f4cbf414f829cd12f008bf08f default_static_routes_per_gateway:32 downlink_interfaces:[1205d3f2-7568-412a-a554-012340ab3172] zone:jp1-zone1 ga_forwarding_class:FC-INET-GA inet_in_filter:INET_IN uplink_import_policy:INSTANCE-MASTER_IN vrf_export_policy:INSTANCE-USER_OUT vrf_import_policy:INSTANCE-USER_IN] started
[36m04:23:54.206 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:23:54.215 gohan.db.sql INFO [0m Executing SQL query in transaction '4ae44575-ba7e-413c-8be5-2d79c8f1b62e': 'INSERT INTO `internet_services` (`uplink_import_policy`,`inet_out_filter`,`be_forwarding_class`,`vrf_config`,`primary_vrrp_config_group`,`secondary_ibgp_config_group`,`vrf_import_policy`,`id`,`secondary_vrrp_config_group`,`minimal_submask_length`,`primary_ibgp_config_group`,`name`,`inet_in_filter`,`neighbour_prefix`,`vrf_export_policy`,`zone`,`description`,`ga_forwarding_class`,`tenant_id`,`default_static_routes_per_gateway`,`downlink_interfaces`) VALUES (INSTANCE-MASTER_IN,INET_OUT,FC-INET-BE,,InetGW1-VRRP,InetGW1-RI-IBGP,INSTANCE-USER_IN,848e04de-733d-4f98-8971-bdb3b83e0296,InetGW2-VRRP,26,InetGW2-RI-IBGP,sample-internet-service,INET_IN,BGP-VIRTUAL-ROUTER-PEERS,INSTANCE-USER_OUT,jp1-zone1,,FC-INET-GA,0b576f6f4cbf414f829cd12f008bf08f,32,["1205d3f2-7568-412a-a554-012340ab3172"])'
04:23:54.215 gohan.db.sql INFO [0m Executing SQL query in transaction '4ae44575-ba7e-413c-8be5-2d79c8f1b62e': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296,1494476634,create,false,"{\"be_forwarding_class\":\"FC-INET-BE\",\"default_static_routes_per_gateway\":32,\"description\":\"\",\"downlink_interfaces\":[\"1205d3f2-7568-412a-a554-012340ab3172\"],\"ga_forwarding_class\":\"FC-INET-GA\",\"id\":\"848e04de-733d-4f98-8971-bdb3b83e0296\",\"inet_in_filter\":\"INET_IN\",\"inet_out_filter\":\"INET_OUT\",\"minimal_submask_length\":26,\"name\":\"sample-internet-service\",\"neighbour_prefix\":\"BGP-VIRTUAL-ROUTER-PEERS\",\"primary_ibgp_config_group\":\"InetGW2-RI-IBGP\",\"primary_vrrp_config_group\":\"InetGW1-VRRP\",\"secondary_ibgp_config_group\":\"InetGW1-RI-IBGP\",\"secondary_vrrp_config_group\":\"InetGW2-VRRP\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"uplink_import_policy\":\"INSTANCE-MASTER_IN\",\"vrf_config\":\"\",\"vrf_export_policy\":\"INSTANCE-USER_OUT\",\"vrf_import_policy\":\"INSTANCE-USER_IN\",\"zone\":\"jp1-zone1\"}",1)'
[36m04:23:54.224 gohan.server.resources DEBUG [0m Create internet_service completed: map[internet_service:map[ga_forwarding_class:FC-INET-GA inet_in_filter:INET_IN uplink_import_policy:INSTANCE-MASTER_IN vrf_export_policy:INSTANCE-USER_OUT vrf_import_policy:INSTANCE-USER_IN description: be_forwarding_class:FC-INET-BE inet_out_filter:INET_OUT primary_vrrp_config_group:InetGW1-VRRP id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f vrf_config: minimal_submask_length:26 name:sample-internet-service neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS primary_ibgp_config_group:InetGW2-RI-IBGP secondary_ibgp_config_group:InetGW1-RI-IBGP secondary_vrrp_config_group:InetGW2-VRRP default_static_routes_per_gateway:32 downlink_interfaces:[1205d3f2-7568-412a-a554-012340ab3172] zone:jp1-zone1]]
[36m04:23:54.224 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[951]]
[36m04:23:54.224 gohan.server.middleware DEBUG [0m Response body: {
  "internet_service": {
    "be_forwarding_class": "FC-INET-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "1205d3f2-7568-412a-a554-012340ab3172"
    ],
    "ga_forwarding_class": "FC-INET-GA",
    "id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "inet_in_filter": "INET_IN",
    "inet_out_filter": "INET_OUT",
    "minimal_submask_length": 26,
    "name": "sample-internet-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_ibgp_config_group": "InetGW2-RI-IBGP",
    "primary_vrrp_config_group": "InetGW1-VRRP",
    "secondary_ibgp_config_group": "InetGW1-RI-IBGP",
    "secondary_vrrp_config_group": "InetGW2-VRRP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_import_policy": "INSTANCE-MASTER_IN",
    "vrf_config": "",
    "vrf_export_policy": "INSTANCE-USER_OUT",
    "vrf_import_policy": "INSTANCE-USER_IN",
    "zone": "jp1-zone1"
  }
}
04:23:54.224 gohan.server.middleware INFO [0m Completed 201 Created in 94.074191ms
[36m04:23:54.227 gohan.server.sync DEBUG [0m Processing event 71 - create
04:23:54.227 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296
[36m04:23:54.233 gohan.server.sync DEBUG [0m Deleting event 71
04:23:54.234 gohan.db.sql INFO [0m Executing SQL query in transaction 'ae1d2ce6-4775-4761-a53f-c87b73593ddb': 'DELETE FROM `events` WHERE id = 71'
[36m04:23:54.235 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:23:54.237 gohan.server DEBUG [0m State event update received: set /state/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 map[error: state:map[worker_state:READ_COMPLETE] version:1]
04:23:54.237 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 map[error: state:map[worker_state:READ_COMPLETE] version:1] started
04:23:54.250 gohan.server.middleware INFO [0m Started GET /v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 for client 172.17.0.20:45374 data: 
[36m04:23:54.250 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:23:54.251 gohan.server.middleware DEBUG [0m Request body: 
04:23:54.254 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 with index 325
04:23:54.324 gohan.db.sql INFO [0m Executing SQL query in transaction '0c687d93-0600-47bc-a517-1b7e73faa60a': 'UPDATE `internet_services` SET `downlink_interfaces` = ["1205d3f2-7568-412a-a554-012340ab3172"], `ga_forwarding_class` = FC-INET-GA, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `default_static_routes_per_gateway` = 32, `id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `uplink_import_policy` = INSTANCE-MASTER_IN, `inet_out_filter` = INET_OUT, `be_forwarding_class` = FC-INET-BE, `vrf_config` = , `primary_vrrp_config_group` = InetGW1-VRRP, `secondary_ibgp_config_group` = InetGW1-RI-IBGP, `vrf_import_policy` = INSTANCE-USER_IN, `name` = sample-internet-service, `secondary_vrrp_config_group` = InetGW2-VRRP, `minimal_submask_length` = 26, `primary_ibgp_config_group` = InetGW2-RI-IBGP, `description` = , `inet_in_filter` = INET_IN, `neighbour_prefix` = BGP-VIRTUAL-ROUTER-PEERS, `vrf_export_policy` = INSTANCE-USER_OUT, `zone` = jp1-zone1, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 848e04de-733d-4f98-8971-bdb3b83e0296'
[36m04:23:54.341 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 started
[36m04:23:54.344 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 completed: map[internet_service:map[default_static_routes_per_gateway:32 secondary_ibgp_config_group:InetGW1-RI-IBGP id:848e04de-733d-4f98-8971-bdb3b83e0296 uplink_import_policy:INSTANCE-MASTER_IN vrf_export_policy:INSTANCE-USER_OUT zone:jp1-zone1 minimal_submask_length:26 downlink_interfaces:[1205d3f2-7568-412a-a554-012340ab3172] ga_forwarding_class:FC-INET-GA vrf_config: primary_vrrp_config_group:InetGW1-VRRP vrf_import_policy:INSTANCE-USER_IN primary_ibgp_config_group:InetGW2-RI-IBGP secondary_vrrp_config_group:InetGW2-VRRP tenant_id:0b576f6f4cbf414f829cd12f008bf08f inet_out_filter:INET_OUT name:sample-internet-service inet_in_filter:INET_IN be_forwarding_class:FC-INET-BE description: neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS]]
[36m04:23:54.344 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[951]]
[36m04:23:54.344 gohan.server.middleware DEBUG [0m Response body: {
  "internet_service": {
    "be_forwarding_class": "FC-INET-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "1205d3f2-7568-412a-a554-012340ab3172"
    ],
    "ga_forwarding_class": "FC-INET-GA",
    "id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "inet_in_filter": "INET_IN",
    "inet_out_filter": "INET_OUT",
    "minimal_submask_length": 26,
    "name": "sample-internet-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_ibgp_config_group": "InetGW2-RI-IBGP",
    "primary_vrrp_config_group": "InetGW1-VRRP",
    "secondary_ibgp_config_group": "InetGW1-RI-IBGP",
    "secondary_vrrp_config_group": "InetGW2-VRRP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_import_policy": "INSTANCE-MASTER_IN",
    "vrf_config": "",
    "vrf_export_policy": "INSTANCE-USER_OUT",
    "vrf_import_policy": "INSTANCE-USER_IN",
    "zone": "jp1-zone1"
  }
}
04:23:54.344 gohan.server.middleware INFO [0m Completed 200 OK in 93.81437ms
04:23:54.360 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 with index 325
04:23:54.364 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 already unlocked or not locked
04:23:54.700 gohan.server.middleware INFO [0m Started GET /v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 for client 172.17.0.20:45384 data: 
[36m04:23:54.701 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:23:54.701 gohan.server.middleware DEBUG [0m Request body: 
[36m04:23:54.771 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 started
[36m04:23:54.774 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 completed: map[internet_service:map[be_forwarding_class:FC-INET-BE uplink_import_policy:INSTANCE-MASTER_IN description: inet_in_filter:INET_IN vrf_config: name:sample-internet-service zone:jp1-zone1 neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS ga_forwarding_class:FC-INET-GA secondary_ibgp_config_group:InetGW1-RI-IBGP id:848e04de-733d-4f98-8971-bdb3b83e0296 primary_ibgp_config_group:InetGW2-RI-IBGP secondary_vrrp_config_group:InetGW2-VRRP vrf_export_policy:INSTANCE-USER_OUT default_static_routes_per_gateway:32 downlink_interfaces:[1205d3f2-7568-412a-a554-012340ab3172] tenant_id:0b576f6f4cbf414f829cd12f008bf08f primary_vrrp_config_group:InetGW1-VRRP vrf_import_policy:INSTANCE-USER_IN inet_out_filter:INET_OUT minimal_submask_length:26]]
[36m04:23:54.774 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[951]]
[36m04:23:54.774 gohan.server.middleware DEBUG [0m Response body: {
  "internet_service": {
    "be_forwarding_class": "FC-INET-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "1205d3f2-7568-412a-a554-012340ab3172"
    ],
    "ga_forwarding_class": "FC-INET-GA",
    "id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "inet_in_filter": "INET_IN",
    "inet_out_filter": "INET_OUT",
    "minimal_submask_length": 26,
    "name": "sample-internet-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_ibgp_config_group": "InetGW2-RI-IBGP",
    "primary_vrrp_config_group": "InetGW1-VRRP",
    "secondary_ibgp_config_group": "InetGW1-RI-IBGP",
    "secondary_vrrp_config_group": "InetGW2-VRRP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_import_policy": "INSTANCE-MASTER_IN",
    "vrf_config": "",
    "vrf_export_policy": "INSTANCE-USER_OUT",
    "vrf_import_policy": "INSTANCE-USER_IN",
    "zone": "jp1-zone1"
  }
}
04:23:54.774 gohan.server.middleware INFO [0m Completed 200 OK in 73.651981ms
04:23:54.775 gohan.server.middleware INFO [0m Started GET /v2.0/internet_services/848e04de-733d-4f98-8971-bdb3b83e0296 for client 172.17.0.20:45390 data: {}
[36m04:23:54.775 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:23:54.775 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:23:54.848 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 started
[36m04:23:54.850 gohan.server.resources DEBUG [0m Show internet_service 848e04de-733d-4f98-8971-bdb3b83e0296 completed: map[internet_service:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f vrf_import_policy:INSTANCE-USER_IN uplink_import_policy:INSTANCE-MASTER_IN be_forwarding_class:FC-INET-BE zone:jp1-zone1 name:sample-internet-service minimal_submask_length:26 description: neighbour_prefix:BGP-VIRTUAL-ROUTER-PEERS downlink_interfaces:[1205d3f2-7568-412a-a554-012340ab3172] id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_ibgp_config_group:InetGW1-RI-IBGP primary_ibgp_config_group:InetGW2-RI-IBGP vrf_config: primary_vrrp_config_group:InetGW1-VRRP inet_out_filter:INET_OUT inet_in_filter:INET_IN vrf_export_policy:INSTANCE-USER_OUT default_static_routes_per_gateway:32 ga_forwarding_class:FC-INET-GA secondary_vrrp_config_group:InetGW2-VRRP]]
[36m04:23:54.851 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[951]]
[36m04:23:54.851 gohan.server.middleware DEBUG [0m Response body: {
  "internet_service": {
    "be_forwarding_class": "FC-INET-BE",
    "default_static_routes_per_gateway": 32,
    "description": "",
    "downlink_interfaces": [
      "1205d3f2-7568-412a-a554-012340ab3172"
    ],
    "ga_forwarding_class": "FC-INET-GA",
    "id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "inet_in_filter": "INET_IN",
    "inet_out_filter": "INET_OUT",
    "minimal_submask_length": 26,
    "name": "sample-internet-service",
    "neighbour_prefix": "BGP-VIRTUAL-ROUTER-PEERS",
    "primary_ibgp_config_group": "InetGW2-RI-IBGP",
    "primary_vrrp_config_group": "InetGW1-VRRP",
    "secondary_ibgp_config_group": "InetGW1-RI-IBGP",
    "secondary_vrrp_config_group": "InetGW2-VRRP",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "uplink_import_policy": "INSTANCE-MASTER_IN",
    "vrf_config": "",
    "vrf_export_policy": "INSTANCE-USER_OUT",
    "vrf_import_policy": "INSTANCE-USER_IN",
    "zone": "jp1-zone1"
  }
}
04:23:54.851 gohan.server.middleware INFO [0m Completed 200 OK in 75.60566ms
[36m04:23:56.132 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:23:56.133 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [329]
[31m04:23:56.133 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [329]
04:24:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:24:00.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:24:00.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:24:00.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:24:00.156 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:24:00.173 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:24:00.175 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:24:00.178 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:24:01.133 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:24:01.134 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [336]
[31m04:24:01.134 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [336]
04:24:04.882 gohan.server.middleware INFO [0m Started POST /v2.0/qos_options for client 172.17.0.20:45414 data: 
{
"qos_option": {
"bandwidth": "10",
"incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
"incoming_policer_name": "10M-GA-UP-INET",
"name": "10Mbps-Guaranteed",
"outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
"outgoing_policer_name": "10M-GA-DOWN-INET",
"qos_type": "guarantee",
"service_type": "internet",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:04.882 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[628] Content-Type:[application/json]]
[36m04:24:04.882 gohan.server.middleware DEBUG [0m Request body: 
{
"qos_option": {
"bandwidth": "10",
"incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
"incoming_policer_name": "10M-GA-UP-INET",
"name": "10Mbps-Guaranteed",
"outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
"outgoing_policer_name": "10M-GA-DOWN-INET",
"qos_type": "guarantee",
"service_type": "internet",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:04.956 gohan.server.resources DEBUG [0m Create qos_option with data map[qos_type:guarantee internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f bandwidth:10 incoming_policer_name:10M-GA-UP-INET name:10Mbps-Guaranteed service_type:internet incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; outgoing_policer_name:10M-GA-DOWN-INET] started
[36m04:24:04.957 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:24:05.019 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] started
[36m04:24:05.021 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] completed
04:24:05.038 gohan.db.sql INFO [0m Executing SQL query in transaction '5f876233-7872-4ed3-b2f1-978be2683b79': 'INSERT INTO `qos_options` (`service_type`,`description`,`bandwidth`,`ha_router_id`,`incoming_policer_name`,`incoming_policer_config`,`status`,`id`,`qos_type`,`outgoing_policer_name`,`outgoing_policer_config`,`internet_service_id`,`tenant_id`,`name`) VALUES (internet,,10,d4286c1d-86e7-42d3-9d84-a4d9daa3ae17,10M-GA-UP-INET,action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; },PENDING_CREATE,e25f6309-c384-446e-bdc1-5241cb14890b,guarantee,10M-GA-DOWN-INET,if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;,848e04de-733d-4f98-8971-bdb3b83e0296,0b576f6f4cbf414f829cd12f008bf08f,10Mbps-Guaranteed)'
04:24:05.039 gohan.db.sql INFO [0m Executing SQL query in transaction '5f876233-7872-4ed3-b2f1-978be2683b79': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"bandwidth\":\"10\",\"description\":\"\",\"ha_router_id\":\"d4286c1d-86e7-42d3-9d84-a4d9daa3ae17\",\"id\":\"e25f6309-c384-446e-bdc1-5241cb14890b\",\"incoming_policer_config\":\"action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }\",\"incoming_policer_name\":\"10M-GA-UP-INET\",\"internet_service_id\":\"848e04de-733d-4f98-8971-bdb3b83e0296\",\"name\":\"10Mbps-Guaranteed\",\"outgoing_policer_config\":\"if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;\",\"outgoing_policer_name\":\"10M-GA-DOWN-INET\",\"qos_type\":\"guarantee\",\"service_type\":\"internet\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b,1494476645,create,false)'
[36m04:24:05.056 gohan.server.resources DEBUG [0m Create qos_option completed: map[qos_option:map[id:e25f6309-c384-446e-bdc1-5241cb14890b bandwidth:10 name:10Mbps-Guaranteed qos_type:guarantee outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; description: status:PENDING_CREATE ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 incoming_policer_name:10M-GA-UP-INET internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } outgoing_policer_name:10M-GA-DOWN-INET service_type:internet]]
[36m04:24:05.057 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[836]]
[36m04:24:05.057 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "bandwidth": "10",
    "description": "",
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-INET",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-INET",
    "qos_type": "guarantee",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:05.057 gohan.server.middleware INFO [0m Completed 201 Created in 175.045425ms
[36m04:24:05.059 gohan.server.sync DEBUG [0m Processing event 72 - create
04:24:05.059 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b
[36m04:24:05.065 gohan.server.sync DEBUG [0m Deleting event 72
04:24:05.067 gohan.db.sql INFO [0m Executing SQL query in transaction '062ab046-5d3d-4a1d-842d-9f2402fecbb4': 'DELETE FROM `events` WHERE id = 72'
[36m04:24:05.067 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:24:05.070 gohan.server DEBUG [0m State event update received: set /state/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b map[error: state:map[worker_state:READ_COMPLETE] version:1]
04:24:05.070 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b map[error: state:map[worker_state:READ_COMPLETE] version:1] started
04:24:05.081 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b for client 172.17.0.20:45428 data: 
[36m04:24:05.081 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:05.081 gohan.server.middleware DEBUG [0m Request body: 
04:24:05.087 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b with index 340
04:24:05.165 gohan.db.sql INFO [0m Executing SQL query in transaction '5628b4db-bf99-4cd1-b2f5-8a5114005291': 'UPDATE `qos_options` SET `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `incoming_policer_name` = 10M-GA-UP-INET, `incoming_policer_config` = action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }, `bandwidth` = 10, `id` = e25f6309-c384-446e-bdc1-5241cb14890b, `qos_type` = guarantee, `outgoing_policer_name` = 10M-GA-DOWN-INET, `outgoing_policer_config` = if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;, `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `status` = PENDING_CREATE, `charge_type` = <nil>, `aws_service_id` = <nil>, `name` = 10Mbps-Guaranteed, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `interdc_service_id` = <nil>, `description` = , `vpn_service_id` = <nil>, `service_type` = internet, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = e25f6309-c384-446e-bdc1-5241cb14890b'
04:24:05.167 gohan.extension.qos_option.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:24:05.167 gohan.db.sql INFO [0m Executing SQL query in transaction '5628b4db-bf99-4cd1-b2f5-8a5114005291': 'UPDATE `qos_options` SET `charge_type` = <nil>, `aws_service_id` = <nil>, `name` = 10Mbps-Guaranteed, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `interdc_service_id` = <nil>, `description` = , `vpn_service_id` = <nil>, `service_type` = internet, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `incoming_policer_name` = 10M-GA-UP-INET, `incoming_policer_config` = action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }, `bandwidth` = 10, `id` = e25f6309-c384-446e-bdc1-5241cb14890b, `qos_type` = guarantee, `outgoing_policer_name` = 10M-GA-DOWN-INET, `outgoing_policer_config` = if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;, `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `status` = ACTIVE WHERE id = e25f6309-c384-446e-bdc1-5241cb14890b'
04:24:05.178 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b with index 340
04:24:05.185 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b already unlocked or not locked
[36m04:24:05.185 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b started
[36m04:24:05.188 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b completed: map[qos_option:map[description: internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 charge_type:<nil> name:10Mbps-Guaranteed vpn_service_id:<nil> ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } interdc_service_id:<nil> outgoing_policer_name:10M-GA-DOWN-INET tenant_id:0b576f6f4cbf414f829cd12f008bf08f outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; aws_service_id:<nil> service_type:internet bandwidth:10 incoming_policer_name:10M-GA-UP-INET status:ACTIVE id:e25f6309-c384-446e-bdc1-5241cb14890b qos_type:guarantee]]
[36m04:24:05.188 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[941]]
[36m04:24:05.188 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-INET",
    "interdc_service_id": null,
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-INET",
    "qos_type": "guarantee",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": null
  }
}
04:24:05.188 gohan.server.middleware INFO [0m Completed 200 OK in 107.362554ms
04:24:05.547 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b for client 172.17.0.20:45438 data: 
[36m04:24:05.547 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:24:05.547 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:05.618 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b started
[36m04:24:05.621 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b completed: map[qos_option:map[ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 incoming_policer_name:10M-GA-UP-INET id:e25f6309-c384-446e-bdc1-5241cb14890b charge_type:<nil> vpn_service_id:<nil> internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 interdc_service_id:<nil> name:10Mbps-Guaranteed service_type:internet bandwidth:10 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; status:ACTIVE qos_type:guarantee outgoing_policer_name:10M-GA-DOWN-INET incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_service_id:<nil> description:]]
[36m04:24:05.622 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[941]]
[36m04:24:05.622 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-INET",
    "interdc_service_id": null,
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-INET",
    "qos_type": "guarantee",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": null
  }
}
04:24:05.622 gohan.server.middleware INFO [0m Completed 200 OK in 74.468035ms
04:24:05.623 gohan.server.middleware INFO [0m Started GET /v2.0/qos_options/e25f6309-c384-446e-bdc1-5241cb14890b for client 172.17.0.20:45444 data: {}
[36m04:24:05.623 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:24:05.624 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:05.700 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b started
[36m04:24:05.702 gohan.server.resources DEBUG [0m Show qos_option e25f6309-c384-446e-bdc1-5241cb14890b completed: map[qos_option:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f bandwidth:10 incoming_policer_name:10M-GA-UP-INET outgoing_policer_name:10M-GA-DOWN-INET internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 outgoing_policer_config:if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard; charge_type:<nil> name:10Mbps-Guaranteed status:ACTIVE id:e25f6309-c384-446e-bdc1-5241cb14890b description: vpn_service_id:<nil> ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 qos_type:guarantee service_type:internet incoming_policer_config:action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; } aws_service_id:<nil> interdc_service_id:<nil>]]
[36m04:24:05.703 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[941]]
[36m04:24:05.703 gohan.server.middleware DEBUG [0m Response body: {
  "qos_option": {
    "aws_service_id": null,
    "bandwidth": "10",
    "charge_type": null,
    "description": "",
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "incoming_policer_config": "action { loss-priority high then discard; } single-rate { color-blind; committed-information-rate 10m; committed-burst-size 187500000; excess-burst-size 187500000; }",
    "incoming_policer_name": "10M-GA-UP-INET",
    "interdc_service_id": null,
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "name": "10Mbps-Guaranteed",
    "outgoing_policer_config": "if-exceeding { bandwidth-limit 10m; burst-size-limit 187500000; } then discard;",
    "outgoing_policer_name": "10M-GA-DOWN-INET",
    "qos_type": "guarantee",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_service_id": null
  }
}
04:24:05.703 gohan.server.middleware INFO [0m Completed 200 OK in 79.422198ms
04:24:05.729 gohan.server.middleware INFO [0m Started POST /v2.0/public_ip_pools for client 172.17.0.20:45450 data: 
{
"public_ip_pool": {
"ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"ip_version": 4,
"submask_length": 23,
"subnet_ip": "203.0.112.0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:05.729 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[260] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:05.729 gohan.server.middleware DEBUG [0m Request body: 
{
"public_ip_pool": {
"ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"ip_version": 4,
"submask_length": 23,
"subnet_ip": "203.0.112.0",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:05.800 gohan.server.resources DEBUG [0m Create public_ip_pool with data map[internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 ip_version:4 submask_length:23 subnet_ip:203.0.112.0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17] started
[36m04:24:05.800 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:24:05.863 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] started
[36m04:24:05.865 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] completed
[36m04:24:05.926 gohan.server.resources DEBUG [0m List ha_router query: map[id:[d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]] started
[36m04:24:05.928 gohan.server.resources DEBUG [0m List ha_router query: map[id:[d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]] completed
04:24:05.932 gohan.db.sql INFO [0m Executing SQL query in transaction '3c3036b3-5323-4be3-956f-c9ba6fa315dd': 'INSERT INTO `public_ip_pools` (`addresses_available`,`submask_length`,`ha_router_id`,`internet_service_id`,`tenant_id`,`id`,`pool_state`,`subnet_ip`,`ip_version`) VALUES (512,23,d4286c1d-86e7-42d3-9d84-a4d9daa3ae17,848e04de-733d-4f98-8971-bdb3b83e0296,0b576f6f4cbf414f829cd12f008bf08f,5cd14f90-cf3c-4aeb-b30a-227b3c936761,AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==,203.0.112.0,4)'
04:24:05.933 gohan.db.sql INFO [0m Executing SQL query in transaction '3c3036b3-5323-4be3-956f-c9ba6fa315dd': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761,1494476645,create,false,"{\"addresses_available\":512,\"ha_router_id\":\"d4286c1d-86e7-42d3-9d84-a4d9daa3ae17\",\"id\":\"5cd14f90-cf3c-4aeb-b30a-227b3c936761\",\"internet_service_id\":\"848e04de-733d-4f98-8971-bdb3b83e0296\",\"ip_version\":4,\"pool_state\":\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\"submask_length\":23,\"subnet_ip\":\"203.0.112.0\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:24:05.944 gohan.server.resources DEBUG [0m Create public_ip_pool completed: map[public_ip_pool:map[internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 ip_version:4 submask_length:23 subnet_ip:203.0.112.0 id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 tenant_id:0b576f6f4cbf414f829cd12f008bf08f addresses_available:512 pool_state:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==]]
[36m04:24:05.945 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[735]]
[36m04:24:05.945 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip_pool": {
    "addresses_available": 512,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "ip_version": 4,
    "pool_state": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
    "submask_length": 23,
    "subnet_ip": "203.0.112.0",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:05.945 gohan.server.middleware INFO [0m Completed 201 Created in 216.40716ms
[36m04:24:05.954 gohan.server.sync DEBUG [0m Processing event 73 - create
04:24:05.954 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761
[36m04:24:05.957 gohan.server.sync DEBUG [0m Deleting event 73
04:24:05.960 gohan.db.sql INFO [0m Executing SQL query in transaction 'ed322d4d-6dee-444d-8326-1ca5042a8886': 'DELETE FROM `events` WHERE id = 73'
[36m04:24:05.960 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:24:05.964 gohan.server.middleware INFO [0m Started GET /v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 for client 172.17.0.20:45462 data: 
[36m04:24:05.964 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:05.964 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:05.973 gohan.server DEBUG [0m State event update received: set /state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 map[state:map[worker_state:READ_COMPLETE] version:1 error:]
04:24:05.973 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 map[error: state:map[worker_state:READ_COMPLETE] version:1] started
04:24:05.987 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 with index 346
04:24:06.055 gohan.db.sql INFO [0m Executing SQL query in transaction '3344d288-f82e-46f3-abfe-3599fd50cb28': 'UPDATE `public_ip_pools` SET `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 5cd14f90-cf3c-4aeb-b30a-227b3c936761, `pool_state` = AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==, `subnet_ip` = 203.0.112.0, `ip_version` = 4, `addresses_available` = 512, `submask_length` = 23, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 5cd14f90-cf3c-4aeb-b30a-227b3c936761'
[36m04:24:06.059 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 started
[36m04:24:06.061 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 completed: map[public_ip_pool:map[addresses_available:512 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 ip_version:4 submask_length:23 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 pool_state:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA== subnet_ip:203.0.112.0]]
[36m04:24:06.061 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[735]]
[36m04:24:06.061 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip_pool": {
    "addresses_available": 512,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "ip_version": 4,
    "pool_state": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
    "submask_length": 23,
    "subnet_ip": "203.0.112.0",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:06.061 gohan.server.middleware INFO [0m Completed 200 OK in 97.617463ms
04:24:06.066 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 with index 346
04:24:06.077 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 already unlocked or not locked
[36m04:24:06.134 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:24:06.135 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [350]
[31m04:24:06.135 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [350]
04:24:06.437 gohan.server.middleware INFO [0m Started GET /v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 for client 172.17.0.20:45474 data: 
[36m04:24:06.437 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:24:06.437 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:06.510 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 started
[36m04:24:06.512 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 completed: map[public_ip_pool:map[internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f pool_state:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA== addresses_available:512 submask_length:23 id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 subnet_ip:203.0.112.0 ip_version:4 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]]
[36m04:24:06.513 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[735]]
[36m04:24:06.513 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip_pool": {
    "addresses_available": 512,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "ip_version": 4,
    "pool_state": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
    "submask_length": 23,
    "subnet_ip": "203.0.112.0",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:06.513 gohan.server.middleware INFO [0m Completed 200 OK in 76.304303ms
04:24:06.515 gohan.server.middleware INFO [0m Started GET /v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 for client 172.17.0.20:45480 data: {}
[36m04:24:06.515 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:24:06.515 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:06.588 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 started
[36m04:24:06.590 gohan.server.resources DEBUG [0m Show public_ip_pool 5cd14f90-cf3c-4aeb-b30a-227b3c936761 completed: map[public_ip_pool:map[pool_state:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA== ip_version:4 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 submask_length:23 subnet_ip:203.0.112.0 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 addresses_available:512 ha_router_id:d4286c1d-86e7-42d3-9d84-a4d9daa3ae17]]
[36m04:24:06.591 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[735]]
[36m04:24:06.591 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip_pool": {
    "addresses_available": 512,
    "ha_router_id": "d4286c1d-86e7-42d3-9d84-a4d9daa3ae17",
    "id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "ip_version": 4,
    "pool_state": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",
    "submask_length": 23,
    "subnet_ip": "203.0.112.0",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:06.591 gohan.server.middleware INFO [0m Completed 200 OK in 76.257511ms
04:24:06.615 gohan.server.middleware INFO [0m Started POST /v2.0/internet_gateways for client 172.17.0.20:45486 data: 
{
"internet_gateway": {
"description": "Sample Internet-gateway",
"maximum_static_routes": 32,
"name": "sample-internet-gateway",
"qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:06.615 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[302]]
[36m04:24:06.615 gohan.server.middleware DEBUG [0m Request body: 
{
"internet_gateway": {
"description": "Sample Internet-gateway",
"maximum_static_routes": 32,
"name": "sample-internet-gateway",
"qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
"internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:06.689 gohan.server.resources DEBUG [0m Create internet_gateway with data map[description:Sample Internet-gateway maximum_static_routes:32 name:sample-internet-gateway qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:24:06.689 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:24:06.752 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] started
[36m04:24:06.754 gohan.server.resources DEBUG [0m List internet_service query: map[id:[848e04de-733d-4f98-8971-bdb3b83e0296]] completed
[36m04:24:06.811 gohan.server.resources DEBUG [0m List qos_option query: map[id:[e25f6309-c384-446e-bdc1-5241cb14890b]] started
[36m04:24:06.813 gohan.server.resources DEBUG [0m List qos_option query: map[id:[e25f6309-c384-446e-bdc1-5241cb14890b]] completed
04:24:06.921 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'UPDATE `ha_routers` SET `status` = ACTIVE, `name` = sample-ha-router, `secondary_router_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `available_gateways` = 500, `primary_router_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `maximum_gateways` = 500, `description` = sample_ha_router WHERE id = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17'
04:24:06.921 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'UPDATE `ha_interfaces` SET `description` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = ACTIVE, `available_ga_bandwidth` = 490, `primary_interface_id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `admin_state_up` = true, `vlan_pool_state` = ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM=, `restricted_vlans` = 0-1024,4094, `id` = 1205d3f2-7568-412a-a554-012340ab3172, `vlan_ids_available` = 3068, `gateway_instances_count` = 1, `maximum_ga_bandwidth` = 500, `link_type` = downlink, `maximum_be_bandwidth` = 500, `available_be_bandwidth` = 500, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `name` = sample-ha-router-downlink, `secondary_interface_id` = 469e4283-80e6-491c-830f-c483c1f7c695 WHERE id = 1205d3f2-7568-412a-a554-012340ab3172'
[36m04:24:06.927 gohan.extension.internet_gateway.pre_create_in_transaction DEBUG [0m downlink logical ports names: ae0.1025, ae0.1025, VLAN ID: 1025
[36m04:24:06.928 gohan.extension.internet_gateway.pre_create_in_transaction DEBUG [0m Downlink vrf_name: vrf_gw_sample-ha-router-downlink_1025
04:24:06.932 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'UPDATE `ha_routers` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = ACTIVE, `name` = sample-ha-router, `secondary_router_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `description` = sample_ha_router, `available_gateways` = 499, `primary_router_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `maximum_gateways` = 500 WHERE id = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17'
04:24:06.933 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'INSERT INTO `internet_gateways` (`vlan_id`,`qos_option_id`,`secondary_logical_interface_name`,`name`,`status`,`downlink_interface_id`,`tenant_id`,`description`,`maximum_static_routes`,`primary_logical_interface_name`,`id`,`vrf_name`,`internet_service_id`) VALUES (1025,e25f6309-c384-446e-bdc1-5241cb14890b,ae0.1025,sample-internet-gateway,PENDING_CREATE,1205d3f2-7568-412a-a554-012340ab3172,0b576f6f4cbf414f829cd12f008bf08f,Sample Internet-gateway,32,ae0.1025,429e24b5-a2f0-4fb8-b467-e335857e9476,vrf_gw_sample-ha-router-downlink_1025,848e04de-733d-4f98-8971-bdb3b83e0296)'
04:24:06.934 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476,1494476646,create,false,"{\"description\":\"Sample Internet-gateway\",\"downlink_interface_id\":\"1205d3f2-7568-412a-a554-012340ab3172\",\"id\":\"429e24b5-a2f0-4fb8-b467-e335857e9476\",\"internet_service_id\":\"848e04de-733d-4f98-8971-bdb3b83e0296\",\"maximum_static_routes\":32,\"name\":\"sample-internet-gateway\",\"primary_logical_interface_name\":\"ae0.1025\",\"qos_option_id\":\"e25f6309-c384-446e-bdc1-5241cb14890b\",\"secondary_logical_interface_name\":\"ae0.1025\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vlan_id\":\"1025\",\"vrf_name\":\"vrf_gw_sample-ha-router-downlink_1025\"}",1)'
04:24:06.939 gohan.extension.internet_gateway.post_create_in_transaction INFO [0m Creating a billing resource: {"config_version":1,"ended":null,"id":"35e4ba02-217d-492d-b256-adbe19c516d5","info":{"internet_service":"sample-internet-service"},"parent_billing_id":null,"resource_id":"429e24b5-a2f0-4fb8-b467-e335857e9476","resource_type":"internet_gateway","started":null,"tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"429e24b5-a2f0-4fb8-b467-e335857e9476"}
04:24:06.940 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'INSERT INTO `billing_resources` (`unique_resource_id`,`resource_type`,`config_version`,`id`,`parent_billing_id`,`tenant_id`,`ended`,`info`,`started`,`resource_id`) VALUES (429e24b5-a2f0-4fb8-b467-e335857e9476,internet_gateway,1,35e4ba02-217d-492d-b256-adbe19c516d5,<nil>,0b576f6f4cbf414f829cd12f008bf08f,<nil>,{"internet_service":"sample-internet-service"},<nil>,429e24b5-a2f0-4fb8-b467-e335857e9476)'
[36m04:24:06.940 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
04:24:06.941 gohan.extension.internet_gateway.post_create_in_transaction INFO [0m Creating a child billing resource: {"config_version":1,"ended":null,"id":"e32e992e-8553-448c-860f-6e63bbe30c19","info":{"bandwidth":"10","qos_type":"guarantee"},"parent_billing_id":"35e4ba02-217d-492d-b256-adbe19c516d5","resource_id":"e25f6309-c384-446e-bdc1-5241cb14890b","resource_type":"qos_option","started":null,"tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":null}
04:24:06.941 gohan.db.sql INFO [0m Executing SQL query in transaction '842e44af-ef9d-4f30-93d9-5bc30a06ba08': 'INSERT INTO `billing_resources` (`id`,`parent_billing_id`,`unique_resource_id`,`resource_type`,`config_version`,`started`,`resource_id`,`tenant_id`,`ended`,`info`) VALUES (e32e992e-8553-448c-860f-6e63bbe30c19,35e4ba02-217d-492d-b256-adbe19c516d5,<nil>,qos_option,1,<nil>,e25f6309-c384-446e-bdc1-5241cb14890b,0b576f6f4cbf414f829cd12f008bf08f,<nil>,{"bandwidth":"10","qos_type":"guarantee"})'
[36m04:24:06.941 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
[36m04:24:06.950 gohan.server.resources DEBUG [0m Create internet_gateway completed: map[internet_gateway:map[status:PENDING_CREATE maximum_static_routes:32 description:Sample Internet-gateway qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:429e24b5-a2f0-4fb8-b467-e335857e9476 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 primary_logical_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 name:sample-internet-gateway vlan_id:1025 secondary_logical_interface_name:ae0.1025]]
[36m04:24:06.951 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[662]]
[36m04:24:06.951 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:06.951 gohan.server.middleware INFO [0m Completed 201 Created in 336.118598ms
[36m04:24:06.958 gohan.server.sync DEBUG [0m Processing event 74 - create
04:24:06.958 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476
[36m04:24:06.965 gohan.server.sync DEBUG [0m Deleting event 74
04:24:06.971 gohan.db.sql INFO [0m Executing SQL query in transaction 'df3c7895-5ea5-467b-870f-72f054b1f1bc': 'DELETE FROM `events` WHERE id = 74'
[36m04:24:06.972 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:24:06.982 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45498 data: 
[36m04:24:06.982 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:06.982 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:07.084 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:07.093 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[primary_logical_interface_name:ae0.1025 status:PENDING_CREATE maximum_static_routes:32 vrf_name:vrf_gw_sample-ha-router-downlink_1025 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b name:sample-internet-gateway vlan_id:1025 secondary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 description:Sample Internet-gateway id:429e24b5-a2f0-4fb8-b467-e335857e9476 associated_uplink_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:24:07.093 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:07.093 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:07.093 gohan.server.middleware INFO [0m Completed 200 OK in 111.038271ms
04:24:08.103 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45522 data: 
[36m04:24:08.104 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:08.104 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:08.179 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:08.182 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[vrf_name:vrf_gw_sample-ha-router-downlink_1025 secondary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Internet-gateway id:429e24b5-a2f0-4fb8-b467-e335857e9476 associated_uplink_id:<nil> internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 primary_logical_interface_name:ae0.1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b status:PENDING_CREATE name:sample-internet-gateway maximum_static_routes:32 vlan_id:1025]]
[36m04:24:08.182 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:08.182 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:08.182 gohan.server.middleware INFO [0m Completed 200 OK in 78.739325ms
04:24:09.194 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45528 data: 
[36m04:24:09.194 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:09.194 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:09.271 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:09.274 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[vrf_name:vrf_gw_sample-ha-router-downlink_1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-internet-gateway internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b secondary_logical_interface_name:ae0.1025 associated_uplink_id:<nil> downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 description:Sample Internet-gateway primary_logical_interface_name:ae0.1025 vlan_id:1025 maximum_static_routes:32 id:429e24b5-a2f0-4fb8-b467-e335857e9476 status:PENDING_CREATE]]
[36m04:24:09.274 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:09.274 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:09.274 gohan.server.middleware INFO [0m Completed 200 OK in 80.200382ms
04:24:10.286 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45534 data: 
[36m04:24:10.286 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:10.286 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:10.373 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:10.375 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[vrf_name:vrf_gw_sample-ha-router-downlink_1025 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 maximum_static_routes:32 primary_logical_interface_name:ae0.1025 vlan_id:1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Internet-gateway status:PENDING_CREATE id:429e24b5-a2f0-4fb8-b467-e335857e9476 secondary_logical_interface_name:ae0.1025 associated_uplink_id:<nil> name:sample-internet-gateway downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172]]
[36m04:24:10.375 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:10.376 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:10.376 gohan.server.middleware INFO [0m Completed 200 OK in 90.079251ms
[36m04:24:11.135 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:24:11.136 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [362]
[31m04:24:11.136 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [362]
04:24:11.388 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45540 data: 
[36m04:24:11.388 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:11.388 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:11.464 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:11.467 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_logical_interface_name:ae0.1025 associated_uplink_id:<nil> description:Sample Internet-gateway name:sample-internet-gateway status:PENDING_CREATE maximum_static_routes:32 id:429e24b5-a2f0-4fb8-b467-e335857e9476 vlan_id:1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 primary_logical_interface_name:ae0.1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:24:11.467 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:11.467 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:11.467 gohan.server.middleware INFO [0m Completed 200 OK in 79.237665ms
04:24:12.479 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45548 data: 
[36m04:24:12.479 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:12.479 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:12.556 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:12.559 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b id:429e24b5-a2f0-4fb8-b467-e335857e9476 vrf_name:vrf_gw_sample-ha-router-downlink_1025 vlan_id:1025 secondary_logical_interface_name:ae0.1025 associated_uplink_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f primary_logical_interface_name:ae0.1025 name:sample-internet-gateway status:PENDING_CREATE downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 description:Sample Internet-gateway maximum_static_routes:32 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296]]
[36m04:24:12.559 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:12.559 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:12.559 gohan.server.middleware INFO [0m Completed 200 OK in 80.240457ms
04:24:13.570 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45554 data: 
[36m04:24:13.571 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:13.571 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:13.644 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:13.647 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[name:sample-internet-gateway maximum_static_routes:32 vlan_id:1025 associated_uplink_id:<nil> status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Internet-gateway primary_logical_interface_name:ae0.1025 id:429e24b5-a2f0-4fb8-b467-e335857e9476 vrf_name:vrf_gw_sample-ha-router-downlink_1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b secondary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296]]
[36m04:24:13.647 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:13.647 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:13.647 gohan.server.middleware INFO [0m Completed 200 OK in 76.67838ms
04:24:14.659 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45560 data: 
[36m04:24:14.659 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:24:14.659 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:14.741 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:14.744 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[vlan_id:1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 maximum_static_routes:32 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 description:Sample Internet-gateway name:sample-internet-gateway status:PENDING_CREATE primary_logical_interface_name:ae0.1025 id:429e24b5-a2f0-4fb8-b467-e335857e9476 vrf_name:vrf_gw_sample-ha-router-downlink_1025 associated_uplink_id:<nil> qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b tenant_id:0b576f6f4cbf414f829cd12f008bf08f secondary_logical_interface_name:ae0.1025]]
[36m04:24:14.744 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:14.744 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:14.744 gohan.server.middleware INFO [0m Completed 200 OK in 85.047963ms
04:24:15.757 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45568 data: 
[36m04:24:15.757 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:15.757 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:15.833 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:15.835 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 vlan_id:1025 status:PENDING_CREATE maximum_static_routes:32 primary_logical_interface_name:ae0.1025 secondary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Internet-gateway vrf_name:vrf_gw_sample-ha-router-downlink_1025 associated_uplink_id:<nil> name:sample-internet-gateway id:429e24b5-a2f0-4fb8-b467-e335857e9476 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b]]
[36m04:24:15.836 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:15.836 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:15.836 gohan.server.middleware INFO [0m Completed 200 OK in 78.690941ms
[36m04:24:16.136 gohan.server DEBUG [0m Monitoring Watcher starts watch
[31m04:24:16.137 gohan.sync.etcd ERROR [0m watch error: 100: Key not found (/monitoring) [363]
[31m04:24:16.137 gohan.server ERROR [0m sync watch error: 100: Key not found (/monitoring) [363]
04:24:16.848 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45574 data: 
[36m04:24:16.848 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:16.848 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:16.923 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:16.926 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[id:429e24b5-a2f0-4fb8-b467-e335857e9476 vlan_id:1025 associated_uplink_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b maximum_static_routes:32 primary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 description:Sample Internet-gateway vrf_name:vrf_gw_sample-ha-router-downlink_1025 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_logical_interface_name:ae0.1025 name:sample-internet-gateway status:PENDING_CREATE]]
[36m04:24:16.926 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:16.926 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:16.926 gohan.server.middleware INFO [0m Completed 200 OK in 78.324001ms
04:24:17.938 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45580 data: 
[36m04:24:17.938 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:17.938 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:18.011 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:18.014 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[maximum_static_routes:32 vrf_name:vrf_gw_sample-ha-router-downlink_1025 associated_uplink_id:<nil> status:PENDING_CREATE downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 secondary_logical_interface_name:ae0.1025 description:Sample Internet-gateway primary_logical_interface_name:ae0.1025 name:sample-internet-gateway internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 vlan_id:1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:429e24b5-a2f0-4fb8-b467-e335857e9476]]
[36m04:24:18.014 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[696] Content-Type:[application/json]]
[36m04:24:18.015 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:18.015 gohan.server.middleware INFO [0m Completed 200 OK in 76.990014ms
04:24:19.024 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45586 data: 
[36m04:24:19.024 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:19.024 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:19.090 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:19.092 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[maximum_static_routes:32 secondary_logical_interface_name:ae0.1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 description:Sample Internet-gateway primary_logical_interface_name:ae0.1025 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b name:sample-internet-gateway internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 associated_uplink_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:429e24b5-a2f0-4fb8-b467-e335857e9476 vrf_name:vrf_gw_sample-ha-router-downlink_1025 vlan_id:1025 status:PENDING_CREATE]]
[36m04:24:19.093 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:19.093 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:19.093 gohan.server.middleware INFO [0m Completed 200 OK in 68.521311ms
04:24:20.103 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45592 data: 
[36m04:24:20.103 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:20.103 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:20.171 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:20.174 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b tenant_id:0b576f6f4cbf414f829cd12f008bf08f downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 name:sample-internet-gateway maximum_static_routes:32 primary_logical_interface_name:ae0.1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_logical_interface_name:ae0.1025 associated_uplink_id:<nil> vlan_id:1025 status:PENDING_CREATE description:Sample Internet-gateway id:429e24b5-a2f0-4fb8-b467-e335857e9476]]
[36m04:24:20.174 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:20.174 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:20.174 gohan.server.middleware INFO [0m Completed 200 OK in 71.188338ms
[36m04:24:21.137 gohan.server DEBUG [0m Monitoring Watcher starts watch
[36m04:24:21.139 gohan.server DEBUG [0m Monitoring event update received: get /monitoring map[]
[36m04:24:21.139 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0 map[]
[36m04:24:21.139 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices map[]
[36m04:24:21.139 gohan.server DEBUG [0m Monitoring event update received: get /monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 map[switch:UP version:1]
04:24:21.139 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 map[switch:UP version:1] started
[33m04:24:21.140 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '/v2.0'
[33m04:24:21.140 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: State update on unexpected path '//monitoring'
04:24:21.140 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices map[] started
[33m04:24:21.141 gohan.server.sync WARNING [0m Unhandled error during monitoring update - aborting: No resource found
04:24:21.145 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 with index 365
04:24:21.186 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45606 data: 
[36m04:24:21.186 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:24:21.186 gohan.server.middleware DEBUG [0m Request body: 
04:24:21.198 gohan.db.sql INFO [0m Executing SQL query in transaction '39ef4e91-43dc-4ec1-81cf-7bf416103268': 'UPDATE `ese_devices` SET `description` = , `flavor` = <nil>, `location` = <nil>, `status` = ACTIVE, `tor_agent_names` = null, `public_ip_address` = 10.161.0.34, `type` = tor, `name` = QFX-NW02, `password` = password, `management_ip_address` = 10.161.0.34, `id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `tags` = {}, `tsn_names` = null, `existing` = existing, `hostname` = QFX-NW02, `username` = esi, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": [\"default-global-system-config\", \"QFX-NW02\"], \"description\": \"The FQ name of the physical router.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"physical_router\", \"description\": \"A unique id for the physical router.\", \"output_key\": \"id\"}, {\"output_value\": \"dummy\", \"description\": \"The name of the physical router.\", \"output_key\": \"name\"}]","state_monitoring":"{\"switch\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"switch":"UP"}, `marked_for_deletion` = 0 WHERE id = a1f745c1-e6b9-45ef-94db-f33b37709fb0'
04:24:21.199 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:21.200 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"switch": "ACTIVE"}
04:24:21.200 gohan.extension.ese_device.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"switch":"UP"}
04:24:21.213 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 with index 365
04:24:21.213 gohan.server.sync INFO [0m MonitoringUpdate for get /monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 completed
04:24:21.235 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_devices/a1f745c1-e6b9-45ef-94db-f33b37709fb0 already unlocked or not locked
[36m04:24:21.777 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:21.785 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[id:429e24b5-a2f0-4fb8-b467-e335857e9476 secondary_logical_interface_name:ae0.1025 status:PENDING_CREATE downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b description:Sample Internet-gateway primary_logical_interface_name:ae0.1025 vlan_id:1025 vrf_name:vrf_gw_sample-ha-router-downlink_1025 associated_uplink_id:<nil> name:sample-internet-gateway maximum_static_routes:32]]
[36m04:24:21.785 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:21.785 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:21.785 gohan.server.middleware INFO [0m Completed 200 OK in 599.643019ms
04:24:22.795 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45612 data: 
[36m04:24:22.795 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:22.795 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:22.858 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:22.861 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[name:sample-internet-gateway associated_uplink_id:<nil> downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 maximum_static_routes:32 vrf_name:vrf_gw_sample-ha-router-downlink_1025 secondary_logical_interface_name:ae0.1025 status:PENDING_CREATE description:Sample Internet-gateway internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 primary_logical_interface_name:ae0.1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:429e24b5-a2f0-4fb8-b467-e335857e9476 qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b vlan_id:1025]]
[36m04:24:22.861 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[696]]
[36m04:24:22.861 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:22.861 gohan.server.middleware INFO [0m Completed 200 OK in 65.959448ms
[36m04:24:23.737 gohan.server DEBUG [0m State event update received: set /state/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 map[state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE", "uplink": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1 error:]
04:24:23.737 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 map[error: state:map[heat_outputs:[] state_monitoring:{"downlink": "ACTIVE", "uplink": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:24:23.745 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 with index 383
04:24:23.806 gohan.db.sql INFO [0m Executing SQL query in transaction '8b4621b6-0c51-481e-8b36-37a8d09bf46d': 'UPDATE `internet_gateways` SET `name` = sample-internet-gateway, `status` = PENDING_CREATE, `downlink_interface_id` = 1205d3f2-7568-412a-a554-012340ab3172, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = Sample Internet-gateway, `maximum_static_routes` = 32, `primary_logical_interface_name` = ae0.1025, `id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `vlan_id` = 1025, `qos_option_id` = e25f6309-c384-446e-bdc1-5241cb14890b, `secondary_logical_interface_name` = ae0.1025, `associated_uplink_id` = <nil>, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"downlink\": \"ACTIVE\", \"uplink\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 429e24b5-a2f0-4fb8-b467-e335857e9476'
04:24:23.807 gohan.extension.internet_gateway.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:24:23.807 gohan.extension.internet_gateway.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"downlink": "ACTIVE", "uplink": "ACTIVE"}
04:24:23.809 gohan.db.sql INFO [0m Executing SQL query in transaction '8b4621b6-0c51-481e-8b36-37a8d09bf46d': 'UPDATE `internet_gateways` SET `status` = ACTIVE, `downlink_interface_id` = 1205d3f2-7568-412a-a554-012340ab3172, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-internet-gateway, `maximum_static_routes` = 32, `description` = Sample Internet-gateway, `id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `vrf_name` = vrf_gw_sample-ha-router-downlink_1025, `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `primary_logical_interface_name` = ae0.1025, `qos_option_id` = e25f6309-c384-446e-bdc1-5241cb14890b, `secondary_logical_interface_name` = ae0.1025, `associated_uplink_id` = <nil>, `vlan_id` = 1025 WHERE id = 429e24b5-a2f0-4fb8-b467-e335857e9476'
04:24:23.810 gohan.db.sql INFO [0m Executing SQL query in transaction '8b4621b6-0c51-481e-8b36-37a8d09bf46d': 'SELECT billing_resources.`config_version` as `billing_resources__config_version`, billing_resources.`id` as `billing_resources__id`, billing_resources.`parent_billing_id` as `billing_resources__parent_billing_id`, billing_resources.`unique_resource_id` as `billing_resources__unique_resource_id`, billing_resources.`resource_type` as `billing_resources__resource_type`, billing_resources.`info` as `billing_resources__info`, billing_resources.`started` as `billing_resources__started`, billing_resources.`resource_id` as `billing_resources__resource_id`, billing_resources.`tenant_id` as `billing_resources__tenant_id`, billing_resources.`ended` as `billing_resources__ended` FROM billing_resources AS billing_resources       INNER JOIN billing_resources AS parent       ON billing_resources.parent_billing_id = parent.id  WHERE billing_resources.resource_type = qos_option        AND billing_resources.config_version = 1        AND parent.resource_type = internet_gateway        AND parent.unique_resource_id = 429e24b5-a2f0-4fb8-b467-e335857e9476 '
04:24:23.811 gohan.extension.internet_gateway.post_state_update_in_transaction INFO [0m Starting a child billing resource: {"config_version":1,"id":"e32e992e-8553-448c-860f-6e63bbe30c19","info":{"bandwidth":"10","qos_type":"guarantee"},"parent_billing_id":"35e4ba02-217d-492d-b256-adbe19c516d5","resource_id":"e25f6309-c384-446e-bdc1-5241cb14890b","resource_type":"qos_option","tenant_id":"0b576f6f4cbf414f829cd12f008bf08f"} at 1494476663
04:24:23.812 gohan.db.sql INFO [0m Executing SQL query in transaction '8b4621b6-0c51-481e-8b36-37a8d09bf46d': 'UPDATE `billing_resources` SET `resource_id` = e25f6309-c384-446e-bdc1-5241cb14890b, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `ended` = <nil>, `info` = {"bandwidth":"10","qos_type":"guarantee"}, `started` = 1.494476663e+09, `parent_billing_id` = 35e4ba02-217d-492d-b256-adbe19c516d5, `unique_resource_id` = <nil>, `resource_type` = qos_option, `config_version` = 1, `id` = e32e992e-8553-448c-860f-6e63bbe30c19 WHERE id = e32e992e-8553-448c-860f-6e63bbe30c19'
[36m04:24:23.812 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
04:24:23.813 gohan.extension.internet_gateway.post_state_update_in_transaction INFO [0m Starting parent billing resource as well: {"config_version":1,"id":"35e4ba02-217d-492d-b256-adbe19c516d5","info":{"internet_service":"sample-internet-service"},"resource_id":"429e24b5-a2f0-4fb8-b467-e335857e9476","resource_type":"internet_gateway","tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"429e24b5-a2f0-4fb8-b467-e335857e9476"} at 1494476663
04:24:23.813 gohan.db.sql INFO [0m Executing SQL query in transaction '8b4621b6-0c51-481e-8b36-37a8d09bf46d': 'UPDATE `billing_resources` SET `unique_resource_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `resource_type` = internet_gateway, `config_version` = 1, `id` = 35e4ba02-217d-492d-b256-adbe19c516d5, `parent_billing_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `ended` = <nil>, `info` = {"internet_service":"sample-internet-service"}, `started` = 1.494476663e+09, `resource_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476 WHERE id = 35e4ba02-217d-492d-b256-adbe19c516d5'
[36m04:24:23.814 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
04:24:23.826 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 with index 383
Endpoint for service monitoring not found.
[31m04:24:23.827 gohan.extension.internet_gateway.post_state_update ERROR [0m No monitoring endpoint found for monitoring
04:24:23.833 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 already unlocked or not locked
04:24:23.871 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45644 data: 
[36m04:24:23.871 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:23.871 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:23.936 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:23.939 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[primary_logical_interface_name:ae0.1025 id:429e24b5-a2f0-4fb8-b467-e335857e9476 associated_uplink_id:<nil> name:sample-internet-gateway description:Sample Internet-gateway qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b maximum_static_routes:32 vrf_name:vrf_gw_sample-ha-router-downlink_1025 vlan_id:1025 status:ACTIVE downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_logical_interface_name:ae0.1025]]
[36m04:24:23.939 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[688]]
[36m04:24:23.939 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:23.939 gohan.server.middleware INFO [0m Completed 200 OK in 67.846108ms
04:24:24.277 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45652 data: 
[36m04:24:24.277 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***]]
[36m04:24:24.277 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:24.343 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:24.346 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[id:429e24b5-a2f0-4fb8-b467-e335857e9476 vrf_name:vrf_gw_sample-ha-router-downlink_1025 vlan_id:1025 associated_uplink_id:<nil> maximum_static_routes:32 description:Sample Internet-gateway qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 secondary_logical_interface_name:ae0.1025 name:sample-internet-gateway primary_logical_interface_name:ae0.1025]]
[36m04:24:24.346 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[688]]
[36m04:24:24.346 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:24.346 gohan.server.middleware INFO [0m Completed 200 OK in 69.67239ms
04:24:24.347 gohan.server.middleware INFO [0m Started GET /v2.0/internet_gateways/429e24b5-a2f0-4fb8-b467-e335857e9476 for client 172.17.0.20:45658 data: {}
[36m04:24:24.347 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:24:24.348 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:24.417 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 started
[36m04:24:24.420 gohan.server.resources DEBUG [0m Show internet_gateway 429e24b5-a2f0-4fb8-b467-e335857e9476 completed: map[internet_gateway:map[description:Sample Internet-gateway vrf_name:vrf_gw_sample-ha-router-downlink_1025 associated_uplink_id:<nil> qos_option_id:e25f6309-c384-446e-bdc1-5241cb14890b name:sample-internet-gateway secondary_logical_interface_name:ae0.1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE internet_service_id:848e04de-733d-4f98-8971-bdb3b83e0296 primary_logical_interface_name:ae0.1025 id:429e24b5-a2f0-4fb8-b467-e335857e9476 vlan_id:1025 downlink_interface_id:1205d3f2-7568-412a-a554-012340ab3172 maximum_static_routes:32]]
[36m04:24:24.420 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[688]]
[36m04:24:24.420 gohan.server.middleware DEBUG [0m Response body: {
  "internet_gateway": {
    "associated_uplink_id": null,
    "description": "Sample Internet-gateway",
    "downlink_interface_id": "1205d3f2-7568-412a-a554-012340ab3172",
    "id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "internet_service_id": "848e04de-733d-4f98-8971-bdb3b83e0296",
    "maximum_static_routes": 32,
    "name": "sample-internet-gateway",
    "primary_logical_interface_name": "ae0.1025",
    "qos_option_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
    "secondary_logical_interface_name": "ae0.1025",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vlan_id": "1025",
    "vrf_name": "vrf_gw_sample-ha-router-downlink_1025"
  }
}
04:24:24.420 gohan.server.middleware INFO [0m Completed 200 OK in 72.510538ms
04:24:24.771 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.20:45666 data: {}
[36m04:24:24.771 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m04:24:24.771 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:24.836 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m04:24:24.838 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m04:24:24.838 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[4] Content-Length:[1601]]
[36m04:24:24.838 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494476663,
      "deleted": null,
      "id": "075c5413-cdf3-4bb5-b7b1-6100f3cecb25",
      "mapped_id": "10.79.5.184-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "secondary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "11cb2015-fadc-4ae2-b0cf-b7ae280baebb",
      "mapped_id": "10.79.5.185-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "primary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "b3d2f0fb-3765-4485-a88d-44b46fe191df",
      "mapped_id": "10.79.5.184-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "secondary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "f3010659-2a05-4b5f-add1-0e2abc31f75a",
      "mapped_id": "10.79.5.185-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "primary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:24:24.838 gohan.server.middleware INFO [0m Completed 200 OK in 66.846647ms
04:24:25.180 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.20:45676 data: {}
[36m04:24:25.180 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:24:25.181 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:25.249 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m04:24:25.251 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m04:24:25.251 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[2] Content-Length:[990]]
[36m04:24:25.251 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "info": {
        "internet_service": "sample-internet-service"
      },
      "parent_billing_id": null,
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "e32e992e-8553-448c-860f-6e63bbe30c19",
      "info": {
        "bandwidth": "10",
        "qos_type": "guarantee"
      },
      "parent_billing_id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "resource_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
      "resource_type": "qos_option",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": null
    }
  ]
}
04:24:25.251 gohan.server.middleware INFO [0m Completed 200 OK in 70.494494ms
[36m04:24:25.654 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c map[version:1 port:UP]
04:24:25.655 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c map[port:UP version:1] started
[36m04:24:25.667 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 map[port:UP version:1]
04:24:25.667 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 map[port:UP version:1] started
04:24:25.667 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c with index 392
04:24:25.676 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 with index 393
04:24:25.726 gohan.db.sql INFO [0m Executing SQL query in transaction '2787a87f-51c2-4897-bc8e-4b7de35fc945': 'UPDATE `ese_physical_ports` SET `existing` = new, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `name` = xe-0/0/3, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `connected_port_id` = , ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"port":"UP"}, `marked_for_deletion` = 0 WHERE id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c'
04:24:25.727 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:25.727 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:24:25.727 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"port":"UP"}
04:24:25.750 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c with index 392
04:24:25.750 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c completed
04:24:25.753 gohan.db.sql INFO [0m Executing SQL query in transaction 'e5931487-001d-4259-a7b8-84f919809f4c': 'UPDATE `ese_physical_ports` SET `id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `connected_port_id` = , `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `connected_port_owner` = mx_downlink, `description` = , `tags` = {}, `ese_device_id` = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `name` = xe-0/0/4, `status` = ACTIVE, `existing` = new, ese_device_id = a1f745c1-e6b9-45ef-94db-f33b37709fb0, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"dddddddd-dddd-dddd-dddd-dddddddddddd\", \"description\": \"A unique id for the physical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailPhysicalInterface' object has no attribute 'pi_uuid'\", \"description\": \"The name of the physical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"port":"UP"}, `marked_for_deletion` = 0 WHERE id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306'
04:24:25.755 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:25.756 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"port": "ACTIVE"}
04:24:25.756 gohan.extension.ese_physical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"port":"UP"}
04:24:25.757 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c already unlocked or not locked
04:24:25.778 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 with index 393
04:24:25.778 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 completed
04:24:25.789 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_physical_ports/8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 already unlocked or not locked
04:24:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:24:30.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:24:30.181 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:24:30.191 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:24:30.194 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:24:30.210 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:24:30.213 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:24:30.215 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:24:35.573 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc map[router:UP version:1]
04:24:35.574 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc map[router:UP version:1] started
04:24:35.586 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc with index 409
[36m04:24:35.604 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 map[router:UP version:1]
04:24:35.604 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 map[router:UP version:1] started
04:24:35.611 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 with index 412
04:24:35.632 gohan.db.sql INFO [0m Executing SQL query in transaction '0493567d-0257-4654-a654-c956393fc893': 'UPDATE `edge_routers` SET `name` = vMX-router-02, `ip` = 10.79.5.185, `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `autonomous_system` = 65101, `description` = MX80 #2, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"router":"UP"}, `marked_for_deletion` = 0 WHERE id = 9b82b55a-551e-4069-ae77-c972e30ab0cc'
04:24:35.634 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:35.634 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:24:35.634 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"router":"UP"}
04:24:35.643 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc with index 409
04:24:35.643 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc completed
04:24:35.650 gohan.db.sql INFO [0m Executing SQL query in transaction '56dcc892-dec9-4015-a899-f223769cac46': 'UPDATE `edge_routers` SET `name` = vMX-router-01, `ip` = 10.79.5.184, `password` = esiesi0000, `login` = esi, `ssh_port` = 830, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `autonomous_system` = 65101, `description` = MX80 #1, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"router\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"router":"UP"}, `marked_for_deletion` = 0 WHERE id = 198b93f2-006e-45b6-96d3-e7ef6f759501'
04:24:35.652 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:35.653 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"router": "ACTIVE"}
04:24:35.653 gohan.extension.edge_router.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"router":"UP"}
04:24:35.654 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/edge_routers/9b82b55a-551e-4069-ae77-c972e30ab0cc already unlocked or not locked
04:24:35.675 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 with index 412
04:24:35.675 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 completed
04:24:35.686 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/edge_routers/198b93f2-006e-45b6-96d3-e7ef6f759501 already unlocked or not locked
04:24:37.151 gohan.server.middleware INFO [0m Started POST /v2.0/public_ips for client 172.17.0.20:45728 data: 
{
"public_ip": {
"description": "Sample Public-Ip",
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"name": "sample-public_ip",
"submask_length": 28,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:37.151 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[212] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:24:37.151 gohan.server.middleware DEBUG [0m Request body: 
{
"public_ip": {
"description": "Sample Public-Ip",
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"name": "sample-public_ip",
"submask_length": 28,
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:24:37.231 gohan.server.resources DEBUG [0m Create public_ip with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28] started
[36m04:24:37.231 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:24:37.288 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] started
[36m04:24:37.290 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] completed
04:24:37.315 gohan.extension.public_ip.pre_create_in_transaction INFO [0m IP block for inet_gateway assigned, subnet IP: 203.0.112.0
04:24:37.315 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'UPDATE `public_ip_pools` SET `addresses_available` = 496, `submask_length` = 23, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 5cd14f90-cf3c-4aeb-b30a-227b3c936761, `pool_state` = UQEAAQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==, `subnet_ip` = 203.0.112.0, `ip_version` = 4, `config_version` = `config_version` + 1 WHERE id = 5cd14f90-cf3c-4aeb-b30a-227b3c936761'
04:24:37.316 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (2,/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761,1494476677,update,false,"{\"addresses_available\":496,\"ha_router_id\":\"d4286c1d-86e7-42d3-9d84-a4d9daa3ae17\",\"id\":\"5cd14f90-cf3c-4aeb-b30a-227b3c936761\",\"internet_service_id\":\"848e04de-733d-4f98-8971-bdb3b83e0296\",\"ip_version\":4,\"pool_state\":\"UQEAAQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\"submask_length\":23,\"subnet_ip\":\"203.0.112.0\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}")'
04:24:37.317 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'INSERT INTO `public_ips` (`internet_gw_id`,`name`,`submask_length`,`tenant_id`,`status`,`description`,`id`,`cidr`,`ip_pool_id`) VALUES (429e24b5-a2f0-4fb8-b467-e335857e9476,sample-public_ip,28,0b576f6f4cbf414f829cd12f008bf08f,PENDING_CREATE,Sample Public-Ip,bc6f2c6d-59be-4f56-a2d7-96ab578c0735,203.0.112.0,5cd14f90-cf3c-4aeb-b30a-227b3c936761)'
04:24:37.317 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"cidr\":\"203.0.112.0\",\"description\":\"Sample Public-Ip\",\"id\":\"bc6f2c6d-59be-4f56-a2d7-96ab578c0735\",\"internet_gw_id\":\"429e24b5-a2f0-4fb8-b467-e335857e9476\",\"ip_pool_id\":\"5cd14f90-cf3c-4aeb-b30a-227b3c936761\",\"name\":\"sample-public_ip\",\"status\":\"PENDING_CREATE\",\"submask_length\":28,\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735,1494476677,create,false)'
04:24:37.318 gohan.extension.public_ip.post_create_in_transaction INFO [0m Creating a billing resource: {"config_version":1,"ended":null,"id":"6e74227c-1d04-472f-b511-81d88e219502","info":{"cidr":"203.0.112.0","submask_length":28},"parent_billing_id":null,"resource_id":"bc6f2c6d-59be-4f56-a2d7-96ab578c0735","resource_type":"public_ip","started":null,"tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"bc6f2c6d-59be-4f56-a2d7-96ab578c0735"}
04:24:37.318 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'INSERT INTO `billing_resources` (`started`,`resource_id`,`tenant_id`,`ended`,`info`,`id`,`parent_billing_id`,`unique_resource_id`,`resource_type`,`config_version`) VALUES (<nil>,bc6f2c6d-59be-4f56-a2d7-96ab578c0735,0b576f6f4cbf414f829cd12f008bf08f,<nil>,{"cidr":"203.0.112.0","submask_length":28},6e74227c-1d04-472f-b511-81d88e219502,<nil>,bc6f2c6d-59be-4f56-a2d7-96ab578c0735,public_ip,1)'
[36m04:24:37.319 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
04:24:37.320 gohan.extension.public_ip.post_create_in_transaction INFO [0m Starting billing resource: {"config_version":1,"id":"6e74227c-1d04-472f-b511-81d88e219502","info":{"cidr":"203.0.112.0","submask_length":28},"resource_id":"bc6f2c6d-59be-4f56-a2d7-96ab578c0735","resource_type":"public_ip","tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"bc6f2c6d-59be-4f56-a2d7-96ab578c0735"} at 1494476677
04:24:37.321 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea5a2f1a-bb42-4601-bba8-dc51448054f7': 'UPDATE `billing_resources` SET `unique_resource_id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735, `resource_type` = public_ip, `config_version` = 1, `id` = 6e74227c-1d04-472f-b511-81d88e219502, `parent_billing_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `ended` = <nil>, `info` = {"cidr":"203.0.112.0","submask_length":28}, `started` = 1.494476677e+09, `resource_id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735 WHERE id = 6e74227c-1d04-472f-b511-81d88e219502'
[36m04:24:37.321 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
[36m04:24:37.334 gohan.server.resources DEBUG [0m Create public_ip completed: map[public_ip:map[internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28 status:PENDING_CREATE cidr:203.0.112.0 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 description:Sample Public-Ip tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735]]
[36m04:24:37.334 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[402]]
[36m04:24:37.334 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:37.334 gohan.server.middleware INFO [0m Completed 201 Created in 183.916579ms
[36m04:24:37.336 gohan.server.sync DEBUG [0m Processing event 75 - update
04:24:37.336 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761
[36m04:24:37.339 gohan.server.sync DEBUG [0m Deleting event 75
04:24:37.341 gohan.db.sql INFO [0m Executing SQL query in transaction 'f8093770-bbdb-43f9-a9f8-cb8b2099e852': 'DELETE FROM `events` WHERE id = 75'
[36m04:24:37.342 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:24:37.350 gohan.server DEBUG [0m State event update received: set /state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 map[error: state:map[worker_state:READ_COMPLETE] version:2]
04:24:37.350 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 map[error: state:map[worker_state:READ_COMPLETE] version:2] started
04:24:37.352 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45740 data: 
[36m04:24:37.352 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:37.352 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:37.358 gohan.server.sync DEBUG [0m Processing event 76 - create
04:24:37.358 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735
04:24:37.363 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 with index 419
[36m04:24:37.380 gohan.server.sync DEBUG [0m Deleting event 76
04:24:37.382 gohan.db.sql INFO [0m Executing SQL query in transaction 'aa93cdf2-04de-49b9-8e3c-744a101493a8': 'DELETE FROM `events` WHERE id = 76'
[36m04:24:37.385 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:24:37.456 gohan.db.sql INFO [0m Executing SQL query in transaction 'bb4a65f7-48c3-4481-bd77-bae02fbb33c4': 'UPDATE `public_ip_pools` SET `internet_service_id` = 848e04de-733d-4f98-8971-bdb3b83e0296, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `id` = 5cd14f90-cf3c-4aeb-b30a-227b3c936761, `pool_state` = UQEAAQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==, `subnet_ip` = 203.0.112.0, `ip_version` = 4, `addresses_available` = 496, `submask_length` = 23, `ha_router_id` = d4286c1d-86e7-42d3-9d84-a4d9daa3ae17, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 5cd14f90-cf3c-4aeb-b30a-227b3c936761'
[36m04:24:37.474 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:37.477 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[suspended_public_ip_id:<nil> status:PENDING_CREATE description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 tenant_id:0b576f6f4cbf414f829cd12f008bf08f cidr:203.0.112.0 name:sample-public_ip submask_length:28 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735]]
[36m04:24:37.477 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[438] Content-Type:[application/json]]
[36m04:24:37.477 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:37.477 gohan.server.middleware INFO [0m Completed 200 OK in 125.206224ms
04:24:37.483 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 with index 419
04:24:37.491 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/public_ip_pools/5cd14f90-cf3c-4aeb-b30a-227b3c936761 already unlocked or not locked
04:24:38.489 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45766 data: 
[36m04:24:38.489 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:38.489 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:38.568 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:38.570 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 name:sample-public_ip tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 cidr:203.0.112.0 suspended_public_ip_id:<nil> submask_length:28]]
[36m04:24:38.570 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:38.570 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:38.570 gohan.server.middleware INFO [0m Completed 200 OK in 81.830421ms
04:24:39.582 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45772 data: 
[36m04:24:39.583 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:24:39.583 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:39.649 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:39.651 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[status:PENDING_CREATE suspended_public_ip_id:<nil> ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28 tenant_id:0b576f6f4cbf414f829cd12f008bf08f cidr:203.0.112.0]]
[36m04:24:39.651 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:39.652 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:39.652 gohan.server.middleware INFO [0m Completed 200 OK in 69.211283ms
04:24:40.663 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45778 data: 
[36m04:24:40.664 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:40.664 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:40.669 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 map[interface:UP version:1]
04:24:40.669 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 map[interface:UP version:1] started
04:24:40.676 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 with index 433
[36m04:24:40.700 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 map[interface:UP version:1]
04:24:40.701 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 map[interface:UP version:1] started
04:24:40.716 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 with index 436
04:24:40.765 gohan.db.sql INFO [0m Executing SQL query in transaction 'f85ed8ea-882f-4217-8070-d2d0b11f3c47': 'UPDATE `er_physical_interfaces` SET `id` = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7, `name` = ae0, `description` = , `device_id` = 9b82b55a-551e-4069-ae77-c972e30ab0cc, `connected_ese_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = 1fda2a88-f7e9-4982-9ce2-d65c9611aae7'
04:24:40.771 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:40.771 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:24:40.771 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
[36m04:24:40.772 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:40.775 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-public_ip submask_length:28 cidr:203.0.112.0 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 status:PENDING_CREATE description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 suspended_public_ip_id:<nil> ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761]]
04:24:40.775 gohan.db.sql INFO [0m Executing SQL query in transaction '706e77d4-2462-4c53-b696-4edcd89b07c4': 'UPDATE `er_physical_interfaces` SET `id` = 469e4283-80e6-491c-830f-c483c1f7c695, `name` = ae0, `description` = , `device_id` = 198b93f2-006e-45b6-96d3-e7ef6f759501, `connected_ese_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"state_monitoring":"{\"interface\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"interface":"UP"}, `marked_for_deletion` = 0 WHERE id = 469e4283-80e6-491c-830f-c483c1f7c695'
[36m04:24:40.775 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:40.775 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:40.775 gohan.server.middleware INFO [0m Completed 200 OK in 111.431735ms
04:24:40.778 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:24:40.779 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"interface": "ACTIVE"}
04:24:40.780 gohan.extension.er_physical_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"interface":"UP"}
04:24:40.788 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 with index 433
04:24:40.788 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 completed
04:24:40.828 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/1fda2a88-f7e9-4982-9ce2-d65c9611aae7 already unlocked or not locked
04:24:40.828 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 with index 436
04:24:40.828 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 completed
04:24:40.844 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/er_physical_interfaces/469e4283-80e6-491c-830f-c483c1f7c695 already unlocked or not locked
04:24:41.788 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45794 data: 
[36m04:24:41.789 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:41.789 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:41.861 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:41.864 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 cidr:203.0.112.0 submask_length:28 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Public-Ip name:sample-public_ip suspended_public_ip_id:<nil> ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 status:PENDING_CREATE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476]]
[36m04:24:41.864 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:41.864 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:41.864 gohan.server.middleware INFO [0m Completed 200 OK in 75.597232ms
04:24:42.880 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45800 data: 
[36m04:24:42.880 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:24:42.881 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:42.958 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:42.961 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28 description:Sample Public-Ip id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 cidr:203.0.112.0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE suspended_public_ip_id:<nil> ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761]]
[36m04:24:42.961 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:42.961 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:42.961 gohan.server.middleware INFO [0m Completed 200 OK in 80.969017ms
04:24:43.973 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45806 data: 
[36m04:24:43.974 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:43.974 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:44.068 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:44.070 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[submask_length:28 tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 cidr:203.0.112.0 suspended_public_ip_id:<nil> internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 description:Sample Public-Ip name:sample-public_ip]]
[36m04:24:44.070 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:44.071 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:44.071 gohan.server.middleware INFO [0m Completed 200 OK in 97.218908ms
04:24:45.084 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45812 data: 
[36m04:24:45.085 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:24:45.085 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:45.177 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:45.180 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 cidr:203.0.112.0 status:PENDING_CREATE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28 tenant_id:0b576f6f4cbf414f829cd12f008bf08f suspended_public_ip_id:<nil> description:Sample Public-Ip]]
[36m04:24:45.180 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:45.180 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:45.180 gohan.server.middleware INFO [0m Completed 200 OK in 95.912645ms
04:24:46.193 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45820 data: 
[36m04:24:46.193 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:24:46.194 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:46.231 gohan.server DEBUG [0m State event update received: set /state/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 map[error: state:map[heat_outputs:[] worker_state:CREATE_COMPLETED] version:1]
04:24:46.232 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 map[error: state:map[heat_outputs:[] worker_state:CREATE_COMPLETED] version:1] started
04:24:46.243 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 with index 446
04:24:46.315 gohan.db.sql INFO [0m Executing SQL query in transaction '25086819-43bc-4033-aefb-81afb1d36108': 'UPDATE `public_ips` SET `id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735, `cidr` = 203.0.112.0, `suspended_public_ip_id` = <nil>, `ip_pool_id` = 5cd14f90-cf3c-4aeb-b30a-227b3c936761, `submask_length` = 28, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `status` = PENDING_CREATE, `description` = Sample Public-Ip, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `name` = sample-public_ip, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = bc6f2c6d-59be-4f56-a2d7-96ab578c0735'
04:24:46.317 gohan.extension.public_ip.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
[36m04:24:46.317 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
04:24:46.317 gohan.db.sql INFO [0m Executing SQL query in transaction '25086819-43bc-4033-aefb-81afb1d36108': 'UPDATE `public_ips` SET `status` = ACTIVE, `description` = Sample Public-Ip, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `name` = sample-public_ip, `submask_length` = 28, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `suspended_public_ip_id` = <nil>, `ip_pool_id` = 5cd14f90-cf3c-4aeb-b30a-227b3c936761, `id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735, `cidr` = 203.0.112.0 WHERE id = bc6f2c6d-59be-4f56-a2d7-96ab578c0735'
[36m04:24:46.319 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 description:Sample Public-Ip name:sample-public_ip submask_length:28 cidr:203.0.112.0 suspended_public_ip_id:<nil>]]
[36m04:24:46.320 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[438]]
[36m04:24:46.320 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "PENDING_CREATE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:46.320 gohan.server.middleware INFO [0m Completed 200 OK in 126.57172ms
04:24:46.332 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 with index 446
04:24:46.339 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 already unlocked or not locked
04:24:47.336 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45838 data: 
[36m04:24:47.336 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:24:47.336 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:47.421 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:47.424 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[cidr:203.0.112.0 suspended_public_ip_id:<nil> ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 submask_length:28 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Public-Ip name:sample-public_ip status:ACTIVE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735]]
[36m04:24:47.424 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[430]]
[36m04:24:47.424 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "ACTIVE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:47.424 gohan.server.middleware INFO [0m Completed 200 OK in 88.662379ms
04:24:47.822 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45846 data: 
[36m04:24:47.822 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m04:24:47.822 gohan.server.middleware DEBUG [0m Request body: 
[36m04:24:47.888 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:47.891 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[suspended_public_ip_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Public-Ip internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 submask_length:28 cidr:203.0.112.0 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 status:ACTIVE name:sample-public_ip]]
[36m04:24:47.891 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[430]]
[36m04:24:47.891 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "ACTIVE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:47.891 gohan.server.middleware INFO [0m Completed 200 OK in 68.67626ms
04:24:47.892 gohan.server.middleware INFO [0m Started GET /v2.0/public_ips/bc6f2c6d-59be-4f56-a2d7-96ab578c0735 for client 172.17.0.20:45852 data: {}
[36m04:24:47.892 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m04:24:47.892 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:47.967 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 started
[36m04:24:47.970 gohan.server.resources DEBUG [0m Show public_ip bc6f2c6d-59be-4f56-a2d7-96ab578c0735 completed: map[public_ip:map[internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-public_ip submask_length:28 ip_pool_id:5cd14f90-cf3c-4aeb-b30a-227b3c936761 cidr:203.0.112.0 suspended_public_ip_id:<nil> description:Sample Public-Ip tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735]]
[36m04:24:47.970 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[430] Content-Type:[application/json]]
[36m04:24:47.970 gohan.server.middleware DEBUG [0m Response body: {
  "public_ip": {
    "cidr": "203.0.112.0",
    "description": "Sample Public-Ip",
    "id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "ip_pool_id": "5cd14f90-cf3c-4aeb-b30a-227b3c936761",
    "name": "sample-public_ip",
    "status": "ACTIVE",
    "submask_length": 28,
    "suspended_public_ip_id": null,
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:24:47.970 gohan.server.middleware INFO [0m Completed 200 OK in 77.983601ms
04:24:48.359 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.20:45860 data: {}
[36m04:24:48.359 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:24:48.359 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:48.442 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m04:24:48.444 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m04:24:48.444 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[4] Content-Length:[1601] Content-Type:[application/json]]
[36m04:24:48.444 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494476663,
      "deleted": null,
      "id": "075c5413-cdf3-4bb5-b7b1-6100f3cecb25",
      "mapped_id": "10.79.5.184-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "secondary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "11cb2015-fadc-4ae2-b0cf-b7ae280baebb",
      "mapped_id": "10.79.5.185-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "primary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "b3d2f0fb-3765-4485-a88d-44b46fe191df",
      "mapped_id": "10.79.5.184-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "secondary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "f3010659-2a05-4b5f-add1-0e2abc31f75a",
      "mapped_id": "10.79.5.185-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "primary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:24:48.444 gohan.server.middleware INFO [0m Completed 200 OK in 84.992798ms
04:24:48.801 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.20:45868 data: {}
[36m04:24:48.802 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:24:48.802 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:24:48.880 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m04:24:48.882 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m04:24:48.882 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[3] Content-Length:[1469]]
[36m04:24:48.882 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "info": {
        "internet_service": "sample-internet-service"
      },
      "parent_billing_id": null,
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "6e74227c-1d04-472f-b511-81d88e219502",
      "info": {
        "cidr": "203.0.112.0",
        "submask_length": 28
      },
      "parent_billing_id": null,
      "resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
      "resource_type": "public_ip",
      "started": 1494476677,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "e32e992e-8553-448c-860f-6e63bbe30c19",
      "info": {
        "bandwidth": "10",
        "qos_type": "guarantee"
      },
      "parent_billing_id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "resource_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
      "resource_type": "qos_option",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": null
    }
  ]
}
04:24:48.882 gohan.server.middleware INFO [0m Completed 200 OK in 80.729865ms
04:25:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:25:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:25:00.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:25:00.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:25:00.140 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:25:00.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:25:00.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:25:00.160 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:25:00.864 gohan.server.middleware INFO [0m Started POST /v2.0/networks for client 172.17.0.20:45906 data: 
{
"network": {
"admin_state_up": true,
"description": "Sample Network",
"name": "sample-network",
"plane": "data",
"tags": {},
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:25:00.864 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[179] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:00.864 gohan.server.middleware DEBUG [0m Request body: 
{
"network": {
"admin_state_up": true,
"description": "Sample Network",
"name": "sample-network",
"plane": "data",
"tags": {},
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:25:00.928 gohan.server.resources DEBUG [0m Create network with data map[description:Sample Network name:sample-network plane:data tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f admin_state_up:true] started
[36m04:25:00.928 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
04:25:00.936 gohan.db.sql INFO [0m Executing SQL query in transaction '4c53edc8-f5d9-4fe1-9505-ba1e4c4a2069': 'INSERT INTO `networks` (`description`,`shared`,`tenant_id`,`name`,`subnets`,`tags`,`plane`,`id`,`admin_state_up`,`status`) VALUES (Sample Network,false,0b576f6f4cbf414f829cd12f008bf08f,sample-network,[],{},data,52d7bef8-aa17-45c3-b63e-6a0e504603f0,true,PENDING_CREATE)'
04:25:00.936 gohan.db.sql INFO [0m Executing SQL query in transaction '4c53edc8-f5d9-4fe1-9505-ba1e4c4a2069': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"admin_state_up\":true,\"description\":\"Sample Network\",\"id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"name\":\"sample-network\",\"plane\":\"data\",\"shared\":false,\"status\":\"PENDING_CREATE\",\"subnets\":[],\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0,1494476700,create)'
04:25:00.937 gohan.extension.network.post_create_in_transaction INFO [0m Creating a billing resource: {"config_version":1,"ended":null,"id":"b4165f07-3b67-438d-a398-4add6a499a04","info":{},"parent_billing_id":null,"resource_id":"52d7bef8-aa17-45c3-b63e-6a0e504603f0","resource_type":"network","started":null,"tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"52d7bef8-aa17-45c3-b63e-6a0e504603f0"}
04:25:00.937 gohan.db.sql INFO [0m Executing SQL query in transaction '4c53edc8-f5d9-4fe1-9505-ba1e4c4a2069': 'INSERT INTO `billing_resources` (`started`,`resource_id`,`tenant_id`,`ended`,`info`,`id`,`parent_billing_id`,`unique_resource_id`,`resource_type`,`config_version`) VALUES (<nil>,52d7bef8-aa17-45c3-b63e-6a0e504603f0,0b576f6f4cbf414f829cd12f008bf08f,<nil>,{},b4165f07-3b67-438d-a398-4add6a499a04,<nil>,52d7bef8-aa17-45c3-b63e-6a0e504603f0,network,1)'
[36m04:25:00.938 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
[36m04:25:00.948 gohan.server.resources DEBUG [0m Create network completed: map[network:map[name:sample-network plane:data status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 subnets:[] shared:false admin_state_up:true description:Sample Network tags:map[]]]
[36m04:25:00.948 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m04:25:00.948 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:00.948 gohan.server.middleware INFO [0m Completed 201 Created in 84.60294ms
[36m04:25:00.951 gohan.server.sync DEBUG [0m Processing event 77 - create
04:25:00.951 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0
[36m04:25:00.963 gohan.server.sync DEBUG [0m Deleting event 77
04:25:00.963 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45916 data: 
[36m04:25:00.963 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:25:00.963 gohan.server.middleware DEBUG [0m Request body: 
04:25:00.972 gohan.db.sql INFO [0m Executing SQL query in transaction 'd2b6acfe-d145-492b-bc28-5167e9f7732d': 'DELETE FROM `events` WHERE id = 77'
[36m04:25:00.972 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:01.061 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
[36m04:25:01.134 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:01.137 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:01.137 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 admin_state_up:true status:PENDING_CREATE name:sample-network shared:false plane:data subnets:[] tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Network]]
[36m04:25:01.138 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m04:25:01.138 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:01.138 gohan.server.middleware INFO [0m Completed 200 OK in 174.881279ms
04:25:02.151 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45938 data: 
[36m04:25:02.151 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:25:02.151 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:02.232 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
[36m04:25:02.303 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:02.306 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:02.306 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[shared:false admin_state_up:true status:PENDING_CREATE tags:map[] id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Network name:sample-network subnets:[] plane:data]]
[36m04:25:02.307 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m04:25:02.307 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:02.307 gohan.server.middleware INFO [0m Completed 200 OK in 156.044653ms
04:25:03.326 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45952 data: 
[36m04:25:03.326 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:03.326 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:03.425 gohan.server DEBUG [0m State event update received: set /state/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 map[error: state:map[heat_outputs:[{"output_value": "[]", "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:admin:52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "The name of the virtual network.", "output_key": "name"}] state_monitoring:{"network": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:25:03.425 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 map[error: state:map[heat_outputs:[{"output_value": "[]", "description": "The name of the virtual network.", "output_key": "route_targets"}, {"output_value": "default-domain:admin:52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "The FQ name of the virtual network.", "output_key": "fq_name"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "A unique id for the virtual network.", "output_key": "id"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "The name of the virtual network.", "output_key": "name"}] state_monitoring:{"network": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:25:03.433 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 with index 488
[36m04:25:03.467 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
04:25:03.506 gohan.db.sql INFO [0m Executing SQL query in transaction '76d19344-679e-4030-a8b6-7188b7ad9ef9': 'UPDATE `networks` SET `description` = Sample Network, `shared` = false, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-network, `subnets` = [], `tags` = {}, `plane` = data, `id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `admin_state_up` = true, `status` = PENDING_CREATE, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"[]\", \"description\": \"The name of the virtual network.\", \"output_key\": \"route_targets\"}, {\"output_value\": \"default-domain:admin:52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"The FQ name of the virtual network.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"A unique id for the virtual network.\", \"output_key\": \"id\"}, {\"output_value\": \"52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"The name of the virtual network.\", \"output_key\": \"name\"}]","state_monitoring":"{\"network\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 52d7bef8-aa17-45c3-b63e-6a0e504603f0'
04:25:03.508 gohan.extension.network.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:25:03.508 gohan.extension.network.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"network": "ACTIVE"}
04:25:03.509 gohan.db.sql INFO [0m Executing SQL query in transaction '76d19344-679e-4030-a8b6-7188b7ad9ef9': 'UPDATE `networks` SET `shared` = false, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = Sample Network, `tags` = {}, `plane` = data, `id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `admin_state_up` = true, `status` = ACTIVE, `name` = sample-network, `subnets` = [] WHERE id = 52d7bef8-aa17-45c3-b63e-6a0e504603f0'
04:25:03.511 gohan.extension.network.post_state_update_in_transaction INFO [0m Starting billing resource: {"config_version":1,"id":"b4165f07-3b67-438d-a398-4add6a499a04","info":{},"resource_id":"52d7bef8-aa17-45c3-b63e-6a0e504603f0","resource_type":"network","tenant_id":"0b576f6f4cbf414f829cd12f008bf08f","unique_resource_id":"52d7bef8-aa17-45c3-b63e-6a0e504603f0"} at 1494476703
04:25:03.512 gohan.db.sql INFO [0m Executing SQL query in transaction '76d19344-679e-4030-a8b6-7188b7ad9ef9': 'UPDATE `billing_resources` SET `resource_type` = network, `config_version` = 1, `id` = b4165f07-3b67-438d-a398-4add6a499a04, `parent_billing_id` = <nil>, `unique_resource_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `ended` = <nil>, `info` = {}, `started` = 1.494476703e+09, `resource_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f WHERE id = b4165f07-3b67-438d-a398-4add6a499a04'
[36m04:25:03.512 gohan.server.sync DEBUG [0m Skipping event logging for schema: billing_resource
04:25:03.523 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 with index 488
Endpoint for service monitoring not found.
[31m04:25:03.524 gohan.extension.network.post_state_update ERROR [0m No monitoring endpoint found for monitoring
04:25:03.529 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 already unlocked or not locked
[36m04:25:03.538 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:03.539 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:03.540 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 admin_state_up:true description:Sample Network status:PENDING_CREATE subnets:[] plane:data shared:false name:sample-network tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:25:03.540 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[328]]
[36m04:25:03.540 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "PENDING_CREATE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:03.540 gohan.server.middleware INFO [0m Completed 200 OK in 214.555625ms
04:25:04.563 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45976 data: 
[36m04:25:04.563 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:25:04.563 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:04.673 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
[36m04:25:04.745 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:04.747 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:04.748 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[status:ACTIVE name:sample-network shared:false description:Sample Network plane:data id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 admin_state_up:true subnets:[] tags:map[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f]]
[36m04:25:04.748 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[320] Content-Type:[application/json]]
[36m04:25:04.748 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:04.748 gohan.server.middleware INFO [0m Completed 200 OK in 185.520644ms
04:25:05.154 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45988 data: 
[36m04:25:05.155 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:25:05.155 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:05.250 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
[36m04:25:05.326 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:05.329 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:05.330 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f admin_state_up:true subnets:[] tags:map[] plane:data shared:false description:Sample Network id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 status:ACTIVE name:sample-network]]
[36m04:25:05.330 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[320]]
[36m04:25:05.331 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:05.331 gohan.server.middleware INFO [0m Completed 200 OK in 176.223305ms
04:25:05.332 gohan.server.middleware INFO [0m Started GET /v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 for client 172.17.0.20:45996 data: {}
[36m04:25:05.332 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:05.333 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:05.423 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 started
[36m04:25:05.482 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:05.484 gohan.server.resources DEBUG [0m List subnet query: map[network_id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:05.485 gohan.server.resources DEBUG [0m Show network 52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed: map[network:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Network subnets:[] tags:map[] id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 name:sample-network plane:data admin_state_up:true status:ACTIVE shared:false]]
[36m04:25:05.485 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[320]]
[36m04:25:05.485 gohan.server.middleware DEBUG [0m Response body: {
  "network": {
    "admin_state_up": true,
    "description": "Sample Network",
    "id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "name": "sample-network",
    "plane": "data",
    "shared": false,
    "status": "ACTIVE",
    "subnets": [],
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:05.486 gohan.server.middleware INFO [0m Completed 200 OK in 153.224283ms
[36m04:25:05.749 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 map[network:UP version:1]
04:25:05.749 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 map[version:1 network:UP] started
04:25:05.755 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 with index 498
04:25:05.800 gohan.db.sql INFO [0m Executing SQL query in transaction '41ef8134-d800-4ada-a9f0-c0cdaa7f7191': 'UPDATE `networks` SET `description` = Sample Network, `shared` = false, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = sample-network, `subnets` = [], `tags` = {}, `plane` = data, `id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `admin_state_up` = true, `status` = ACTIVE, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"[]\", \"description\": \"The name of the virtual network.\", \"output_key\": \"route_targets\"}, {\"output_value\": \"default-domain:admin:52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"The FQ name of the virtual network.\", \"output_key\": \"fq_name\"}, {\"output_value\": \"52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"A unique id for the virtual network.\", \"output_key\": \"id\"}, {\"output_value\": \"52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"The name of the virtual network.\", \"output_key\": \"name\"}]","state_monitoring":"{\"network\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"network":"UP"}, `marked_for_deletion` = 0 WHERE id = 52d7bef8-aa17-45c3-b63e-6a0e504603f0'
04:25:05.802 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:25:05.803 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"network": "ACTIVE"}
04:25:05.803 gohan.extension.network.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"network":"UP"}
04:25:05.818 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 with index 498
04:25:05.818 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 completed
04:25:05.826 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/networks/52d7bef8-aa17-45c3-b63e-6a0e504603f0 already unlocked or not locked
04:25:05.891 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.20:46010 data: {}
[36m04:25:05.892 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:05.892 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:05.964 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m04:25:05.966 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m04:25:05.966 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[5] Content-Length:[1956]]
[36m04:25:05.966 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494476663,
      "deleted": null,
      "id": "075c5413-cdf3-4bb5-b7b1-6100f3cecb25",
      "mapped_id": "10.79.5.184-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "secondary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "11cb2015-fadc-4ae2-b0cf-b7ae280baebb",
      "mapped_id": "10.79.5.185-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "primary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "b3d2f0fb-3765-4485-a88d-44b46fe191df",
      "mapped_id": "10.79.5.184-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "secondary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "f3010659-2a05-4b5f-add1-0e2abc31f75a",
      "mapped_id": "10.79.5.185-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "primary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476703,
      "deleted": null,
      "id": "f6a5fc1b-695d-4921-923a-92af07f52c2b",
      "mapped_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "relation": "instance",
      "resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "resource_type": "network",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:25:05.967 gohan.server.middleware INFO [0m Completed 200 OK in 75.111205ms
04:25:06.361 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.20:46018 data: {}
[36m04:25:06.361 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:25:06.361 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:06.437 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m04:25:06.439 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m04:25:06.439 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[1879] Content-Type:[application/json] X-Total-Count:[4]]
[36m04:25:06.439 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "info": {
        "internet_service": "sample-internet-service"
      },
      "parent_billing_id": null,
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "6e74227c-1d04-472f-b511-81d88e219502",
      "info": {
        "cidr": "203.0.112.0",
        "submask_length": 28
      },
      "parent_billing_id": null,
      "resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
      "resource_type": "public_ip",
      "started": 1494476677,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "b4165f07-3b67-438d-a398-4add6a499a04",
      "info": {},
      "parent_billing_id": null,
      "resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "resource_type": "network",
      "started": 1494476703,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "e32e992e-8553-448c-860f-6e63bbe30c19",
      "info": {
        "bandwidth": "10",
        "qos_type": "guarantee"
      },
      "parent_billing_id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "resource_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
      "resource_type": "qos_option",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": null
    }
  ]
}
04:25:06.439 gohan.server.middleware INFO [0m Completed 200 OK in 78.026065ms
04:25:18.769 gohan.server.middleware INFO [0m Started POST /v2.0/subnets for client 172.17.0.20:46038 data: 
{
"subnet": {
"description": "Sample Subnet",
"name": "sample-subnet",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
"tags": {},
"ip_version": 4,
"cidr": "172.16.101.0/24",
"network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0"
}
}
[36m04:25:18.769 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[233] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:18.769 gohan.server.middleware DEBUG [0m Request body: 
{
"subnet": {
"description": "Sample Subnet",
"name": "sample-subnet",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
"tags": {},
"ip_version": 4,
"cidr": "172.16.101.0/24",
"network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0"
}
}
[36m04:25:18.851 gohan.server.resources DEBUG [0m Create subnet with data map[tags:map[] ip_version:4 cidr:172.16.101.0/24 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 description:Sample Subnet name:sample-subnet tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:25:18.851 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:19.326 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:20.072 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:20.073 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:20.074 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
04:25:20.087 gohan.db.sql INFO [0m Executing SQL query in transaction '494a0c51-c46a-49ed-a5ae-e0f614ba323b': 'INSERT INTO `subnets` (`status`,`cidr`,`tenant_id`,`network_id`,`host_routes`,`enable_dhcp`,`dhcp_server_address`,`ip_version`,`description`,`name`,`dns_nameservers`,`allocation_pools`,`id`,`tags`,`gateway_ip`,`ntp_servers`) VALUES (PENDING_CREATE,172.16.101.0/24,0b576f6f4cbf414f829cd12f008bf08f,52d7bef8-aa17-45c3-b63e-6a0e504603f0,[],true,172.16.101.2,4,Sample Subnet,sample-subnet,[],[{"end":"172.16.101.254","start":"172.16.101.2"}],a510f785-7758-4ce5-8fd4-c107d11b8e40,{},172.16.101.1,[])'
04:25:20.087 gohan.db.sql INFO [0m Executing SQL query in transaction '494a0c51-c46a-49ed-a5ae-e0f614ba323b': 'INSERT INTO `events` (`version`,`path`,`timestamp`,`type`,`marked_for_deletion`,`body`) VALUES (1,/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40,1494476720,create,false,"{\"allocation_pools\":[{\"end\":\"172.16.101.254\",\"start\":\"172.16.101.2\"}],\"cidr\":\"172.16.101.0/24\",\"description\":\"Sample Subnet\",\"dhcp_server_address\":\"172.16.101.2\",\"dns_nameservers\":[],\"enable_dhcp\":true,\"gateway_ip\":\"172.16.101.1\",\"host_routes\":[],\"id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\",\"ip_version\":4,\"name\":\"sample-subnet\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"ntp_servers\":[],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}")'
04:25:20.092 gohan.db.sql INFO [0m Executing SQL query in transaction '494a0c51-c46a-49ed-a5ae-e0f614ba323b': 'INSERT INTO `ports` (`device_id`,`id`,`fake_delete`,`description`,`attached`,`binding:vif_type`,`tenant_id`,`status`,`device_owner`,`fixed_ips`,`allowed_address_pairs`,`network_id`,`tags`,`admin_state_up`,`mac_address`,`name`,`managed_by_service`) VALUES (a510f785-7758-4ce5-8fd4-c107d11b8e40,0cd64eb2-32e8-4069-b5e4-9b718aa61b76,false,DHCP Server Port,false,vrouter,0b576f6f4cbf414f829cd12f008bf08f,ACTIVE,network:dhcp,[{"ip_address":"172.16.101.2","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}],[],52d7bef8-aa17-45c3-b63e-6a0e504603f0,{},true,00:00:5e:00:01:00,dhcp-server-port,false)'
04:25:20.092 gohan.db.sql INFO [0m Executing SQL query in transaction '494a0c51-c46a-49ed-a5ae-e0f614ba323b': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76,1494476720,create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"DHCP Server Port\",\"device_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\",\"device_owner\":\"network:dhcp\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.2\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"}],\"host_routes\":[],\"id\":\"0cd64eb2-32e8-4069-b5e4-9b718aa61b76\",\"mac_address\":\"00:00:5e:00:01:00\",\"managed_by_service\":false,\"name\":\"dhcp-server-port\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"status\":\"ACTIVE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:25:20.102 gohan.server.resources DEBUG [0m Create subnet completed: map[subnet:map[host_routes:[] enable_dhcp:true description:Sample Subnet cidr:172.16.101.0/24 allocation_pools:[map[start:172.16.101.2 end:172.16.101.254]] id:a510f785-7758-4ce5-8fd4-c107d11b8e40 dns_nameservers:[] name:sample-subnet tenant_id:0b576f6f4cbf414f829cd12f008bf08f tags:map[] status:PENDING_CREATE ip_version:4 gateway_ip:172.16.101.1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 ntp_servers:[] dhcp_server_address:172.16.101.2]]
[36m04:25:20.103 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[635]]
[36m04:25:20.103 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:20.103 gohan.server.middleware INFO [0m Completed 201 Created in 1.33431377s
04:25:20.118 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46048 data: 
[36m04:25:20.118 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:20.119 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:20.121 gohan.server.sync DEBUG [0m Processing event 78 - create
04:25:20.121 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40
[36m04:25:20.155 gohan.server.sync DEBUG [0m Deleting event 78
04:25:20.161 gohan.db.sql INFO [0m Executing SQL query in transaction '7e18e53b-3195-430b-9009-d5c01595637b': 'DELETE FROM `events` WHERE id = 78'
[36m04:25:20.162 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:20.183 gohan.server.sync DEBUG [0m Processing event 79 - create
04:25:20.183 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76
[36m04:25:20.197 gohan.server.sync DEBUG [0m Deleting event 79
04:25:20.204 gohan.db.sql INFO [0m Executing SQL query in transaction '0080d619-b94a-4ec1-865f-e8d9a0a201bd': 'DELETE FROM `events` WHERE id = 79'
[36m04:25:20.205 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:20.216 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 map[version:1 error: state:map[worker_state:READ_COMPLETE]]
04:25:20.217 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 map[error: state:map[worker_state:READ_COMPLETE] version:1] started
04:25:20.259 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 with index 513
[36m04:25:20.372 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:20.375 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[enable_dhcp:true allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] status:PENDING_CREATE network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 host_routes:[] ntp_servers:[] id:a510f785-7758-4ce5-8fd4-c107d11b8e40 tags:map[] cidr:172.16.101.0/24 description:Sample Subnet dhcp_server_address:172.16.101.2 ipv6_address_mode:<nil> dns_nameservers:[] tenant_id:0b576f6f4cbf414f829cd12f008bf08f ipv6_ra_mode:<nil> ip_version:4 name:sample-subnet gateway_ip:172.16.101.1]]
[36m04:25:20.375 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m04:25:20.375 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:20.375 gohan.server.middleware INFO [0m Completed 200 OK in 256.741275ms
04:25:20.377 gohan.db.sql INFO [0m Executing SQL query in transaction '6d73fdf4-2efb-4315-bbe8-65c78c227fe6': 'UPDATE `ports` SET `segmentation_type` = <nil>, `fixed_ips` = [{"ip_address":"172.16.101.2","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = <nil>, `tags` = {}, `admin_state_up` = true, `mac_address` = 00:00:5e:00:01:00, `name` = dhcp-server-port, `managed_by_service` = false, `ese_logical_port_id` = <nil>, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `id` = 0cd64eb2-32e8-4069-b5e4-9b718aa61b76, `fake_delete` = false, `description` = DHCP Server Port, `attached` = false, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = a510f785-7758-4ce5-8fd4-c107d11b8e40, `status` = ACTIVE, `device_owner` = network:dhcp, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"worker_state":"READ_COMPLETE"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 0cd64eb2-32e8-4069-b5e4-9b718aa61b76'
04:25:20.379 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:25:20.400 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 with index 513
04:25:20.408 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 already unlocked or not locked
04:25:21.385 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46074 data: 
[36m04:25:21.385 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:25:21.385 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:21.449 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:21.452 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[dns_nameservers:[] enable_dhcp:true ipv6_ra_mode:<nil> name:sample-subnet id:a510f785-7758-4ce5-8fd4-c107d11b8e40 cidr:172.16.101.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f host_routes:[] allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] gateway_ip:172.16.101.1 ntp_servers:[] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 dhcp_server_address:172.16.101.2 ip_version:4 tags:map[] status:PENDING_CREATE description:Sample Subnet ipv6_address_mode:<nil>]]
[36m04:25:21.452 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m04:25:21.452 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:21.452 gohan.server.middleware INFO [0m Completed 200 OK in 67.174013ms
04:25:22.468 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46082 data: 
[36m04:25:22.468 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:25:22.469 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:22.493 gohan.server DEBUG [0m State event update received: set /state/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 map[version:1 error: state:map[heat_outputs:[{"output_value": "172.16.101.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "a510f785-7758-4ce5-8fd4-c107d11b8e40", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "172.16.101.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "435a94ee-ab64-4787-acbb-d2d7c95867e9", "description": "A unique id for the local subnet.", "output_key": "id"}] worker_state:CREATE_COMPLETED]]
04:25:22.493 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 map[error: state:map[heat_outputs:[{"output_value": "172.16.101.0/24", "description": "IP prefix of local subnet.", "output_key": "ip_prefix"}, {"output_value": "a510f785-7758-4ce5-8fd4-c107d11b8e40", "description": "The name of the local subnet.", "output_key": "name"}, {"output_value": "172.16.101.1", "description": "Default gateway of local subnet.", "output_key": "default_gateway"}, {"output_value": "52d7bef8-aa17-45c3-b63e-6a0e504603f0", "description": "A unique id for the network.", "output_key": "network_id"}, {"output_value": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "description": "IPAM this local subnet uses.", "output_key": "ipam"}, {"output_value": "435a94ee-ab64-4787-acbb-d2d7c95867e9", "description": "A unique id for the local subnet.", "output_key": "id"}] worker_state:CREATE_COMPLETED] version:1] started
04:25:22.505 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 with index 524
04:25:22.569 gohan.db.sql INFO [0m Executing SQL query in transaction '28aee4e1-32c0-4989-8c89-5eeff51f6325': 'UPDATE `subnets` SET `enable_dhcp` = true, `dhcp_server_address` = 172.16.101.2, `ip_version` = 4, `description` = Sample Subnet, `ipv6_ra_mode` = <nil>, `name` = sample-subnet, `ipv6_address_mode` = <nil>, `dns_nameservers` = [], `allocation_pools` = [{"end":"172.16.101.254","start":"172.16.101.2"}], `id` = a510f785-7758-4ce5-8fd4-c107d11b8e40, `tags` = {}, `gateway_ip` = 172.16.101.1, `ntp_servers` = [], `status` = PENDING_CREATE, `cidr` = 172.16.101.0/24, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `host_routes` = [], `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"172.16.101.0/24\", \"description\": \"IP prefix of local subnet.\", \"output_key\": \"ip_prefix\"}, {\"output_value\": \"a510f785-7758-4ce5-8fd4-c107d11b8e40\", \"description\": \"The name of the local subnet.\", \"output_key\": \"name\"}, {\"output_value\": \"172.16.101.1\", \"description\": \"Default gateway of local subnet.\", \"output_key\": \"default_gateway\"}, {\"output_value\": \"52d7bef8-aa17-45c3-b63e-6a0e504603f0\", \"description\": \"A unique id for the network.\", \"output_key\": \"network_id\"}, {\"output_value\": \"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa\", \"description\": \"IPAM this local subnet uses.\", \"output_key\": \"ipam\"}, {\"output_value\": \"435a94ee-ab64-4787-acbb-d2d7c95867e9\", \"description\": \"A unique id for the local subnet.\", \"output_key\": \"id\"}]","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = a510f785-7758-4ce5-8fd4-c107d11b8e40'
04:25:22.570 gohan.extension.subnet.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:25:22.571 gohan.db.sql INFO [0m Executing SQL query in transaction '28aee4e1-32c0-4989-8c89-5eeff51f6325': 'UPDATE `subnets` SET `id` = a510f785-7758-4ce5-8fd4-c107d11b8e40, `tags` = {}, `gateway_ip` = 172.16.101.1, `ntp_servers` = [], `status` = ACTIVE, `cidr` = 172.16.101.0/24, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `host_routes` = [], `enable_dhcp` = true, `dhcp_server_address` = 172.16.101.2, `ip_version` = 4, `description` = Sample Subnet, `ipv6_ra_mode` = <nil>, `name` = sample-subnet, `ipv6_address_mode` = <nil>, `dns_nameservers` = [], `allocation_pools` = [{"end":"172.16.101.254","start":"172.16.101.2"}] WHERE id = a510f785-7758-4ce5-8fd4-c107d11b8e40'
[36m04:25:22.570 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:22.573 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[ip_version:4 description:Sample Subnet status:PENDING_CREATE cidr:172.16.101.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 enable_dhcp:true allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] id:a510f785-7758-4ce5-8fd4-c107d11b8e40 name:sample-subnet ipv6_ra_mode:<nil> ipv6_address_mode:<nil> dns_nameservers:[] tags:map[] gateway_ip:172.16.101.1 ntp_servers:[] host_routes:[] dhcp_server_address:172.16.101.2]]
[36m04:25:22.573 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[692]]
[36m04:25:22.573 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "PENDING_CREATE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:22.573 gohan.server.middleware INFO [0m Completed 200 OK in 104.827714ms
04:25:22.593 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 with index 524
04:25:22.605 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 already unlocked or not locked
04:25:23.586 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46098 data: 
[36m04:25:23.586 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:25:23.586 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:23.675 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:23.678 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[dhcp_server_address:172.16.101.2 tags:map[] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 host_routes:[] cidr:172.16.101.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Subnet allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] ntp_servers:[] id:a510f785-7758-4ce5-8fd4-c107d11b8e40 status:ACTIVE ipv6_ra_mode:<nil> enable_dhcp:true ip_version:4 name:sample-subnet ipv6_address_mode:<nil> dns_nameservers:[] gateway_ip:172.16.101.1]]
[36m04:25:23.679 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[684]]
[36m04:25:23.679 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:23.679 gohan.server.middleware INFO [0m Completed 200 OK in 92.695782ms
04:25:24.081 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46108 data: 
[36m04:25:24.082 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m04:25:24.082 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:24.166 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:24.170 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[tags:map[] host_routes:[] cidr:172.16.101.0/24 tenant_id:0b576f6f4cbf414f829cd12f008bf08f network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] dhcp_server_address:172.16.101.2 description:Sample Subnet name:sample-subnet ntp_servers:[] enable_dhcp:true ipv6_address_mode:<nil> id:a510f785-7758-4ce5-8fd4-c107d11b8e40 gateway_ip:172.16.101.1 status:ACTIVE ipv6_ra_mode:<nil> ip_version:4 dns_nameservers:[]]]
[36m04:25:24.170 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[684]]
[36m04:25:24.170 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:24.170 gohan.server.middleware INFO [0m Completed 200 OK in 88.620553ms
04:25:24.171 gohan.server.middleware INFO [0m Started GET /v2.0/subnets/a510f785-7758-4ce5-8fd4-c107d11b8e40 for client 172.17.0.20:46114 data: {}
[36m04:25:24.171 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:25:24.172 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:24.255 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 started
[36m04:25:24.258 gohan.server.resources DEBUG [0m Show subnet a510f785-7758-4ce5-8fd4-c107d11b8e40 completed: map[subnet:map[allocation_pools:[map[end:172.16.101.254 start:172.16.101.2]] ipv6_address_mode:<nil> ntp_servers:[] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 status:ACTIVE id:a510f785-7758-4ce5-8fd4-c107d11b8e40 tags:map[] cidr:172.16.101.0/24 enable_dhcp:true dns_nameservers:[] host_routes:[] ipv6_ra_mode:<nil> ip_version:4 name:sample-subnet gateway_ip:172.16.101.1 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Subnet dhcp_server_address:172.16.101.2]]
[36m04:25:24.258 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[684]]
[36m04:25:24.258 gohan.server.middleware DEBUG [0m Response body: {
  "subnet": {
    "allocation_pools": [
      {
        "end": "172.16.101.254",
        "start": "172.16.101.2"
      }
    ],
    "cidr": "172.16.101.0/24",
    "description": "Sample Subnet",
    "dhcp_server_address": "172.16.101.2",
    "dns_nameservers": [],
    "enable_dhcp": true,
    "gateway_ip": "172.16.101.1",
    "host_routes": [],
    "id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "ip_version": 4,
    "ipv6_address_mode": null,
    "ipv6_ra_mode": null,
    "name": "sample-subnet",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "ntp_servers": [],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:24.258 gohan.server.middleware INFO [0m Completed 200 OK in 86.911912ms
04:25:24.658 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.17.0.20:46122 data: {}
[36m04:25:24.658 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:25:24.659 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:24.739 gohan.server.resources DEBUG [0m List port query: map[] started
[36m04:25:24.742 gohan.server.resources DEBUG [0m List port query: map[] completed
[36m04:25:24.743 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[1] Content-Length:[897]]
[36m04:25:24.743 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.2",
          "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
        }
      ],
      "id": "0cd64eb2-32e8-4069-b5e4-9b718aa61b76",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:25:24.743 gohan.server.middleware INFO [0m Completed 200 OK in 84.650111ms
04:25:25.157 gohan.server.middleware INFO [0m Started GET /v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 for client 172.17.0.20:46130 data: 
[36m04:25:25.157 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:25:25.157 gohan.server.middleware DEBUG [0m Request body: 
[36m04:25:25.230 gohan.server.resources DEBUG [0m Show port 0cd64eb2-32e8-4069-b5e4-9b718aa61b76 started
[36m04:25:25.233 gohan.server.resources DEBUG [0m Show port 0cd64eb2-32e8-4069-b5e4-9b718aa61b76 completed: map[port:map[name:dhcp-server-port managed_by_service:false id:0cd64eb2-32e8-4069-b5e4-9b718aa61b76 fake_delete:false attached:false status:ACTIVE network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 device_id:a510f785-7758-4ce5-8fd4-c107d11b8e40 description:DHCP Server Port segmentation_type:<nil> allowed_address_pairs:[] admin_state_up:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f fixed_ips:[map[ip_address:172.16.101.2 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] segmentation_id:<nil> tags:map[] ese_logical_port_id:<nil> binding:vif_type:vrouter device_owner:network:dhcp mac_address:00:00:5e:00:01:00]]
[36m04:25:25.233 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[834] Content-Type:[application/json]]
[36m04:25:25.233 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.2",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "0cd64eb2-32e8-4069-b5e4-9b718aa61b76",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:25.233 gohan.server.middleware INFO [0m Completed 200 OK in 75.981853ms
04:25:25.234 gohan.server.middleware INFO [0m Started GET /v2.0/ports/0cd64eb2-32e8-4069-b5e4-9b718aa61b76 for client 172.17.0.20:46136 data: {}
[36m04:25:25.234 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:25:25.235 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:25:25.312 gohan.server.resources DEBUG [0m Show port 0cd64eb2-32e8-4069-b5e4-9b718aa61b76 started
[36m04:25:25.316 gohan.server.resources DEBUG [0m Show port 0cd64eb2-32e8-4069-b5e4-9b718aa61b76 completed: map[port:map[name:dhcp-server-port tags:map[] description:DHCP Server Port attached:false id:0cd64eb2-32e8-4069-b5e4-9b718aa61b76 fake_delete:false device_owner:network:dhcp managed_by_service:false allowed_address_pairs:[] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 device_id:a510f785-7758-4ce5-8fd4-c107d11b8e40 admin_state_up:true binding:vif_type:vrouter tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE segmentation_type:<nil> fixed_ips:[map[ip_address:172.16.101.2 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] mac_address:00:00:5e:00:01:00 ese_logical_port_id:<nil> segmentation_id:<nil>]]
[36m04:25:25.317 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[834]]
[36m04:25:25.317 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": false,
    "binding:vif_type": "vrouter",
    "description": "DHCP Server Port",
    "device_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
    "device_owner": "network:dhcp",
    "ese_logical_port_id": null,
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.2",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "0cd64eb2-32e8-4069-b5e4-9b718aa61b76",
    "mac_address": "00:00:5e:00:01:00",
    "managed_by_service": false,
    "name": "dhcp-server-port",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": null,
    "segmentation_type": null,
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:25:25.317 gohan.server.middleware INFO [0m Completed 200 OK in 82.460613ms
04:25:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:25:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:25:30.146 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:25:30.152 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:25:30.163 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:25:30.170 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:25:30.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:25:30.174 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:25:37.556 gohan.server.middleware INFO [0m Started POST /v2.0/gw_interfaces for client 172.17.0.20:46180 data: 
{
"gw_interface": {
"description": "Sample Gw-interface",
"gw_vipv4": "172.16.101.151",
"name": "sample-gw-interface",
"netmask": 24,
"network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
"primary_ipv4": "172.16.101.152",
"secondary_ipv4": "172.16.101.153",
"service_type": "internet",
"vrid": 20,
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:25:37.557 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[408] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:25:37.557 gohan.server.middleware DEBUG [0m Request body: 
{
"gw_interface": {
"description": "Sample Gw-interface",
"gw_vipv4": "172.16.101.151",
"name": "sample-gw-interface",
"netmask": 24,
"network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
"primary_ipv4": "172.16.101.152",
"secondary_ipv4": "172.16.101.153",
"service_type": "internet",
"vrid": 20,
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:25:37.639 gohan.server.resources DEBUG [0m Create gw_interface with data map[internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Gw-interface gw_vipv4:172.16.101.151 netmask:24 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 service_type:internet vrid:20 name:sample-gw-interface primary_ipv4:172.16.101.152 secondary_ipv4:172.16.101.153] started
[36m04:25:37.639 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:37.705 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] started
[36m04:25:37.708 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] completed
[36m04:25:37.772 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:37.839 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:37.841 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:37.842 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
04:25:37.861 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `gw_interfaces` (`status`,`id`,`secondary_ipv4`,`description`,`internet_gw_id`,`name`,`service_type`,`vrid`,`tenant_id`,`primary_ipv4`,`netmask`,`gw_vipv4`,`network_id`) VALUES (PENDING_CREATE,b9618566-14ea-4505-8eae-8fdb4b6a0ec1,172.16.101.153,Sample Gw-interface,429e24b5-a2f0-4fb8-b467-e335857e9476,sample-gw-interface,internet,20,0b576f6f4cbf414f829cd12f008bf08f,172.16.101.152,24,172.16.101.151,52d7bef8-aa17-45c3-b63e-6a0e504603f0)'
04:25:37.862 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"description\":\"Sample Gw-interface\",\"gw_vipv4\":\"172.16.101.151\",\"id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"internet_gw_id\":\"429e24b5-a2f0-4fb8-b467-e335857e9476\",\"name\":\"sample-gw-interface\",\"netmask\":24,\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"primary_ipv4\":\"172.16.101.152\",\"secondary_ipv4\":\"172.16.101.153\",\"service_type\":\"internet\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"vrid\":20}",1,/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1,1494476737,create,false)'
[36m04:25:37.931 gohan.server.resources DEBUG [0m Create port with data map[name:Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 device_owner:network:gw_interface network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 fixed_ips:[map[ip_address:172.16.101.151 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40] map[ip_address:172.16.101.152 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] segmentation_type:vlan segmentation_id:1025 managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f] started
[36m04:25:37.931 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:38.004 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:38.068 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:38.070 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:38.072 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:38.143 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] started
[36m04:25:38.145 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] completed
[36m04:25:38.211 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] started
[36m04:25:38.213 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] completed
04:25:38.252 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `ports` (`segmentation_type`,`fixed_ips`,`segmentation_id`,`name`,`managed_by_service`,`allowed_address_pairs`,`network_id`,`tags`,`admin_state_up`,`mac_address`,`attached`,`binding:vif_type`,`tenant_id`,`device_id`,`id`,`fake_delete`,`description`,`status`,`device_owner`) VALUES (vlan,[{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}],1025,Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c,true,[],52d7bef8-aa17-45c3-b63e-6a0e504603f0,{},true,fa:16:3e:49:3c:12,false,vrouter,0b576f6f4cbf414f829cd12f008bf08f,b9618566-14ea-4505-8eae-8fdb4b6a0ec1,b411d930-df4c-4766-ae66-d0aed9d27c76,false,,PENDING_CREATE,network:gw_interface)'
04:25:38.253 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"device_owner\":\"network:gw_interface\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.151\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"},{\"ip_address\":\"172.16.101.152\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"}],\"id\":\"b411d930-df4c-4766-ae66-d0aed9d27c76\",\"mac_address\":\"fa:16:3e:49:3c:12\",\"managed_by_service\":true,\"name\":\"Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1,/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76,1494476738,create)'
[36m04:25:38.257 gohan.extension.port.post_create_in_transaction DEBUG [0m Creating logical port for port id='b411d930-df4c-4766-ae66-d0aed9d27c76'.
[36m04:25:38.320 gohan.server.resources DEBUG [0m Create ese_logical_port with data map[ese_physical_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c port_ids:[b411d930-df4c-4766-ae66-d0aed9d27c76] tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 vlan_id:1025 tags:map[] connected_resource:gw_interface name:xe-0/0/3.1025 description:ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1] started
[36m04:25:38.320 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:38.390 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:38.458 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:38.460 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:38.460 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:38.559 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c]] started
[36m04:25:38.561 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c]] completed
04:25:38.567 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `ese_logical_ports` (`tenant_id`,`name`,`gw_interface_id`,`port_ids`,`type`,`tags`,`description`,`id`,`connected_resource`,`status`,`ese_physical_port_id`,`vlan_id`,`network_id`) VALUES (0b576f6f4cbf414f829cd12f008bf08f,xe-0/0/3.1025,b9618566-14ea-4505-8eae-8fdb4b6a0ec1,["b411d930-df4c-4766-ae66-d0aed9d27c76"],L2,{},ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76,b1cf2461-ecb9-4923-966e-e61211f8b03c,gw_interface,PENDING_CREATE,97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c,1025,52d7bef8-aa17-45c3-b63e-6a0e504603f0)'
04:25:38.568 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `events` (`timestamp`,`type`,`marked_for_deletion`,`body`,`version`,`path`) VALUES (1494476738,create,false,"{\"connected_resource\":\"gw_interface\",\"description\":\"ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76\",\"ese_physical_port_id\":\"97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c\",\"gw_interface_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"id\":\"b1cf2461-ecb9-4923-966e-e61211f8b03c\",\"name\":\"xe-0/0/3.1025\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"port_ids\":[\"b411d930-df4c-4766-ae66-d0aed9d27c76\"],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"L2\",\"vlan_id\":1025}",1,/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c)'
[36m04:25:38.569 gohan.server.resources DEBUG [0m Create ese_logical_port completed: map[ese_logical_port:map[network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2 vlan_id:1025 tags:map[] connected_resource:gw_interface name:xe-0/0/3.1025 description:ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76 gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 id:b1cf2461-ecb9-4923-966e-e61211f8b03c status:PENDING_CREATE ese_physical_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c port_ids:[b411d930-df4c-4766-ae66-d0aed9d27c76]]]
[36m04:25:38.569 gohan.extension.port.post_create_in_transaction DEBUG [0m ESE logical port (id='b1cf2461-ecb9-4923-966e-e61211f8b03c') created successfully.
04:25:38.569 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'UPDATE `ports` SET `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:49:3c:12, `attached` = false, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `description` = , `status` = PENDING_CREATE, `device_owner` = network:gw_interface WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
[36m04:25:38.571 gohan.server.resources DEBUG [0m Create port completed: map[port:map[fixed_ips:[map[ip_address:172.16.101.151 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40] map[ip_address:172.16.101.152 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] id:b411d930-df4c-4766-ae66-d0aed9d27c76 allowed_address_pairs:[] tags:map[] attached:false name:Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 binding:vif_type:vrouter mac_address:fa:16:3e:49:3c:12 fake_delete:false status:PENDING_CREATE segmentation_type:vlan segmentation_id:1025 admin_state_up:true device_owner:network:gw_interface ese_logical_port_id:b1cf2461-ecb9-4923-966e-e61211f8b03c managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:]]
[36m04:25:38.640 gohan.server.resources DEBUG [0m Create port with data map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f fixed_ips:[map[ip_address:172.16.101.153 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 segmentation_type:vlan segmentation_id:1025 name:Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 device_owner:network:gw_interface managed_by_service:true] started
[36m04:25:38.640 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:38.709 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:38.772 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:38.773 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:38.774 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
[36m04:25:38.839 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] started
[36m04:25:38.841 gohan.server.resources DEBUG [0m List subnet query: map[id:[a510f785-7758-4ce5-8fd4-c107d11b8e40]] completed
04:25:38.877 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `ports` (`segmentation_type`,`fixed_ips`,`segmentation_id`,`tags`,`admin_state_up`,`mac_address`,`name`,`managed_by_service`,`allowed_address_pairs`,`network_id`,`id`,`fake_delete`,`description`,`attached`,`binding:vif_type`,`tenant_id`,`device_id`,`status`,`device_owner`) VALUES (vlan,[{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}],1025,{},true,fa:16:3e:f8:45:26,Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306,true,[],52d7bef8-aa17-45c3-b63e-6a0e504603f0,7abe783f-4837-417d-b76f-771ec4d38b97,false,,false,vrouter,0b576f6f4cbf414f829cd12f008bf08f,b9618566-14ea-4505-8eae-8fdb4b6a0ec1,PENDING_CREATE,network:gw_interface)'
04:25:38.878 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97,1494476738,create,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":false,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"device_owner\":\"network:gw_interface\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.153\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"}],\"id\":\"7abe783f-4837-417d-b76f-771ec4d38b97\",\"mac_address\":\"fa:16:3e:f8:45:26\",\"managed_by_service\":true,\"name\":\"Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:25:38.882 gohan.extension.port.post_create_in_transaction DEBUG [0m Creating logical port for port id='7abe783f-4837-417d-b76f-771ec4d38b97'.
[36m04:25:38.943 gohan.server.resources DEBUG [0m Create ese_logical_port with data map[type:L2 connected_resource:gw_interface port_ids:[7abe783f-4837-417d-b76f-771ec4d38b97] tenant_id:0b576f6f4cbf414f829cd12f008bf08f ese_physical_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 vlan_id:1025 tags:map[] gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 name:xe-0/0/4.1025 description:ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97] started
[36m04:25:38.943 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:25:39.008 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]] started
[36m04:25:39.010 gohan.server.resources DEBUG [0m List ese_physical_port query: map[id:[8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306]] completed
[36m04:25:39.077 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] started
[36m04:25:39.144 gohan.server.resources DEBUG [0m List subnet query: map[] started
[36m04:25:39.146 gohan.server.resources DEBUG [0m List subnet query: map[] completed
[36m04:25:39.147 gohan.server.resources DEBUG [0m List network query: map[id:[52d7bef8-aa17-45c3-b63e-6a0e504603f0]] completed
04:25:39.152 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `ese_logical_ports` (`description`,`id`,`vlan_id`,`network_id`,`connected_resource`,`status`,`ese_physical_port_id`,`tenant_id`,`name`,`type`,`tags`,`gw_interface_id`,`port_ids`) VALUES (ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97,3ce86e39-7a81-46f8-b0c4-62a4776746f1,1025,52d7bef8-aa17-45c3-b63e-6a0e504603f0,gw_interface,PENDING_CREATE,8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306,0b576f6f4cbf414f829cd12f008bf08f,xe-0/0/4.1025,L2,{},b9618566-14ea-4505-8eae-8fdb4b6a0ec1,["7abe783f-4837-417d-b76f-771ec4d38b97"])'
04:25:39.152 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'INSERT INTO `events` (`marked_for_deletion`,`body`,`version`,`path`,`timestamp`,`type`) VALUES (false,"{\"connected_resource\":\"gw_interface\",\"description\":\"ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97\",\"ese_physical_port_id\":\"8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306\",\"gw_interface_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"id\":\"3ce86e39-7a81-46f8-b0c4-62a4776746f1\",\"name\":\"xe-0/0/4.1025\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"port_ids\":[\"7abe783f-4837-417d-b76f-771ec4d38b97\"],\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\",\"type\":\"L2\",\"vlan_id\":1025}",1,/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1,1494476739,create)'
[36m04:25:39.153 gohan.server.resources DEBUG [0m Create ese_logical_port completed: map[ese_logical_port:map[network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 vlan_id:1025 tags:map[] gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 name:xe-0/0/4.1025 description:ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97 ese_physical_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 connected_resource:gw_interface id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 status:PENDING_CREATE port_ids:[7abe783f-4837-417d-b76f-771ec4d38b97] tenant_id:0b576f6f4cbf414f829cd12f008bf08f type:L2]]
[36m04:25:39.154 gohan.extension.port.post_create_in_transaction DEBUG [0m ESE logical port (id='3ce86e39-7a81-46f8-b0c4-62a4776746f1') created successfully.
04:25:39.154 gohan.db.sql INFO [0m Executing SQL query in transaction 'f9330978-824e-4ad7-9e9a-45aaf6e9b819': 'UPDATE `ports` SET `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `segmentation_type` = vlan, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `fake_delete` = false, `description` = , `attached` = false, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `device_owner` = network:gw_interface, `status` = PENDING_CREATE WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
[36m04:25:39.155 gohan.server.resources DEBUG [0m Create port completed: map[port:map[id:7abe783f-4837-417d-b76f-771ec4d38b97 attached:false fake_delete:false tags:map[] admin_state_up:true ese_logical_port_id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 managed_by_service:true segmentation_type:vlan binding:vif_type:vrouter network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 device_owner:network:gw_interface status:PENDING_CREATE allowed_address_pairs:[] name:Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 segmentation_id:1025 tenant_id:0b576f6f4cbf414f829cd12f008bf08f fixed_ips:[map[subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40 ip_address:172.16.101.153]] description: mac_address:fa:16:3e:f8:45:26 device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1]]
04:25:39.155 gohan.extension.gw_interface.post_create_in_transaction INFO [0m GW Interface Ports created
[36m04:25:39.171 gohan.server.resources DEBUG [0m Create gw_interface completed: map[gw_interface:map[secondary_ipv4:172.16.101.153 id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 status:PENDING_CREATE name:sample-gw-interface primary_ipv4:172.16.101.152 netmask:24 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 service_type:internet vrid:20 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Gw-interface gw_vipv4:172.16.101.151]]
[36m04:25:39.172 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[537]]
[36m04:25:39.172 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "primary_ipv4": "172.16.101.152",
    "secondary_ipv4": "172.16.101.153",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vrid": 20
  }
}
04:25:39.172 gohan.server.middleware INFO [0m Completed 201 Created in 1.615822054s
[36m04:25:39.173 gohan.server.sync DEBUG [0m Processing event 80 - create
04:25:39.173 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1
[36m04:25:39.177 gohan.server.sync DEBUG [0m Deleting event 80
04:25:39.181 gohan.db.sql INFO [0m Executing SQL query in transaction '342101a4-c77e-448c-95cd-e518c5358bb9': 'DELETE FROM `events` WHERE id = 80'
[36m04:25:39.181 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:39.197 gohan.server.sync DEBUG [0m Processing event 81 - create
04:25:39.197 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76
[36m04:25:39.201 gohan.server.sync DEBUG [0m Deleting event 81
04:25:39.203 gohan.db.sql INFO [0m Executing SQL query in transaction 'a5ff1605-df16-4598-987a-3653868cc7e6': 'DELETE FROM `events` WHERE id = 81'
[36m04:25:39.203 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:39.218 gohan.server.sync DEBUG [0m Processing event 82 - create
04:25:39.218 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c
[36m04:25:39.228 gohan.server.sync DEBUG [0m Deleting event 82
04:25:39.230 gohan.db.sql INFO [0m Executing SQL query in transaction 'f3cc04b0-b2e4-4025-a3a9-a6483b0a5fc6': 'DELETE FROM `events` WHERE id = 82'
[36m04:25:39.231 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:39.251 gohan.server.sync DEBUG [0m Processing event 83 - create
04:25:39.251 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97
[36m04:25:39.259 gohan.server.sync DEBUG [0m Deleting event 83
04:25:39.263 gohan.db.sql INFO [0m Executing SQL query in transaction '11ec16d2-ddaa-4836-bf45-02fc09b520af': 'DELETE FROM `events` WHERE id = 83'
[36m04:25:39.265 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:39.277 gohan.server.sync DEBUG [0m Processing event 84 - create
04:25:39.278 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1
[36m04:25:39.289 gohan.server.sync DEBUG [0m Deleting event 84
04:25:39.292 gohan.db.sql INFO [0m Executing SQL query in transaction '8b76ace6-0d1b-4ffc-b378-fea65419d250': 'DELETE FROM `events` WHERE id = 84'
[36m04:25:39.293 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
[36m04:25:57.165 gohan.server DEBUG [0m State event update received: set /state/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 map[error: state:map[heat_outputs:[] state_monitoring:{"primary": "master", "secondary": "backup"} worker_state:CREATE_COMPLETED] version:1]
04:25:57.166 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 map[error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[] state_monitoring:{"primary": "master", "secondary": "backup"}] version:1] started
04:25:57.173 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 with index 613
04:25:57.238 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea1bd6fa-6cb9-487d-be2e-df22b3825c92': 'UPDATE `gw_interfaces` SET `status` = PENDING_CREATE, `id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `secondary_ipv4` = 172.16.101.153, `description` = Sample Gw-interface, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `name` = sample-gw-interface, `interdc_gw_id` = <nil>, `gw_vipv6` = <nil>, `vrid` = 20, `public_ip_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `primary_ipv4` = 172.16.101.152, `primary_ipv6` = <nil>, `service_type` = internet, `netmask` = 24, `secondary_ipv6` = <nil>, `vpn_gw_id` = <nil>, `gw_vipv4` = 172.16.101.151, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `aws_gw_id` = <nil>, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary\": \"master\", \"secondary\": \"backup\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = b9618566-14ea-4505-8eae-8fdb4b6a0ec1'
04:25:57.239 gohan.extension.gw_interface.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:25:57.239 gohan.extension.gw_interface.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "master", "secondary": "backup"}
04:25:57.240 gohan.db.sql INFO [0m Executing SQL query in transaction 'ea1bd6fa-6cb9-487d-be2e-df22b3825c92': 'UPDATE `gw_interfaces` SET `primary_ipv4` = 172.16.101.152, `primary_ipv6` = <nil>, `service_type` = internet, `vrid` = 20, `public_ip_id` = <nil>, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `gw_vipv4` = 172.16.101.151, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `aws_gw_id` = <nil>, `netmask` = 24, `secondary_ipv6` = <nil>, `vpn_gw_id` = <nil>, `status` = ACTIVE, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `name` = sample-gw-interface, `interdc_gw_id` = <nil>, `gw_vipv6` = <nil>, `id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `secondary_ipv4` = 172.16.101.153, `description` = Sample Gw-interface WHERE id = b9618566-14ea-4505-8eae-8fdb4b6a0ec1'
04:25:57.251 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 with index 613
Endpoint for service monitoring not found.
[31m04:25:57.252 gohan.extension.gw_interface.post_state_update ERROR [0m No monitoring endpoint found for monitoring
04:25:57.265 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 already unlocked or not locked
04:26:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:26:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:26:00.110 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:26:00.112 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:26:00.115 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:26:00.129 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:26:00.130 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:26:00.132 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:26:00.676 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[state:map[worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{}] version:1 error:]
04:26:00.676 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED] version:1] started
04:26:00.687 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 646
04:26:00.860 gohan.db.sql INFO [0m Executing SQL query in transaction 'ef26b9d9-2879-438f-b1ae-98749e981e30': 'UPDATE `ports` SET `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:49:3c:12, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `description` = , `attached` = false, `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
04:26:00.861 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:26:00.861 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {}
04:26:00.904 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 646
04:26:00.915 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 already unlocked or not locked
[36m04:26:01.059 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "7abe783f-4837-417d-b76f-771ec4d38b97", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED] version:1]
04:26:01.060 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "7abe783f-4837-417d-b76f-771ec4d38b97", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{} worker_state:CREATE_COMPLETED] version:1] started
04:26:01.069 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 673
04:26:01.147 gohan.db.sql INFO [0m Executing SQL query in transaction '71e1b755-3202-4215-955d-6a27420cf058': 'UPDATE `ports` SET `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `fake_delete` = false, `description` = , `attached` = false, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
04:26:01.150 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:26:01.150 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {}
04:26:01.168 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 673
04:26:01.177 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 already unlocked or not locked
[36m04:26:03.087 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c map[error: state:map[worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"}] version:1]
04:26:03.088 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c map[error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1] started
04:26:03.101 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c with index 696
04:26:03.166 gohan.db.sql INFO [0m Executing SQL query in transaction '7dc92c1d-eca0-4586-b0b8-0c359c68bf3c': 'UPDATE `ese_logical_ports` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = xe-0/0/3.1025, `type` = L2, `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `port_ids` = ["b411d930-df4c-4766-ae66-d0aed9d27c76"], `description` = ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76, `id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `ese_physical_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `status` = PENDING_CREATE, ese_physical_port_id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = b1cf2461-ecb9-4923-966e-e61211f8b03c'
04:26:03.168 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:26:03.168 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
04:26:03.169 gohan.db.sql INFO [0m Executing SQL query in transaction '7dc92c1d-eca0-4586-b0b8-0c359c68bf3c': 'UPDATE `ese_logical_ports` SET `type` = L2, `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `port_ids` = ["b411d930-df4c-4766-ae66-d0aed9d27c76"], `description` = ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76, `id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `ese_physical_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = xe-0/0/3.1025, ese_physical_port_id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c WHERE id = b1cf2461-ecb9-4923-966e-e61211f8b03c'
04:26:03.171 gohan.db.sql INFO [0m Executing SQL query in transaction '7dc92c1d-eca0-4586-b0b8-0c359c68bf3c': 'UPDATE `ports` SET `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `description` = , `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:49:3c:12, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `config_version` = `config_version` + 1 WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
04:26:03.172 gohan.db.sql INFO [0m Executing SQL query in transaction '7dc92c1d-eca0-4586-b0b8-0c359c68bf3c': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76,1494476763,update,false,"{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":true,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"device_owner\":\"network:gw_interface\",\"ese_logical_port_id\":\"b1cf2461-ecb9-4923-966e-e61211f8b03c\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.151\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"},{\"ip_address\":\"172.16.101.152\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"}],\"id\":\"b411d930-df4c-4766-ae66-d0aed9d27c76\",\"mac_address\":\"fa:16:3e:49:3c:12\",\"managed_by_service\":true,\"name\":\"Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",2)'
[36m04:26:03.185 gohan.server.sync DEBUG [0m Processing event 85 - update
04:26:03.185 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76
04:26:03.186 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c with index 696
[36m04:26:03.195 gohan.server.sync DEBUG [0m Deleting event 85
04:26:03.196 gohan.db.sql INFO [0m Executing SQL query in transaction '4f71ca88-16f7-4ac5-ae48-fecbf8d4c56e': 'DELETE FROM `events` WHERE id = 85'
[36m04:26:03.196 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:26:03.197 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c already unlocked or not locked
[36m04:26:03.437 gohan.server DEBUG [0m State event update received: set /state/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 map[error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED] version:1]
04:26:03.437 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 map[version:1 error: state:map[heat_outputs:[{"output_value": "cccccccc-cccc-cccc-cccc-cccccccccccc", "description": "A unique id for the logical interface", "output_key": "id"}, {"output_value": null, "output_error": "'ContrailLogicalInterface' object has no attribute 'li_uuid'", "description": "The name of the logical interface.", "output_key": "name"}] state_monitoring:{"logical_port": "ACTIVE"} worker_state:CREATE_COMPLETED]] started
04:26:03.452 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 with index 741
04:26:03.527 gohan.db.sql INFO [0m Executing SQL query in transaction '56bb4f3b-272a-4795-a12f-1ac193287c51': 'UPDATE `ese_logical_ports` SET `description` = ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97, `id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `status` = PENDING_CREATE, `ese_physical_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = xe-0/0/4.1025, `port_ids` = ["7abe783f-4837-417d-b76f-771ec4d38b97"], `type` = L2, `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, ese_physical_port_id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 3ce86e39-7a81-46f8-b0c4-62a4776746f1'
04:26:03.528 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:26:03.528 gohan.extension.ese_logical_port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
04:26:03.529 gohan.db.sql INFO [0m Executing SQL query in transaction '56bb4f3b-272a-4795-a12f-1ac193287c51': 'UPDATE `ese_logical_ports` SET `status` = ACTIVE, `ese_physical_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = xe-0/0/4.1025, `port_ids` = ["7abe783f-4837-417d-b76f-771ec4d38b97"], `type` = L2, `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `description` = ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97, `id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, ese_physical_port_id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 WHERE id = 3ce86e39-7a81-46f8-b0c4-62a4776746f1'
04:26:03.531 gohan.db.sql INFO [0m Executing SQL query in transaction '56bb4f3b-272a-4795-a12f-1ac193287c51': 'UPDATE `ports` SET `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `allowed_address_pairs` = [], `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `fake_delete` = false, `description` = , `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `config_version` = `config_version` + 1 WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
04:26:03.533 gohan.db.sql INFO [0m Executing SQL query in transaction '56bb4f3b-272a-4795-a12f-1ac193287c51': 'INSERT INTO `events` (`body`,`version`,`path`,`timestamp`,`type`,`marked_for_deletion`) VALUES ("{\"admin_state_up\":true,\"allowed_address_pairs\":[],\"attached\":true,\"binding:vif_type\":\"vrouter\",\"description\":\"\",\"device_id\":\"b9618566-14ea-4505-8eae-8fdb4b6a0ec1\",\"device_owner\":\"network:gw_interface\",\"ese_logical_port_id\":\"3ce86e39-7a81-46f8-b0c4-62a4776746f1\",\"fake_delete\":false,\"fixed_ips\":[{\"ip_address\":\"172.16.101.153\",\"subnet_id\":\"a510f785-7758-4ce5-8fd4-c107d11b8e40\"}],\"id\":\"7abe783f-4837-417d-b76f-771ec4d38b97\",\"mac_address\":\"fa:16:3e:f8:45:26\",\"managed_by_service\":true,\"name\":\"Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306\",\"network_id\":\"52d7bef8-aa17-45c3-b63e-6a0e504603f0\",\"segmentation_id\":1025,\"segmentation_type\":\"vlan\",\"status\":\"PENDING_CREATE\",\"tags\":{},\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",2,/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97,1494476763,update,false)'
04:26:03.545 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 with index 741
[36m04:26:03.548 gohan.server.sync DEBUG [0m Processing event 86 - update
04:26:03.548 gohan.server.sync INFO [0m Setting config with version 2 to /config//v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97
[36m04:26:03.560 gohan.server.sync DEBUG [0m Deleting event 86
04:26:03.565 gohan.db.sql INFO [0m Executing SQL query in transaction '5bd5d9fa-386c-46e1-a74a-cbbc67872b77': 'DELETE FROM `events` WHERE id = 86'
[36m04:26:03.565 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:26:03.565 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 already unlocked or not locked
04:26:05.548 gohan.server.middleware INFO [0m Started GET /v2.0/ports for client 172.17.0.20:46464 data: {}
[36m04:26:05.548 gohan.server.middleware DEBUG [0m Request headers: map[Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0]]
[36m04:26:05.548 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:05.612 gohan.server.resources DEBUG [0m List port query: map[] started
[36m04:26:05.616 gohan.server.resources DEBUG [0m List port query: map[] completed
[36m04:26:05.616 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] X-Total-Count:[3] Content-Length:[2912]]
[36m04:26:05.616 gohan.server.middleware DEBUG [0m Response body: {
  "ports": [
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": false,
      "binding:vif_type": "vrouter",
      "description": "DHCP Server Port",
      "device_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40",
      "device_owner": "network:dhcp",
      "ese_logical_port_id": null,
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.2",
          "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
        }
      ],
      "id": "0cd64eb2-32e8-4069-b5e4-9b718aa61b76",
      "mac_address": "00:00:5e:00:01:00",
      "managed_by_service": false,
      "name": "dhcp-server-port",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "segmentation_id": null,
      "segmentation_type": null,
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "device_owner": "network:gw_interface",
      "ese_logical_port_id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.153",
          "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
        }
      ],
      "id": "7abe783f-4837-417d-b76f-771ec4d38b97",
      "mac_address": "fa:16:3e:f8:45:26",
      "managed_by_service": true,
      "name": "Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "segmentation_id": 1025,
      "segmentation_type": "vlan",
      "status": "PENDING_CREATE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "admin_state_up": true,
      "allowed_address_pairs": [],
      "attached": true,
      "binding:vif_type": "vrouter",
      "description": "",
      "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "device_owner": "network:gw_interface",
      "ese_logical_port_id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
      "fake_delete": false,
      "fixed_ips": [
        {
          "ip_address": "172.16.101.151",
          "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
        },
        {
          "ip_address": "172.16.101.152",
          "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
        }
      ],
      "id": "b411d930-df4c-4766-ae66-d0aed9d27c76",
      "mac_address": "fa:16:3e:49:3c:12",
      "managed_by_service": true,
      "name": "Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "segmentation_id": 1025,
      "segmentation_type": "vlan",
      "status": "PENDING_CREATE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:26:05.617 gohan.server.middleware INFO [0m Completed 200 OK in 68.466786ms
04:26:09.466 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 for client 172.17.0.20:46498 data: 
[36m04:26:09.466 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:26:09.467 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:09.535 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 started
[36m04:26:09.539 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 completed: map[gw_interface:map[aws_gw_id:<nil> vrid:20 interdc_gw_id:<nil> gw_vipv6:<nil> secondary_ipv4:172.16.101.153 name:sample-gw-interface description:Sample Gw-interface primary_ipv6:<nil> service_type:internet public_ip_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f gw_vipv4:172.16.101.151 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 secondary_ipv6:<nil> vpn_gw_id:<nil> netmask:24 primary_ipv4:172.16.101.152 status:ACTIVE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476]]
[36m04:26:09.539 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[704] Content-Type:[application/json]]
[36m04:26:09.539 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null,
    "vrid": 20
  }
}
04:26:09.539 gohan.server.middleware INFO [0m Completed 200 OK in 72.792623ms
[36m04:26:13.878 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[error: state:map[state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "7abe783f-4837-417d-b76f-771ec4d38b97", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}]] version:2]
04:26:13.878 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "7abe783f-4837-417d-b76f-771ec4d38b97", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED] version:2] started
04:26:13.886 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 789
04:26:13.967 gohan.db.sql INFO [0m Executing SQL query in transaction '037b26a5-5d1b-4fc7-8936-e9d8ea60d670': 'UPDATE `ports` SET `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `fake_delete` = false, `description` = , `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
04:26:13.968 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 0
04:26:13.969 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
04:26:13.971 gohan.db.sql INFO [0m Executing SQL query in transaction '037b26a5-5d1b-4fc7-8936-e9d8ea60d670': 'UPDATE `ports` SET `status` = ACTIVE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `fake_delete` = false, `description` = , `attached` = true WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
04:26:13.993 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 789
Endpoint for service monitoring not found.
[31m04:26:13.995 gohan.extension.port.post_state_update ERROR [0m No monitoring endpoint found for monitoring
04:26:14.005 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 already unlocked or not locked
[36m04:26:14.496 gohan.server DEBUG [0m State event update received: set /state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[version:2 error: state:map[heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}] state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED]]
04:26:14.496 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[error: state:map[state_monitoring:{"vmi": "ACTIVE"} worker_state:CREATE_COMPLETED heat_outputs:[{"output_value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb", "description": "Virtual network.", "output_key": "virtual_network"}, {"output_value": "default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "Fully Qualified Name of the VMI", "output_key": "fq_name"}, {"output_value": "b411d930-df4c-4766-ae66-d0aed9d27c76", "description": "A unique id for the virtual machine interface.", "output_key": "id"}, {"output_value": "null", "description": "Virtual machine allowed address pairs.", "output_key": "allowed_address_pairs"}, {"output_value": "xx:xx:xx:xx:xx:xx", "description": "Virtual machine interface mac address.", "output_key": "mac_address"}]] version:2] started
04:26:14.507 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 811
04:26:14.588 gohan.db.sql INFO [0m Executing SQL query in transaction 'ca244888-3b56-4fde-a2c8-c44c9c2ac3d6': 'UPDATE `ports` SET `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `description` = , `attached` = true, `status` = PENDING_CREATE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:49:3c:12, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `state_version` = 2, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
04:26:14.590 gohan.extension.port.post_state_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 0
04:26:14.590 gohan.extension.port.post_state_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
04:26:14.593 gohan.db.sql INFO [0m Executing SQL query in transaction 'ca244888-3b56-4fde-a2c8-c44c9c2ac3d6': 'UPDATE `ports` SET `status` = ACTIVE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:49:3c:12, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `description` = , `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1 WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
04:26:14.619 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 811
Endpoint for service monitoring not found.
[31m04:26:14.622 gohan.extension.port.post_state_update ERROR [0m No monitoring endpoint found for monitoring
04:26:14.626 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 already unlocked or not locked
[36m04:26:15.779 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[vmi:UP version:2]
04:26:15.780 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 map[vmi:UP version:2] started
04:26:15.797 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 820
[36m04:26:15.807 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[vmi:UP version:2]
04:26:15.807 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 map[vmi:UP version:2] started
04:26:15.814 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 822
04:26:15.859 gohan.db.sql INFO [0m Executing SQL query in transaction '15e6b828-68eb-46a8-b9cf-ba36385db126': 'UPDATE `ports` SET `status` = ACTIVE, `device_owner` = network:gw_interface, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.153","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `segmentation_id` = 1025, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `mac_address` = fa:16:3e:f8:45:26, `name` = Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `managed_by_service` = true, `ese_logical_port_id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `allowed_address_pairs` = [], `id` = 7abe783f-4837-417d-b76f-771ec4d38b97, `fake_delete` = false, `description` = , `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"7abe783f-4837-417d-b76f-771ec4d38b97\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0 WHERE id = 7abe783f-4837-417d-b76f-771ec4d38b97'
04:26:15.861 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 2
04:26:15.861 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
04:26:15.861 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"vmi":"UP"}
04:26:15.881 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 with index 820
04:26:15.882 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 completed
04:26:15.883 gohan.db.sql INFO [0m Executing SQL query in transaction 'd6c7a83e-aa5b-4102-b8de-348edaf71b35': 'UPDATE `ports` SET `mac_address` = fa:16:3e:49:3c:12, `name` = Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `managed_by_service` = true, `ese_logical_port_id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `allowed_address_pairs` = [], `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `tags` = {}, `admin_state_up` = true, `description` = , `attached` = true, `binding:vif_type` = vrouter, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `device_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `id` = b411d930-df4c-4766-ae66-d0aed9d27c76, `fake_delete` = false, `status` = ACTIVE, `device_owner` = network:gw_interface, `segmentation_id` = 1025, `segmentation_type` = vlan, `fixed_ips` = [{"ip_address":"172.16.101.151","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"},{"ip_address":"172.16.101.152","subnet_id":"a510f785-7758-4ce5-8fd4-c107d11b8e40"}], `state_version` = 2, `monitoring_version` = 2, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb\", \"description\": \"Virtual network.\", \"output_key\": \"virtual_network\"}, {\"output_value\": \"default-domain:admin:b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"Fully Qualified Name of the VMI\", \"output_key\": \"fq_name\"}, {\"output_value\": \"b411d930-df4c-4766-ae66-d0aed9d27c76\", \"description\": \"A unique id for the virtual machine interface.\", \"output_key\": \"id\"}, {\"output_value\": \"null\", \"description\": \"Virtual machine allowed address pairs.\", \"output_key\": \"allowed_address_pairs\"}, {\"output_value\": \"xx:xx:xx:xx:xx:xx\", \"description\": \"Virtual machine interface mac address.\", \"output_key\": \"mac_address\"}]","state_monitoring":"{\"vmi\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"vmi":"UP"}, `marked_for_deletion` = 0 WHERE id = b411d930-df4c-4766-ae66-d0aed9d27c76'
04:26:15.885 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Config version: 2, State version: 2, Monitoring version: 2
04:26:15.885 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"vmi": "ACTIVE"}
04:26:15.886 gohan.extension.port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"vmi":"UP"}
04:26:15.892 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 already unlocked or not locked
04:26:15.919 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 with index 822
04:26:15.920 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 completed
04:26:15.926 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 already unlocked or not locked
[36m04:26:25.656 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c map[logical_port:UP version:1]
04:26:25.656 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c map[logical_port:UP version:1] started
[36m04:26:25.670 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 map[logical_port:UP version:1]
04:26:25.670 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 map[logical_port:UP version:1] started
04:26:25.670 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c with index 830
04:26:25.683 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 with index 831
04:26:25.724 gohan.db.sql INFO [0m Executing SQL query in transaction '8133acd7-a8e4-4d3c-92d3-bd3c63cd6f1c': 'UPDATE `ese_logical_ports` SET `port_ids` = ["b411d930-df4c-4766-ae66-d0aed9d27c76"], `type` = L2, `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `description` = ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76, `id` = b1cf2461-ecb9-4923-966e-e61211f8b03c, `status` = ACTIVE, `ese_physical_port_id` = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `name` = xe-0/0/3.1025, ese_physical_port_id = 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"logical_port":"UP"}, `marked_for_deletion` = 0 WHERE id = b1cf2461-ecb9-4923-966e-e61211f8b03c'
04:26:25.727 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:26:25.727 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
04:26:25.727 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"logical_port":"UP"}
04:26:25.739 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c with index 830
04:26:25.740 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c completed
04:26:25.747 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c already unlocked or not locked
04:26:25.749 gohan.db.sql INFO [0m Executing SQL query in transaction '159328da-a903-4d6f-918e-b650d89ee74d': 'UPDATE `ese_logical_ports` SET `tags` = {}, `gw_interface_id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `port_ids` = ["7abe783f-4837-417d-b76f-771ec4d38b97"], `type` = L2, `id` = 3ce86e39-7a81-46f8-b0c4-62a4776746f1, `description` = ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `connected_resource` = gw_interface, `status` = ACTIVE, `ese_physical_port_id` = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `vlan_id` = 1025, `common_function_gateway_id` = <nil>, `name` = xe-0/0/4.1025, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, ese_physical_port_id = 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[{\"output_value\": \"cccccccc-cccc-cccc-cccc-cccccccccccc\", \"description\": \"A unique id for the logical interface\", \"output_key\": \"id\"}, {\"output_value\": null, \"output_error\": \"'ContrailLogicalInterface' object has no attribute 'li_uuid'\", \"description\": \"The name of the logical interface.\", \"output_key\": \"name\"}]","state_monitoring":"{\"logical_port\": \"ACTIVE\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"logical_port":"UP"}, `marked_for_deletion` = 0 WHERE id = 3ce86e39-7a81-46f8-b0c4-62a4776746f1'
04:26:25.751 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:26:25.752 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"logical_port": "ACTIVE"}
04:26:25.752 gohan.extension.ese_logical_port.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"logical_port":"UP"}
04:26:25.765 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 with index 831
04:26:25.766 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 completed
04:26:25.772 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 already unlocked or not locked
04:26:29.908 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 for client 172.17.0.20:46562 data: 
[36m04:26:29.908 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:29.908 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:29.977 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 started
[36m04:26:29.980 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 completed: map[gw_interface:map[interdc_gw_id:<nil> id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 description:Sample Gw-interface service_type:internet vrid:20 public_ip_id:<nil> secondary_ipv6:<nil> gw_vipv4:172.16.101.151 primary_ipv4:172.16.101.152 tenant_id:0b576f6f4cbf414f829cd12f008bf08f vpn_gw_id:<nil> primary_ipv6:<nil> gw_vipv6:<nil> internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 name:sample-gw-interface status:ACTIVE secondary_ipv4:172.16.101.153 aws_gw_id:<nil> netmask:24]]
[36m04:26:29.980 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[704]]
[36m04:26:29.980 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null,
    "vrid": 20
  }
}
04:26:29.980 gohan.server.middleware INFO [0m Completed 200 OK in 72.304812ms
04:26:29.981 gohan.server.middleware INFO [0m Started GET /v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 for client 172.17.0.20:46568 data: {}
[36m04:26:29.981 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:26:29.981 gohan.server.middleware DEBUG [0m Request body: {}
04:26:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:26:30.026 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:26:30.420 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 started
[36m04:26:30.620 gohan.server.resources DEBUG [0m Show gw_interface b9618566-14ea-4505-8eae-8fdb4b6a0ec1 completed: map[gw_interface:map[vrid:20 primary_ipv4:172.16.101.152 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 netmask:24 interdc_gw_id:<nil> secondary_ipv4:172.16.101.153 description:Sample Gw-interface internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 secondary_ipv6:<nil> vpn_gw_id:<nil> status:ACTIVE primary_ipv6:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-gw-interface gw_vipv6:<nil> service_type:internet public_ip_id:<nil> id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 aws_gw_id:<nil> gw_vipv4:172.16.101.151]]
[36m04:26:30.624 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[704]]
[36m04:26:30.624 gohan.server.middleware DEBUG [0m Response body: {
  "gw_interface": {
    "aws_gw_id": null,
    "description": "Sample Gw-interface",
    "gw_vipv4": "172.16.101.151",
    "gw_vipv6": null,
    "id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-gw-interface",
    "netmask": 24,
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "primary_ipv4": "172.16.101.152",
    "primary_ipv6": null,
    "public_ip_id": null,
    "secondary_ipv4": "172.16.101.153",
    "secondary_ipv6": null,
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null,
    "vrid": 20
  }
}
04:26:30.626 gohan.server.middleware INFO [0m Completed 200 OK in 644.831571ms
[36m04:26:31.187 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:26:31.189 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:26:31.194 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:26:31.274 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:26:31.280 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:26:31.282 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:26:33.027 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports for client 172.17.0.20:46600 data: {}
[36m04:26:33.027 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:26:33.027 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:33.092 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] started
[36m04:26:33.093 gohan.server.resources DEBUG [0m List ese_logical_port query: map[] completed
[36m04:26:33.094 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[2] Content-Length:[1393] Content-Type:[application/json]]
[36m04:26:33.094 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_ports": [
    {
      "common_function_gateway_id": null,
      "connected_resource": "gw_interface",
      "description": "ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97",
      "ese_physical_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
      "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
      "name": "xe-0/0/4.1025",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "port_ids": [
        "7abe783f-4837-417d-b76f-771ec4d38b97"
      ],
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "type": "L2",
      "vlan_id": 1025
    },
    {
      "common_function_gateway_id": null,
      "connected_resource": "gw_interface",
      "description": "ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76",
      "ese_physical_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
      "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
      "name": "xe-0/0/3.1025",
      "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "port_ids": [
        "b411d930-df4c-4766-ae66-d0aed9d27c76"
      ],
      "status": "ACTIVE",
      "tags": {},
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "type": "L2",
      "vlan_id": 1025
    }
  ]
}
04:26:33.094 gohan.server.middleware INFO [0m Completed 200 OK in 67.236657ms
04:26:33.436 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 for client 172.17.0.20:46608 data: 
[36m04:26:33.436 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:33.436 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:33.518 gohan.server.resources DEBUG [0m Show ese_logical_port 3ce86e39-7a81-46f8-b0c4-62a4776746f1 started
[36m04:26:33.521 gohan.server.resources DEBUG [0m Show ese_logical_port 3ce86e39-7a81-46f8-b0c4-62a4776746f1 completed: map[ese_logical_port:map[id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 ese_physical_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 tags:map[] description:ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97 common_function_gateway_id:<nil> status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f connected_resource:gw_interface vlan_id:1025 name:xe-0/0/4.1025 gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 type:L2 port_ids:[7abe783f-4837-417d-b76f-771ec4d38b97]]]
[36m04:26:33.521 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m04:26:33.521 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97",
    "ese_physical_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
    "name": "xe-0/0/4.1025",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "port_ids": [
      "7abe783f-4837-417d-b76f-771ec4d38b97"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
04:26:33.522 gohan.server.middleware INFO [0m Completed 200 OK in 85.500408ms
04:26:33.523 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/3ce86e39-7a81-46f8-b0c4-62a4776746f1 for client 172.17.0.20:46616 data: {}
[36m04:26:33.523 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:33.523 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:33.610 gohan.server.resources DEBUG [0m Show ese_logical_port 3ce86e39-7a81-46f8-b0c4-62a4776746f1 started
[36m04:26:33.613 gohan.server.resources DEBUG [0m Show ese_logical_port 3ce86e39-7a81-46f8-b0c4-62a4776746f1 completed: map[ese_logical_port:map[port_ids:[7abe783f-4837-417d-b76f-771ec4d38b97] description:ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97 common_function_gateway_id:<nil> network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 status:ACTIVE id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 ese_physical_port_id:8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 vlan_id:1025 type:L2 tags:map[] connected_resource:gw_interface tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:xe-0/0/4.1025 gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1]]
[36m04:26:33.613 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m04:26:33.614 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port 7abe783f-4837-417d-b76f-771ec4d38b97",
    "ese_physical_port_id": "8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
    "name": "xe-0/0/4.1025",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "port_ids": [
      "7abe783f-4837-417d-b76f-771ec4d38b97"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
04:26:33.614 gohan.server.middleware INFO [0m Completed 200 OK in 91.118102ms
04:26:36.298 gohan.server.middleware INFO [0m Started GET /v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 for client 172.17.0.20:46642 data: 
[36m04:26:36.298 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:36.299 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:36.391 gohan.server.resources DEBUG [0m Show port 7abe783f-4837-417d-b76f-771ec4d38b97 started
[36m04:26:36.396 gohan.server.resources DEBUG [0m Show port 7abe783f-4837-417d-b76f-771ec4d38b97 completed: map[port:map[description: id:7abe783f-4837-417d-b76f-771ec4d38b97 mac_address:fa:16:3e:f8:45:26 managed_by_service:true allowed_address_pairs:[] attached:true binding:vif_type:vrouter status:ACTIVE segmentation_id:1025 segmentation_type:vlan admin_state_up:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 device_owner:network:gw_interface ese_logical_port_id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 fake_delete:false fixed_ips:[map[ip_address:172.16.101.153 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] name:Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 tags:map[]]]
[36m04:26:36.396 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[893] Content-Type:[application/json]]
[36m04:26:36.396 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.153",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "7abe783f-4837-417d-b76f-771ec4d38b97",
    "mac_address": "fa:16:3e:f8:45:26",
    "managed_by_service": true,
    "name": "Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:26:36.397 gohan.server.middleware INFO [0m Completed 200 OK in 98.275775ms
04:26:36.398 gohan.server.middleware INFO [0m Started GET /v2.0/ports/7abe783f-4837-417d-b76f-771ec4d38b97 for client 172.17.0.20:46648 data: {}
[36m04:26:36.398 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:26:36.398 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:36.484 gohan.server.resources DEBUG [0m Show port 7abe783f-4837-417d-b76f-771ec4d38b97 started
[36m04:26:36.489 gohan.server.resources DEBUG [0m Show port 7abe783f-4837-417d-b76f-771ec4d38b97 completed: map[port:map[allowed_address_pairs:[] tags:map[] id:7abe783f-4837-417d-b76f-771ec4d38b97 segmentation_type:vlan fixed_ips:[map[ip_address:172.16.101.153 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] managed_by_service:true tenant_id:0b576f6f4cbf414f829cd12f008bf08f attached:true binding:vif_type:vrouter segmentation_id:1025 device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 fake_delete:false status:ACTIVE device_owner:network:gw_interface ese_logical_port_id:3ce86e39-7a81-46f8-b0c4-62a4776746f1 network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 admin_state_up:true mac_address:fa:16:3e:f8:45:26 name:Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306 description:]]
[36m04:26:36.489 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[893]]
[36m04:26:36.489 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "3ce86e39-7a81-46f8-b0c4-62a4776746f1",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.153",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "7abe783f-4837-417d-b76f-771ec4d38b97",
    "mac_address": "fa:16:3e:f8:45:26",
    "managed_by_service": true,
    "name": "Port for : 8a4bbfe0-5aae-42f5-8b94-c4c14b9e7306",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:26:36.489 gohan.server.middleware INFO [0m Completed 200 OK in 90.955194ms
04:26:39.139 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c for client 172.17.0.20:46670 data: 
[36m04:26:39.139 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:39.140 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:39.229 gohan.server.resources DEBUG [0m Show ese_logical_port b1cf2461-ecb9-4923-966e-e61211f8b03c started
[36m04:26:39.232 gohan.server.resources DEBUG [0m Show ese_logical_port b1cf2461-ecb9-4923-966e-e61211f8b03c completed: map[ese_logical_port:map[status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f port_ids:[b411d930-df4c-4766-ae66-d0aed9d27c76] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 type:L2 common_function_gateway_id:<nil> id:b1cf2461-ecb9-4923-966e-e61211f8b03c name:xe-0/0/3.1025 description:ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76 ese_physical_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c vlan_id:1025 connected_resource:gw_interface tags:map[] gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1]]
[36m04:26:39.233 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m04:26:39.233 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76",
    "ese_physical_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
    "name": "xe-0/0/3.1025",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "port_ids": [
      "b411d930-df4c-4766-ae66-d0aed9d27c76"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
04:26:39.233 gohan.server.middleware INFO [0m Completed 200 OK in 93.555144ms
04:26:39.234 gohan.server.middleware INFO [0m Started GET /v2.0/ese_logical_ports/b1cf2461-ecb9-4923-966e-e61211f8b03c for client 172.17.0.20:46676 data: {}
[36m04:26:39.234 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2]]
[36m04:26:39.234 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:39.326 gohan.server.resources DEBUG [0m Show ese_logical_port b1cf2461-ecb9-4923-966e-e61211f8b03c started
[36m04:26:39.330 gohan.server.resources DEBUG [0m Show ese_logical_port b1cf2461-ecb9-4923-966e-e61211f8b03c completed: map[ese_logical_port:map[gw_interface_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 port_ids:[b411d930-df4c-4766-ae66-d0aed9d27c76] common_function_gateway_id:<nil> ese_physical_port_id:97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:ACTIVE type:L2 vlan_id:1025 tags:map[] connected_resource:gw_interface name:xe-0/0/3.1025 description:ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76 id:b1cf2461-ecb9-4923-966e-e61211f8b03c network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0]]
[36m04:26:39.330 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[667]]
[36m04:26:39.330 gohan.server.middleware DEBUG [0m Response body: {
  "ese_logical_port": {
    "common_function_gateway_id": null,
    "connected_resource": "gw_interface",
    "description": "ESE Logical port for Port b411d930-df4c-4766-ae66-d0aed9d27c76",
    "ese_physical_port_id": "97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "gw_interface_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
    "name": "xe-0/0/3.1025",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "port_ids": [
      "b411d930-df4c-4766-ae66-d0aed9d27c76"
    ],
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "type": "L2",
    "vlan_id": 1025
  }
}
04:26:39.330 gohan.server.middleware INFO [0m Completed 200 OK in 95.667104ms
04:26:41.971 gohan.server.middleware INFO [0m Started GET /v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 for client 172.17.0.20:46698 data: 
[36m04:26:41.971 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Accept:[application/json]]
[36m04:26:41.971 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:42.052 gohan.server.resources DEBUG [0m Show port b411d930-df4c-4766-ae66-d0aed9d27c76 started
[36m04:26:42.057 gohan.server.resources DEBUG [0m Show port b411d930-df4c-4766-ae66-d0aed9d27c76 completed: map[port:map[id:b411d930-df4c-4766-ae66-d0aed9d27c76 fake_delete:false device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 device_owner:network:gw_interface allowed_address_pairs:[] network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f fixed_ips:[map[ip_address:172.16.101.151 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40] map[ip_address:172.16.101.152 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] segmentation_id:1025 admin_state_up:true name:Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c managed_by_service:true ese_logical_port_id:b1cf2461-ecb9-4923-966e-e61211f8b03c attached:true segmentation_type:vlan description: binding:vif_type:vrouter status:ACTIVE tags:map[] mac_address:fa:16:3e:49:3c:12]]
[36m04:26:42.057 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1010]]
[36m04:26:42.057 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.151",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      },
      {
        "ip_address": "172.16.101.152",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "b411d930-df4c-4766-ae66-d0aed9d27c76",
    "mac_address": "fa:16:3e:49:3c:12",
    "managed_by_service": true,
    "name": "Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:26:42.058 gohan.server.middleware INFO [0m Completed 200 OK in 86.403806ms
04:26:42.059 gohan.server.middleware INFO [0m Started GET /v2.0/ports/b411d930-df4c-4766-ae66-d0aed9d27c76 for client 172.17.0.20:46704 data: {}
[36m04:26:42.059 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:42.059 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:42.143 gohan.server.resources DEBUG [0m Show port b411d930-df4c-4766-ae66-d0aed9d27c76 started
[36m04:26:42.148 gohan.server.resources DEBUG [0m Show port b411d930-df4c-4766-ae66-d0aed9d27c76 completed: map[port:map[network_id:52d7bef8-aa17-45c3-b63e-6a0e504603f0 tenant_id:0b576f6f4cbf414f829cd12f008bf08f attached:true tags:map[] admin_state_up:true name:Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c managed_by_service:true allowed_address_pairs:[] id:b411d930-df4c-4766-ae66-d0aed9d27c76 ese_logical_port_id:b1cf2461-ecb9-4923-966e-e61211f8b03c description: binding:vif_type:vrouter fake_delete:false device_id:b9618566-14ea-4505-8eae-8fdb4b6a0ec1 status:ACTIVE device_owner:network:gw_interface segmentation_type:vlan fixed_ips:[map[ip_address:172.16.101.151 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40] map[ip_address:172.16.101.152 subnet_id:a510f785-7758-4ce5-8fd4-c107d11b8e40]] segmentation_id:1025 mac_address:fa:16:3e:49:3c:12]]
[36m04:26:42.148 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[1010]]
[36m04:26:42.148 gohan.server.middleware DEBUG [0m Response body: {
  "port": {
    "admin_state_up": true,
    "allowed_address_pairs": [],
    "attached": true,
    "binding:vif_type": "vrouter",
    "description": "",
    "device_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
    "device_owner": "network:gw_interface",
    "ese_logical_port_id": "b1cf2461-ecb9-4923-966e-e61211f8b03c",
    "fake_delete": false,
    "fixed_ips": [
      {
        "ip_address": "172.16.101.151",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      },
      {
        "ip_address": "172.16.101.152",
        "subnet_id": "a510f785-7758-4ce5-8fd4-c107d11b8e40"
      }
    ],
    "id": "b411d930-df4c-4766-ae66-d0aed9d27c76",
    "mac_address": "fa:16:3e:49:3c:12",
    "managed_by_service": true,
    "name": "Port for : 97fcdf3a-81a4-41a5-8ae6-52c431fc5a5c",
    "network_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
    "segmentation_id": 1025,
    "segmentation_type": "vlan",
    "status": "ACTIVE",
    "tags": {},
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:26:42.149 gohan.server.middleware INFO [0m Completed 200 OK in 89.523691ms
04:26:44.672 gohan.server.middleware INFO [0m Started GET /v1.0/resource_mappings for client 172.17.0.20:46730 data: {}
[36m04:26:44.672 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:26:44.672 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:44.754 gohan.server.resources DEBUG [0m List resource_mapping query: map[] started
[36m04:26:44.757 gohan.server.resources DEBUG [0m List resource_mapping query: map[] completed
[36m04:26:44.757 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[3346] Content-Type:[application/json] X-Total-Count:[9]]
[36m04:26:44.757 gohan.server.middleware DEBUG [0m Response body: {
  "resource_mappings": [
    {
      "created": 1494476663,
      "deleted": null,
      "id": "075c5413-cdf3-4bb5-b7b1-6100f3cecb25",
      "mapped_id": "10.79.5.184-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "secondary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "11cb2015-fadc-4ae2-b0cf-b7ae280baebb",
      "mapped_id": "10.79.5.185-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "primary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476757,
      "deleted": null,
      "id": "132e577f-b4ee-4ed1-8736-9f6d95caf41a",
      "mapped_id": "10.79.5.185-ae0.1025",
      "relation": "internet_primary",
      "resource_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "resource_type": "gw_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476757,
      "deleted": null,
      "id": "28146326-7873-403b-a4e4-dcbb88120814",
      "mapped_id": "10.79.5.184-ae0.1025",
      "relation": "internet_secondary",
      "resource_id": "b9618566-14ea-4505-8eae-8fdb4b6a0ec1",
      "resource_type": "gw_interface",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476763,
      "deleted": null,
      "id": "5bfe4c2c-4028-4342-b7f3-5f23c7decf0f",
      "mapped_id": "10.161.0.34-xe-0/0/4.1025",
      "relation": "baremetal",
      "resource_id": "7abe783f-4837-417d-b76f-771ec4d38b97",
      "resource_type": "port",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "b3d2f0fb-3765-4485-a88d-44b46fe191df",
      "mapped_id": "10.79.5.184-INET_OUT-vrf_gw_sample-ha-router-downlink_1025_OUT",
      "relation": "secondary_out",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476763,
      "deleted": null,
      "id": "bba0ee42-7e4a-45ed-a6d3-49a1a7e3c706",
      "mapped_id": "10.161.0.34-xe-0/0/3.1025",
      "relation": "baremetal",
      "resource_id": "b411d930-df4c-4766-ae66-d0aed9d27c76",
      "resource_type": "port",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476663,
      "deleted": null,
      "id": "f3010659-2a05-4b5f-add1-0e2abc31f75a",
      "mapped_id": "10.79.5.185-INET_IN-vrf_gw_sample-ha-router-downlink_1025_IN",
      "relation": "primary_in",
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    },
    {
      "created": 1494476703,
      "deleted": null,
      "id": "f6a5fc1b-695d-4921-923a-92af07f52c2b",
      "mapped_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "relation": "instance",
      "resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "resource_type": "network",
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
    }
  ]
}
04:26:44.758 gohan.server.middleware INFO [0m Completed 200 OK in 85.735405ms
04:26:45.196 gohan.server.middleware INFO [0m Started GET /v2.0/billing_resources for client 172.17.0.20:46738 data: {}
[36m04:26:45.196 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json]]
[36m04:26:45.197 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:26:45.281 gohan.server.resources DEBUG [0m List billing_resource query: map[] started
[36m04:26:45.284 gohan.server.resources DEBUG [0m List billing_resource query: map[] completed
[36m04:26:45.284 gohan.server.middleware DEBUG [0m Response headers: map[X-Total-Count:[4] Content-Length:[1879] Content-Type:[application/json]]
[36m04:26:45.284 gohan.server.middleware DEBUG [0m Response body: {
  "billing_resources": [
    {
      "config_version": 1,
      "ended": null,
      "id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "info": {
        "internet_service": "sample-internet-service"
      },
      "parent_billing_id": null,
      "resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
      "resource_type": "internet_gateway",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "429e24b5-a2f0-4fb8-b467-e335857e9476"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "6e74227c-1d04-472f-b511-81d88e219502",
      "info": {
        "cidr": "203.0.112.0",
        "submask_length": 28
      },
      "parent_billing_id": null,
      "resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
      "resource_type": "public_ip",
      "started": 1494476677,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "b4165f07-3b67-438d-a398-4add6a499a04",
      "info": {},
      "parent_billing_id": null,
      "resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0",
      "resource_type": "network",
      "started": 1494476703,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": "52d7bef8-aa17-45c3-b63e-6a0e504603f0"
    },
    {
      "config_version": 1,
      "ended": null,
      "id": "e32e992e-8553-448c-860f-6e63bbe30c19",
      "info": {
        "bandwidth": "10",
        "qos_type": "guarantee"
      },
      "parent_billing_id": "35e4ba02-217d-492d-b256-adbe19c516d5",
      "resource_id": "e25f6309-c384-446e-bdc1-5241cb14890b",
      "resource_type": "qos_option",
      "started": 1494476663,
      "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
      "unique_resource_id": null
    }
  ]
}
04:26:45.284 gohan.server.middleware INFO [0m Completed 200 OK in 88.134682ms
04:26:55.327 gohan.server.middleware INFO [0m Started POST /v2.0/static_routes for client 172.17.0.20:46748 data: 
{
"static_route": {
"description": "Sample Static-route",
"destination": "203.0.112.0/28",
"name": "sample-static-route",
"nexthop": "172.16.101.1",
"service_type": "internet",
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:26:55.327 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[287] Content-Type:[application/json]]
[36m04:26:55.327 gohan.server.middleware DEBUG [0m Request body: 
{
"static_route": {
"description": "Sample Static-route",
"destination": "203.0.112.0/28",
"name": "sample-static-route",
"nexthop": "172.16.101.1",
"service_type": "internet",
"internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
"tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
}
}
[36m04:26:55.415 gohan.server.resources DEBUG [0m Create static_route with data map[name:sample-static-route nexthop:172.16.101.1 service_type:internet internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Static-route destination:203.0.112.0/28] started
[36m04:26:55.415 gohan.schema DEBUG [0m No properties in resource policy. Allowing all property access
[36m04:26:55.485 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] started
[36m04:26:55.487 gohan.server.resources DEBUG [0m List internet_gateway query: map[id:[429e24b5-a2f0-4fb8-b467-e335857e9476]] completed
04:26:55.503 gohan.db.sql INFO [0m Executing SQL query in transaction '6ebab4a4-def8-4c43-8654-043603d4e38a': 'INSERT INTO `static_routes` (`status`,`tenant_id`,`description`,`name`,`destination`,`nexthop`,`public_ip_id`,`internet_gw_id`,`id`,`service_type`) VALUES (PENDING_CREATE,0b576f6f4cbf414f829cd12f008bf08f,Sample Static-route,sample-static-route,203.0.112.0/28,172.16.101.1,bc6f2c6d-59be-4f56-a2d7-96ab578c0735,429e24b5-a2f0-4fb8-b467-e335857e9476,2cbf727e-ac76-4c54-be9c-3f374d792ff4,internet)'
04:26:55.504 gohan.db.sql INFO [0m Executing SQL query in transaction '6ebab4a4-def8-4c43-8654-043603d4e38a': 'INSERT INTO `events` (`path`,`timestamp`,`type`,`marked_for_deletion`,`body`,`version`) VALUES (/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4,1494476815,create,false,"{\"description\":\"Sample Static-route\",\"destination\":\"203.0.112.0/28\",\"id\":\"2cbf727e-ac76-4c54-be9c-3f374d792ff4\",\"internet_gw_id\":\"429e24b5-a2f0-4fb8-b467-e335857e9476\",\"name\":\"sample-static-route\",\"nexthop\":\"172.16.101.1\",\"public_ip_id\":\"bc6f2c6d-59be-4f56-a2d7-96ab578c0735\",\"service_type\":\"internet\",\"status\":\"PENDING_CREATE\",\"tenant_id\":\"0b576f6f4cbf414f829cd12f008bf08f\"}",1)'
[36m04:26:55.516 gohan.server.resources DEBUG [0m Create static_route completed: map[static_route:map[id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 description:Sample Static-route destination:203.0.112.0/28 service_type:internet tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE name:sample-static-route nexthop:172.16.101.1 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476]]
[36m04:26:55.516 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[460]]
[36m04:26:55.516 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f"
  }
}
04:26:55.516 gohan.server.middleware INFO [0m Completed 201 Created in 189.983777ms
[36m04:26:55.518 gohan.server.sync DEBUG [0m Processing event 87 - create
04:26:55.518 gohan.server.sync INFO [0m Setting config with version 1 to /config//v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4
[36m04:26:55.524 gohan.server.sync DEBUG [0m Deleting event 87
04:26:55.528 gohan.db.sql INFO [0m Executing SQL query in transaction '04cbcae6-8658-499d-bc9f-f67d0d75fdff': 'DELETE FROM `events` WHERE id = 87'
[36m04:26:55.529 gohan.server.sync DEBUG [0m Skipping event logging for schema: event
04:26:55.536 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46760 data: 
[36m04:26:55.537 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:26:55.537 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:55.651 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:26:55.656 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[destination:203.0.112.0/28 interdc_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f status:PENDING_CREATE nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route description:Sample Static-route vpn_gw_id:<nil> service_type:internet]]
[36m04:26:55.657 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:26:55.657 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:26:55.657 gohan.server.middleware INFO [0m Completed 200 OK in 120.368907ms
04:26:56.670 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46782 data: 
[36m04:26:56.671 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:26:56.671 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:56.764 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:26:56.767 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Static-route destination:203.0.112.0/28 public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 aws_gw_id:<nil> service_type:internet interdc_gw_id:<nil> status:PENDING_CREATE name:sample-static-route vpn_gw_id:<nil> nexthop:172.16.101.1]]
[36m04:26:56.767 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:26:56.767 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:26:56.767 gohan.server.middleware INFO [0m Completed 200 OK in 96.753655ms
04:26:57.778 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46788 data: 
[36m04:26:57.779 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:26:57.779 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:57.845 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:26:57.848 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[vpn_gw_id:<nil> nexthop:172.16.101.1 aws_gw_id:<nil> internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 interdc_gw_id:<nil> status:PENDING_CREATE name:sample-static-route public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 service_type:internet tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Static-route destination:203.0.112.0/28]]
[36m04:26:57.848 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:26:57.848 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:26:57.848 gohan.server.middleware INFO [0m Completed 200 OK in 69.969308ms
04:26:58.860 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46794 data: 
[36m04:26:58.860 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:26:58.860 gohan.server.middleware DEBUG [0m Request body: 
[36m04:26:58.936 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:26:58.938 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route vpn_gw_id:<nil> destination:203.0.112.0/28 nexthop:172.16.101.1 interdc_gw_id:<nil> status:PENDING_CREATE service_type:internet]]
[36m04:26:58.939 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:26:58.939 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:26:58.939 gohan.server.middleware INFO [0m Completed 200 OK in 78.56733ms
04:26:59.951 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46800 data: 
[36m04:26:59.951 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:26:59.951 gohan.server.middleware DEBUG [0m Request body: 
04:27:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:27:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:27:00.055 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:00.076 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 vpn_gw_id:<nil> destination:203.0.112.0/28 nexthop:172.16.101.1 status:PENDING_CREATE id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route interdc_gw_id:<nil> service_type:internet description:Sample Static-route]]
[36m04:27:00.076 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:00.076 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:00.076 gohan.server.middleware INFO [0m Completed 200 OK in 125.68656ms
[36m04:27:00.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:27:00.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:27:00.158 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:27:00.182 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:27:00.184 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:27:00.186 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:27:00.889 gohan.server DEBUG [0m Monitoring event update received: set /monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 map[secondary:BACKUP version:1 primary:MASTER]
04:27:00.889 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 map[primary:MASTER secondary:BACKUP version:1] started
04:27:00.900 gohan.sync INFO [0m Locked gohan/cluster/lock/monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 with index 867
04:27:00.952 gohan.db.sql INFO [0m Executing SQL query in transaction '398af837-ffd7-4e81-9fee-3024fd2719a0': 'UPDATE `gw_interfaces` SET `vpn_gw_id` = <nil>, `gw_vipv4` = 172.16.101.151, `network_id` = 52d7bef8-aa17-45c3-b63e-6a0e504603f0, `aws_gw_id` = <nil>, `netmask` = 24, `secondary_ipv6` = <nil>, `status` = ACTIVE, `description` = Sample Gw-interface, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `name` = sample-gw-interface, `interdc_gw_id` = <nil>, `gw_vipv6` = <nil>, `id` = b9618566-14ea-4505-8eae-8fdb4b6a0ec1, `secondary_ipv4` = 172.16.101.153, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `primary_ipv4` = 172.16.101.152, `primary_ipv6` = <nil>, `service_type` = internet, `vrid` = 20, `public_ip_id` = <nil>, `state_version` = 1, `monitoring_version` = 1, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","state_monitoring":"{\"primary\": \"master\", \"secondary\": \"backup\"}","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {"primary":"MASTER","secondary":"BACKUP"}, `marked_for_deletion` = 0 WHERE id = b9618566-14ea-4505-8eae-8fdb4b6a0ec1'
04:27:00.955 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 1
04:27:00.955 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Reading monitoring data from worker state: {"primary": "master", "secondary": "backup"}
04:27:00.956 gohan.extension.gw_interface.post_monitoring_update_in_transaction INFO [0m Overriding monitoring data with data from monitoring backend: {"primary":"MASTER","secondary":"BACKUP"}
04:27:00.971 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 with index 867
04:27:00.971 gohan.server.sync INFO [0m MonitoringUpdate for set /monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 completed
04:27:00.982 gohan.sync INFO [0m Path gohan/cluster/lock/monitoring/v2.0/gw_interfaces/b9618566-14ea-4505-8eae-8fdb4b6a0ec1 already unlocked or not locked
04:27:01.088 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46820 data: 
[36m04:27:01.088 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:27:01.089 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:01.164 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:01.167 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 service_type:internet description:Sample Static-route status:PENDING_CREATE vpn_gw_id:<nil> destination:203.0.112.0/28 nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 interdc_gw_id:<nil> tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-static-route]]
[36m04:27:01.167 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:01.167 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:01.167 gohan.server.middleware INFO [0m Completed 200 OK in 78.974654ms
04:27:02.179 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46826 data: 
[36m04:27:02.179 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:27:02.179 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:02.262 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:02.265 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[nexthop:172.16.101.1 interdc_gw_id:<nil> status:PENDING_CREATE internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-static-route destination:203.0.112.0/28 aws_gw_id:<nil> service_type:internet description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 vpn_gw_id:<nil>]]
[36m04:27:02.265 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:02.266 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:02.266 gohan.server.middleware INFO [0m Completed 200 OK in 86.611861ms
04:27:03.278 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46832 data: 
[36m04:27:03.279 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:03.279 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:03.367 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:03.370 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[status:PENDING_CREATE vpn_gw_id:<nil> destination:203.0.112.0/28 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 service_type:internet description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route nexthop:172.16.101.1 interdc_gw_id:<nil>]]
[36m04:27:03.370 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:03.370 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:03.370 gohan.server.middleware INFO [0m Completed 200 OK in 92.059567ms
04:27:04.382 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46840 data: 
[36m04:27:04.382 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:04.382 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:04.468 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:04.471 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 interdc_gw_id:<nil> description:Sample Static-route internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-static-route vpn_gw_id:<nil> destination:203.0.112.0/28 nexthop:172.16.101.1 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 aws_gw_id:<nil> service_type:internet]]
[36m04:27:04.471 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:04.471 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:04.472 gohan.server.middleware INFO [0m Completed 200 OK in 89.510415ms
04:27:05.484 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46846 data: 
[36m04:27:05.485 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:05.485 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:05.559 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:05.562 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[service_type:internet aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 name:sample-static-route nexthop:172.16.101.1 interdc_gw_id:<nil> vpn_gw_id:<nil> destination:203.0.112.0/28 description:Sample Static-route status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4]]
[36m04:27:05.562 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:05.562 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:05.562 gohan.server.middleware INFO [0m Completed 200 OK in 78.10499ms
04:27:06.572 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46852 data: 
[36m04:27:06.572 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:06.572 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:06.639 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:06.642 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route interdc_gw_id:<nil> service_type:internet status:PENDING_CREATE destination:203.0.112.0/28 nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 vpn_gw_id:<nil>]]
[36m04:27:06.642 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:06.642 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:06.642 gohan.server.middleware INFO [0m Completed 200 OK in 69.77933ms
04:27:07.652 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46858 data: 
[36m04:27:07.652 gohan.server.middleware DEBUG [0m Request headers: map[X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json]]
[36m04:27:07.652 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:07.716 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:07.722 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f nexthop:172.16.101.1 aws_gw_id:<nil> internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 vpn_gw_id:<nil> description:Sample Static-route status:PENDING_CREATE public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 name:sample-static-route destination:203.0.112.0/28 interdc_gw_id:<nil> service_type:internet]]
[36m04:27:07.722 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[533] Content-Type:[application/json]]
[36m04:27:07.722 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:07.722 gohan.server.middleware INFO [0m Completed 200 OK in 70.162777ms
04:27:08.736 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46864 data: 
[36m04:27:08.737 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:27:08.737 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:08.816 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:08.821 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-static-route destination:203.0.112.0/28 interdc_gw_id:<nil> description:Sample Static-route status:PENDING_CREATE id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 vpn_gw_id:<nil> nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 service_type:internet]]
[36m04:27:08.821 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:08.821 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:08.821 gohan.server.middleware INFO [0m Completed 200 OK in 85.071618ms
04:27:09.833 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46870 data: 
[36m04:27:09.833 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:27:09.833 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:09.917 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:09.920 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[destination:203.0.112.0/28 nexthop:172.16.101.1 aws_gw_id:<nil> id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f description:Sample Static-route name:sample-static-route interdc_gw_id:<nil> vpn_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 service_type:internet]]
[36m04:27:09.921 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:09.921 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:09.921 gohan.server.middleware INFO [0m Completed 200 OK in 88.065397ms
04:27:10.932 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46876 data: 
[36m04:27:10.932 gohan.server.middleware DEBUG [0m Request headers: map[Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity]]
[36m04:27:10.933 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:11.015 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:11.018 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 vpn_gw_id:<nil> interdc_gw_id:<nil> service_type:internet status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f destination:203.0.112.0/28 nexthop:172.16.101.1 name:sample-static-route description:Sample Static-route]]
[36m04:27:11.018 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:11.019 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:11.019 gohan.server.middleware INFO [0m Completed 200 OK in 86.340059ms
04:27:12.035 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46882 data: 
[36m04:27:12.035 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:12.035 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:12.121 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:12.125 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 vpn_gw_id:<nil> destination:203.0.112.0/28 service_type:internet description:Sample Static-route nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 name:sample-static-route interdc_gw_id:<nil> status:PENDING_CREATE]]
[36m04:27:12.125 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:12.125 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:12.125 gohan.server.middleware INFO [0m Completed 200 OK in 90.121171ms
04:27:13.138 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46888 data: 
[36m04:27:13.138 gohan.server.middleware DEBUG [0m Request headers: map[Accept-Encoding:[identity] Content-Length:[0] Content-Type:[application/json] X-Auth-Token:[***]]
[36m04:27:13.138 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:13.213 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:13.216 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[destination:203.0.112.0/28 aws_gw_id:<nil> description:Sample Static-route public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 name:sample-static-route vpn_gw_id:<nil> nexthop:172.16.101.1 interdc_gw_id:<nil> service_type:internet status:PENDING_CREATE tenant_id:0b576f6f4cbf414f829cd12f008bf08f internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4]]
[36m04:27:13.216 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[533]]
[36m04:27:13.216 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "PENDING_CREATE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:13.216 gohan.server.middleware INFO [0m Completed 200 OK in 77.84322ms
[36m04:27:13.459 gohan.server DEBUG [0m State event update received: set /state/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 map[error: state:map[heat_outputs:[] worker_state:CREATE_COMPLETED] version:1]
04:27:13.459 gohan.server.sync INFO [0m StateUpdate for set /state/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 map[error: state:map[heat_outputs:[] worker_state:CREATE_COMPLETED] version:1] started
04:27:13.465 gohan.sync INFO [0m Locked gohan/cluster/lock/state/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 with index 878
04:27:13.545 gohan.db.sql INFO [0m Executing SQL query in transaction '366081c9-0094-4b80-a2be-f8c03d0d92aa': 'UPDATE `static_routes` SET `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `description` = Sample Static-route, `status` = PENDING_CREATE, `vpn_gw_id` = <nil>, `destination` = 203.0.112.0/28, `nexthop` = 172.16.101.1, `aws_gw_id` = <nil>, `public_ip_id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `id` = 2cbf727e-ac76-4c54-be9c-3f374d792ff4, `name` = sample-static-route, `interdc_gw_id` = <nil>, `service_type` = internet, `state_version` = 1, `monitoring_version` = 0, `state_error` = , `state` = {"error":"","state":{"heat_outputs":"[]","worker_state":"CREATE_COMPLETED"}}, `state_monitoring` = {}, `marked_for_deletion` = 0 WHERE id = 2cbf727e-ac76-4c54-be9c-3f374d792ff4'
04:27:13.550 gohan.extension.static_route.post_state_update_in_transaction INFO [0m Config version: 1, State version: 1, Monitoring version: 0
04:27:13.552 gohan.db.sql INFO [0m Executing SQL query in transaction '366081c9-0094-4b80-a2be-f8c03d0d92aa': 'UPDATE `static_routes` SET `description` = Sample Static-route, `status` = ACTIVE, `tenant_id` = 0b576f6f4cbf414f829cd12f008bf08f, `aws_gw_id` = <nil>, `public_ip_id` = bc6f2c6d-59be-4f56-a2d7-96ab578c0735, `internet_gw_id` = 429e24b5-a2f0-4fb8-b467-e335857e9476, `id` = 2cbf727e-ac76-4c54-be9c-3f374d792ff4, `name` = sample-static-route, `vpn_gw_id` = <nil>, `destination` = 203.0.112.0/28, `nexthop` = 172.16.101.1, `interdc_gw_id` = <nil>, `service_type` = internet WHERE id = 2cbf727e-ac76-4c54-be9c-3f374d792ff4'
04:27:13.569 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/state/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 with index 878
04:27:13.575 gohan.sync INFO [0m Path gohan/cluster/lock/state/v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 already unlocked or not locked
04:27:14.227 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46908 data: 
[36m04:27:14.228 gohan.server.middleware DEBUG [0m Request headers: map[Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[identity] Content-Length:[0]]
[36m04:27:14.228 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:14.325 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:14.328 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[destination:203.0.112.0/28 nexthop:172.16.101.1 aws_gw_id:<nil> public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 service_type:internet internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 name:sample-static-route description:Sample Static-route tenant_id:0b576f6f4cbf414f829cd12f008bf08f vpn_gw_id:<nil> interdc_gw_id:<nil> status:ACTIVE]]
[36m04:27:14.329 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[525] Content-Type:[application/json]]
[36m04:27:14.329 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:14.329 gohan.server.middleware INFO [0m Completed 200 OK in 101.457897ms
04:27:14.749 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46918 data: 
[36m04:27:14.749 gohan.server.middleware DEBUG [0m Request headers: map[Accept:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip] User-Agent:[gophercloud/1.0.0] Connection:[close]]
[36m04:27:14.750 gohan.server.middleware DEBUG [0m Request body: 
[36m04:27:14.825 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:14.828 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[interdc_gw_id:<nil> service_type:internet description:Sample Static-route status:ACTIVE id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 destination:203.0.112.0/28 public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 tenant_id:0b576f6f4cbf414f829cd12f008bf08f name:sample-static-route vpn_gw_id:<nil> nexthop:172.16.101.1 aws_gw_id:<nil>]]
[36m04:27:14.828 gohan.server.middleware DEBUG [0m Response headers: map[Content-Type:[application/json] Content-Length:[525]]
[36m04:27:14.828 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:14.828 gohan.server.middleware INFO [0m Completed 200 OK in 78.63522ms
04:27:14.829 gohan.server.middleware INFO [0m Started GET /v2.0/static_routes/2cbf727e-ac76-4c54-be9c-3f374d792ff4 for client 172.17.0.20:46924 data: {}
[36m04:27:14.829 gohan.server.middleware DEBUG [0m Request headers: map[User-Agent:[gophercloud/1.0.0] Connection:[close] Content-Length:[2] Accept:[application/json] Content-Type:[application/json] X-Auth-Token:[***] Accept-Encoding:[gzip]]
[36m04:27:14.829 gohan.server.middleware DEBUG [0m Request body: {}
[36m04:27:14.914 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 started
[36m04:27:14.917 gohan.server.resources DEBUG [0m Show static_route 2cbf727e-ac76-4c54-be9c-3f374d792ff4 completed: map[static_route:map[destination:203.0.112.0/28 status:ACTIVE tenant_id:0b576f6f4cbf414f829cd12f008bf08f public_ip_id:bc6f2c6d-59be-4f56-a2d7-96ab578c0735 internet_gw_id:429e24b5-a2f0-4fb8-b467-e335857e9476 name:sample-static-route vpn_gw_id:<nil> description:Sample Static-route id:2cbf727e-ac76-4c54-be9c-3f374d792ff4 nexthop:172.16.101.1 aws_gw_id:<nil> interdc_gw_id:<nil> service_type:internet]]
[36m04:27:14.917 gohan.server.middleware DEBUG [0m Response headers: map[Content-Length:[525] Content-Type:[application/json]]
[36m04:27:14.917 gohan.server.middleware DEBUG [0m Response body: {
  "static_route": {
    "aws_gw_id": null,
    "description": "Sample Static-route",
    "destination": "203.0.112.0/28",
    "id": "2cbf727e-ac76-4c54-be9c-3f374d792ff4",
    "interdc_gw_id": null,
    "internet_gw_id": "429e24b5-a2f0-4fb8-b467-e335857e9476",
    "name": "sample-static-route",
    "nexthop": "172.16.101.1",
    "public_ip_id": "bc6f2c6d-59be-4f56-a2d7-96ab578c0735",
    "service_type": "internet",
    "status": "ACTIVE",
    "tenant_id": "0b576f6f4cbf414f829cd12f008bf08f",
    "vpn_gw_id": null
  }
}
04:27:14.917 gohan.server.middleware INFO [0m Completed 200 OK in 88.32187ms
04:27:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:27:30.092 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:27:30.127 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:27:30.129 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:27:30.177 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:27:30.219 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:27:30.222 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:27:30.225 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:28:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:28:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:28:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:28:00.146 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:28:00.148 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:28:00.169 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:28:00.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:28:00.174 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:28:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:28:30.084 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:28:30.124 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:28:30.126 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:28:30.128 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:28:30.188 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:28:30.190 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:28:30.192 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:29:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:29:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:29:00.133 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:29:00.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:29:00.157 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:29:00.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:29:00.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:29:00.165 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:29:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:29:30.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:29:30.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:29:30.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:29:30.152 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:29:30.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:29:30.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:29:30.176 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:30:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:30:00.021 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
04:30:00.021 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:30:00.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
04:30:00.163 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m04:30:00.164 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:30:00.184 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:30:00.189 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:30:00.190 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:30:00.197 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:30:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:30:30.110 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:30:30.111 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:30:30.122 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:30:30.122 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:30:30.243 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:30:30.245 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:30:30.247 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:31:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:31:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:31:00.155 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:31:00.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:31:00.162 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:31:00.183 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:31:00.186 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:31:00.188 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:31:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:31:30.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:31:30.131 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:31:30.133 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:31:30.135 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:31:30.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:31:30.151 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:31:30.215 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:32:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:32:00.017 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:32:00.152 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:32:00.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:32:00.158 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:32:00.182 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:32:00.185 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:32:00.192 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:32:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:32:30.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:32:30.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:32:30.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:32:30.140 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:32:30.161 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:32:30.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:32:30.165 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:33:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:33:00.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:33:00.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:33:00.150 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:33:00.151 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:33:00.176 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:33:00.179 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:33:00.180 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:33:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:33:30.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:33:30.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:33:30.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:33:30.143 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:33:30.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:33:30.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:33:30.163 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:34:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:34:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:34:00.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:34:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:34:00.144 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:34:00.165 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:34:00.168 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:34:00.172 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:34:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:34:30.009 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:34:30.136 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:34:30.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:34:30.143 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:34:30.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:34:30.165 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:34:30.167 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:35:00.004 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:35:00.017 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:35:00.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:35:00.158 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:35:00.160 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:35:00.181 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:35:00.183 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:35:00.185 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:35:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:35:30.015 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:35:30.151 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:35:30.157 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:35:30.160 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:35:30.178 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:35:30.180 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:35:30.183 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:36:00.004 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:36:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:36:00.133 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:36:00.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:36:00.141 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:36:00.157 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:36:00.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:36:00.161 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:36:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:36:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:36:30.140 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:36:30.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:36:30.143 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:36:30.160 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:36:30.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:36:30.164 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:37:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:37:00.014 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:37:00.143 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:37:00.146 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:37:00.148 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:37:00.168 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:37:00.170 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:37:00.172 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:37:30.001 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:37:30.010 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:37:30.118 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:37:30.121 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:37:30.123 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:37:30.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:37:30.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:37:30.140 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:38:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:38:00.008 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:38:00.134 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:38:00.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:38:00.139 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:38:00.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:38:00.162 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:38:00.164 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:38:30.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:38:30.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:38:30.120 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:38:30.127 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:38:30.129 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:38:30.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:38:30.139 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:38:30.140 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:39:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:39:00.025 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:39:00.146 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:39:00.149 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:39:00.152 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:39:00.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:39:00.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:39:00.177 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:39:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:39:30.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:39:30.154 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:39:30.156 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:39:30.158 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:39:30.183 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:39:30.185 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:39:30.188 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:40:00.003 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/cron_delete_tenant with index 0
04:40:00.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:40:00.012 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:40:00.105 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/cron_delete_tenant with index 0
[36m04:40:00.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:40:00.166 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:40:00.167 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:40:00.189 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:40:00.191 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:40:00.193 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:40:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:40:30.016 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:40:30.128 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:40:30.130 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:40:30.131 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:40:30.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:40:30.148 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:40:30.150 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:41:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:41:00.009 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:41:00.137 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:41:00.142 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:41:00.144 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:41:00.163 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:41:00.165 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:41:00.167 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:41:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:41:30.080 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:41:30.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:41:30.140 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:41:30.143 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:41:30.219 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:41:30.221 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:41:30.223 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:42:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:42:00.011 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:42:00.135 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:42:00.138 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:42:00.139 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:42:00.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:42:00.161 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:42:00.163 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:42:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
04:42:30.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:42:30.131 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:42:30.134 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:42:30.136 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:42:30.157 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:42:30.159 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:42:30.208 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:43:00.002 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
04:43:00.013 gohan.sync INFO [0m Locked gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
[36m04:43:00.144 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] started
[36m04:43:00.147 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[DELETING]] completed
04:43:00.148 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_delete_cron with index 0
[36m04:43:00.172 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] started
[36m04:43:00.174 gohan.server.resources DEBUG [0m List tenant_connection query: map[progress:[REQUESTING]] completed
04:43:00.176 gohan.sync INFO [0m Unlocked path gohan/cluster/lock/cron:/tenant_connection_create_cron with index 0
