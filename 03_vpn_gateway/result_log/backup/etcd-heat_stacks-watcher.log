2018-04-15 23:57:59,746:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-15 23:57:59,747:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-15 23:57:59,747:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-15 23:57:59,747:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-15 23:57:59,752:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-15 23:59:31,727:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_devices/4d8371c0-1b91-4818-a6e7-26425178e5d4],
 value=[{
    "stack_id": "ese_device_4d8371c0-1b91-4818-a6e7-26425178e5d4", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "aeaad149-357c-41b9-b408-6304c5d3396c", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "default-global-system-config", 
                "NWSDP-JNPR-02"
            ], 
            "description": "The FQ name of the physical router.", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "7e5c78fa-71c0-427e-947f-586b1fc3c470", 
            "description": "A unique id for the physical router.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/aeaad149-357c-41b9-b408-6304c5d3396c", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "NWSDP-JNPR-02", 
            "description": "The name of the physical router.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_device:4d8371c0-1b91-4818-a6e7-26425178e5d4"
}]
2018-04-15 23:59:31,727:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-15 23:59:31,728:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-15 23:59:31,728:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-15 23:59:31,730:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-15 23:59:31,733:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:00:39,391:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_physical_ports/0078808a-c28e-46e1-887d-8ec65f90c446],
 value=[{
    "stack_id": "ese_physical_port_0078808a-c28e-46e1-887d-8ec65f90c446", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "28c45b87-a1c0-41f0-8f69-85c60d47713f", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "06bfe521-07f0-4931-9f8c-318c3ad8114e", 
            "description": "A unique id for the physical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/28c45b87-a1c0-41f0-8f69-85c60d47713f", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38", 
            "description": "The name of the physical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_physical_port:0078808a-c28e-46e1-887d-8ec65f90c446"
}]
2018-04-16 00:00:39,391:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:00:39,392:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:00:39,392:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:00:39,392:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:00:39,394:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:01:45,291:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_physical_ports/a6e70af1-386b-4d79-943f-6f44e87f95b3],
 value=[{
    "stack_id": "ese_physical_port_a6e70af1-386b-4d79-943f-6f44e87f95b3", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "07d5e8ed-4695-49b4-8560-897b586b1b71", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "06bfe521-07f0-4931-9f8c-318c3ad8114e", 
            "description": "A unique id for the physical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/07d5e8ed-4695-49b4-8560-897b586b1b71", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38", 
            "description": "The name of the physical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_physical_port:a6e70af1-386b-4d79-943f-6f44e87f95b3"
}]
2018-04-16 00:01:45,292:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:01:45,292:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:01:45,292:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:01:45,293:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:01:45,295:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:02:44,105:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/edge_routers/7a35974a-a19f-49e2-b907-ad7fd8692975],
 value=[{
    "stack_id": "edge_router_7a35974a-a19f-49e2-b907-ad7fd8692975", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "cc896303-29e2-47d6-a409-a84c23b5722b", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/cc896303-29e2-47d6-a409-a84c23b5722b", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "edge_router:7a35974a-a19f-49e2-b907-ad7fd8692975"
}]
2018-04-16 00:02:44,105:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:02:44,106:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:02:44,106:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:02:44,106:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:02:44,108:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:03:48,353:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/edge_routers/b7e6d8ad-5377-4380-bbb4-1a62566cbd6d],
 value=[{
    "stack_id": "edge_router_b7e6d8ad-5377-4380-bbb4-1a62566cbd6d", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "1e628441-c77a-4ebe-b5fe-6bd69816456d", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/1e628441-c77a-4ebe-b5fe-6bd69816456d", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "edge_router:b7e6d8ad-5377-4380-bbb4-1a62566cbd6d"
}]
2018-04-16 00:03:48,353:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:03:48,353:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:03:48,353:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:03:48,353:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:03:48,356:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:04:55,017:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/f3ecf585-5c3b-445a-97a7-d8e124c99e16],
 value=[{
    "stack_id": "er_physical_interface_f3ecf585-5c3b-445a-97a7-d8e124c99e16", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "03bc2bdc-e6b0-4ae6-acda-b76a5da84fb6", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/03bc2bdc-e6b0-4ae6-acda-b76a5da84fb6", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:f3ecf585-5c3b-445a-97a7-d8e124c99e16"
}]
2018-04-16 00:04:55,017:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:04:55,017:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:04:55,017:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:04:55,018:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:04:55,020:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:05:59,517:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/3118d6be-b1cb-472a-805f-7e1ec46aa5e7],
 value=[{
    "stack_id": "er_physical_interface_3118d6be-b1cb-472a-805f-7e1ec46aa5e7", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "e848bb97-1643-4167-9865-9a8b3b30b66f", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/e848bb97-1643-4167-9865-9a8b3b30b66f", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:3118d6be-b1cb-472a-805f-7e1ec46aa5e7"
}]
2018-04-16 00:05:59,517:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:05:59,517:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:05:59,518:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:05:59,518:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:05:59,520:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:06:59,534:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/c8e2d558-02ee-4bf3-ba5b-958821a21043],
 value=[{
    "stack_id": "er_physical_interface_c8e2d558-02ee-4bf3-ba5b-958821a21043", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "81b1e3e1-1182-4431-9c0f-9e430ec29a09", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/81b1e3e1-1182-4431-9c0f-9e430ec29a09", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:c8e2d558-02ee-4bf3-ba5b-958821a21043"
}]
2018-04-16 00:06:59,534:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:06:59,534:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:06:59,534:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:06:59,535:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:06:59,538:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:08:03,797:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/er_physical_interfaces/2bc8e40d-ab01-4738-a4aa-e69d8fd30688],
 value=[{
    "stack_id": "er_physical_interface_2bc8e40d-ab01-4738-a4aa-e69d8fd30688", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "d80c91c1-a82c-4742-b571-03c17cbeff1c", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/d80c91c1-a82c-4742-b571-03c17cbeff1c", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "er_physical_interface:2bc8e40d-ab01-4738-a4aa-e69d8fd30688"
}]
2018-04-16 00:08:03,797:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:08:03,798:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:08:03,798:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:08:03,798:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:08:03,802:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:09:36,211:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/vpn_gateways/b1da850c-3344-4de2-aa18-d96a30b54f69],
 value=[{
    "stack_id": "vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69"
}]
2018-04-16 00:09:36,211:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:09:36,211:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:09:36,212:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:09:36,212:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:09:36,214:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:10:10,875:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/vpn_interfaces/07d4f1fc-5142-4fae-b115-627fc009e222],
 value=[{
    "stack_id": "vpn_interface_07d4f1fc-5142-4fae-b115-627fc009e222", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/3bdb3c86-ac6d-4ff2-aa55-4b2989971614", 
            "description": "Monitoring Process Link", 
            "output_key": "secondary_interface_monitoring_link"
        }, 
        {
            "output_value": "34b9de21-40c0-46f1-afa5-787220cc5ed2", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/d7885526-613f-4565-a3df-de89ed911e3b", 
            "description": "Monitoring Process Link", 
            "output_key": "primary_interface_monitoring_link"
        }, 
        {
            "output_value": "d7885526-613f-4565-a3df-de89ed911e3b", 
            "description": "Monitoring Target ID", 
            "output_key": "primary_interface_monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/34b9de21-40c0-46f1-afa5-787220cc5ed2", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "3bdb3c86-ac6d-4ff2-aa55-4b2989971614", 
            "description": "Monitoring Target ID", 
            "output_key": "secondary_interface_monitoring_target_id"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "vpn_interface:07d4f1fc-5142-4fae-b115-627fc009e222"
}]
2018-04-16 00:10:10,875:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:10:10,876:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:10:10,876:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:10:10,876:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:10:10,878:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:10:21,751:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/vpn_gateways/b1da850c-3344-4de2-aa18-d96a30b54f69],
 value=[{
    "stack_id": "vpn_gateway_b1da850c-3344-4de2-aa18-d96a30b54f69", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "UPDATE_COMPLETE", 
    "output": [], 
    "status_reason": "Stack successfully updated", 
    "id": "vpn_gateway:b1da850c-3344-4de2-aa18-d96a30b54f69"
}]
2018-04-16 00:10:21,751:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:10:21,752:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:10:21,752:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:10:21,752:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:10:21,754:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:11:56,336:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/networks/afa0d9d6-84dc-4755-9c6e-db2f23f9dde2],
 value=[{
    "stack_id": "network_afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [], 
            "description": "The name of the virtual network.", 
            "output_key": "route_targets"
        }, 
        {
            "output_value": "default-domain:usertenant:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", 
            "description": "The FQ name of the virtual network.", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", 
            "description": "A unique id for the virtual network.", 
            "output_key": "id"
        }, 
        {
            "output_value": "afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", 
            "description": "The name of the virtual network.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "network:afa0d9d6-84dc-4755-9c6e-db2f23f9dde2"
}]
2018-04-16 00:11:56,337:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:11:56,337:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:11:56,337:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:11:56,337:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:11:56,339:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:13,810:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/subnets/e825f4e4-ba44-4d9e-9578-a31ad45bedda],
 value=[{
    "stack_id": "subnet_e825f4e4-ba44-4d9e-9578-a31ad45bedda", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "172.16.101.0/24", 
            "description": "IP prefix of local subnet.", 
            "output_key": "ip_prefix"
        }, 
        {
            "output_value": "e825f4e4-ba44-4d9e-9578-a31ad45bedda", 
            "description": "The name of the local subnet.", 
            "output_key": "name"
        }, 
        {
            "output_value": "172.16.101.1", 
            "description": "Default gateway of local subnet.", 
            "output_key": "default_gateway"
        }, 
        {
            "output_value": "afa0d9d6-84dc-4755-9c6e-db2f23f9dde2", 
            "description": "A unique id for the network.", 
            "output_key": "network_id"
        }, 
        {
            "output_value": "5a79909b-2bf3-4e26-8a9c-0bf6bb175457", 
            "description": "IPAM this local subnet uses.", 
            "output_key": "ipam"
        }, 
        {
            "output_value": "323017d2-b9fc-4407-b998-e4776b16aee8", 
            "description": "A unique id for the local subnet.", 
            "output_key": "id"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "subnet:e825f4e4-ba44-4d9e-9578-a31ad45bedda"
}]
2018-04-16 00:12:13,810:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:13,810:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:13,810:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:13,811:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:13,813:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:49,222:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/gw_interfaces/3dbcfce5-bca5-4182-991a-c23de685fcf1],
 value=[{
    "stack_id": "gw_interface_3dbcfce5-bca5-4182-991a-c23de685fcf1", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "8ac03032-a027-4965-b636-32a7b1281bfc", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/8ac03032-a027-4965-b636-32a7b1281bfc", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "gw_interface:3dbcfce5-bca5-4182-991a-c23de685fcf1"
}]
2018-04-16 00:12:49,222:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:49,222:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:49,222:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:49,223:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:49,225:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:54,250:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/53eeb091-3297-4b9b-a200-b6568567e387],
 value=[{
    "stack_id": "port_53eeb091-3297-4b9b-a200-b6568567e387", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "port:53eeb091-3297-4b9b-a200-b6568567e387"
}]
2018-04-16 00:12:54,250:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:54,250:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:54,250:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:54,251:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:54,255:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:54,448:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b],
 value=[{
    "stack_id": "port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b"
}]
2018-04-16 00:12:54,448:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:54,449:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:54,449:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:54,449:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:54,451:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:58,683:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_logical_ports/257d0a9f-d5ae-4a93-9af4-81ad611e1b0d],
 value=[{
    "stack_id": "ese_logical_port_257d0a9f-d5ae-4a93-9af4-81ad611e1b0d", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "5e4c28ad-c5f2-43fc-97e8-1b5e99642b87", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", 
            "description": "A unique id for the logical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/5e4c28ad-c5f2-43fc-97e8-1b5e99642b87", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38.0", 
            "description": "The name of the logical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_logical_port:257d0a9f-d5ae-4a93-9af4-81ad611e1b0d"
}]
2018-04-16 00:12:58,684:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:58,684:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:58,684:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:58,685:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:58,687:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:12:59,023:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ese_logical_ports/e30fdd19-2f48-422e-9c68-7c59a0e2fae8],
 value=[{
    "stack_id": "ese_logical_port_e30fdd19-2f48-422e-9c68-7c59a0e2fae8", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [
        {
            "output_value": "fc210c75-e57f-4657-8114-a528d3b3aac5", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": "46b0cd68-d0fb-4d72-9def-830164f9e215", 
            "description": "A unique id for the logical interface", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/fc210c75-e57f-4657-8114-a528d3b3aac5", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }, 
        {
            "output_value": "xe-0/0/38.0", 
            "description": "The name of the logical interface.", 
            "output_key": "name"
        }
    ], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "ese_logical_port:e30fdd19-2f48-422e-9c68-7c59a0e2fae8"
}]
2018-04-16 00:12:59,023:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:12:59,024:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:12:59,024:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:12:59,024:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:12:59,026:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:13:11,254:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/53eeb091-3297-4b9b-a200-b6568567e387],
 value=[{
    "stack_id": "port_53eeb091-3297-4b9b-a200-b6568567e387", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "UPDATE_COMPLETE", 
    "output": [
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": "aa5568e3-f399-474f-9ddb-02c0e583b91b", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }, 
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/aa5568e3-f399-474f-9ddb-02c0e583b91b", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack successfully updated", 
    "id": "port:53eeb091-3297-4b9b-a200-b6568567e387"
}]
2018-04-16 00:13:11,254:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:13:11,254:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:13:11,254:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:13:11,255:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:13:11,256:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:13:11,503:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/ports/5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b],
 value=[{
    "stack_id": "port_5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "UPDATE_COMPLETE", 
    "output": [
        {
            "output_value": "default-domain:admin:f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "Fully Qualified Name of the VMI", 
            "output_key": "fq_name"
        }, 
        {
            "output_value": {
                "allowed_address_pair": []
            }, 
            "description": "Virtual machine allowed address pairs.", 
            "output_key": "allowed_address_pairs"
        }, 
        {
            "output_value": "09f0db4a-16f7-4d25-840f-79436680056e", 
            "description": "Monitoring Target ID", 
            "output_key": "monitoring_target_id"
        }, 
        {
            "output_value": [
                "fa:16:3e:f7:60:7f"
            ], 
            "description": "Virtual machine interface mac address.", 
            "output_key": "mac_address"
        }, 
        {
            "output_value": [
                [
                    "default-domain", 
                    "admin", 
                    "b62eefe0-0872-478d-adfe-1a606320f0e7"
                ]
            ], 
            "description": "Virtual network.", 
            "output_key": "virtual_network"
        }, 
        {
            "output_value": "f68d0924-ef20-4c1b-ac45-0e6b879af5e7", 
            "description": "A unique id for the virtual machine interface.", 
            "output_key": "id"
        }, 
        {
            "output_value": "http://collector-agents-se.monitoringrefactordocker_default:7070/targets/09f0db4a-16f7-4d25-840f-79436680056e", 
            "description": "Monitoring Process Link", 
            "output_key": "monitoring_link"
        }
    ], 
    "status_reason": "Stack successfully updated", 
    "id": "port:5eebab65-bf2f-4ac2-969a-15d6ccbfdd4b"
}]
2018-04-16 00:13:11,503:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:13:11,504:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:13:11,504:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:13:11,504:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:13:11,506:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:14:53,676:DEBUG:
*** Consume stored data in etcd ***
 action=[set], key=[/esi-worker/heat_stacks/v2.0/static_routes/31980341-9bef-4f05-8df7-674dea343884],
 value=[{
    "stack_id": "static_route_31980341-9bef-4f05-8df7-674dea343884", 
    "tenant_id": "b3e3095c0a5b4383805efe9cf2a6b5ef", 
    "stack_status": "CREATE_COMPLETE", 
    "output": [], 
    "status_reason": "Stack CREATE completed successfully", 
    "id": "static_route:31980341-9bef-4f05-8df7-674dea343884"
}]
2018-04-16 00:14:53,677:DEBUG:New etcd client created for etcd-server:2379/v2
2018-04-16 00:14:53,677:DEBUG:About to wait on key /esi-worker/heat_stacks, index None
2018-04-16 00:14:53,677:DEBUG:Issuing read for key /esi-worker/heat_stacks with args {'recursive': True, 'timeout': None, 'wait': True}
2018-04-16 00:14:53,678:DEBUG:Starting new HTTP connection (1): etcd-server
2018-04-16 00:14:53,682:DEBUG:http://etcd-server:2379 "GET /v2/keys/esi-worker/heat_stacks?recursive=true&wait=true HTTP/1.1" 200 None
2018-04-16 00:20:32,126:ERROR:Request to server http://etcd-server:2379 failed: ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
2018-04-16 00:20:32,126:DEBUG:Reconnection disabled, giving up.
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 346, in fire_timers
    timer()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/timer.py", line 56, in __call__
    cb(*args, **kw)
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
Traceback (most recent call last):
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 48, in <module>
    thread.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 168, in wait
    return self._exit_event.wait()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/event.py", line 116, in wait
    return hubs.get_hub().switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py", line 187, in switch
    return self.greenlet.switch()
  File "/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py", line 194, in main
    result = function(*args, **kwargs)
  File "/tools/etcd-watcher-for-esi/python-etcd-watch.py", line 15, in _consume_loop
    result = client.watch(key_info, recursive=True)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 655, in watch
    recursive=recursive)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 481, in read
    timeout=timeout)
  File "/usr/local/lib/python2.7/dist-packages/etcd/client.py", line 788, in api_execute
    cause=e
etcd.EtcdConnectionFailed: Connection to etcd failed due to ProtocolError('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
